ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"GCodes.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.bss.msg_buffer,"aw",%nobits
  20              		.align	2
  23              	msg_buffer:
  24 0000 00000000 		.space	30
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25              		.section	.bss.value,"aw",%nobits
  26              		.align	2
  29              	value:
  30 0000 00000000 		.space	12
  30      00000000 
  30      00000000 
  31              		.section	.bss.RxBuf,"aw",%nobits
  32              		.align	2
  35              	RxBuf:
  36 0000 00000000 		.space	20
  36      00000000 
  36      00000000 
  36      00000000 
  36      00000000 
  37              		.global	Cur_E
  38              		.section	.bss.Cur_E,"aw",%nobits
  39              		.align	3
  42              	Cur_E:
  43 0000 00000000 		.space	8
  43      00000000 
  44              		.global	Cur_X
  45              		.section	.bss.Cur_X,"aw",%nobits
  46              		.align	3
  49              	Cur_X:
  50 0000 00000000 		.space	8
  50      00000000 
  51              		.global	Cur_Y
  52              		.section	.bss.Cur_Y,"aw",%nobits
  53              		.align	3
  56              	Cur_Y:
  57 0000 00000000 		.space	8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 2


  57      00000000 
  58              		.global	Cur_Z
  59              		.section	.bss.Cur_Z,"aw",%nobits
  60              		.align	3
  63              	Cur_Z:
  64 0000 00000000 		.space	8
  64      00000000 
  65              		.section	.text.M105,"ax",%progbits
  66              		.align	1
  67              		.global	M105
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	M105:
  73              	.LFB321:
  74              		.file 1 "Core/Src/GCodes.c"
   1:Core/Src/GCodes.c **** #include "GCodes.h"
   2:Core/Src/GCodes.c **** 
   3:Core/Src/GCodes.c **** double Cur_E = 0;
   4:Core/Src/GCodes.c **** double Cur_X = 0;
   5:Core/Src/GCodes.c **** double Cur_Y = 0;
   6:Core/Src/GCodes.c **** double Cur_Z = 0;
   7:Core/Src/GCodes.c **** 
   8:Core/Src/GCodes.c **** void M105(uint16_t R, uint16_t T)
   9:Core/Src/GCodes.c **** {
  75              		.loc 1 9 1
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 8
  78              		@ frame_needed = 1, uses_anonymous_args = 0
  79 0000 80B5     		push	{r7, lr}
  80              		.cfi_def_cfa_offset 8
  81              		.cfi_offset 7, -8
  82              		.cfi_offset 14, -4
  83 0002 82B0     		sub	sp, sp, #8
  84              		.cfi_def_cfa_offset 16
  85 0004 00AF     		add	r7, sp, #0
  86              		.cfi_def_cfa_register 7
  87 0006 0346     		mov	r3, r0
  88 0008 0A46     		mov	r2, r1
  89 000a FB80     		strh	r3, [r7, #6]	@ movhi
  90 000c 1346     		mov	r3, r2	@ movhi
  91 000e BB80     		strh	r3, [r7, #4]	@ movhi
  10:Core/Src/GCodes.c ****     print_temperature();
  92              		.loc 1 10 5
  93 0010 FFF7FEFF 		bl	print_temperature
  11:Core/Src/GCodes.c **** #ifdef REDUNDANT_TEMP_SENSOR
  12:Core/Src/GCodes.c ****     if (R != -1)
  13:Core/Src/GCodes.c ****     {
  14:Core/Src/GCodes.c ****     }
  15:Core/Src/GCodes.c **** #endif
  16:Core/Src/GCodes.c **** }
  94              		.loc 1 16 1
  95 0014 00BF     		nop
  96 0016 0837     		adds	r7, r7, #8
  97              		.cfi_def_cfa_offset 8
  98 0018 BD46     		mov	sp, r7
  99              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 3


 100              		@ sp needed
 101 001a 80BD     		pop	{r7, pc}
 102              		.cfi_endproc
 103              	.LFE321:
 105              		.section	.text.M155,"ax",%progbits
 106              		.align	1
 107              		.global	M155
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	M155:
 113              	.LFB322:
  17:Core/Src/GCodes.c **** 
  18:Core/Src/GCodes.c **** uint16_t M155(uint16_t S)
  19:Core/Src/GCodes.c **** {
 114              		.loc 1 19 1
 115              		.cfi_startproc
 116              		@ args = 0, pretend = 0, frame = 8
 117              		@ frame_needed = 1, uses_anonymous_args = 0
 118              		@ link register save eliminated.
 119 0000 80B4     		push	{r7}
 120              		.cfi_def_cfa_offset 4
 121              		.cfi_offset 7, -4
 122 0002 83B0     		sub	sp, sp, #12
 123              		.cfi_def_cfa_offset 16
 124 0004 00AF     		add	r7, sp, #0
 125              		.cfi_def_cfa_register 7
 126 0006 0346     		mov	r3, r0
 127 0008 FB80     		strh	r3, [r7, #6]	@ movhi
  20:Core/Src/GCodes.c ****     return S * 1000;
 128              		.loc 1 20 14
 129 000a FB88     		ldrh	r3, [r7, #6]	@ movhi
 130 000c 1A46     		mov	r2, r3	@ movhi
 131 000e 5201     		lsls	r2, r2, #5
 132 0010 D21A     		subs	r2, r2, r3
 133 0012 9200     		lsls	r2, r2, #2
 134 0014 1344     		add	r3, r3, r2
 135 0016 DB00     		lsls	r3, r3, #3
 136 0018 9BB2     		uxth	r3, r3
  21:Core/Src/GCodes.c **** }
 137              		.loc 1 21 1
 138 001a 1846     		mov	r0, r3
 139 001c 0C37     		adds	r7, r7, #12
 140              		.cfi_def_cfa_offset 4
 141 001e BD46     		mov	sp, r7
 142              		.cfi_def_cfa_register 13
 143              		@ sp needed
 144 0020 5DF8047B 		ldr	r7, [sp], #4
 145              		.cfi_restore 7
 146              		.cfi_def_cfa_offset 0
 147 0024 7047     		bx	lr
 148              		.cfi_endproc
 149              	.LFE322:
 151              		.global	__aeabi_dsub
 152              		.global	__aeabi_dcmpge
 153              		.global	__aeabi_dcmple
 154              		.global	__aeabi_dcmplt
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 4


 155              		.global	__aeabi_dadd
 156              		.section	.text.G0,"ax",%progbits
 157              		.align	1
 158              		.global	G0
 159              		.syntax unified
 160              		.thumb
 161              		.thumb_func
 163              	G0:
 164              	.LFB323:
  22:Core/Src/GCodes.c **** 
  23:Core/Src/GCodes.c **** void G0()
  24:Core/Src/GCodes.c **** {
 165              		.loc 1 24 1
 166              		.cfi_startproc
 167              		@ args = 0, pretend = 0, frame = 8
 168              		@ frame_needed = 1, uses_anonymous_args = 0
 169 0000 80B5     		push	{r7, lr}
 170              		.cfi_def_cfa_offset 8
 171              		.cfi_offset 7, -8
 172              		.cfi_offset 14, -4
 173 0002 82B0     		sub	sp, sp, #8
 174              		.cfi_def_cfa_offset 16
 175 0004 00AF     		add	r7, sp, #0
 176              		.cfi_def_cfa_register 7
  25:Core/Src/GCodes.c ****     double E_dif = E - Cur_E;
 177              		.loc 1 25 22
 178 0006 344B     		ldr	r3, .L14+24
 179 0008 D3E90001 		ldrd	r0, [r3]
 180 000c 334B     		ldr	r3, .L14+28
 181 000e D3E90023 		ldrd	r2, [r3]
 182              		.loc 1 25 12
 183 0012 FFF7FEFF 		bl	__aeabi_dsub
 184 0016 0246     		mov	r2, r0
 185 0018 0B46     		mov	r3, r1
 186 001a C7E90023 		strd	r2, [r7]
  26:Core/Src/GCodes.c ****     if (E_dif >= 0.005 || E_dif <= -0.005)
 187              		.loc 1 26 8
 188 001e 28A3     		adr	r3, .L14
 189 0020 D3E90023 		ldrd	r2, [r3]
 190 0024 D7E90001 		ldrd	r0, [r7]
 191 0028 FFF7FEFF 		bl	__aeabi_dcmpge
 192 002c 0346     		mov	r3, r0
 193 002e 002B     		cmp	r3, #0
 194 0030 0AD1     		bne	.L5
 195              		.loc 1 26 24 discriminator 1
 196 0032 25A3     		adr	r3, .L14+8
 197 0034 D3E90023 		ldrd	r2, [r3]
 198 0038 D7E90001 		ldrd	r0, [r7]
 199 003c FFF7FEFF 		bl	__aeabi_dcmple
 200 0040 0346     		mov	r3, r0
 201 0042 002B     		cmp	r3, #0
 202 0044 00D1     		bne	.L5
  27:Core/Src/GCodes.c ****     {
  28:Core/Src/GCodes.c ****         if (E_dif < 0)
  29:Core/Src/GCodes.c ****         {
  30:Core/Src/GCodes.c ****             CHANGE_MOTOR_DIR(E_AXIS_DIR, COUNTERCLOCKWISE);
  31:Core/Src/GCodes.c ****             Cur_E -= 23.0f/19256.0f;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 5


  32:Core/Src/GCodes.c ****         }
  33:Core/Src/GCodes.c ****         else
  34:Core/Src/GCodes.c ****         {
  35:Core/Src/GCodes.c ****             CHANGE_MOTOR_DIR(E_AXIS_DIR, CLOCKWISE);
  36:Core/Src/GCodes.c ****             Cur_E += 23.0f/19256.0f;
  37:Core/Src/GCodes.c ****         }
  38:Core/Src/GCodes.c ****         MAKE_MOTOR_STEP(E_AXIS_STEP);
  39:Core/Src/GCodes.c ****         DelayMicrosecond(500);
  40:Core/Src/GCodes.c ****     }
  41:Core/Src/GCodes.c **** }...
 203              		.loc 1 41 1 discriminator 1
 204 0046 37E0     		b	.L13
 205              	.L5:
  28:Core/Src/GCodes.c ****         if (E_dif < 0)
 206              		.loc 1 28 12
 207 0048 4FF00002 		mov	r2, #0
 208 004c 4FF00003 		mov	r3, #0
 209 0050 D7E90001 		ldrd	r0, [r7]
 210 0054 FFF7FEFF 		bl	__aeabi_dcmplt
 211 0058 0346     		mov	r3, r0
 212 005a 002B     		cmp	r3, #0
 213 005c 12D0     		beq	.L12
  30:Core/Src/GCodes.c ****             CHANGE_MOTOR_DIR(E_AXIS_DIR, COUNTERCLOCKWISE);
 214              		.loc 1 30 13
 215 005e 0122     		movs	r2, #1
 216 0060 0821     		movs	r1, #8
 217 0062 1F48     		ldr	r0, .L14+32
 218 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
  31:Core/Src/GCodes.c ****             Cur_E -= 23.0f/19256.0f;
 219              		.loc 1 31 19
 220 0068 1C4B     		ldr	r3, .L14+28
 221 006a D3E90001 		ldrd	r0, [r3]
 222 006e 18A3     		adr	r3, .L14+16
 223 0070 D3E90023 		ldrd	r2, [r3]
 224 0074 FFF7FEFF 		bl	__aeabi_dsub
 225 0078 0246     		mov	r2, r0
 226 007a 0B46     		mov	r3, r1
 227 007c 1749     		ldr	r1, .L14+28
 228 007e C1E90023 		strd	r2, [r1]
 229 0082 11E0     		b	.L10
 230              	.L12:
  35:Core/Src/GCodes.c ****             CHANGE_MOTOR_DIR(E_AXIS_DIR, CLOCKWISE);
 231              		.loc 1 35 13
 232 0084 0022     		movs	r2, #0
 233 0086 0821     		movs	r1, #8
 234 0088 1548     		ldr	r0, .L14+32
 235 008a FFF7FEFF 		bl	HAL_GPIO_WritePin
  36:Core/Src/GCodes.c ****             Cur_E += 23.0f/19256.0f;
 236              		.loc 1 36 19
 237 008e 134B     		ldr	r3, .L14+28
 238 0090 D3E90001 		ldrd	r0, [r3]
 239 0094 0EA3     		adr	r3, .L14+16
 240 0096 D3E90023 		ldrd	r2, [r3]
 241 009a FFF7FEFF 		bl	__aeabi_dadd
 242 009e 0246     		mov	r2, r0
 243 00a0 0B46     		mov	r3, r1
 244 00a2 0E49     		ldr	r1, .L14+28
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 6


 245 00a4 C1E90023 		strd	r2, [r1]
 246              	.L10:
  38:Core/Src/GCodes.c ****         MAKE_MOTOR_STEP(E_AXIS_STEP);
 247              		.loc 1 38 9
 248 00a8 0121     		movs	r1, #1
 249 00aa 0E48     		ldr	r0, .L14+36
 250 00ac FFF7FEFF 		bl	HAL_GPIO_TogglePin
  39:Core/Src/GCodes.c ****         DelayMicrosecond(500);
 251              		.loc 1 39 9
 252 00b0 4FF4FA70 		mov	r0, #500
 253 00b4 FFF7FEFF 		bl	DelayMicrosecond
 254              	.L13:
 255              		.loc 1 41 1
 256 00b8 00BF     		nop
 257 00ba 0837     		adds	r7, r7, #8
 258              		.cfi_def_cfa_offset 8
 259 00bc BD46     		mov	sp, r7
 260              		.cfi_def_cfa_register 13
 261              		@ sp needed
 262 00be 80BD     		pop	{r7, pc}
 263              	.L15:
 264              		.align	3
 265              	.L14:
 266 00c0 7B14AE47 		.word	1202590843
 267 00c4 E17A743F 		.word	1064598241
 268 00c8 7B14AE47 		.word	1202590843
 269 00cc E17A74BF 		.word	-1082885407
 270 00d0 000000A0 		.word	-1610612736
 271 00d4 D091533F 		.word	1062441424
 272 00d8 00000000 		.word	E
 273 00dc 00000000 		.word	Cur_E
 274 00e0 00140048 		.word	1207964672
 275 00e4 00040048 		.word	1207960576
 276              		.cfi_endproc
 277              	.LFE323:
 279              		.text
 280              	.Letext0:
 281              		.file 2 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 282              		.file 3 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 283              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4p5xx.h"
 284              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 285              		.file 6 "Core/Inc/main.h"
 286              		.file 7 "Core/Inc/GCodes.h"
 287              		.file 8 "Core/Inc/Parser.h"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 GCodes.c
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:20     .bss.msg_buffer:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:23     .bss.msg_buffer:0000000000000000 msg_buffer
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:26     .bss.value:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:29     .bss.value:0000000000000000 value
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:32     .bss.RxBuf:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:35     .bss.RxBuf:0000000000000000 RxBuf
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:42     .bss.Cur_E:0000000000000000 Cur_E
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:39     .bss.Cur_E:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:49     .bss.Cur_X:0000000000000000 Cur_X
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:46     .bss.Cur_X:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:56     .bss.Cur_Y:0000000000000000 Cur_Y
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:53     .bss.Cur_Y:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:63     .bss.Cur_Z:0000000000000000 Cur_Z
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:60     .bss.Cur_Z:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:66     .text.M105:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:72     .text.M105:0000000000000000 M105
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:106    .text.M155:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:112    .text.M155:0000000000000000 M155
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:157    .text.G0:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:163    .text.G0:0000000000000000 G0
C:\Users\Morroway\AppData\Local\Temp\ccYjwARm.s:266    .text.G0:00000000000000c0 $d

UNDEFINED SYMBOLS
print_temperature
__aeabi_dsub
__aeabi_dcmpge
__aeabi_dcmple
__aeabi_dcmplt
__aeabi_dadd
HAL_GPIO_WritePin
HAL_GPIO_TogglePin
DelayMicrosecond
E
