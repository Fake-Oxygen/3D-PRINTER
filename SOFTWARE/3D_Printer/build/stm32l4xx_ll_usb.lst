ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32l4xx_ll_usb.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.USB_CoreInit,"ax",%progbits
  20              		.align	1
  21              		.global	USB_CoreInit
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	USB_CoreInit:
  27              	.LFB321:
  28              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c"
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @file    stm32l4xx_ll_usb.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @attention
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * Copyright (c) 2017 STMicroelectronics.
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   @verbatim
  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     [..]
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 2


  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   @endverbatim
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #include "stm32l4xx_hal.h"
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @addtogroup STM32L4xx_LL_USB_DRIVER
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB) || defined (USB_OTG_FS)
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB_OTG_FS)
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** @verbatim
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****  ===============================================================================
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****  ===============================================================================
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** @endverbatim
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
  29              		.loc 1 84 1
  30              		.cfi_startproc
  31              		@ args = 56, pretend = 16, frame = 16
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 3


  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 84B0     		sub	sp, sp, #16
  34              		.cfi_def_cfa_offset 16
  35 0002 80B5     		push	{r7, lr}
  36              		.cfi_def_cfa_offset 24
  37              		.cfi_offset 7, -24
  38              		.cfi_offset 14, -20
  39 0004 84B0     		sub	sp, sp, #16
  40              		.cfi_def_cfa_offset 40
  41 0006 00AF     		add	r7, sp, #0
  42              		.cfi_def_cfa_register 7
  43 0008 7860     		str	r0, [r7, #4]
  44 000a 07F11C00 		add	r0, r7, #28
  45 000e 80E80E00 		stm	r0, {r1, r2, r3}
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Select FS Embedded PHY */
  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  46              		.loc 1 88 17
  47 0012 7B68     		ldr	r3, [r7, #4]
  48 0014 DB68     		ldr	r3, [r3, #12]
  49 0016 43F04002 		orr	r2, r3, #64
  50 001a 7B68     		ldr	r3, [r7, #4]
  51 001c DA60     		str	r2, [r3, #12]
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Reset after a PHY select */
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_CoreReset(USBx);
  52              		.loc 1 91 9
  53 001e 7868     		ldr	r0, [r7, #4]
  54 0020 FFF7FEFF 		bl	USB_CoreReset
  55 0024 0346     		mov	r3, r0
  56 0026 FB73     		strb	r3, [r7, #15]
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.battery_charging_enable == 0U)
  57              		.loc 1 93 10
  58 0028 3B6C     		ldr	r3, [r7, #64]
  59              		.loc 1 93 6
  60 002a 002B     		cmp	r3, #0
  61 002c 06D1     		bne	.L2
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Activate the USB Transceiver */
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
  62              		.loc 1 96 17
  63 002e 7B68     		ldr	r3, [r7, #4]
  64 0030 9B6B     		ldr	r3, [r3, #56]
  65 0032 43F48032 		orr	r2, r3, #65536
  66 0036 7B68     		ldr	r3, [r7, #4]
  67 0038 9A63     		str	r2, [r3, #56]
  68 003a 05E0     		b	.L3
  69              	.L2:
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Deactivate the USB Transceiver */
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  70              		.loc 1 101 17
  71 003c 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 4


  72 003e 9B6B     		ldr	r3, [r3, #56]
  73 0040 23F48032 		bic	r2, r3, #65536
  74 0044 7B68     		ldr	r3, [r7, #4]
  75 0046 9A63     		str	r2, [r3, #56]
  76              	.L3:
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
  77              		.loc 1 104 10
  78 0048 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
  79              		.loc 1 105 1
  80 004a 1846     		mov	r0, r3
  81 004c 1037     		adds	r7, r7, #16
  82              		.cfi_def_cfa_offset 24
  83 004e BD46     		mov	sp, r7
  84              		.cfi_def_cfa_register 13
  85              		@ sp needed
  86 0050 BDE88040 		pop	{r7, lr}
  87              		.cfi_restore 14
  88              		.cfi_restore 7
  89              		.cfi_def_cfa_offset 16
  90 0054 04B0     		add	sp, sp, #16
  91              		.cfi_def_cfa_offset 0
  92 0056 7047     		bx	lr
  93              		.cfi_endproc
  94              	.LFE321:
  96              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
  97              		.align	1
  98              		.global	USB_SetTurnaroundTime
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	USB_SetTurnaroundTime:
 104              	.LFB322:
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 105              		.loc 1 116 1
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 24
 108              		@ frame_needed = 1, uses_anonymous_args = 0
 109              		@ link register save eliminated.
 110 0000 80B4     		push	{r7}
 111              		.cfi_def_cfa_offset 4
 112              		.cfi_offset 7, -4
 113 0002 87B0     		sub	sp, sp, #28
 114              		.cfi_def_cfa_offset 32
 115 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 5


 116              		.cfi_def_cfa_register 7
 117 0006 F860     		str	r0, [r7, #12]
 118 0008 B960     		str	r1, [r7, #8]
 119 000a 1346     		mov	r3, r2
 120 000c FB71     		strb	r3, [r7, #7]
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t UsbTrd;
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   latency to the Data FIFO */
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 121              		.loc 1 123 6
 122 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 123 0010 022B     		cmp	r3, #2
 124 0012 65D1     		bne	.L6
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 125              		.loc 1 125 8
 126 0014 BB68     		ldr	r3, [r7, #8]
 127 0016 3E4A     		ldr	r2, .L19
 128 0018 9342     		cmp	r3, r2
 129 001a 06D9     		bls	.L7
 130              		.loc 1 125 29 discriminator 1
 131 001c BB68     		ldr	r3, [r7, #8]
 132 001e 3D4A     		ldr	r2, .L19+4
 133 0020 9342     		cmp	r3, r2
 134 0022 02D2     		bcs	.L7
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xFU;
 135              		.loc 1 128 14
 136 0024 0F23     		movs	r3, #15
 137 0026 7B61     		str	r3, [r7, #20]
 138 0028 5CE0     		b	.L17
 139              	.L7:
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 140              		.loc 1 130 13
 141 002a BB68     		ldr	r3, [r7, #8]
 142 002c 394A     		ldr	r2, .L19+4
 143 002e 9342     		cmp	r3, r2
 144 0030 06D3     		bcc	.L9
 145              		.loc 1 130 34 discriminator 1
 146 0032 BB68     		ldr	r3, [r7, #8]
 147 0034 384A     		ldr	r2, .L19+8
 148 0036 9342     		cmp	r3, r2
 149 0038 02D2     		bcs	.L9
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xEU;
 150              		.loc 1 133 14
 151 003a 0E23     		movs	r3, #14
 152 003c 7B61     		str	r3, [r7, #20]
 153 003e 51E0     		b	.L17
 154              	.L9:
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 6


 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 155              		.loc 1 135 13
 156 0040 BB68     		ldr	r3, [r7, #8]
 157 0042 354A     		ldr	r2, .L19+8
 158 0044 9342     		cmp	r3, r2
 159 0046 06D3     		bcc	.L10
 160              		.loc 1 135 34 discriminator 1
 161 0048 BB68     		ldr	r3, [r7, #8]
 162 004a 344A     		ldr	r2, .L19+12
 163 004c 9342     		cmp	r3, r2
 164 004e 02D2     		bcs	.L10
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xDU;
 165              		.loc 1 138 14
 166 0050 0D23     		movs	r3, #13
 167 0052 7B61     		str	r3, [r7, #20]
 168 0054 46E0     		b	.L17
 169              	.L10:
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 170              		.loc 1 140 13
 171 0056 BB68     		ldr	r3, [r7, #8]
 172 0058 304A     		ldr	r2, .L19+12
 173 005a 9342     		cmp	r3, r2
 174 005c 06D3     		bcc	.L11
 175              		.loc 1 140 34 discriminator 1
 176 005e BB68     		ldr	r3, [r7, #8]
 177 0060 2F4A     		ldr	r2, .L19+16
 178 0062 9342     		cmp	r3, r2
 179 0064 02D8     		bhi	.L11
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xCU;
 180              		.loc 1 143 14
 181 0066 0C23     		movs	r3, #12
 182 0068 7B61     		str	r3, [r7, #20]
 183 006a 3BE0     		b	.L17
 184              	.L11:
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 185              		.loc 1 145 13
 186 006c BB68     		ldr	r3, [r7, #8]
 187 006e 2C4A     		ldr	r2, .L19+16
 188 0070 9342     		cmp	r3, r2
 189 0072 06D9     		bls	.L12
 190              		.loc 1 145 34 discriminator 1
 191 0074 BB68     		ldr	r3, [r7, #8]
 192 0076 2B4A     		ldr	r2, .L19+20
 193 0078 9342     		cmp	r3, r2
 194 007a 02D8     		bhi	.L12
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xBU;
 195              		.loc 1 148 14
 196 007c 0B23     		movs	r3, #11
 197 007e 7B61     		str	r3, [r7, #20]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 7


 198 0080 30E0     		b	.L17
 199              	.L12:
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 200              		.loc 1 150 13
 201 0082 BB68     		ldr	r3, [r7, #8]
 202 0084 274A     		ldr	r2, .L19+20
 203 0086 9342     		cmp	r3, r2
 204 0088 06D9     		bls	.L13
 205              		.loc 1 150 34 discriminator 1
 206 008a BB68     		ldr	r3, [r7, #8]
 207 008c 264A     		ldr	r2, .L19+24
 208 008e 9342     		cmp	r3, r2
 209 0090 02D8     		bhi	.L13
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xAU;
 210              		.loc 1 153 14
 211 0092 0A23     		movs	r3, #10
 212 0094 7B61     		str	r3, [r7, #20]
 213 0096 25E0     		b	.L17
 214              	.L13:
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 215              		.loc 1 155 13
 216 0098 BB68     		ldr	r3, [r7, #8]
 217 009a 234A     		ldr	r2, .L19+24
 218 009c 9342     		cmp	r3, r2
 219 009e 06D9     		bls	.L14
 220              		.loc 1 155 34 discriminator 1
 221 00a0 BB68     		ldr	r3, [r7, #8]
 222 00a2 224A     		ldr	r2, .L19+28
 223 00a4 9342     		cmp	r3, r2
 224 00a6 02D2     		bcs	.L14
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x9U;
 225              		.loc 1 158 14
 226 00a8 0923     		movs	r3, #9
 227 00aa 7B61     		str	r3, [r7, #20]
 228 00ac 1AE0     		b	.L17
 229              	.L14:
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 230              		.loc 1 160 13
 231 00ae BB68     		ldr	r3, [r7, #8]
 232 00b0 1E4A     		ldr	r2, .L19+28
 233 00b2 9342     		cmp	r3, r2
 234 00b4 06D3     		bcc	.L15
 235              		.loc 1 160 34 discriminator 1
 236 00b6 BB68     		ldr	r3, [r7, #8]
 237 00b8 1D4A     		ldr	r2, .L19+32
 238 00ba 9342     		cmp	r3, r2
 239 00bc 02D8     		bhi	.L15
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x8U;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 8


 240              		.loc 1 163 14
 241 00be 0823     		movs	r3, #8
 242 00c0 7B61     		str	r3, [r7, #20]
 243 00c2 0FE0     		b	.L17
 244              	.L15:
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 245              		.loc 1 165 13
 246 00c4 BB68     		ldr	r3, [r7, #8]
 247 00c6 1A4A     		ldr	r2, .L19+32
 248 00c8 9342     		cmp	r3, r2
 249 00ca 06D9     		bls	.L16
 250              		.loc 1 165 34 discriminator 1
 251 00cc BB68     		ldr	r3, [r7, #8]
 252 00ce 194A     		ldr	r2, .L19+36
 253 00d0 9342     		cmp	r3, r2
 254 00d2 02D2     		bcs	.L16
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x7U;
 255              		.loc 1 168 14
 256 00d4 0723     		movs	r3, #7
 257 00d6 7B61     		str	r3, [r7, #20]
 258 00d8 04E0     		b	.L17
 259              	.L16:
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x6U;
 260              		.loc 1 173 14
 261 00da 0623     		movs	r3, #6
 262 00dc 7B61     		str	r3, [r7, #20]
 263 00de 01E0     		b	.L17
 264              	.L6:
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 265              		.loc 1 178 12
 266 00e0 0923     		movs	r3, #9
 267 00e2 7B61     		str	r3, [r7, #20]
 268              	.L17:
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 269              		.loc 1 181 17
 270 00e4 FB68     		ldr	r3, [r7, #12]
 271 00e6 DB68     		ldr	r3, [r3, #12]
 272 00e8 23F47052 		bic	r2, r3, #15360
 273 00ec FB68     		ldr	r3, [r7, #12]
 274 00ee DA60     		str	r2, [r3, #12]
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 275              		.loc 1 182 17
 276 00f0 FB68     		ldr	r3, [r7, #12]
 277 00f2 DA68     		ldr	r2, [r3, #12]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 9


 278              		.loc 1 182 39
 279 00f4 7B69     		ldr	r3, [r7, #20]
 280 00f6 9B02     		lsls	r3, r3, #10
 281              		.loc 1 182 20
 282 00f8 03F47053 		and	r3, r3, #15360
 283              		.loc 1 182 17
 284 00fc 1A43     		orrs	r2, r2, r3
 285 00fe FB68     		ldr	r3, [r7, #12]
 286 0100 DA60     		str	r2, [r3, #12]
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 287              		.loc 1 184 10
 288 0102 0023     		movs	r3, #0
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 289              		.loc 1 185 1
 290 0104 1846     		mov	r0, r3
 291 0106 1C37     		adds	r7, r7, #28
 292              		.cfi_def_cfa_offset 4
 293 0108 BD46     		mov	sp, r7
 294              		.cfi_def_cfa_register 13
 295              		@ sp needed
 296 010a 5DF8047B 		ldr	r7, [sp], #4
 297              		.cfi_restore 7
 298              		.cfi_def_cfa_offset 0
 299 010e 7047     		bx	lr
 300              	.L20:
 301              		.align	2
 302              	.L19:
 303 0110 BFACD800 		.word	14199999
 304 0114 C0E1E400 		.word	15000000
 305 0118 0024F400 		.word	16000000
 306 011c 80730601 		.word	17200000
 307 0120 9F491A01 		.word	18499999
 308 0124 FF2C3101 		.word	19999999
 309 0128 3FA44C01 		.word	21799999
 310 012c 00366E01 		.word	24000000
 311 0130 1FABA601 		.word	27699999
 312 0134 0048E801 		.word	32000000
 313              		.cfi_endproc
 314              	.LFE322:
 316              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 317              		.align	1
 318              		.global	USB_EnableGlobalInt
 319              		.syntax unified
 320              		.thumb
 321              		.thumb_func
 323              	USB_EnableGlobalInt:
 324              	.LFB323:
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 10


 325              		.loc 1 194 1
 326              		.cfi_startproc
 327              		@ args = 0, pretend = 0, frame = 8
 328              		@ frame_needed = 1, uses_anonymous_args = 0
 329              		@ link register save eliminated.
 330 0000 80B4     		push	{r7}
 331              		.cfi_def_cfa_offset 4
 332              		.cfi_offset 7, -4
 333 0002 83B0     		sub	sp, sp, #12
 334              		.cfi_def_cfa_offset 16
 335 0004 00AF     		add	r7, sp, #0
 336              		.cfi_def_cfa_register 7
 337 0006 7860     		str	r0, [r7, #4]
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 338              		.loc 1 195 17
 339 0008 7B68     		ldr	r3, [r7, #4]
 340 000a 9B68     		ldr	r3, [r3, #8]
 341 000c 43F00102 		orr	r2, r3, #1
 342 0010 7B68     		ldr	r3, [r7, #4]
 343 0012 9A60     		str	r2, [r3, #8]
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 344              		.loc 1 196 10
 345 0014 0023     		movs	r3, #0
 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 346              		.loc 1 197 1
 347 0016 1846     		mov	r0, r3
 348 0018 0C37     		adds	r7, r7, #12
 349              		.cfi_def_cfa_offset 4
 350 001a BD46     		mov	sp, r7
 351              		.cfi_def_cfa_register 13
 352              		@ sp needed
 353 001c 5DF8047B 		ldr	r7, [sp], #4
 354              		.cfi_restore 7
 355              		.cfi_def_cfa_offset 0
 356 0020 7047     		bx	lr
 357              		.cfi_endproc
 358              	.LFE323:
 360              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 361              		.align	1
 362              		.global	USB_DisableGlobalInt
 363              		.syntax unified
 364              		.thumb
 365              		.thumb_func
 367              	USB_DisableGlobalInt:
 368              	.LFB324:
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 369              		.loc 1 206 1
 370              		.cfi_startproc
 371              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 11


 372              		@ frame_needed = 1, uses_anonymous_args = 0
 373              		@ link register save eliminated.
 374 0000 80B4     		push	{r7}
 375              		.cfi_def_cfa_offset 4
 376              		.cfi_offset 7, -4
 377 0002 83B0     		sub	sp, sp, #12
 378              		.cfi_def_cfa_offset 16
 379 0004 00AF     		add	r7, sp, #0
 380              		.cfi_def_cfa_register 7
 381 0006 7860     		str	r0, [r7, #4]
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 382              		.loc 1 207 17
 383 0008 7B68     		ldr	r3, [r7, #4]
 384 000a 9B68     		ldr	r3, [r3, #8]
 385 000c 23F00102 		bic	r2, r3, #1
 386 0010 7B68     		ldr	r3, [r7, #4]
 387 0012 9A60     		str	r2, [r3, #8]
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 388              		.loc 1 208 10
 389 0014 0023     		movs	r3, #0
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 390              		.loc 1 209 1
 391 0016 1846     		mov	r0, r3
 392 0018 0C37     		adds	r7, r7, #12
 393              		.cfi_def_cfa_offset 4
 394 001a BD46     		mov	sp, r7
 395              		.cfi_def_cfa_register 13
 396              		@ sp needed
 397 001c 5DF8047B 		ldr	r7, [sp], #4
 398              		.cfi_restore 7
 399              		.cfi_def_cfa_offset 0
 400 0020 7047     		bx	lr
 401              		.cfi_endproc
 402              	.LFE324:
 404              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 405              		.align	1
 406              		.global	USB_SetCurrentMode
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 411              	USB_SetCurrentMode:
 412              	.LFB325:
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mode  current core mode
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_ModeTypeDef mode)
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 413              		.loc 1 221 1
 414              		.cfi_startproc
 415              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 12


 416              		@ frame_needed = 1, uses_anonymous_args = 0
 417 0000 80B5     		push	{r7, lr}
 418              		.cfi_def_cfa_offset 8
 419              		.cfi_offset 7, -8
 420              		.cfi_offset 14, -4
 421 0002 84B0     		sub	sp, sp, #16
 422              		.cfi_def_cfa_offset 24
 423 0004 00AF     		add	r7, sp, #0
 424              		.cfi_def_cfa_register 7
 425 0006 7860     		str	r0, [r7, #4]
 426 0008 0B46     		mov	r3, r1
 427 000a FB70     		strb	r3, [r7, #3]
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ms = 0U;
 428              		.loc 1 222 12
 429 000c 0023     		movs	r3, #0
 430 000e FB60     		str	r3, [r7, #12]
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 431              		.loc 1 224 17
 432 0010 7B68     		ldr	r3, [r7, #4]
 433 0012 DB68     		ldr	r3, [r3, #12]
 434 0014 23F0C042 		bic	r2, r3, #1610612736
 435 0018 7B68     		ldr	r3, [r7, #4]
 436 001a DA60     		str	r2, [r3, #12]
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 437              		.loc 1 226 6
 438 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 439 001e 012B     		cmp	r3, #1
 440 0020 15D1     		bne	.L26
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 441              		.loc 1 228 19
 442 0022 7B68     		ldr	r3, [r7, #4]
 443 0024 DB68     		ldr	r3, [r3, #12]
 444 0026 43F00052 		orr	r2, r3, #536870912
 445 002a 7B68     		ldr	r3, [r7, #4]
 446 002c DA60     		str	r2, [r3, #12]
 447              	.L28:
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       HAL_Delay(1U);
 448              		.loc 1 232 7 discriminator 2
 449 002e 0120     		movs	r0, #1
 450 0030 FFF7FEFF 		bl	HAL_Delay
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ms++;
 451              		.loc 1 233 9 discriminator 2
 452 0034 FB68     		ldr	r3, [r7, #12]
 453 0036 0133     		adds	r3, r3, #1
 454 0038 FB60     		str	r3, [r7, #12]
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < 50U));
 455              		.loc 1 234 15 discriminator 2
 456 003a 7868     		ldr	r0, [r7, #4]
 457 003c FFF7FEFF 		bl	USB_GetMode
 458 0040 0346     		mov	r3, r0
 459              		.loc 1 234 61 discriminator 2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 13


 460 0042 012B     		cmp	r3, #1
 461 0044 1ED0     		beq	.L27
 462              		.loc 1 234 61 is_stmt 0 discriminator 1
 463 0046 FB68     		ldr	r3, [r7, #12]
 464 0048 312B     		cmp	r3, #49
 465 004a F0D9     		bls	.L28
 466 004c 1AE0     		b	.L27
 467              	.L26:
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 468              		.loc 1 236 11 is_stmt 1
 469 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 470 0050 002B     		cmp	r3, #0
 471 0052 15D1     		bne	.L29
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 472              		.loc 1 238 19
 473 0054 7B68     		ldr	r3, [r7, #4]
 474 0056 DB68     		ldr	r3, [r3, #12]
 475 0058 43F08042 		orr	r2, r3, #1073741824
 476 005c 7B68     		ldr	r3, [r7, #4]
 477 005e DA60     		str	r2, [r3, #12]
 478              	.L30:
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       HAL_Delay(1U);
 479              		.loc 1 242 7 discriminator 2
 480 0060 0120     		movs	r0, #1
 481 0062 FFF7FEFF 		bl	HAL_Delay
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ms++;
 482              		.loc 1 243 9 discriminator 2
 483 0066 FB68     		ldr	r3, [r7, #12]
 484 0068 0133     		adds	r3, r3, #1
 485 006a FB60     		str	r3, [r7, #12]
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < 50U));
 486              		.loc 1 244 15 discriminator 2
 487 006c 7868     		ldr	r0, [r7, #4]
 488 006e FFF7FEFF 		bl	USB_GetMode
 489 0072 0346     		mov	r3, r0
 490              		.loc 1 244 63 discriminator 2
 491 0074 002B     		cmp	r3, #0
 492 0076 05D0     		beq	.L27
 493              		.loc 1 244 63 is_stmt 0 discriminator 1
 494 0078 FB68     		ldr	r3, [r7, #12]
 495 007a 312B     		cmp	r3, #49
 496 007c F0D9     		bls	.L30
 497 007e 01E0     		b	.L27
 498              	.L29:
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 499              		.loc 1 248 12 is_stmt 1
 500 0080 0123     		movs	r3, #1
 501 0082 05E0     		b	.L31
 502              	.L27:
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 14


 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ms == 50U)
 503              		.loc 1 251 6
 504 0084 FB68     		ldr	r3, [r7, #12]
 505 0086 322B     		cmp	r3, #50
 506 0088 01D1     		bne	.L32
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 507              		.loc 1 253 12
 508 008a 0123     		movs	r3, #1
 509 008c 00E0     		b	.L31
 510              	.L32:
 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 511              		.loc 1 256 10
 512 008e 0023     		movs	r3, #0
 513              	.L31:
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 514              		.loc 1 257 1
 515 0090 1846     		mov	r0, r3
 516 0092 1037     		adds	r7, r7, #16
 517              		.cfi_def_cfa_offset 8
 518 0094 BD46     		mov	sp, r7
 519              		.cfi_def_cfa_register 13
 520              		@ sp needed
 521 0096 80BD     		pop	{r7, pc}
 522              		.cfi_endproc
 523              	.LFE325:
 525              		.section	.text.USB_DevInit,"ax",%progbits
 526              		.align	1
 527              		.global	USB_DevInit
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 532              	USB_DevInit:
 533              	.LFB326:
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for device mode
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 534              		.loc 1 268 1
 535              		.cfi_startproc
 536              		@ args = 56, pretend = 16, frame = 24
 537              		@ frame_needed = 1, uses_anonymous_args = 0
 538 0000 84B0     		sub	sp, sp, #16
 539              		.cfi_def_cfa_offset 16
 540 0002 80B5     		push	{r7, lr}
 541              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 15


 542              		.cfi_offset 7, -24
 543              		.cfi_offset 14, -20
 544 0004 86B0     		sub	sp, sp, #24
 545              		.cfi_def_cfa_offset 48
 546 0006 00AF     		add	r7, sp, #0
 547              		.cfi_def_cfa_register 7
 548 0008 7860     		str	r0, [r7, #4]
 549 000a 07F12400 		add	r0, r7, #36
 550 000e 80E80E00 		stm	r0, {r1, r2, r3}
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 551              		.loc 1 269 21
 552 0012 0023     		movs	r3, #0
 553 0014 FB75     		strb	r3, [r7, #23]
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 554              		.loc 1 270 12
 555 0016 7B68     		ldr	r3, [r7, #4]
 556 0018 FB60     		str	r3, [r7, #12]
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 557              		.loc 1 273 10
 558 001a 0023     		movs	r3, #0
 559 001c 3B61     		str	r3, [r7, #16]
 560              		.loc 1 273 3
 561 001e 09E0     		b	.L34
 562              	.L35:
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 563              		.loc 1 275 22 discriminator 3
 564 0020 7A68     		ldr	r2, [r7, #4]
 565 0022 3B69     		ldr	r3, [r7, #16]
 566 0024 4033     		adds	r3, r3, #64
 567 0026 9B00     		lsls	r3, r3, #2
 568 0028 1344     		add	r3, r3, r2
 569 002a 0022     		movs	r2, #0
 570 002c 5A60     		str	r2, [r3, #4]
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 571              		.loc 1 273 26 discriminator 3
 572 002e 3B69     		ldr	r3, [r7, #16]
 573 0030 0133     		adds	r3, r3, #1
 574 0032 3B61     		str	r3, [r7, #16]
 575              	.L34:
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 576              		.loc 1 273 18 discriminator 1
 577 0034 3B69     		ldr	r3, [r7, #16]
 578 0036 0E2B     		cmp	r3, #14
 579 0038 F2D9     		bls	.L35
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* VBUS Sensing setup */
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 580              		.loc 1 279 10
 581 003a FB6C     		ldr	r3, [r7, #76]
 582              		.loc 1 279 6
 583 003c 002B     		cmp	r3, #0
 584 003e 1CD1     		bne	.L36
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 16


 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 585              		.loc 1 281 23
 586 0040 FB68     		ldr	r3, [r7, #12]
 587 0042 03F50063 		add	r3, r3, #2048
 588 0046 5B68     		ldr	r3, [r3, #4]
 589 0048 FA68     		ldr	r2, [r7, #12]
 590 004a 02F50062 		add	r2, r2, #2048
 591 004e 43F00203 		orr	r3, r3, #2
 592 0052 5360     		str	r3, [r2, #4]
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 593              		.loc 1 284 17
 594 0054 7B68     		ldr	r3, [r7, #4]
 595 0056 9B6B     		ldr	r3, [r3, #56]
 596 0058 23F40012 		bic	r2, r3, #2097152
 597 005c 7B68     		ldr	r3, [r7, #4]
 598 005e 9A63     		str	r2, [r3, #56]
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 599              		.loc 1 287 19
 600 0060 7B68     		ldr	r3, [r7, #4]
 601 0062 1B68     		ldr	r3, [r3]
 602 0064 43F04002 		orr	r2, r3, #64
 603 0068 7B68     		ldr	r3, [r7, #4]
 604 006a 1A60     		str	r2, [r3]
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 605              		.loc 1 288 19
 606 006c 7B68     		ldr	r3, [r7, #4]
 607 006e 1B68     		ldr	r3, [r3]
 608 0070 43F08002 		orr	r2, r3, #128
 609 0074 7B68     		ldr	r3, [r7, #4]
 610 0076 1A60     		str	r2, [r3]
 611 0078 05E0     		b	.L37
 612              	.L36:
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 613              		.loc 1 293 17
 614 007a 7B68     		ldr	r3, [r7, #4]
 615 007c 9B6B     		ldr	r3, [r3, #56]
 616 007e 43F40012 		orr	r2, r3, #2097152
 617 0082 7B68     		ldr	r3, [r7, #4]
 618 0084 9A63     		str	r2, [r3, #56]
 619              	.L37:
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Restart the Phy Clock */
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 620              		.loc 1 297 3
 621 0086 FB68     		ldr	r3, [r7, #12]
 622 0088 03F56063 		add	r3, r3, #3584
 623 008c 1A46     		mov	r2, r3
 624              		.loc 1 297 16
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 17


 625 008e 0023     		movs	r3, #0
 626 0090 1360     		str	r3, [r2]
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Device mode configuration */
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 627              		.loc 1 300 21
 628 0092 FB68     		ldr	r3, [r7, #12]
 629 0094 03F50063 		add	r3, r3, #2048
 630 0098 1946     		mov	r1, r3
 631 009a FB68     		ldr	r3, [r7, #12]
 632 009c 03F50063 		add	r3, r3, #2048
 633 00a0 1A46     		mov	r2, r3
 634 00a2 0B68     		ldr	r3, [r1]
 635 00a4 1360     		str	r3, [r2]
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set Core speed to Full speed mode */
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 636              		.loc 1 303 9
 637 00a6 0321     		movs	r1, #3
 638 00a8 7868     		ldr	r0, [r7, #4]
 639 00aa FFF7FEFF 		bl	USB_SetDevSpeed
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush the FIFOs */
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 640              		.loc 1 306 7
 641 00ae 1021     		movs	r1, #16
 642 00b0 7868     		ldr	r0, [r7, #4]
 643 00b2 FFF7FEFF 		bl	USB_FlushTxFifo
 644 00b6 0346     		mov	r3, r0
 645              		.loc 1 306 6
 646 00b8 002B     		cmp	r3, #0
 647 00ba 01D0     		beq	.L38
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 648              		.loc 1 308 9
 649 00bc 0123     		movs	r3, #1
 650 00be FB75     		strb	r3, [r7, #23]
 651              	.L38:
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 652              		.loc 1 311 7
 653 00c0 7868     		ldr	r0, [r7, #4]
 654 00c2 FFF7FEFF 		bl	USB_FlushRxFifo
 655 00c6 0346     		mov	r3, r0
 656              		.loc 1 311 6
 657 00c8 002B     		cmp	r3, #0
 658 00ca 01D0     		beq	.L39
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 659              		.loc 1 313 9
 660 00cc 0123     		movs	r3, #1
 661 00ce FB75     		strb	r3, [r7, #23]
 662              	.L39:
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 18


 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 663              		.loc 1 317 3
 664 00d0 FB68     		ldr	r3, [r7, #12]
 665 00d2 03F50063 		add	r3, r3, #2048
 666 00d6 1A46     		mov	r2, r3
 667              		.loc 1 317 24
 668 00d8 0023     		movs	r3, #0
 669 00da 1361     		str	r3, [r2, #16]
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 670              		.loc 1 318 3
 671 00dc FB68     		ldr	r3, [r7, #12]
 672 00de 03F50063 		add	r3, r3, #2048
 673 00e2 1A46     		mov	r2, r3
 674              		.loc 1 318 24
 675 00e4 0023     		movs	r3, #0
 676 00e6 5361     		str	r3, [r2, #20]
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 677              		.loc 1 319 3
 678 00e8 FB68     		ldr	r3, [r7, #12]
 679 00ea 03F50063 		add	r3, r3, #2048
 680 00ee 1A46     		mov	r2, r3
 681              		.loc 1 319 25
 682 00f0 0023     		movs	r3, #0
 683 00f2 D361     		str	r3, [r2, #28]
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 684              		.loc 1 321 10
 685 00f4 0023     		movs	r3, #0
 686 00f6 3B61     		str	r3, [r7, #16]
 687              		.loc 1 321 3
 688 00f8 43E0     		b	.L40
 689              	.L44:
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 690              		.loc 1 323 10
 691 00fa 3B69     		ldr	r3, [r7, #16]
 692 00fc 5A01     		lsls	r2, r3, #5
 693 00fe FB68     		ldr	r3, [r7, #12]
 694 0100 1344     		add	r3, r3, r2
 695 0102 03F51063 		add	r3, r3, #2304
 696              		.loc 1 323 22
 697 0106 1B68     		ldr	r3, [r3]
 698              		.loc 1 323 32
 699 0108 03F00043 		and	r3, r3, #-2147483648
 700              		.loc 1 323 8
 701 010c B3F1004F 		cmp	r3, #-2147483648
 702 0110 18D1     		bne	.L41
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (i == 0U)
 703              		.loc 1 325 10
 704 0112 3B69     		ldr	r3, [r7, #16]
 705 0114 002B     		cmp	r3, #0
 706 0116 0AD1     		bne	.L42
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 707              		.loc 1 327 9
 708 0118 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 19


 709 011a 5A01     		lsls	r2, r3, #5
 710 011c FB68     		ldr	r3, [r7, #12]
 711 011e 1344     		add	r3, r3, r2
 712 0120 03F51063 		add	r3, r3, #2304
 713 0124 1A46     		mov	r2, r3
 714              		.loc 1 327 31
 715 0126 4FF00063 		mov	r3, #134217728
 716 012a 1360     		str	r3, [r2]
 717 012c 13E0     		b	.L43
 718              	.L42:
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 719              		.loc 1 331 9
 720 012e 3B69     		ldr	r3, [r7, #16]
 721 0130 5A01     		lsls	r2, r3, #5
 722 0132 FB68     		ldr	r3, [r7, #12]
 723 0134 1344     		add	r3, r3, r2
 724 0136 03F51063 		add	r3, r3, #2304
 725 013a 1A46     		mov	r2, r3
 726              		.loc 1 331 31
 727 013c 4FF09043 		mov	r3, #1207959552
 728 0140 1360     		str	r3, [r2]
 729 0142 08E0     		b	.L43
 730              	.L41:
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 731              		.loc 1 336 7
 732 0144 3B69     		ldr	r3, [r7, #16]
 733 0146 5A01     		lsls	r2, r3, #5
 734 0148 FB68     		ldr	r3, [r7, #12]
 735 014a 1344     		add	r3, r3, r2
 736 014c 03F51063 		add	r3, r3, #2304
 737 0150 1A46     		mov	r2, r3
 738              		.loc 1 336 29
 739 0152 0023     		movs	r3, #0
 740 0154 1360     		str	r3, [r2]
 741              	.L43:
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 742              		.loc 1 339 5 discriminator 2
 743 0156 3B69     		ldr	r3, [r7, #16]
 744 0158 5A01     		lsls	r2, r3, #5
 745 015a FB68     		ldr	r3, [r7, #12]
 746 015c 1344     		add	r3, r3, r2
 747 015e 03F51063 		add	r3, r3, #2304
 748 0162 1A46     		mov	r2, r3
 749              		.loc 1 339 28 discriminator 2
 750 0164 0023     		movs	r3, #0
 751 0166 1361     		str	r3, [r2, #16]
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 752              		.loc 1 340 5 discriminator 2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 20


 753 0168 3B69     		ldr	r3, [r7, #16]
 754 016a 5A01     		lsls	r2, r3, #5
 755 016c FB68     		ldr	r3, [r7, #12]
 756 016e 1344     		add	r3, r3, r2
 757 0170 03F51063 		add	r3, r3, #2304
 758 0174 1A46     		mov	r2, r3
 759              		.loc 1 340 28 discriminator 2
 760 0176 4FF67F33 		movw	r3, #64383
 761 017a 9360     		str	r3, [r2, #8]
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 762              		.loc 1 321 40 discriminator 2
 763 017c 3B69     		ldr	r3, [r7, #16]
 764 017e 0133     		adds	r3, r3, #1
 765 0180 3B61     		str	r3, [r7, #16]
 766              	.L40:
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 767              		.loc 1 321 23 discriminator 1
 768 0182 7B6A     		ldr	r3, [r7, #36]
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 769              		.loc 1 321 18 discriminator 1
 770 0184 3A69     		ldr	r2, [r7, #16]
 771 0186 9A42     		cmp	r2, r3
 772 0188 B7D3     		bcc	.L44
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 773              		.loc 1 343 10
 774 018a 0023     		movs	r3, #0
 775 018c 3B61     		str	r3, [r7, #16]
 776              		.loc 1 343 3
 777 018e 43E0     		b	.L45
 778              	.L49:
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 779              		.loc 1 345 10
 780 0190 3B69     		ldr	r3, [r7, #16]
 781 0192 5A01     		lsls	r2, r3, #5
 782 0194 FB68     		ldr	r3, [r7, #12]
 783 0196 1344     		add	r3, r3, r2
 784 0198 03F53063 		add	r3, r3, #2816
 785              		.loc 1 345 23
 786 019c 1B68     		ldr	r3, [r3]
 787              		.loc 1 345 33
 788 019e 03F00043 		and	r3, r3, #-2147483648
 789              		.loc 1 345 8
 790 01a2 B3F1004F 		cmp	r3, #-2147483648
 791 01a6 18D1     		bne	.L46
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (i == 0U)
 792              		.loc 1 347 10
 793 01a8 3B69     		ldr	r3, [r7, #16]
 794 01aa 002B     		cmp	r3, #0
 795 01ac 0AD1     		bne	.L47
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 796              		.loc 1 349 9
 797 01ae 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 21


 798 01b0 5A01     		lsls	r2, r3, #5
 799 01b2 FB68     		ldr	r3, [r7, #12]
 800 01b4 1344     		add	r3, r3, r2
 801 01b6 03F53063 		add	r3, r3, #2816
 802 01ba 1A46     		mov	r2, r3
 803              		.loc 1 349 32
 804 01bc 4FF00063 		mov	r3, #134217728
 805 01c0 1360     		str	r3, [r2]
 806 01c2 13E0     		b	.L48
 807              	.L47:
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 808              		.loc 1 353 9
 809 01c4 3B69     		ldr	r3, [r7, #16]
 810 01c6 5A01     		lsls	r2, r3, #5
 811 01c8 FB68     		ldr	r3, [r7, #12]
 812 01ca 1344     		add	r3, r3, r2
 813 01cc 03F53063 		add	r3, r3, #2816
 814 01d0 1A46     		mov	r2, r3
 815              		.loc 1 353 32
 816 01d2 4FF09043 		mov	r3, #1207959552
 817 01d6 1360     		str	r3, [r2]
 818 01d8 08E0     		b	.L48
 819              	.L46:
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 820              		.loc 1 358 7
 821 01da 3B69     		ldr	r3, [r7, #16]
 822 01dc 5A01     		lsls	r2, r3, #5
 823 01de FB68     		ldr	r3, [r7, #12]
 824 01e0 1344     		add	r3, r3, r2
 825 01e2 03F53063 		add	r3, r3, #2816
 826 01e6 1A46     		mov	r2, r3
 827              		.loc 1 358 30
 828 01e8 0023     		movs	r3, #0
 829 01ea 1360     		str	r3, [r2]
 830              	.L48:
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 831              		.loc 1 361 5 discriminator 2
 832 01ec 3B69     		ldr	r3, [r7, #16]
 833 01ee 5A01     		lsls	r2, r3, #5
 834 01f0 FB68     		ldr	r3, [r7, #12]
 835 01f2 1344     		add	r3, r3, r2
 836 01f4 03F53063 		add	r3, r3, #2816
 837 01f8 1A46     		mov	r2, r3
 838              		.loc 1 361 29 discriminator 2
 839 01fa 0023     		movs	r3, #0
 840 01fc 1361     		str	r3, [r2, #16]
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 841              		.loc 1 362 5 discriminator 2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 22


 842 01fe 3B69     		ldr	r3, [r7, #16]
 843 0200 5A01     		lsls	r2, r3, #5
 844 0202 FB68     		ldr	r3, [r7, #12]
 845 0204 1344     		add	r3, r3, r2
 846 0206 03F53063 		add	r3, r3, #2816
 847 020a 1A46     		mov	r2, r3
 848              		.loc 1 362 29 discriminator 2
 849 020c 4FF67F33 		movw	r3, #64383
 850 0210 9360     		str	r3, [r2, #8]
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 851              		.loc 1 343 40 discriminator 2
 852 0212 3B69     		ldr	r3, [r7, #16]
 853 0214 0133     		adds	r3, r3, #1
 854 0216 3B61     		str	r3, [r7, #16]
 855              	.L45:
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 856              		.loc 1 343 23 discriminator 1
 857 0218 7B6A     		ldr	r3, [r7, #36]
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 858              		.loc 1 343 18 discriminator 1
 859 021a 3A69     		ldr	r2, [r7, #16]
 860 021c 9A42     		cmp	r2, r3
 861 021e B7D3     		bcc	.L49
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 862              		.loc 1 365 24
 863 0220 FB68     		ldr	r3, [r7, #12]
 864 0222 03F50063 		add	r3, r3, #2048
 865 0226 1B69     		ldr	r3, [r3, #16]
 866 0228 FA68     		ldr	r2, [r7, #12]
 867 022a 02F50062 		add	r2, r2, #2048
 868 022e 23F48073 		bic	r3, r3, #256
 869 0232 1361     		str	r3, [r2, #16]
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable all interrupts. */
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 870              		.loc 1 368 17
 871 0234 7B68     		ldr	r3, [r7, #4]
 872 0236 0022     		movs	r2, #0
 873 0238 9A61     		str	r2, [r3, #24]
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending interrupts */
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 874              		.loc 1 371 17
 875 023a 7B68     		ldr	r3, [r7, #4]
 876 023c 6FF08042 		mvn	r2, #1073741824
 877 0240 5A61     		str	r2, [r3, #20]
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the common interrupts */
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 878              		.loc 1 374 17
 879 0242 7B68     		ldr	r3, [r7, #4]
 880 0244 9B69     		ldr	r3, [r3, #24]
 881 0246 43F01002 		orr	r2, r3, #16
 882 024a 7B68     		ldr	r3, [r7, #4]
 883 024c 9A61     		str	r2, [r3, #24]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 23


 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 884              		.loc 1 377 17
 885 024e 7B68     		ldr	r3, [r7, #4]
 886 0250 9A69     		ldr	r2, [r3, #24]
 887 0252 104B     		ldr	r3, .L53
 888 0254 1343     		orrs	r3, r3, r2
 889 0256 7A68     		ldr	r2, [r7, #4]
 890 0258 9361     		str	r3, [r2, #24]
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 891              		.loc 1 382 10
 892 025a FB6B     		ldr	r3, [r7, #60]
 893              		.loc 1 382 6
 894 025c 002B     		cmp	r3, #0
 895 025e 05D0     		beq	.L50
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 896              		.loc 1 384 19
 897 0260 7B68     		ldr	r3, [r7, #4]
 898 0262 9B69     		ldr	r3, [r3, #24]
 899 0264 43F00802 		orr	r2, r3, #8
 900 0268 7B68     		ldr	r3, [r7, #4]
 901 026a 9A61     		str	r2, [r3, #24]
 902              	.L50:
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 903              		.loc 1 387 10
 904 026c FB6C     		ldr	r3, [r7, #76]
 905              		.loc 1 387 6
 906 026e 012B     		cmp	r3, #1
 907 0270 07D1     		bne	.L51
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 908              		.loc 1 389 19
 909 0272 7B68     		ldr	r3, [r7, #4]
 910 0274 9B69     		ldr	r3, [r3, #24]
 911 0276 43F08043 		orr	r3, r3, #1073741824
 912 027a 43F00403 		orr	r3, r3, #4
 913 027e 7A68     		ldr	r2, [r7, #4]
 914 0280 9361     		str	r3, [r2, #24]
 915              	.L51:
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 916              		.loc 1 392 10
 917 0282 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 918              		.loc 1 393 1
 919 0284 1846     		mov	r0, r3
 920 0286 1837     		adds	r7, r7, #24
 921              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 24


 922 0288 BD46     		mov	sp, r7
 923              		.cfi_def_cfa_register 13
 924              		@ sp needed
 925 028a BDE88040 		pop	{r7, lr}
 926              		.cfi_restore 14
 927              		.cfi_restore 7
 928              		.cfi_def_cfa_offset 16
 929 028e 04B0     		add	sp, sp, #16
 930              		.cfi_def_cfa_offset 0
 931 0290 7047     		bx	lr
 932              	.L54:
 933 0292 00BF     		.align	2
 934              	.L53:
 935 0294 00383C80 		.word	-2143537152
 936              		.cfi_endproc
 937              	.LFE326:
 939              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 940              		.align	1
 941              		.global	USB_FlushTxFifo
 942              		.syntax unified
 943              		.thumb
 944              		.thumb_func
 946              	USB_FlushTxFifo:
 947              	.LFB327:
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  num  FIFO number
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 948              		.loc 1 404 1
 949              		.cfi_startproc
 950              		@ args = 0, pretend = 0, frame = 16
 951              		@ frame_needed = 1, uses_anonymous_args = 0
 952              		@ link register save eliminated.
 953 0000 80B4     		push	{r7}
 954              		.cfi_def_cfa_offset 4
 955              		.cfi_offset 7, -4
 956 0002 85B0     		sub	sp, sp, #20
 957              		.cfi_def_cfa_offset 24
 958 0004 00AF     		add	r7, sp, #0
 959              		.cfi_def_cfa_register 7
 960 0006 7860     		str	r0, [r7, #4]
 961 0008 3960     		str	r1, [r7]
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 962              		.loc 1 405 17
 963 000a 0023     		movs	r3, #0
 964 000c FB60     		str	r3, [r7, #12]
 965              	.L58:
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 25


 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 966              		.loc 1 410 10
 967 000e FB68     		ldr	r3, [r7, #12]
 968 0010 0133     		adds	r3, r3, #1
 969 0012 FB60     		str	r3, [r7, #12]
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 970              		.loc 1 412 15
 971 0014 FB68     		ldr	r3, [r7, #12]
 972              		.loc 1 412 8
 973 0016 134A     		ldr	r2, .L61
 974 0018 9342     		cmp	r3, r2
 975 001a 01D9     		bls	.L56
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 976              		.loc 1 414 14
 977 001c 0323     		movs	r3, #3
 978 001e 1BE0     		b	.L57
 979              	.L56:
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 980              		.loc 1 416 17
 981 0020 7B68     		ldr	r3, [r7, #4]
 982 0022 1B69     		ldr	r3, [r3, #16]
 983              		.loc 1 416 53
 984 0024 002B     		cmp	r3, #0
 985 0026 F2DA     		bge	.L58
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush TX Fifo */
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 986              		.loc 1 419 9
 987 0028 0023     		movs	r3, #0
 988 002a FB60     		str	r3, [r7, #12]
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 989              		.loc 1 420 51
 990 002c 3B68     		ldr	r3, [r7]
 991 002e 9B01     		lsls	r3, r3, #6
 992              		.loc 1 420 44
 993 0030 43F02002 		orr	r2, r3, #32
 994              		.loc 1 420 17
 995 0034 7B68     		ldr	r3, [r7, #4]
 996 0036 1A61     		str	r2, [r3, #16]
 997              	.L60:
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 998              		.loc 1 424 10
 999 0038 FB68     		ldr	r3, [r7, #12]
 1000 003a 0133     		adds	r3, r3, #1
 1001 003c FB60     		str	r3, [r7, #12]
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 1002              		.loc 1 426 15
 1003 003e FB68     		ldr	r3, [r7, #12]
 1004              		.loc 1 426 8
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 26


 1005 0040 084A     		ldr	r2, .L61
 1006 0042 9342     		cmp	r3, r2
 1007 0044 01D9     		bls	.L59
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1008              		.loc 1 428 14
 1009 0046 0323     		movs	r3, #3
 1010 0048 06E0     		b	.L57
 1011              	.L59:
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1012              		.loc 1 430 17
 1013 004a 7B68     		ldr	r3, [r7, #4]
 1014 004c 1B69     		ldr	r3, [r3, #16]
 1015              		.loc 1 430 27
 1016 004e 03F02003 		and	r3, r3, #32
 1017              		.loc 1 430 54
 1018 0052 202B     		cmp	r3, #32
 1019 0054 F0D0     		beq	.L60
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1020              		.loc 1 432 10
 1021 0056 0023     		movs	r3, #0
 1022              	.L57:
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1023              		.loc 1 433 1
 1024 0058 1846     		mov	r0, r3
 1025 005a 1437     		adds	r7, r7, #20
 1026              		.cfi_def_cfa_offset 4
 1027 005c BD46     		mov	sp, r7
 1028              		.cfi_def_cfa_register 13
 1029              		@ sp needed
 1030 005e 5DF8047B 		ldr	r7, [sp], #4
 1031              		.cfi_restore 7
 1032              		.cfi_def_cfa_offset 0
 1033 0062 7047     		bx	lr
 1034              	.L62:
 1035              		.align	2
 1036              	.L61:
 1037 0064 400D0300 		.word	200000
 1038              		.cfi_endproc
 1039              	.LFE327:
 1041              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1042              		.align	1
 1043              		.global	USB_FlushRxFifo
 1044              		.syntax unified
 1045              		.thumb
 1046              		.thumb_func
 1048              	USB_FlushRxFifo:
 1049              	.LFB328:
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 27


 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1050              		.loc 1 441 1
 1051              		.cfi_startproc
 1052              		@ args = 0, pretend = 0, frame = 16
 1053              		@ frame_needed = 1, uses_anonymous_args = 0
 1054              		@ link register save eliminated.
 1055 0000 80B4     		push	{r7}
 1056              		.cfi_def_cfa_offset 4
 1057              		.cfi_offset 7, -4
 1058 0002 85B0     		sub	sp, sp, #20
 1059              		.cfi_def_cfa_offset 24
 1060 0004 00AF     		add	r7, sp, #0
 1061              		.cfi_def_cfa_register 7
 1062 0006 7860     		str	r0, [r7, #4]
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1063              		.loc 1 442 17
 1064 0008 0023     		movs	r3, #0
 1065 000a FB60     		str	r3, [r7, #12]
 1066              	.L66:
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 1067              		.loc 1 447 10
 1068 000c FB68     		ldr	r3, [r7, #12]
 1069 000e 0133     		adds	r3, r3, #1
 1070 0010 FB60     		str	r3, [r7, #12]
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 1071              		.loc 1 449 15
 1072 0012 FB68     		ldr	r3, [r7, #12]
 1073              		.loc 1 449 8
 1074 0014 114A     		ldr	r2, .L69
 1075 0016 9342     		cmp	r3, r2
 1076 0018 01D9     		bls	.L64
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1077              		.loc 1 451 14
 1078 001a 0323     		movs	r3, #3
 1079 001c 18E0     		b	.L65
 1080              	.L64:
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1081              		.loc 1 453 17
 1082 001e 7B68     		ldr	r3, [r7, #4]
 1083 0020 1B69     		ldr	r3, [r3, #16]
 1084              		.loc 1 453 53
 1085 0022 002B     		cmp	r3, #0
 1086 0024 F2DA     		bge	.L66
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush RX Fifo */
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 1087              		.loc 1 456 9
 1088 0026 0023     		movs	r3, #0
 1089 0028 FB60     		str	r3, [r7, #12]
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 28


 1090              		.loc 1 457 17
 1091 002a 7B68     		ldr	r3, [r7, #4]
 1092 002c 1022     		movs	r2, #16
 1093 002e 1A61     		str	r2, [r3, #16]
 1094              	.L68:
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 1095              		.loc 1 461 10
 1096 0030 FB68     		ldr	r3, [r7, #12]
 1097 0032 0133     		adds	r3, r3, #1
 1098 0034 FB60     		str	r3, [r7, #12]
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 1099              		.loc 1 463 15
 1100 0036 FB68     		ldr	r3, [r7, #12]
 1101              		.loc 1 463 8
 1102 0038 084A     		ldr	r2, .L69
 1103 003a 9342     		cmp	r3, r2
 1104 003c 01D9     		bls	.L67
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1105              		.loc 1 465 14
 1106 003e 0323     		movs	r3, #3
 1107 0040 06E0     		b	.L65
 1108              	.L67:
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1109              		.loc 1 467 17
 1110 0042 7B68     		ldr	r3, [r7, #4]
 1111 0044 1B69     		ldr	r3, [r3, #16]
 1112              		.loc 1 467 27
 1113 0046 03F01003 		and	r3, r3, #16
 1114              		.loc 1 467 54
 1115 004a 102B     		cmp	r3, #16
 1116 004c F0D0     		beq	.L68
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1117              		.loc 1 469 10
 1118 004e 0023     		movs	r3, #0
 1119              	.L65:
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1120              		.loc 1 470 1
 1121 0050 1846     		mov	r0, r3
 1122 0052 1437     		adds	r7, r7, #20
 1123              		.cfi_def_cfa_offset 4
 1124 0054 BD46     		mov	sp, r7
 1125              		.cfi_def_cfa_register 13
 1126              		@ sp needed
 1127 0056 5DF8047B 		ldr	r7, [sp], #4
 1128              		.cfi_restore 7
 1129              		.cfi_def_cfa_offset 0
 1130 005a 7047     		bx	lr
 1131              	.L70:
 1132              		.align	2
 1133              	.L69:
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 29


 1134 005c 400D0300 		.word	200000
 1135              		.cfi_endproc
 1136              	.LFE328:
 1138              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1139              		.align	1
 1140              		.global	USB_SetDevSpeed
 1141              		.syntax unified
 1142              		.thumb
 1143              		.thumb_func
 1145              	USB_SetDevSpeed:
 1146              	.LFB329:
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  speed  device speed
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval  Hal status
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1147              		.loc 1 482 1
 1148              		.cfi_startproc
 1149              		@ args = 0, pretend = 0, frame = 16
 1150              		@ frame_needed = 1, uses_anonymous_args = 0
 1151              		@ link register save eliminated.
 1152 0000 80B4     		push	{r7}
 1153              		.cfi_def_cfa_offset 4
 1154              		.cfi_offset 7, -4
 1155 0002 85B0     		sub	sp, sp, #20
 1156              		.cfi_def_cfa_offset 24
 1157 0004 00AF     		add	r7, sp, #0
 1158              		.cfi_def_cfa_register 7
 1159 0006 7860     		str	r0, [r7, #4]
 1160 0008 0B46     		mov	r3, r1
 1161 000a FB70     		strb	r3, [r7, #3]
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1162              		.loc 1 483 12
 1163 000c 7B68     		ldr	r3, [r7, #4]
 1164 000e FB60     		str	r3, [r7, #12]
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1165              		.loc 1 485 21
 1166 0010 FB68     		ldr	r3, [r7, #12]
 1167 0012 03F50063 		add	r3, r3, #2048
 1168 0016 1A68     		ldr	r2, [r3]
 1169 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1170 001a F968     		ldr	r1, [r7, #12]
 1171 001c 01F50061 		add	r1, r1, #2048
 1172 0020 1343     		orrs	r3, r3, r2
 1173 0022 0B60     		str	r3, [r1]
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1174              		.loc 1 486 10
 1175 0024 0023     		movs	r3, #0
 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 30


 1176              		.loc 1 487 1
 1177 0026 1846     		mov	r0, r3
 1178 0028 1437     		adds	r7, r7, #20
 1179              		.cfi_def_cfa_offset 4
 1180 002a BD46     		mov	sp, r7
 1181              		.cfi_def_cfa_register 13
 1182              		@ sp needed
 1183 002c 5DF8047B 		ldr	r7, [sp], #4
 1184              		.cfi_restore 7
 1185              		.cfi_def_cfa_offset 0
 1186 0030 7047     		bx	lr
 1187              		.cfi_endproc
 1188              	.LFE329:
 1190              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1191              		.align	1
 1192              		.global	USB_GetDevSpeed
 1193              		.syntax unified
 1194              		.thumb
 1195              		.thumb_func
 1197              	USB_GetDevSpeed:
 1198              	.LFB330:
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval speed  device speed
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1199              		.loc 1 497 1
 1200              		.cfi_startproc
 1201              		@ args = 0, pretend = 0, frame = 24
 1202              		@ frame_needed = 1, uses_anonymous_args = 0
 1203              		@ link register save eliminated.
 1204 0000 80B4     		push	{r7}
 1205              		.cfi_def_cfa_offset 4
 1206              		.cfi_offset 7, -4
 1207 0002 87B0     		sub	sp, sp, #28
 1208              		.cfi_def_cfa_offset 32
 1209 0004 00AF     		add	r7, sp, #0
 1210              		.cfi_def_cfa_register 7
 1211 0006 7860     		str	r0, [r7, #4]
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1212              		.loc 1 498 12
 1213 0008 7B68     		ldr	r3, [r7, #4]
 1214 000a 3B61     		str	r3, [r7, #16]
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t speed;
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1215              		.loc 1 500 27
 1216 000c 3B69     		ldr	r3, [r7, #16]
 1217 000e 03F50063 		add	r3, r3, #2048
 1218              		.loc 1 500 38
 1219 0012 9B68     		ldr	r3, [r3, #8]
 1220              		.loc 1 500 12
 1221 0014 03F00603 		and	r3, r3, #6
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 31


 1222 0018 FB60     		str	r3, [r7, #12]
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1223              		.loc 1 502 6
 1224 001a FB68     		ldr	r3, [r7, #12]
 1225 001c 022B     		cmp	r3, #2
 1226 001e 02D0     		beq	.L74
 1227              		.loc 1 502 60 discriminator 1
 1228 0020 FB68     		ldr	r3, [r7, #12]
 1229 0022 062B     		cmp	r3, #6
 1230 0024 02D1     		bne	.L75
 1231              	.L74:
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1232              		.loc 1 505 11
 1233 0026 0223     		movs	r3, #2
 1234 0028 FB75     		strb	r3, [r7, #23]
 1235 002a 01E0     		b	.L76
 1236              	.L75:
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     speed = 0xFU;
 1237              		.loc 1 509 11
 1238 002c 0F23     		movs	r3, #15
 1239 002e FB75     		strb	r3, [r7, #23]
 1240              	.L76:
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return speed;
 1241              		.loc 1 512 10
 1242 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1243              		.loc 1 513 1
 1244 0032 1846     		mov	r0, r3
 1245 0034 1C37     		adds	r7, r7, #28
 1246              		.cfi_def_cfa_offset 4
 1247 0036 BD46     		mov	sp, r7
 1248              		.cfi_def_cfa_register 13
 1249              		@ sp needed
 1250 0038 5DF8047B 		ldr	r7, [sp], #4
 1251              		.cfi_restore 7
 1252              		.cfi_def_cfa_offset 0
 1253 003c 7047     		bx	lr
 1254              		.cfi_endproc
 1255              	.LFE330:
 1257              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1258              		.align	1
 1259              		.global	USB_ActivateEndpoint
 1260              		.syntax unified
 1261              		.thumb
 1262              		.thumb_func
 1264              	USB_ActivateEndpoint:
 1265              	.LFB331:
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 32


 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1266              		.loc 1 522 1
 1267              		.cfi_startproc
 1268              		@ args = 0, pretend = 0, frame = 16
 1269              		@ frame_needed = 1, uses_anonymous_args = 0
 1270              		@ link register save eliminated.
 1271 0000 80B4     		push	{r7}
 1272              		.cfi_def_cfa_offset 4
 1273              		.cfi_offset 7, -4
 1274 0002 85B0     		sub	sp, sp, #20
 1275              		.cfi_def_cfa_offset 24
 1276 0004 00AF     		add	r7, sp, #0
 1277              		.cfi_def_cfa_register 7
 1278 0006 7860     		str	r0, [r7, #4]
 1279 0008 3960     		str	r1, [r7]
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1280              		.loc 1 523 12
 1281 000a 7B68     		ldr	r3, [r7, #4]
 1282 000c FB60     		str	r3, [r7, #12]
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1283              		.loc 1 524 32
 1284 000e 3B68     		ldr	r3, [r7]
 1285 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1286              		.loc 1 524 12
 1287 0012 BB60     		str	r3, [r7, #8]
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1288              		.loc 1 526 9
 1289 0014 3B68     		ldr	r3, [r7]
 1290 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1291              		.loc 1 526 6
 1292 0018 012B     		cmp	r3, #1
 1293 001a 3AD1     		bne	.L79
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1294              		.loc 1 528 27
 1295 001c FB68     		ldr	r3, [r7, #12]
 1296 001e 03F50063 		add	r3, r3, #2048
 1297 0022 DA69     		ldr	r2, [r3, #28]
 1298              		.loc 1 528 75
 1299 0024 3B68     		ldr	r3, [r7]
 1300 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1301              		.loc 1 528 81
 1302 0028 03F00F03 		and	r3, r3, #15
 1303              		.loc 1 528 54
 1304 002c 0121     		movs	r1, #1
 1305 002e 01FA03F3 		lsl	r3, r1, r3
 1306              		.loc 1 528 52
 1307 0032 9BB2     		uxth	r3, r3
 1308              		.loc 1 528 27
 1309 0034 F968     		ldr	r1, [r7, #12]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 33


 1310 0036 01F50061 		add	r1, r1, #2048
 1311 003a 1343     		orrs	r3, r3, r2
 1312 003c CB61     		str	r3, [r1, #28]
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1313              		.loc 1 530 10
 1314 003e BB68     		ldr	r3, [r7, #8]
 1315 0040 5A01     		lsls	r2, r3, #5
 1316 0042 FB68     		ldr	r3, [r7, #12]
 1317 0044 1344     		add	r3, r3, r2
 1318 0046 03F51063 		add	r3, r3, #2304
 1319              		.loc 1 530 26
 1320 004a 1B68     		ldr	r3, [r3]
 1321              		.loc 1 530 36
 1322 004c 03F40043 		and	r3, r3, #32768
 1323              		.loc 1 530 8
 1324 0050 002B     		cmp	r3, #0
 1325 0052 55D1     		bne	.L80
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1326              		.loc 1 532 33
 1327 0054 BB68     		ldr	r3, [r7, #8]
 1328 0056 5A01     		lsls	r2, r3, #5
 1329 0058 FB68     		ldr	r3, [r7, #12]
 1330 005a 1344     		add	r3, r3, r2
 1331 005c 03F51063 		add	r3, r3, #2304
 1332 0060 1A68     		ldr	r2, [r3]
 1333              		.loc 1 532 39
 1334 0062 3B68     		ldr	r3, [r7]
 1335 0064 DB68     		ldr	r3, [r3, #12]
 1336              		.loc 1 532 51
 1337 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1338              		.loc 1 533 49
 1339 006a 3B68     		ldr	r3, [r7]
 1340 006c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1341              		.loc 1 533 56
 1342 006e 9B04     		lsls	r3, r3, #18
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1343              		.loc 1 532 76
 1344 0070 1943     		orrs	r1, r1, r3
 1345              		.loc 1 533 72
 1346 0072 BB68     		ldr	r3, [r7, #8]
 1347 0074 9B05     		lsls	r3, r3, #22
 1348              		.loc 1 533 63
 1349 0076 0B43     		orrs	r3, r3, r1
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1350              		.loc 1 532 33
 1351 0078 1343     		orrs	r3, r3, r2
 1352 007a BA68     		ldr	r2, [r7, #8]
 1353 007c 5101     		lsls	r1, r2, #5
 1354 007e FA68     		ldr	r2, [r7, #12]
 1355 0080 0A44     		add	r2, r2, r1
 1356 0082 02F51062 		add	r2, r2, #2304
 1357 0086 43F08053 		orr	r3, r3, #268435456
 1358 008a 43F40043 		orr	r3, r3, #32768
 1359 008e 1360     		str	r3, [r2]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 34


 1360 0090 36E0     		b	.L80
 1361              	.L79:
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1362              		.loc 1 540 27
 1363 0092 FB68     		ldr	r3, [r7, #12]
 1364 0094 03F50063 		add	r3, r3, #2048
 1365 0098 DA69     		ldr	r2, [r3, #28]
 1366              		.loc 1 540 76
 1367 009a 3B68     		ldr	r3, [r7]
 1368 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1369              		.loc 1 540 82
 1370 009e 03F00F03 		and	r3, r3, #15
 1371              		.loc 1 540 55
 1372 00a2 0121     		movs	r1, #1
 1373 00a4 01FA03F3 		lsl	r3, r1, r3
 1374              		.loc 1 540 52
 1375 00a8 1B04     		lsls	r3, r3, #16
 1376              		.loc 1 540 27
 1377 00aa F968     		ldr	r1, [r7, #12]
 1378 00ac 01F50061 		add	r1, r1, #2048
 1379 00b0 1343     		orrs	r3, r3, r2
 1380 00b2 CB61     		str	r3, [r1, #28]
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1381              		.loc 1 542 11
 1382 00b4 BB68     		ldr	r3, [r7, #8]
 1383 00b6 5A01     		lsls	r2, r3, #5
 1384 00b8 FB68     		ldr	r3, [r7, #12]
 1385 00ba 1344     		add	r3, r3, r2
 1386 00bc 03F53063 		add	r3, r3, #2816
 1387              		.loc 1 542 28
 1388 00c0 1B68     		ldr	r3, [r3]
 1389              		.loc 1 542 39
 1390 00c2 03F40043 		and	r3, r3, #32768
 1391              		.loc 1 542 8
 1392 00c6 002B     		cmp	r3, #0
 1393 00c8 1AD1     		bne	.L80
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1394              		.loc 1 544 34
 1395 00ca BB68     		ldr	r3, [r7, #8]
 1396 00cc 5A01     		lsls	r2, r3, #5
 1397 00ce FB68     		ldr	r3, [r7, #12]
 1398 00d0 1344     		add	r3, r3, r2
 1399 00d2 03F53063 		add	r3, r3, #2816
 1400 00d6 1A68     		ldr	r2, [r3]
 1401              		.loc 1 544 40
 1402 00d8 3B68     		ldr	r3, [r7]
 1403 00da DB68     		ldr	r3, [r3, #12]
 1404              		.loc 1 544 52
 1405 00dc C3F30A01 		ubfx	r1, r3, #0, #11
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 35


 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1406              		.loc 1 545 50
 1407 00e0 3B68     		ldr	r3, [r7]
 1408 00e2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1409              		.loc 1 545 57
 1410 00e4 9B04     		lsls	r3, r3, #18
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1411              		.loc 1 544 77
 1412 00e6 0B43     		orrs	r3, r3, r1
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1413              		.loc 1 544 34
 1414 00e8 1343     		orrs	r3, r3, r2
 1415 00ea BA68     		ldr	r2, [r7, #8]
 1416 00ec 5101     		lsls	r1, r2, #5
 1417 00ee FA68     		ldr	r2, [r7, #12]
 1418 00f0 0A44     		add	r2, r2, r1
 1419 00f2 02F53062 		add	r2, r2, #2816
 1420 00f6 43F08053 		orr	r3, r3, #268435456
 1421 00fa 43F40043 		orr	r3, r3, #32768
 1422 00fe 1360     		str	r3, [r2]
 1423              	.L80:
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1424              		.loc 1 550 10
 1425 0100 0023     		movs	r3, #0
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1426              		.loc 1 551 1
 1427 0102 1846     		mov	r0, r3
 1428 0104 1437     		adds	r7, r7, #20
 1429              		.cfi_def_cfa_offset 4
 1430 0106 BD46     		mov	sp, r7
 1431              		.cfi_def_cfa_register 13
 1432              		@ sp needed
 1433 0108 5DF8047B 		ldr	r7, [sp], #4
 1434              		.cfi_restore 7
 1435              		.cfi_def_cfa_offset 0
 1436 010c 7047     		bx	lr
 1437              		.cfi_endproc
 1438              	.LFE331:
 1440              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1441              		.align	1
 1442              		.global	USB_ActivateDedicatedEndpoint
 1443              		.syntax unified
 1444              		.thumb
 1445              		.thumb_func
 1447              	USB_ActivateDedicatedEndpoint:
 1448              	.LFB332:
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 36


 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1449              		.loc 1 560 1
 1450              		.cfi_startproc
 1451              		@ args = 0, pretend = 0, frame = 16
 1452              		@ frame_needed = 1, uses_anonymous_args = 0
 1453              		@ link register save eliminated.
 1454 0000 80B4     		push	{r7}
 1455              		.cfi_def_cfa_offset 4
 1456              		.cfi_offset 7, -4
 1457 0002 85B0     		sub	sp, sp, #20
 1458              		.cfi_def_cfa_offset 24
 1459 0004 00AF     		add	r7, sp, #0
 1460              		.cfi_def_cfa_register 7
 1461 0006 7860     		str	r0, [r7, #4]
 1462 0008 3960     		str	r1, [r7]
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1463              		.loc 1 561 12
 1464 000a 7B68     		ldr	r3, [r7, #4]
 1465 000c FB60     		str	r3, [r7, #12]
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1466              		.loc 1 562 32
 1467 000e 3B68     		ldr	r3, [r7]
 1468 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1469              		.loc 1 562 12
 1470 0012 BB60     		str	r3, [r7, #8]
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1471              		.loc 1 565 9
 1472 0014 3B68     		ldr	r3, [r7]
 1473 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1474              		.loc 1 565 6
 1475 0018 012B     		cmp	r3, #1
 1476 001a 3AD1     		bne	.L83
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1477              		.loc 1 567 11
 1478 001c BB68     		ldr	r3, [r7, #8]
 1479 001e 5A01     		lsls	r2, r3, #5
 1480 0020 FB68     		ldr	r3, [r7, #12]
 1481 0022 1344     		add	r3, r3, r2
 1482 0024 03F51063 		add	r3, r3, #2304
 1483              		.loc 1 567 27
 1484 0028 1B68     		ldr	r3, [r3]
 1485              		.loc 1 567 38
 1486 002a 03F40043 		and	r3, r3, #32768
 1487              		.loc 1 567 8
 1488 002e 002B     		cmp	r3, #0
 1489 0030 1DD1     		bne	.L84
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1490              		.loc 1 569 33
 1491 0032 BB68     		ldr	r3, [r7, #8]
 1492 0034 5A01     		lsls	r2, r3, #5
 1493 0036 FB68     		ldr	r3, [r7, #12]
 1494 0038 1344     		add	r3, r3, r2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 37


 1495 003a 03F51063 		add	r3, r3, #2304
 1496 003e 1A68     		ldr	r2, [r3]
 1497              		.loc 1 569 39
 1498 0040 3B68     		ldr	r3, [r7]
 1499 0042 DB68     		ldr	r3, [r3, #12]
 1500              		.loc 1 569 51
 1501 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1502              		.loc 1 570 49
 1503 0048 3B68     		ldr	r3, [r7]
 1504 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1505              		.loc 1 570 56
 1506 004c 9B04     		lsls	r3, r3, #18
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1507              		.loc 1 569 76
 1508 004e 1943     		orrs	r1, r1, r3
 1509              		.loc 1 570 72
 1510 0050 BB68     		ldr	r3, [r7, #8]
 1511 0052 9B05     		lsls	r3, r3, #22
 1512              		.loc 1 570 63
 1513 0054 0B43     		orrs	r3, r3, r1
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1514              		.loc 1 569 33
 1515 0056 1343     		orrs	r3, r3, r2
 1516 0058 BA68     		ldr	r2, [r7, #8]
 1517 005a 5101     		lsls	r1, r2, #5
 1518 005c FA68     		ldr	r2, [r7, #12]
 1519 005e 0A44     		add	r2, r2, r1
 1520 0060 02F51062 		add	r2, r2, #2304
 1521 0064 43F08053 		orr	r3, r3, #268435456
 1522 0068 43F40043 		orr	r3, r3, #32768
 1523 006c 1360     		str	r3, [r2]
 1524              	.L84:
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1525              		.loc 1 575 27
 1526 006e FB68     		ldr	r3, [r7, #12]
 1527 0070 03F50063 		add	r3, r3, #2048
 1528 0074 DA6B     		ldr	r2, [r3, #60]
 1529              		.loc 1 575 75
 1530 0076 3B68     		ldr	r3, [r7]
 1531 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1532              		.loc 1 575 81
 1533 007a 03F00F03 		and	r3, r3, #15
 1534              		.loc 1 575 54
 1535 007e 0121     		movs	r1, #1
 1536 0080 01FA03F3 		lsl	r3, r1, r3
 1537              		.loc 1 575 52
 1538 0084 9BB2     		uxth	r3, r3
 1539              		.loc 1 575 27
 1540 0086 F968     		ldr	r1, [r7, #12]
 1541 0088 01F50061 		add	r1, r1, #2048
 1542 008c 1343     		orrs	r3, r3, r2
 1543 008e CB63     		str	r3, [r1, #60]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 38


 1544 0090 37E0     		b	.L85
 1545              	.L83:
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1546              		.loc 1 579 11
 1547 0092 BB68     		ldr	r3, [r7, #8]
 1548 0094 5A01     		lsls	r2, r3, #5
 1549 0096 FB68     		ldr	r3, [r7, #12]
 1550 0098 1344     		add	r3, r3, r2
 1551 009a 03F53063 		add	r3, r3, #2816
 1552              		.loc 1 579 28
 1553 009e 1B68     		ldr	r3, [r3]
 1554              		.loc 1 579 39
 1555 00a0 03F40043 		and	r3, r3, #32768
 1556              		.loc 1 579 8
 1557 00a4 002B     		cmp	r3, #0
 1558 00a6 1BD1     		bne	.L86
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1559              		.loc 1 581 34
 1560 00a8 BB68     		ldr	r3, [r7, #8]
 1561 00aa 5A01     		lsls	r2, r3, #5
 1562 00ac FB68     		ldr	r3, [r7, #12]
 1563 00ae 1344     		add	r3, r3, r2
 1564 00b0 03F53063 		add	r3, r3, #2816
 1565 00b4 1A68     		ldr	r2, [r3]
 1566              		.loc 1 581 40
 1567 00b6 3B68     		ldr	r3, [r7]
 1568 00b8 DB68     		ldr	r3, [r3, #12]
 1569              		.loc 1 581 52
 1570 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1571              		.loc 1 582 50
 1572 00be 3B68     		ldr	r3, [r7]
 1573 00c0 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1574              		.loc 1 582 57
 1575 00c2 9B04     		lsls	r3, r3, #18
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1576              		.loc 1 581 77
 1577 00c4 1943     		orrs	r1, r1, r3
 1578              		.loc 1 582 73
 1579 00c6 BB68     		ldr	r3, [r7, #8]
 1580 00c8 9B05     		lsls	r3, r3, #22
 1581              		.loc 1 582 64
 1582 00ca 0B43     		orrs	r3, r3, r1
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1583              		.loc 1 581 34
 1584 00cc 1343     		orrs	r3, r3, r2
 1585 00ce BA68     		ldr	r2, [r7, #8]
 1586 00d0 5101     		lsls	r1, r2, #5
 1587 00d2 FA68     		ldr	r2, [r7, #12]
 1588 00d4 0A44     		add	r2, r2, r1
 1589 00d6 02F53062 		add	r2, r2, #2816
 1590 00da 43F40043 		orr	r3, r3, #32768
 1591 00de 1360     		str	r3, [r2]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 39


 1592              	.L86:
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1593              		.loc 1 586 27
 1594 00e0 FB68     		ldr	r3, [r7, #12]
 1595 00e2 03F50063 		add	r3, r3, #2048
 1596 00e6 DA6B     		ldr	r2, [r3, #60]
 1597              		.loc 1 586 76
 1598 00e8 3B68     		ldr	r3, [r7]
 1599 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1600              		.loc 1 586 82
 1601 00ec 03F00F03 		and	r3, r3, #15
 1602              		.loc 1 586 55
 1603 00f0 0121     		movs	r1, #1
 1604 00f2 01FA03F3 		lsl	r3, r1, r3
 1605              		.loc 1 586 52
 1606 00f6 1B04     		lsls	r3, r3, #16
 1607              		.loc 1 586 27
 1608 00f8 F968     		ldr	r1, [r7, #12]
 1609 00fa 01F50061 		add	r1, r1, #2048
 1610 00fe 1343     		orrs	r3, r3, r2
 1611 0100 CB63     		str	r3, [r1, #60]
 1612              	.L85:
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1613              		.loc 1 589 10
 1614 0102 0023     		movs	r3, #0
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1615              		.loc 1 590 1
 1616 0104 1846     		mov	r0, r3
 1617 0106 1437     		adds	r7, r7, #20
 1618              		.cfi_def_cfa_offset 4
 1619 0108 BD46     		mov	sp, r7
 1620              		.cfi_def_cfa_register 13
 1621              		@ sp needed
 1622 010a 5DF8047B 		ldr	r7, [sp], #4
 1623              		.cfi_restore 7
 1624              		.cfi_def_cfa_offset 0
 1625 010e 7047     		bx	lr
 1626              		.cfi_endproc
 1627              	.LFE332:
 1629              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1630              		.align	1
 1631              		.global	USB_DeactivateEndpoint
 1632              		.syntax unified
 1633              		.thumb
 1634              		.thumb_func
 1636              	USB_DeactivateEndpoint:
 1637              	.LFB333:
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 40


 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1638              		.loc 1 599 1
 1639              		.cfi_startproc
 1640              		@ args = 0, pretend = 0, frame = 16
 1641              		@ frame_needed = 1, uses_anonymous_args = 0
 1642              		@ link register save eliminated.
 1643 0000 80B4     		push	{r7}
 1644              		.cfi_def_cfa_offset 4
 1645              		.cfi_offset 7, -4
 1646 0002 85B0     		sub	sp, sp, #20
 1647              		.cfi_def_cfa_offset 24
 1648 0004 00AF     		add	r7, sp, #0
 1649              		.cfi_def_cfa_register 7
 1650 0006 7860     		str	r0, [r7, #4]
 1651 0008 3960     		str	r1, [r7]
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1652              		.loc 1 600 12
 1653 000a 7B68     		ldr	r3, [r7, #4]
 1654 000c FB60     		str	r3, [r7, #12]
 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1655              		.loc 1 601 32
 1656 000e 3B68     		ldr	r3, [r7]
 1657 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1658              		.loc 1 601 12
 1659 0012 BB60     		str	r3, [r7, #8]
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1660              		.loc 1 604 9
 1661 0014 3B68     		ldr	r3, [r7]
 1662 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1663              		.loc 1 604 6
 1664 0018 012B     		cmp	r3, #1
 1665 001a 61D1     		bne	.L89
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1666              		.loc 1 606 10
 1667 001c BB68     		ldr	r3, [r7, #8]
 1668 001e 5A01     		lsls	r2, r3, #5
 1669 0020 FB68     		ldr	r3, [r7, #12]
 1670 0022 1344     		add	r3, r3, r2
 1671 0024 03F51063 		add	r3, r3, #2304
 1672              		.loc 1 606 26
 1673 0028 1B68     		ldr	r3, [r3]
 1674              		.loc 1 606 36
 1675 002a 03F00043 		and	r3, r3, #-2147483648
 1676              		.loc 1 606 8
 1677 002e B3F1004F 		cmp	r3, #-2147483648
 1678 0032 1FD1     		bne	.L90
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1679              		.loc 1 608 33
 1680 0034 BB68     		ldr	r3, [r7, #8]
 1681 0036 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 41


 1682 0038 FB68     		ldr	r3, [r7, #12]
 1683 003a 1344     		add	r3, r3, r2
 1684 003c 03F51063 		add	r3, r3, #2304
 1685 0040 1B68     		ldr	r3, [r3]
 1686 0042 BA68     		ldr	r2, [r7, #8]
 1687 0044 5101     		lsls	r1, r2, #5
 1688 0046 FA68     		ldr	r2, [r7, #12]
 1689 0048 0A44     		add	r2, r2, r1
 1690 004a 02F51062 		add	r2, r2, #2304
 1691 004e 43F00063 		orr	r3, r3, #134217728
 1692 0052 1360     		str	r3, [r2]
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1693              		.loc 1 609 33
 1694 0054 BB68     		ldr	r3, [r7, #8]
 1695 0056 5A01     		lsls	r2, r3, #5
 1696 0058 FB68     		ldr	r3, [r7, #12]
 1697 005a 1344     		add	r3, r3, r2
 1698 005c 03F51063 		add	r3, r3, #2304
 1699 0060 1B68     		ldr	r3, [r3]
 1700 0062 BA68     		ldr	r2, [r7, #8]
 1701 0064 5101     		lsls	r1, r2, #5
 1702 0066 FA68     		ldr	r2, [r7, #12]
 1703 0068 0A44     		add	r2, r2, r1
 1704 006a 02F51062 		add	r2, r2, #2304
 1705 006e 43F08043 		orr	r3, r3, #1073741824
 1706 0072 1360     		str	r3, [r2]
 1707              	.L90:
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1708              		.loc 1 612 27
 1709 0074 FB68     		ldr	r3, [r7, #12]
 1710 0076 03F50063 		add	r3, r3, #2048
 1711 007a DA6B     		ldr	r2, [r3, #60]
 1712              		.loc 1 612 77
 1713 007c 3B68     		ldr	r3, [r7]
 1714 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1715              		.loc 1 612 83
 1716 0080 03F00F03 		and	r3, r3, #15
 1717              		.loc 1 612 56
 1718 0084 0121     		movs	r1, #1
 1719 0086 01FA03F3 		lsl	r3, r1, r3
 1720              		.loc 1 612 54
 1721 008a 9BB2     		uxth	r3, r3
 1722              		.loc 1 612 30
 1723 008c DB43     		mvns	r3, r3
 1724              		.loc 1 612 27
 1725 008e F968     		ldr	r1, [r7, #12]
 1726 0090 01F50061 		add	r1, r1, #2048
 1727 0094 1340     		ands	r3, r3, r2
 1728 0096 CB63     		str	r3, [r1, #60]
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1729              		.loc 1 613 27
 1730 0098 FB68     		ldr	r3, [r7, #12]
 1731 009a 03F50063 		add	r3, r3, #2048
 1732 009e DA69     		ldr	r2, [r3, #28]
 1733              		.loc 1 613 77
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 42


 1734 00a0 3B68     		ldr	r3, [r7]
 1735 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1736              		.loc 1 613 83
 1737 00a4 03F00F03 		and	r3, r3, #15
 1738              		.loc 1 613 56
 1739 00a8 0121     		movs	r1, #1
 1740 00aa 01FA03F3 		lsl	r3, r1, r3
 1741              		.loc 1 613 54
 1742 00ae 9BB2     		uxth	r3, r3
 1743              		.loc 1 613 30
 1744 00b0 DB43     		mvns	r3, r3
 1745              		.loc 1 613 27
 1746 00b2 F968     		ldr	r1, [r7, #12]
 1747 00b4 01F50061 		add	r1, r1, #2048
 1748 00b8 1340     		ands	r3, r3, r2
 1749 00ba CB61     		str	r3, [r1, #28]
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1750              		.loc 1 614 31
 1751 00bc BB68     		ldr	r3, [r7, #8]
 1752 00be 5A01     		lsls	r2, r3, #5
 1753 00c0 FB68     		ldr	r3, [r7, #12]
 1754 00c2 1344     		add	r3, r3, r2
 1755 00c4 03F51063 		add	r3, r3, #2304
 1756 00c8 1A68     		ldr	r2, [r3]
 1757 00ca BB68     		ldr	r3, [r7, #8]
 1758 00cc 5901     		lsls	r1, r3, #5
 1759 00ce FB68     		ldr	r3, [r7, #12]
 1760 00d0 0B44     		add	r3, r3, r1
 1761 00d2 03F51063 		add	r3, r3, #2304
 1762 00d6 1946     		mov	r1, r3
 1763 00d8 354B     		ldr	r3, .L94
 1764 00da 1340     		ands	r3, r3, r2
 1765 00dc 0B60     		str	r3, [r1]
 1766 00de 60E0     		b	.L91
 1767              	.L89:
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 1768              		.loc 1 622 10
 1769 00e0 BB68     		ldr	r3, [r7, #8]
 1770 00e2 5A01     		lsls	r2, r3, #5
 1771 00e4 FB68     		ldr	r3, [r7, #12]
 1772 00e6 1344     		add	r3, r3, r2
 1773 00e8 03F53063 		add	r3, r3, #2816
 1774              		.loc 1 622 27
 1775 00ec 1B68     		ldr	r3, [r3]
 1776              		.loc 1 622 37
 1777 00ee 03F00043 		and	r3, r3, #-2147483648
 1778              		.loc 1 622 8
 1779 00f2 B3F1004F 		cmp	r3, #-2147483648
 1780 00f6 1FD1     		bne	.L92
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 43


 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1781              		.loc 1 624 34
 1782 00f8 BB68     		ldr	r3, [r7, #8]
 1783 00fa 5A01     		lsls	r2, r3, #5
 1784 00fc FB68     		ldr	r3, [r7, #12]
 1785 00fe 1344     		add	r3, r3, r2
 1786 0100 03F53063 		add	r3, r3, #2816
 1787 0104 1B68     		ldr	r3, [r3]
 1788 0106 BA68     		ldr	r2, [r7, #8]
 1789 0108 5101     		lsls	r1, r2, #5
 1790 010a FA68     		ldr	r2, [r7, #12]
 1791 010c 0A44     		add	r2, r2, r1
 1792 010e 02F53062 		add	r2, r2, #2816
 1793 0112 43F00063 		orr	r3, r3, #134217728
 1794 0116 1360     		str	r3, [r2]
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 1795              		.loc 1 625 34
 1796 0118 BB68     		ldr	r3, [r7, #8]
 1797 011a 5A01     		lsls	r2, r3, #5
 1798 011c FB68     		ldr	r3, [r7, #12]
 1799 011e 1344     		add	r3, r3, r2
 1800 0120 03F53063 		add	r3, r3, #2816
 1801 0124 1B68     		ldr	r3, [r3]
 1802 0126 BA68     		ldr	r2, [r7, #8]
 1803 0128 5101     		lsls	r1, r2, #5
 1804 012a FA68     		ldr	r2, [r7, #12]
 1805 012c 0A44     		add	r2, r2, r1
 1806 012e 02F53062 		add	r2, r2, #2816
 1807 0132 43F08043 		orr	r3, r3, #1073741824
 1808 0136 1360     		str	r3, [r2]
 1809              	.L92:
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1810              		.loc 1 628 27
 1811 0138 FB68     		ldr	r3, [r7, #12]
 1812 013a 03F50063 		add	r3, r3, #2048
 1813 013e DA6B     		ldr	r2, [r3, #60]
 1814              		.loc 1 628 78
 1815 0140 3B68     		ldr	r3, [r7]
 1816 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1817              		.loc 1 628 84
 1818 0144 03F00F03 		and	r3, r3, #15
 1819              		.loc 1 628 57
 1820 0148 0121     		movs	r1, #1
 1821 014a 01FA03F3 		lsl	r3, r1, r3
 1822              		.loc 1 628 54
 1823 014e 1B04     		lsls	r3, r3, #16
 1824              		.loc 1 628 30
 1825 0150 DB43     		mvns	r3, r3
 1826              		.loc 1 628 27
 1827 0152 F968     		ldr	r1, [r7, #12]
 1828 0154 01F50061 		add	r1, r1, #2048
 1829 0158 1340     		ands	r3, r3, r2
 1830 015a CB63     		str	r3, [r1, #60]
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1831              		.loc 1 629 27
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 44


 1832 015c FB68     		ldr	r3, [r7, #12]
 1833 015e 03F50063 		add	r3, r3, #2048
 1834 0162 DA69     		ldr	r2, [r3, #28]
 1835              		.loc 1 629 78
 1836 0164 3B68     		ldr	r3, [r7]
 1837 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1838              		.loc 1 629 84
 1839 0168 03F00F03 		and	r3, r3, #15
 1840              		.loc 1 629 57
 1841 016c 0121     		movs	r1, #1
 1842 016e 01FA03F3 		lsl	r3, r1, r3
 1843              		.loc 1 629 54
 1844 0172 1B04     		lsls	r3, r3, #16
 1845              		.loc 1 629 30
 1846 0174 DB43     		mvns	r3, r3
 1847              		.loc 1 629 27
 1848 0176 F968     		ldr	r1, [r7, #12]
 1849 0178 01F50061 		add	r1, r1, #2048
 1850 017c 1340     		ands	r3, r3, r2
 1851 017e CB61     		str	r3, [r1, #28]
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 1852              		.loc 1 630 32
 1853 0180 BB68     		ldr	r3, [r7, #8]
 1854 0182 5A01     		lsls	r2, r3, #5
 1855 0184 FB68     		ldr	r3, [r7, #12]
 1856 0186 1344     		add	r3, r3, r2
 1857 0188 03F53063 		add	r3, r3, #2816
 1858 018c 1A68     		ldr	r2, [r3]
 1859 018e BB68     		ldr	r3, [r7, #8]
 1860 0190 5901     		lsls	r1, r3, #5
 1861 0192 FB68     		ldr	r3, [r7, #12]
 1862 0194 0B44     		add	r3, r3, r1
 1863 0196 03F53063 		add	r3, r3, #2816
 1864 019a 1946     		mov	r1, r3
 1865 019c 054B     		ldr	r3, .L94+4
 1866 019e 1340     		ands	r3, r3, r2
 1867 01a0 0B60     		str	r3, [r1]
 1868              	.L91:
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1869              		.loc 1 636 10
 1870 01a2 0023     		movs	r3, #0
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1871              		.loc 1 637 1
 1872 01a4 1846     		mov	r0, r3
 1873 01a6 1437     		adds	r7, r7, #20
 1874              		.cfi_def_cfa_offset 4
 1875 01a8 BD46     		mov	sp, r7
 1876              		.cfi_def_cfa_register 13
 1877              		@ sp needed
 1878 01aa 5DF8047B 		ldr	r7, [sp], #4
 1879              		.cfi_restore 7
 1880              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 45


 1881 01ae 7047     		bx	lr
 1882              	.L95:
 1883              		.align	2
 1884              	.L94:
 1885 01b0 007833EC 		.word	-332171264
 1886 01b4 0078F3EF 		.word	-269256704
 1887              		.cfi_endproc
 1888              	.LFE333:
 1890              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 1891              		.align	1
 1892              		.global	USB_DeactivateDedicatedEndpoint
 1893              		.syntax unified
 1894              		.thumb
 1895              		.thumb_func
 1897              	USB_DeactivateDedicatedEndpoint:
 1898              	.LFB334:
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1899              		.loc 1 646 1
 1900              		.cfi_startproc
 1901              		@ args = 0, pretend = 0, frame = 16
 1902              		@ frame_needed = 1, uses_anonymous_args = 0
 1903              		@ link register save eliminated.
 1904 0000 80B4     		push	{r7}
 1905              		.cfi_def_cfa_offset 4
 1906              		.cfi_offset 7, -4
 1907 0002 85B0     		sub	sp, sp, #20
 1908              		.cfi_def_cfa_offset 24
 1909 0004 00AF     		add	r7, sp, #0
 1910              		.cfi_def_cfa_register 7
 1911 0006 7860     		str	r0, [r7, #4]
 1912 0008 3960     		str	r1, [r7]
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1913              		.loc 1 647 12
 1914 000a 7B68     		ldr	r3, [r7, #4]
 1915 000c FB60     		str	r3, [r7, #12]
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1916              		.loc 1 648 32
 1917 000e 3B68     		ldr	r3, [r7]
 1918 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1919              		.loc 1 648 12
 1920 0012 BB60     		str	r3, [r7, #8]
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1921              		.loc 1 651 9
 1922 0014 3B68     		ldr	r3, [r7]
 1923 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1924              		.loc 1 651 6
 1925 0018 012B     		cmp	r3, #1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 46


 1926 001a 4ED1     		bne	.L97
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1927              		.loc 1 653 10
 1928 001c BB68     		ldr	r3, [r7, #8]
 1929 001e 5A01     		lsls	r2, r3, #5
 1930 0020 FB68     		ldr	r3, [r7, #12]
 1931 0022 1344     		add	r3, r3, r2
 1932 0024 03F51063 		add	r3, r3, #2304
 1933              		.loc 1 653 26
 1934 0028 1B68     		ldr	r3, [r3]
 1935              		.loc 1 653 36
 1936 002a 03F00043 		and	r3, r3, #-2147483648
 1937              		.loc 1 653 8
 1938 002e B3F1004F 		cmp	r3, #-2147483648
 1939 0032 1FD1     		bne	.L98
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 1940              		.loc 1 655 34
 1941 0034 BB68     		ldr	r3, [r7, #8]
 1942 0036 5A01     		lsls	r2, r3, #5
 1943 0038 FB68     		ldr	r3, [r7, #12]
 1944 003a 1344     		add	r3, r3, r2
 1945 003c 03F51063 		add	r3, r3, #2304
 1946 0040 1B68     		ldr	r3, [r3]
 1947 0042 BA68     		ldr	r2, [r7, #8]
 1948 0044 5101     		lsls	r1, r2, #5
 1949 0046 FA68     		ldr	r2, [r7, #12]
 1950 0048 0A44     		add	r2, r2, r1
 1951 004a 02F51062 		add	r2, r2, #2304
 1952 004e 43F00063 		orr	r3, r3, #134217728
 1953 0052 1360     		str	r3, [r2]
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 1954              		.loc 1 656 34
 1955 0054 BB68     		ldr	r3, [r7, #8]
 1956 0056 5A01     		lsls	r2, r3, #5
 1957 0058 FB68     		ldr	r3, [r7, #12]
 1958 005a 1344     		add	r3, r3, r2
 1959 005c 03F51063 		add	r3, r3, #2304
 1960 0060 1B68     		ldr	r3, [r3]
 1961 0062 BA68     		ldr	r2, [r7, #8]
 1962 0064 5101     		lsls	r1, r2, #5
 1963 0066 FA68     		ldr	r2, [r7, #12]
 1964 0068 0A44     		add	r2, r2, r1
 1965 006a 02F51062 		add	r2, r2, #2304
 1966 006e 43F08043 		orr	r3, r3, #1073741824
 1967 0072 1360     		str	r3, [r2]
 1968              	.L98:
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 1969              		.loc 1 659 31
 1970 0074 BB68     		ldr	r3, [r7, #8]
 1971 0076 5A01     		lsls	r2, r3, #5
 1972 0078 FB68     		ldr	r3, [r7, #12]
 1973 007a 1344     		add	r3, r3, r2
 1974 007c 03F51063 		add	r3, r3, #2304
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 47


 1975 0080 1B68     		ldr	r3, [r3]
 1976 0082 BA68     		ldr	r2, [r7, #8]
 1977 0084 5101     		lsls	r1, r2, #5
 1978 0086 FA68     		ldr	r2, [r7, #12]
 1979 0088 0A44     		add	r2, r2, r1
 1980 008a 02F51062 		add	r2, r2, #2304
 1981 008e 23F40043 		bic	r3, r3, #32768
 1982 0092 1360     		str	r3, [r2]
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1983              		.loc 1 660 27
 1984 0094 FB68     		ldr	r3, [r7, #12]
 1985 0096 03F50063 		add	r3, r3, #2048
 1986 009a DA69     		ldr	r2, [r3, #28]
 1987              		.loc 1 660 77
 1988 009c 3B68     		ldr	r3, [r7]
 1989 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1990              		.loc 1 660 83
 1991 00a0 03F00F03 		and	r3, r3, #15
 1992              		.loc 1 660 56
 1993 00a4 0121     		movs	r1, #1
 1994 00a6 01FA03F3 		lsl	r3, r1, r3
 1995              		.loc 1 660 54
 1996 00aa 9BB2     		uxth	r3, r3
 1997              		.loc 1 660 30
 1998 00ac DB43     		mvns	r3, r3
 1999              		.loc 1 660 27
 2000 00ae F968     		ldr	r1, [r7, #12]
 2001 00b0 01F50061 		add	r1, r1, #2048
 2002 00b4 1340     		ands	r3, r3, r2
 2003 00b6 CB61     		str	r3, [r1, #28]
 2004 00b8 4DE0     		b	.L99
 2005              	.L97:
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2006              		.loc 1 664 10
 2007 00ba BB68     		ldr	r3, [r7, #8]
 2008 00bc 5A01     		lsls	r2, r3, #5
 2009 00be FB68     		ldr	r3, [r7, #12]
 2010 00c0 1344     		add	r3, r3, r2
 2011 00c2 03F53063 		add	r3, r3, #2816
 2012              		.loc 1 664 27
 2013 00c6 1B68     		ldr	r3, [r3]
 2014              		.loc 1 664 37
 2015 00c8 03F00043 		and	r3, r3, #-2147483648
 2016              		.loc 1 664 8
 2017 00cc B3F1004F 		cmp	r3, #-2147483648
 2018 00d0 1FD1     		bne	.L100
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2019              		.loc 1 666 35
 2020 00d2 BB68     		ldr	r3, [r7, #8]
 2021 00d4 5A01     		lsls	r2, r3, #5
 2022 00d6 FB68     		ldr	r3, [r7, #12]
 2023 00d8 1344     		add	r3, r3, r2
 2024 00da 03F53063 		add	r3, r3, #2816
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 48


 2025 00de 1B68     		ldr	r3, [r3]
 2026 00e0 BA68     		ldr	r2, [r7, #8]
 2027 00e2 5101     		lsls	r1, r2, #5
 2028 00e4 FA68     		ldr	r2, [r7, #12]
 2029 00e6 0A44     		add	r2, r2, r1
 2030 00e8 02F53062 		add	r2, r2, #2816
 2031 00ec 43F00063 		orr	r3, r3, #134217728
 2032 00f0 1360     		str	r3, [r2]
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2033              		.loc 1 667 35
 2034 00f2 BB68     		ldr	r3, [r7, #8]
 2035 00f4 5A01     		lsls	r2, r3, #5
 2036 00f6 FB68     		ldr	r3, [r7, #12]
 2037 00f8 1344     		add	r3, r3, r2
 2038 00fa 03F53063 		add	r3, r3, #2816
 2039 00fe 1B68     		ldr	r3, [r3]
 2040 0100 BA68     		ldr	r2, [r7, #8]
 2041 0102 5101     		lsls	r1, r2, #5
 2042 0104 FA68     		ldr	r2, [r7, #12]
 2043 0106 0A44     		add	r2, r2, r1
 2044 0108 02F53062 		add	r2, r2, #2816
 2045 010c 43F08043 		orr	r3, r3, #1073741824
 2046 0110 1360     		str	r3, [r2]
 2047              	.L100:
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2048              		.loc 1 670 32
 2049 0112 BB68     		ldr	r3, [r7, #8]
 2050 0114 5A01     		lsls	r2, r3, #5
 2051 0116 FB68     		ldr	r3, [r7, #12]
 2052 0118 1344     		add	r3, r3, r2
 2053 011a 03F53063 		add	r3, r3, #2816
 2054 011e 1B68     		ldr	r3, [r3]
 2055 0120 BA68     		ldr	r2, [r7, #8]
 2056 0122 5101     		lsls	r1, r2, #5
 2057 0124 FA68     		ldr	r2, [r7, #12]
 2058 0126 0A44     		add	r2, r2, r1
 2059 0128 02F53062 		add	r2, r2, #2816
 2060 012c 23F40043 		bic	r3, r3, #32768
 2061 0130 1360     		str	r3, [r2]
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2062              		.loc 1 671 27
 2063 0132 FB68     		ldr	r3, [r7, #12]
 2064 0134 03F50063 		add	r3, r3, #2048
 2065 0138 DA69     		ldr	r2, [r3, #28]
 2066              		.loc 1 671 78
 2067 013a 3B68     		ldr	r3, [r7]
 2068 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2069              		.loc 1 671 84
 2070 013e 03F00F03 		and	r3, r3, #15
 2071              		.loc 1 671 57
 2072 0142 0121     		movs	r1, #1
 2073 0144 01FA03F3 		lsl	r3, r1, r3
 2074              		.loc 1 671 54
 2075 0148 1B04     		lsls	r3, r3, #16
 2076              		.loc 1 671 30
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 49


 2077 014a DB43     		mvns	r3, r3
 2078              		.loc 1 671 27
 2079 014c F968     		ldr	r1, [r7, #12]
 2080 014e 01F50061 		add	r1, r1, #2048
 2081 0152 1340     		ands	r3, r3, r2
 2082 0154 CB61     		str	r3, [r1, #28]
 2083              	.L99:
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 2084              		.loc 1 674 10
 2085 0156 0023     		movs	r3, #0
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 2086              		.loc 1 675 1
 2087 0158 1846     		mov	r0, r3
 2088 015a 1437     		adds	r7, r7, #20
 2089              		.cfi_def_cfa_offset 4
 2090 015c BD46     		mov	sp, r7
 2091              		.cfi_def_cfa_register 13
 2092              		@ sp needed
 2093 015e 5DF8047B 		ldr	r7, [sp], #4
 2094              		.cfi_restore 7
 2095              		.cfi_def_cfa_offset 0
 2096 0162 7047     		bx	lr
 2097              		.cfi_endproc
 2098              	.LFE334:
 2100              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2101              		.align	1
 2102              		.global	USB_EPStartXfer
 2103              		.syntax unified
 2104              		.thumb
 2105              		.thumb_func
 2107              	USB_EPStartXfer:
 2108              	.LFB335:
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 2109              		.loc 1 684 1
 2110              		.cfi_startproc
 2111              		@ args = 0, pretend = 0, frame = 24
 2112              		@ frame_needed = 1, uses_anonymous_args = 0
 2113 0000 80B5     		push	{r7, lr}
 2114              		.cfi_def_cfa_offset 8
 2115              		.cfi_offset 7, -8
 2116              		.cfi_offset 14, -4
 2117 0002 86B0     		sub	sp, sp, #24
 2118              		.cfi_def_cfa_offset 32
 2119 0004 00AF     		add	r7, sp, #0
 2120              		.cfi_def_cfa_register 7
 2121 0006 7860     		str	r0, [r7, #4]
 2122 0008 3960     		str	r1, [r7]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 50


 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2123              		.loc 1 685 12
 2124 000a 7B68     		ldr	r3, [r7, #4]
 2125 000c 7B61     		str	r3, [r7, #20]
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2126              		.loc 1 686 32
 2127 000e 3B68     		ldr	r3, [r7]
 2128 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2129              		.loc 1 686 12
 2130 0012 3B61     		str	r3, [r7, #16]
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t pktcnt;
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2131              		.loc 1 690 9
 2132 0014 3B68     		ldr	r3, [r7]
 2133 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2134              		.loc 1 690 6
 2135 0018 012B     		cmp	r3, #1
 2136 001a 40F00A81 		bne	.L103
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Zero Length Packet? */
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2137              		.loc 1 693 11
 2138 001e 3B68     		ldr	r3, [r7]
 2139 0020 9B69     		ldr	r3, [r3, #24]
 2140              		.loc 1 693 8
 2141 0022 002B     		cmp	r3, #0
 2142 0024 32D1     		bne	.L104
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2143              		.loc 1 695 34
 2144 0026 3B69     		ldr	r3, [r7, #16]
 2145 0028 5A01     		lsls	r2, r3, #5
 2146 002a 7B69     		ldr	r3, [r7, #20]
 2147 002c 1344     		add	r3, r3, r2
 2148 002e 03F51063 		add	r3, r3, #2304
 2149 0032 1B69     		ldr	r3, [r3, #16]
 2150 0034 3A69     		ldr	r2, [r7, #16]
 2151 0036 5101     		lsls	r1, r2, #5
 2152 0038 7A69     		ldr	r2, [r7, #20]
 2153 003a 0A44     		add	r2, r2, r1
 2154 003c 02F51062 		add	r2, r2, #2304
 2155 0040 23F0FF53 		bic	r3, r3, #534773760
 2156 0044 23F4C013 		bic	r3, r3, #1572864
 2157 0048 1361     		str	r3, [r2, #16]
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2158              		.loc 1 696 34
 2159 004a 3B69     		ldr	r3, [r7, #16]
 2160 004c 5A01     		lsls	r2, r3, #5
 2161 004e 7B69     		ldr	r3, [r7, #20]
 2162 0050 1344     		add	r3, r3, r2
 2163 0052 03F51063 		add	r3, r3, #2304
 2164 0056 1B69     		ldr	r3, [r3, #16]
 2165 0058 3A69     		ldr	r2, [r7, #16]
 2166 005a 5101     		lsls	r1, r2, #5
 2167 005c 7A69     		ldr	r2, [r7, #20]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 51


 2168 005e 0A44     		add	r2, r2, r1
 2169 0060 02F51062 		add	r2, r2, #2304
 2170 0064 43F40023 		orr	r3, r3, #524288
 2171 0068 1361     		str	r3, [r2, #16]
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2172              		.loc 1 697 34
 2173 006a 3B69     		ldr	r3, [r7, #16]
 2174 006c 5A01     		lsls	r2, r3, #5
 2175 006e 7B69     		ldr	r3, [r7, #20]
 2176 0070 1344     		add	r3, r3, r2
 2177 0072 03F51063 		add	r3, r3, #2304
 2178 0076 1B69     		ldr	r3, [r3, #16]
 2179 0078 3A69     		ldr	r2, [r7, #16]
 2180 007a 5101     		lsls	r1, r2, #5
 2181 007c 7A69     		ldr	r2, [r7, #20]
 2182 007e 0A44     		add	r2, r2, r1
 2183 0080 02F51062 		add	r2, r2, #2304
 2184 0084 DB0C     		lsrs	r3, r3, #19
 2185 0086 DB04     		lsls	r3, r3, #19
 2186 0088 1361     		str	r3, [r2, #16]
 2187 008a 74E0     		b	.L105
 2188              	.L104:
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Program the transfer size and packet count
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * exist ? 1 : 0)
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       */
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2189              		.loc 1 706 34
 2190 008c 3B69     		ldr	r3, [r7, #16]
 2191 008e 5A01     		lsls	r2, r3, #5
 2192 0090 7B69     		ldr	r3, [r7, #20]
 2193 0092 1344     		add	r3, r3, r2
 2194 0094 03F51063 		add	r3, r3, #2304
 2195 0098 1B69     		ldr	r3, [r3, #16]
 2196 009a 3A69     		ldr	r2, [r7, #16]
 2197 009c 5101     		lsls	r1, r2, #5
 2198 009e 7A69     		ldr	r2, [r7, #20]
 2199 00a0 0A44     		add	r2, r2, r1
 2200 00a2 02F51062 		add	r2, r2, #2304
 2201 00a6 DB0C     		lsrs	r3, r3, #19
 2202 00a8 DB04     		lsls	r3, r3, #19
 2203 00aa 1361     		str	r3, [r2, #16]
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2204              		.loc 1 707 34
 2205 00ac 3B69     		ldr	r3, [r7, #16]
 2206 00ae 5A01     		lsls	r2, r3, #5
 2207 00b0 7B69     		ldr	r3, [r7, #20]
 2208 00b2 1344     		add	r3, r3, r2
 2209 00b4 03F51063 		add	r3, r3, #2304
 2210 00b8 1B69     		ldr	r3, [r3, #16]
 2211 00ba 3A69     		ldr	r2, [r7, #16]
 2212 00bc 5101     		lsls	r1, r2, #5
 2213 00be 7A69     		ldr	r2, [r7, #20]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 52


 2214 00c0 0A44     		add	r2, r2, r1
 2215 00c2 02F51062 		add	r2, r2, #2304
 2216 00c6 23F0FF53 		bic	r3, r3, #534773760
 2217 00ca 23F4C013 		bic	r3, r3, #1572864
 2218 00ce 1361     		str	r3, [r2, #16]
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2219              		.loc 1 708 34
 2220 00d0 3B69     		ldr	r3, [r7, #16]
 2221 00d2 5A01     		lsls	r2, r3, #5
 2222 00d4 7B69     		ldr	r3, [r7, #20]
 2223 00d6 1344     		add	r3, r3, r2
 2224 00d8 03F51063 		add	r3, r3, #2304
 2225 00dc 1A69     		ldr	r2, [r3, #16]
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                      (((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket) << 19))
 2226              		.loc 1 709 43
 2227 00de 3B68     		ldr	r3, [r7]
 2228 00e0 9969     		ldr	r1, [r3, #24]
 2229              		.loc 1 709 58
 2230 00e2 3B68     		ldr	r3, [r7]
 2231 00e4 DB68     		ldr	r3, [r3, #12]
 2232              		.loc 1 709 54
 2233 00e6 0B44     		add	r3, r3, r1
 2234              		.loc 1 709 70
 2235 00e8 591E     		subs	r1, r3, #1
 2236              		.loc 1 709 80
 2237 00ea 3B68     		ldr	r3, [r7]
 2238 00ec DB68     		ldr	r3, [r3, #12]
 2239              		.loc 1 709 76
 2240 00ee B1FBF3F3 		udiv	r3, r1, r3
 2241              		.loc 1 709 93
 2242 00f2 D904     		lsls	r1, r3, #19
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2243              		.loc 1 708 62
 2244 00f4 9E4B     		ldr	r3, .L115
 2245 00f6 0B40     		ands	r3, r3, r1
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2246              		.loc 1 708 34
 2247 00f8 3969     		ldr	r1, [r7, #16]
 2248 00fa 4801     		lsls	r0, r1, #5
 2249 00fc 7969     		ldr	r1, [r7, #20]
 2250 00fe 0144     		add	r1, r1, r0
 2251 0100 01F51061 		add	r1, r1, #2304
 2252 0104 1343     		orrs	r3, r3, r2
 2253 0106 0B61     		str	r3, [r1, #16]
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2254              		.loc 1 711 34
 2255 0108 3B69     		ldr	r3, [r7, #16]
 2256 010a 5A01     		lsls	r2, r3, #5
 2257 010c 7B69     		ldr	r3, [r7, #20]
 2258 010e 1344     		add	r3, r3, r2
 2259 0110 03F51063 		add	r3, r3, #2304
 2260 0114 1A69     		ldr	r2, [r3, #16]
 2261              		.loc 1 711 66
 2262 0116 3B68     		ldr	r3, [r7]
 2263 0118 9B69     		ldr	r3, [r3, #24]
 2264              		.loc 1 711 62
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 53


 2265 011a C3F31203 		ubfx	r3, r3, #0, #19
 2266              		.loc 1 711 34
 2267 011e 3969     		ldr	r1, [r7, #16]
 2268 0120 4801     		lsls	r0, r1, #5
 2269 0122 7969     		ldr	r1, [r7, #20]
 2270 0124 0144     		add	r1, r1, r0
 2271 0126 01F51061 		add	r1, r1, #2304
 2272 012a 1343     		orrs	r3, r3, r2
 2273 012c 0B61     		str	r3, [r1, #16]
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2274              		.loc 1 713 13
 2275 012e 3B68     		ldr	r3, [r7]
 2276 0130 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2277              		.loc 1 713 10
 2278 0132 012B     		cmp	r3, #1
 2279 0134 1FD1     		bne	.L105
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2280              		.loc 1 715 36
 2281 0136 3B69     		ldr	r3, [r7, #16]
 2282 0138 5A01     		lsls	r2, r3, #5
 2283 013a 7B69     		ldr	r3, [r7, #20]
 2284 013c 1344     		add	r3, r3, r2
 2285 013e 03F51063 		add	r3, r3, #2304
 2286 0142 1B69     		ldr	r3, [r3, #16]
 2287 0144 3A69     		ldr	r2, [r7, #16]
 2288 0146 5101     		lsls	r1, r2, #5
 2289 0148 7A69     		ldr	r2, [r7, #20]
 2290 014a 0A44     		add	r2, r2, r1
 2291 014c 02F51062 		add	r2, r2, #2304
 2292 0150 23F0C043 		bic	r3, r3, #1610612736
 2293 0154 1361     		str	r3, [r2, #16]
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2294              		.loc 1 716 36
 2295 0156 3B69     		ldr	r3, [r7, #16]
 2296 0158 5A01     		lsls	r2, r3, #5
 2297 015a 7B69     		ldr	r3, [r7, #20]
 2298 015c 1344     		add	r3, r3, r2
 2299 015e 03F51063 		add	r3, r3, #2304
 2300 0162 1B69     		ldr	r3, [r3, #16]
 2301 0164 3A69     		ldr	r2, [r7, #16]
 2302 0166 5101     		lsls	r1, r2, #5
 2303 0168 7A69     		ldr	r2, [r7, #20]
 2304 016a 0A44     		add	r2, r2, r1
 2305 016c 02F51062 		add	r2, r2, #2304
 2306 0170 43F00053 		orr	r3, r3, #536870912
 2307 0174 1361     		str	r3, [r2, #16]
 2308              	.L105:
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2309              		.loc 1 720 31
 2310 0176 3B69     		ldr	r3, [r7, #16]
 2311 0178 5A01     		lsls	r2, r3, #5
 2312 017a 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 54


 2313 017c 1344     		add	r3, r3, r2
 2314 017e 03F51063 		add	r3, r3, #2304
 2315 0182 1B68     		ldr	r3, [r3]
 2316 0184 3A69     		ldr	r2, [r7, #16]
 2317 0186 5101     		lsls	r1, r2, #5
 2318 0188 7A69     		ldr	r2, [r7, #20]
 2319 018a 0A44     		add	r2, r2, r1
 2320 018c 02F51062 		add	r2, r2, #2304
 2321 0190 43F00443 		orr	r3, r3, #-2080374784
 2322 0194 1360     		str	r3, [r2]
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type != EP_TYPE_ISOC)
 2323              		.loc 1 722 11
 2324 0196 3B68     		ldr	r3, [r7]
 2325 0198 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2326              		.loc 1 722 8
 2327 019a 012B     		cmp	r3, #1
 2328 019c 15D0     		beq	.L106
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2329              		.loc 1 725 13
 2330 019e 3B68     		ldr	r3, [r7]
 2331 01a0 9B69     		ldr	r3, [r3, #24]
 2332              		.loc 1 725 10
 2333 01a2 002B     		cmp	r3, #0
 2334 01a4 00F00681 		beq	.L107
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2335              		.loc 1 727 33
 2336 01a8 7B69     		ldr	r3, [r7, #20]
 2337 01aa 03F50063 		add	r3, r3, #2048
 2338 01ae 5A6B     		ldr	r2, [r3, #52]
 2339              		.loc 1 727 46
 2340 01b0 3B68     		ldr	r3, [r7]
 2341 01b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2342              		.loc 1 727 52
 2343 01b4 03F00F03 		and	r3, r3, #15
 2344              		.loc 1 727 40
 2345 01b8 0121     		movs	r1, #1
 2346 01ba 01FA03F3 		lsl	r3, r1, r3
 2347              		.loc 1 727 33
 2348 01be 7969     		ldr	r1, [r7, #20]
 2349 01c0 01F50061 		add	r1, r1, #2048
 2350 01c4 1343     		orrs	r3, r3, r2
 2351 01c6 4B63     		str	r3, [r1, #52]
 2352 01c8 F4E0     		b	.L107
 2353              	.L106:
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2354              		.loc 1 732 12
 2355 01ca 7B69     		ldr	r3, [r7, #20]
 2356 01cc 03F50063 		add	r3, r3, #2048
 2357              		.loc 1 732 23
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 55


 2358 01d0 9B68     		ldr	r3, [r3, #8]
 2359              		.loc 1 732 30
 2360 01d2 03F48073 		and	r3, r3, #256
 2361              		.loc 1 732 10
 2362 01d6 002B     		cmp	r3, #0
 2363 01d8 10D1     		bne	.L108
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2364              		.loc 1 734 35
 2365 01da 3B69     		ldr	r3, [r7, #16]
 2366 01dc 5A01     		lsls	r2, r3, #5
 2367 01de 7B69     		ldr	r3, [r7, #20]
 2368 01e0 1344     		add	r3, r3, r2
 2369 01e2 03F51063 		add	r3, r3, #2304
 2370 01e6 1B68     		ldr	r3, [r3]
 2371 01e8 3A69     		ldr	r2, [r7, #16]
 2372 01ea 5101     		lsls	r1, r2, #5
 2373 01ec 7A69     		ldr	r2, [r7, #20]
 2374 01ee 0A44     		add	r2, r2, r1
 2375 01f0 02F51062 		add	r2, r2, #2304
 2376 01f4 43F00053 		orr	r3, r3, #536870912
 2377 01f8 1360     		str	r3, [r2]
 2378 01fa 0FE0     		b	.L109
 2379              	.L108:
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2380              		.loc 1 738 35
 2381 01fc 3B69     		ldr	r3, [r7, #16]
 2382 01fe 5A01     		lsls	r2, r3, #5
 2383 0200 7B69     		ldr	r3, [r7, #20]
 2384 0202 1344     		add	r3, r3, r2
 2385 0204 03F51063 		add	r3, r3, #2304
 2386 0208 1B68     		ldr	r3, [r3]
 2387 020a 3A69     		ldr	r2, [r7, #16]
 2388 020c 5101     		lsls	r1, r2, #5
 2389 020e 7A69     		ldr	r2, [r7, #20]
 2390 0210 0A44     		add	r2, r2, r1
 2391 0212 02F51062 		add	r2, r2, #2304
 2392 0216 43F08053 		orr	r3, r3, #268435456
 2393 021a 1360     		str	r3, [r2]
 2394              	.L109:
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len);
 2395              		.loc 1 741 13
 2396 021c 3B68     		ldr	r3, [r7]
 2397 021e 1969     		ldr	r1, [r3, #16]
 2398 0220 3B68     		ldr	r3, [r7]
 2399 0222 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2400              		.loc 1 741 71
 2401 0224 3B68     		ldr	r3, [r7]
 2402 0226 9B69     		ldr	r3, [r3, #24]
 2403              		.loc 1 741 13
 2404 0228 9BB2     		uxth	r3, r3
 2405 022a 7868     		ldr	r0, [r7, #4]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 56


 2406 022c FFF7FEFF 		bl	USB_WritePacket
 2407 0230 C0E0     		b	.L107
 2408              	.L103:
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * pktcnt = N
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * xfersize = N * maxpacket
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     */
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2409              		.loc 1 750 33
 2410 0232 3B69     		ldr	r3, [r7, #16]
 2411 0234 5A01     		lsls	r2, r3, #5
 2412 0236 7B69     		ldr	r3, [r7, #20]
 2413 0238 1344     		add	r3, r3, r2
 2414 023a 03F53063 		add	r3, r3, #2816
 2415 023e 1B69     		ldr	r3, [r3, #16]
 2416 0240 3A69     		ldr	r2, [r7, #16]
 2417 0242 5101     		lsls	r1, r2, #5
 2418 0244 7A69     		ldr	r2, [r7, #20]
 2419 0246 0A44     		add	r2, r2, r1
 2420 0248 02F53062 		add	r2, r2, #2816
 2421 024c DB0C     		lsrs	r3, r3, #19
 2422 024e DB04     		lsls	r3, r3, #19
 2423 0250 1361     		str	r3, [r2, #16]
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2424              		.loc 1 751 33
 2425 0252 3B69     		ldr	r3, [r7, #16]
 2426 0254 5A01     		lsls	r2, r3, #5
 2427 0256 7B69     		ldr	r3, [r7, #20]
 2428 0258 1344     		add	r3, r3, r2
 2429 025a 03F53063 		add	r3, r3, #2816
 2430 025e 1B69     		ldr	r3, [r3, #16]
 2431 0260 3A69     		ldr	r2, [r7, #16]
 2432 0262 5101     		lsls	r1, r2, #5
 2433 0264 7A69     		ldr	r2, [r7, #20]
 2434 0266 0A44     		add	r2, r2, r1
 2435 0268 02F53062 		add	r2, r2, #2816
 2436 026c 23F0FF53 		bic	r3, r3, #534773760
 2437 0270 23F4C013 		bic	r3, r3, #1572864
 2438 0274 1361     		str	r3, [r2, #16]
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2439              		.loc 1 753 11
 2440 0276 3B68     		ldr	r3, [r7]
 2441 0278 9B69     		ldr	r3, [r3, #24]
 2442              		.loc 1 753 8
 2443 027a 002B     		cmp	r3, #0
 2444 027c 23D1     		bne	.L110
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2445              		.loc 1 755 35
 2446 027e 3B69     		ldr	r3, [r7, #16]
 2447 0280 5A01     		lsls	r2, r3, #5
 2448 0282 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 57


 2449 0284 1344     		add	r3, r3, r2
 2450 0286 03F53063 		add	r3, r3, #2816
 2451 028a 1A69     		ldr	r2, [r3, #16]
 2452              		.loc 1 755 67
 2453 028c 3B68     		ldr	r3, [r7]
 2454 028e DB68     		ldr	r3, [r3, #12]
 2455              		.loc 1 755 63
 2456 0290 C3F31203 		ubfx	r3, r3, #0, #19
 2457              		.loc 1 755 35
 2458 0294 3969     		ldr	r1, [r7, #16]
 2459 0296 4801     		lsls	r0, r1, #5
 2460 0298 7969     		ldr	r1, [r7, #20]
 2461 029a 0144     		add	r1, r1, r0
 2462 029c 01F53061 		add	r1, r1, #2816
 2463 02a0 1343     		orrs	r3, r3, r2
 2464 02a2 0B61     		str	r3, [r1, #16]
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2465              		.loc 1 756 35
 2466 02a4 3B69     		ldr	r3, [r7, #16]
 2467 02a6 5A01     		lsls	r2, r3, #5
 2468 02a8 7B69     		ldr	r3, [r7, #20]
 2469 02aa 1344     		add	r3, r3, r2
 2470 02ac 03F53063 		add	r3, r3, #2816
 2471 02b0 1B69     		ldr	r3, [r3, #16]
 2472 02b2 3A69     		ldr	r2, [r7, #16]
 2473 02b4 5101     		lsls	r1, r2, #5
 2474 02b6 7A69     		ldr	r2, [r7, #20]
 2475 02b8 0A44     		add	r2, r2, r1
 2476 02ba 02F53062 		add	r2, r2, #2816
 2477 02be 43F40023 		orr	r3, r3, #524288
 2478 02c2 1361     		str	r3, [r2, #16]
 2479 02c4 37E0     		b	.L111
 2480              	.L110:
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2481              		.loc 1 760 30
 2482 02c6 3B68     		ldr	r3, [r7]
 2483 02c8 9A69     		ldr	r2, [r3, #24]
 2484              		.loc 1 760 45
 2485 02ca 3B68     		ldr	r3, [r7]
 2486 02cc DB68     		ldr	r3, [r3, #12]
 2487              		.loc 1 760 41
 2488 02ce 1344     		add	r3, r3, r2
 2489              		.loc 1 760 57
 2490 02d0 5A1E     		subs	r2, r3, #1
 2491              		.loc 1 760 67
 2492 02d2 3B68     		ldr	r3, [r7]
 2493 02d4 DB68     		ldr	r3, [r3, #12]
 2494              		.loc 1 760 63
 2495 02d6 B2FBF3F3 		udiv	r3, r2, r3
 2496              		.loc 1 760 14
 2497 02da FB81     		strh	r3, [r7, #14]	@ movhi
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket * pktcnt;
 2498              		.loc 1 761 25
 2499 02dc 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 58


 2500 02de DB68     		ldr	r3, [r3, #12]
 2501              		.loc 1 761 37
 2502 02e0 FA89     		ldrh	r2, [r7, #14]
 2503 02e2 03FB02F2 		mul	r2, r3, r2
 2504              		.loc 1 761 21
 2505 02e6 3B68     		ldr	r3, [r7]
 2506 02e8 DA61     		str	r2, [r3, #28]
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2507              		.loc 1 763 35
 2508 02ea 3B69     		ldr	r3, [r7, #16]
 2509 02ec 5A01     		lsls	r2, r3, #5
 2510 02ee 7B69     		ldr	r3, [r7, #20]
 2511 02f0 1344     		add	r3, r3, r2
 2512 02f2 03F53063 		add	r3, r3, #2816
 2513 02f6 1A69     		ldr	r2, [r3, #16]
 2514              		.loc 1 763 65
 2515 02f8 FB89     		ldrh	r3, [r7, #14]
 2516              		.loc 1 763 82
 2517 02fa D904     		lsls	r1, r3, #19
 2518              		.loc 1 763 62
 2519 02fc 1C4B     		ldr	r3, .L115
 2520 02fe 0B40     		ands	r3, r3, r1
 2521              		.loc 1 763 35
 2522 0300 3969     		ldr	r1, [r7, #16]
 2523 0302 4801     		lsls	r0, r1, #5
 2524 0304 7969     		ldr	r1, [r7, #20]
 2525 0306 0144     		add	r1, r1, r0
 2526 0308 01F53061 		add	r1, r1, #2816
 2527 030c 1343     		orrs	r3, r3, r2
 2528 030e 0B61     		str	r3, [r1, #16]
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 2529              		.loc 1 764 35
 2530 0310 3B69     		ldr	r3, [r7, #16]
 2531 0312 5A01     		lsls	r2, r3, #5
 2532 0314 7B69     		ldr	r3, [r7, #20]
 2533 0316 1344     		add	r3, r3, r2
 2534 0318 03F53063 		add	r3, r3, #2816
 2535 031c 1A69     		ldr	r2, [r3, #16]
 2536              		.loc 1 764 66
 2537 031e 3B68     		ldr	r3, [r7]
 2538 0320 DB69     		ldr	r3, [r3, #28]
 2539              		.loc 1 764 62
 2540 0322 C3F31203 		ubfx	r3, r3, #0, #19
 2541              		.loc 1 764 35
 2542 0326 3969     		ldr	r1, [r7, #16]
 2543 0328 4801     		lsls	r0, r1, #5
 2544 032a 7969     		ldr	r1, [r7, #20]
 2545 032c 0144     		add	r1, r1, r0
 2546 032e 01F53061 		add	r1, r1, #2816
 2547 0332 1343     		orrs	r3, r3, r2
 2548 0334 0B61     		str	r3, [r1, #16]
 2549              	.L111:
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2550              		.loc 1 767 11
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 59


 2551 0336 3B68     		ldr	r3, [r7]
 2552 0338 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2553              		.loc 1 767 8
 2554 033a 012B     		cmp	r3, #1
 2555 033c 2AD1     		bne	.L112
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2556              		.loc 1 769 12
 2557 033e 7B69     		ldr	r3, [r7, #20]
 2558 0340 03F50063 		add	r3, r3, #2048
 2559              		.loc 1 769 23
 2560 0344 9B68     		ldr	r3, [r3, #8]
 2561              		.loc 1 769 30
 2562 0346 03F48073 		and	r3, r3, #256
 2563              		.loc 1 769 10
 2564 034a 002B     		cmp	r3, #0
 2565 034c 12D1     		bne	.L113
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2566              		.loc 1 771 36
 2567 034e 3B69     		ldr	r3, [r7, #16]
 2568 0350 5A01     		lsls	r2, r3, #5
 2569 0352 7B69     		ldr	r3, [r7, #20]
 2570 0354 1344     		add	r3, r3, r2
 2571 0356 03F53063 		add	r3, r3, #2816
 2572 035a 1B68     		ldr	r3, [r3]
 2573 035c 3A69     		ldr	r2, [r7, #16]
 2574 035e 5101     		lsls	r1, r2, #5
 2575 0360 7A69     		ldr	r2, [r7, #20]
 2576 0362 0A44     		add	r2, r2, r1
 2577 0364 02F53062 		add	r2, r2, #2816
 2578 0368 43F00053 		orr	r3, r3, #536870912
 2579 036c 1360     		str	r3, [r2]
 2580 036e 11E0     		b	.L112
 2581              	.L116:
 2582              		.align	2
 2583              	.L115:
 2584 0370 0000F81F 		.word	536346624
 2585              	.L113:
 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2586              		.loc 1 775 36
 2587 0374 3B69     		ldr	r3, [r7, #16]
 2588 0376 5A01     		lsls	r2, r3, #5
 2589 0378 7B69     		ldr	r3, [r7, #20]
 2590 037a 1344     		add	r3, r3, r2
 2591 037c 03F53063 		add	r3, r3, #2816
 2592 0380 1B68     		ldr	r3, [r3]
 2593 0382 3A69     		ldr	r2, [r7, #16]
 2594 0384 5101     		lsls	r1, r2, #5
 2595 0386 7A69     		ldr	r2, [r7, #20]
 2596 0388 0A44     		add	r2, r2, r1
 2597 038a 02F53062 		add	r2, r2, #2816
 2598 038e 43F08053 		orr	r3, r3, #268435456
 2599 0392 1360     		str	r3, [r2]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 60


 2600              	.L112:
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable */
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2601              		.loc 1 779 32
 2602 0394 3B69     		ldr	r3, [r7, #16]
 2603 0396 5A01     		lsls	r2, r3, #5
 2604 0398 7B69     		ldr	r3, [r7, #20]
 2605 039a 1344     		add	r3, r3, r2
 2606 039c 03F53063 		add	r3, r3, #2816
 2607 03a0 1B68     		ldr	r3, [r3]
 2608 03a2 3A69     		ldr	r2, [r7, #16]
 2609 03a4 5101     		lsls	r1, r2, #5
 2610 03a6 7A69     		ldr	r2, [r7, #20]
 2611 03a8 0A44     		add	r2, r2, r1
 2612 03aa 02F53062 		add	r2, r2, #2816
 2613 03ae 43F00443 		orr	r3, r3, #-2080374784
 2614 03b2 1360     		str	r3, [r2]
 2615              	.L107:
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 2616              		.loc 1 782 10
 2617 03b4 0023     		movs	r3, #0
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 2618              		.loc 1 783 1
 2619 03b6 1846     		mov	r0, r3
 2620 03b8 1837     		adds	r7, r7, #24
 2621              		.cfi_def_cfa_offset 8
 2622 03ba BD46     		mov	sp, r7
 2623              		.cfi_def_cfa_register 13
 2624              		@ sp needed
 2625 03bc 80BD     		pop	{r7, pc}
 2626              		.cfi_endproc
 2627              	.LFE335:
 2629 03be 00BF     		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2630              		.align	1
 2631              		.global	USB_EP0StartXfer
 2632              		.syntax unified
 2633              		.thumb
 2634              		.thumb_func
 2636              	USB_EP0StartXfer:
 2637              	.LFB336:
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 2638              		.loc 1 792 1
 2639              		.cfi_startproc
 2640              		@ args = 0, pretend = 0, frame = 16
 2641              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 61


 2642              		@ link register save eliminated.
 2643 0000 80B4     		push	{r7}
 2644              		.cfi_def_cfa_offset 4
 2645              		.cfi_offset 7, -4
 2646 0002 85B0     		sub	sp, sp, #20
 2647              		.cfi_def_cfa_offset 24
 2648 0004 00AF     		add	r7, sp, #0
 2649              		.cfi_def_cfa_register 7
 2650 0006 7860     		str	r0, [r7, #4]
 2651 0008 3960     		str	r1, [r7]
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2652              		.loc 1 793 12
 2653 000a 7B68     		ldr	r3, [r7, #4]
 2654 000c FB60     		str	r3, [r7, #12]
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2655              		.loc 1 794 32
 2656 000e 3B68     		ldr	r3, [r7]
 2657 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2658              		.loc 1 794 12
 2659 0012 BB60     		str	r3, [r7, #8]
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2660              		.loc 1 797 9
 2661 0014 3B68     		ldr	r3, [r7]
 2662 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2663              		.loc 1 797 6
 2664 0018 012B     		cmp	r3, #1
 2665 001a 40F0AB80 		bne	.L118
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Zero Length Packet? */
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2666              		.loc 1 800 11
 2667 001e 3B68     		ldr	r3, [r7]
 2668 0020 9B69     		ldr	r3, [r3, #24]
 2669              		.loc 1 800 8
 2670 0022 002B     		cmp	r3, #0
 2671 0024 32D1     		bne	.L119
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2672              		.loc 1 802 34
 2673 0026 BB68     		ldr	r3, [r7, #8]
 2674 0028 5A01     		lsls	r2, r3, #5
 2675 002a FB68     		ldr	r3, [r7, #12]
 2676 002c 1344     		add	r3, r3, r2
 2677 002e 03F51063 		add	r3, r3, #2304
 2678 0032 1B69     		ldr	r3, [r3, #16]
 2679 0034 BA68     		ldr	r2, [r7, #8]
 2680 0036 5101     		lsls	r1, r2, #5
 2681 0038 FA68     		ldr	r2, [r7, #12]
 2682 003a 0A44     		add	r2, r2, r1
 2683 003c 02F51062 		add	r2, r2, #2304
 2684 0040 23F0FF53 		bic	r3, r3, #534773760
 2685 0044 23F4C013 		bic	r3, r3, #1572864
 2686 0048 1361     		str	r3, [r2, #16]
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2687              		.loc 1 803 34
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 62


 2688 004a BB68     		ldr	r3, [r7, #8]
 2689 004c 5A01     		lsls	r2, r3, #5
 2690 004e FB68     		ldr	r3, [r7, #12]
 2691 0050 1344     		add	r3, r3, r2
 2692 0052 03F51063 		add	r3, r3, #2304
 2693 0056 1B69     		ldr	r3, [r3, #16]
 2694 0058 BA68     		ldr	r2, [r7, #8]
 2695 005a 5101     		lsls	r1, r2, #5
 2696 005c FA68     		ldr	r2, [r7, #12]
 2697 005e 0A44     		add	r2, r2, r1
 2698 0060 02F51062 		add	r2, r2, #2304
 2699 0064 43F40023 		orr	r3, r3, #524288
 2700 0068 1361     		str	r3, [r2, #16]
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2701              		.loc 1 804 34
 2702 006a BB68     		ldr	r3, [r7, #8]
 2703 006c 5A01     		lsls	r2, r3, #5
 2704 006e FB68     		ldr	r3, [r7, #12]
 2705 0070 1344     		add	r3, r3, r2
 2706 0072 03F51063 		add	r3, r3, #2304
 2707 0076 1B69     		ldr	r3, [r3, #16]
 2708 0078 BA68     		ldr	r2, [r7, #8]
 2709 007a 5101     		lsls	r1, r2, #5
 2710 007c FA68     		ldr	r2, [r7, #12]
 2711 007e 0A44     		add	r2, r2, r1
 2712 0080 02F51062 		add	r2, r2, #2304
 2713 0084 DB0C     		lsrs	r3, r3, #19
 2714 0086 DB04     		lsls	r3, r3, #19
 2715 0088 1361     		str	r3, [r2, #16]
 2716 008a 4EE0     		b	.L120
 2717              	.L119:
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Program the transfer size and packet count
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * exist ? 1 : 0)
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       */
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2718              		.loc 1 813 34
 2719 008c BB68     		ldr	r3, [r7, #8]
 2720 008e 5A01     		lsls	r2, r3, #5
 2721 0090 FB68     		ldr	r3, [r7, #12]
 2722 0092 1344     		add	r3, r3, r2
 2723 0094 03F51063 		add	r3, r3, #2304
 2724 0098 1B69     		ldr	r3, [r3, #16]
 2725 009a BA68     		ldr	r2, [r7, #8]
 2726 009c 5101     		lsls	r1, r2, #5
 2727 009e FA68     		ldr	r2, [r7, #12]
 2728 00a0 0A44     		add	r2, r2, r1
 2729 00a2 02F51062 		add	r2, r2, #2304
 2730 00a6 DB0C     		lsrs	r3, r3, #19
 2731 00a8 DB04     		lsls	r3, r3, #19
 2732 00aa 1361     		str	r3, [r2, #16]
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2733              		.loc 1 814 34
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 63


 2734 00ac BB68     		ldr	r3, [r7, #8]
 2735 00ae 5A01     		lsls	r2, r3, #5
 2736 00b0 FB68     		ldr	r3, [r7, #12]
 2737 00b2 1344     		add	r3, r3, r2
 2738 00b4 03F51063 		add	r3, r3, #2304
 2739 00b8 1B69     		ldr	r3, [r3, #16]
 2740 00ba BA68     		ldr	r2, [r7, #8]
 2741 00bc 5101     		lsls	r1, r2, #5
 2742 00be FA68     		ldr	r2, [r7, #12]
 2743 00c0 0A44     		add	r2, r2, r1
 2744 00c2 02F51062 		add	r2, r2, #2304
 2745 00c6 23F0FF53 		bic	r3, r3, #534773760
 2746 00ca 23F4C013 		bic	r3, r3, #1572864
 2747 00ce 1361     		str	r3, [r2, #16]
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 2748              		.loc 1 816 13
 2749 00d0 3B68     		ldr	r3, [r7]
 2750 00d2 9A69     		ldr	r2, [r3, #24]
 2751              		.loc 1 816 28
 2752 00d4 3B68     		ldr	r3, [r7]
 2753 00d6 DB68     		ldr	r3, [r3, #12]
 2754              		.loc 1 816 10
 2755 00d8 9A42     		cmp	r2, r3
 2756 00da 03D9     		bls	.L121
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2757              		.loc 1 818 26
 2758 00dc 3B68     		ldr	r3, [r7]
 2759 00de DA68     		ldr	r2, [r3, #12]
 2760              		.loc 1 818 22
 2761 00e0 3B68     		ldr	r3, [r7]
 2762 00e2 9A61     		str	r2, [r3, #24]
 2763              	.L121:
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2764              		.loc 1 820 34
 2765 00e4 BB68     		ldr	r3, [r7, #8]
 2766 00e6 5A01     		lsls	r2, r3, #5
 2767 00e8 FB68     		ldr	r3, [r7, #12]
 2768 00ea 1344     		add	r3, r3, r2
 2769 00ec 03F51063 		add	r3, r3, #2304
 2770 00f0 1B69     		ldr	r3, [r3, #16]
 2771 00f2 BA68     		ldr	r2, [r7, #8]
 2772 00f4 5101     		lsls	r1, r2, #5
 2773 00f6 FA68     		ldr	r2, [r7, #12]
 2774 00f8 0A44     		add	r2, r2, r1
 2775 00fa 02F51062 		add	r2, r2, #2304
 2776 00fe 43F40023 		orr	r3, r3, #524288
 2777 0102 1361     		str	r3, [r2, #16]
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2778              		.loc 1 821 34
 2779 0104 BB68     		ldr	r3, [r7, #8]
 2780 0106 5A01     		lsls	r2, r3, #5
 2781 0108 FB68     		ldr	r3, [r7, #12]
 2782 010a 1344     		add	r3, r3, r2
 2783 010c 03F51063 		add	r3, r3, #2304
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 64


 2784 0110 1A69     		ldr	r2, [r3, #16]
 2785              		.loc 1 821 66
 2786 0112 3B68     		ldr	r3, [r7]
 2787 0114 9B69     		ldr	r3, [r3, #24]
 2788              		.loc 1 821 62
 2789 0116 C3F31203 		ubfx	r3, r3, #0, #19
 2790              		.loc 1 821 34
 2791 011a B968     		ldr	r1, [r7, #8]
 2792 011c 4801     		lsls	r0, r1, #5
 2793 011e F968     		ldr	r1, [r7, #12]
 2794 0120 0144     		add	r1, r1, r0
 2795 0122 01F51061 		add	r1, r1, #2304
 2796 0126 1343     		orrs	r3, r3, r2
 2797 0128 0B61     		str	r3, [r1, #16]
 2798              	.L120:
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2799              		.loc 1 825 31
 2800 012a BB68     		ldr	r3, [r7, #8]
 2801 012c 5A01     		lsls	r2, r3, #5
 2802 012e FB68     		ldr	r3, [r7, #12]
 2803 0130 1344     		add	r3, r3, r2
 2804 0132 03F51063 		add	r3, r3, #2304
 2805 0136 1B68     		ldr	r3, [r3]
 2806 0138 BA68     		ldr	r2, [r7, #8]
 2807 013a 5101     		lsls	r1, r2, #5
 2808 013c FA68     		ldr	r2, [r7, #12]
 2809 013e 0A44     		add	r2, r2, r1
 2810 0140 02F51062 		add	r2, r2, #2304
 2811 0144 43F00443 		orr	r3, r3, #-2080374784
 2812 0148 1360     		str	r3, [r2]
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Enable the Tx FIFO Empty Interrupt for this EP */
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 2813              		.loc 1 828 11
 2814 014a 3B68     		ldr	r3, [r7]
 2815 014c 9B69     		ldr	r3, [r3, #24]
 2816              		.loc 1 828 8
 2817 014e 002B     		cmp	r3, #0
 2818 0150 71D0     		beq	.L122
 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2819              		.loc 1 830 31
 2820 0152 FB68     		ldr	r3, [r7, #12]
 2821 0154 03F50063 		add	r3, r3, #2048
 2822 0158 5A6B     		ldr	r2, [r3, #52]
 2823              		.loc 1 830 44
 2824 015a 3B68     		ldr	r3, [r7]
 2825 015c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2826              		.loc 1 830 50
 2827 015e 03F00F03 		and	r3, r3, #15
 2828              		.loc 1 830 38
 2829 0162 0121     		movs	r1, #1
 2830 0164 01FA03F3 		lsl	r3, r1, r3
 2831              		.loc 1 830 31
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 65


 2832 0168 F968     		ldr	r1, [r7, #12]
 2833 016a 01F50061 		add	r1, r1, #2048
 2834 016e 1343     		orrs	r3, r3, r2
 2835 0170 4B63     		str	r3, [r1, #52]
 2836 0172 60E0     		b	.L122
 2837              	.L118:
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * pktcnt = N
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * xfersize = N * maxpacket
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     */
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2838              		.loc 1 839 33
 2839 0174 BB68     		ldr	r3, [r7, #8]
 2840 0176 5A01     		lsls	r2, r3, #5
 2841 0178 FB68     		ldr	r3, [r7, #12]
 2842 017a 1344     		add	r3, r3, r2
 2843 017c 03F53063 		add	r3, r3, #2816
 2844 0180 1B69     		ldr	r3, [r3, #16]
 2845 0182 BA68     		ldr	r2, [r7, #8]
 2846 0184 5101     		lsls	r1, r2, #5
 2847 0186 FA68     		ldr	r2, [r7, #12]
 2848 0188 0A44     		add	r2, r2, r1
 2849 018a 02F53062 		add	r2, r2, #2816
 2850 018e DB0C     		lsrs	r3, r3, #19
 2851 0190 DB04     		lsls	r3, r3, #19
 2852 0192 1361     		str	r3, [r2, #16]
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2853              		.loc 1 840 33
 2854 0194 BB68     		ldr	r3, [r7, #8]
 2855 0196 5A01     		lsls	r2, r3, #5
 2856 0198 FB68     		ldr	r3, [r7, #12]
 2857 019a 1344     		add	r3, r3, r2
 2858 019c 03F53063 		add	r3, r3, #2816
 2859 01a0 1B69     		ldr	r3, [r3, #16]
 2860 01a2 BA68     		ldr	r2, [r7, #8]
 2861 01a4 5101     		lsls	r1, r2, #5
 2862 01a6 FA68     		ldr	r2, [r7, #12]
 2863 01a8 0A44     		add	r2, r2, r1
 2864 01aa 02F53062 		add	r2, r2, #2816
 2865 01ae 23F0FF53 		bic	r3, r3, #534773760
 2866 01b2 23F4C013 		bic	r3, r3, #1572864
 2867 01b6 1361     		str	r3, [r2, #16]
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 2868              		.loc 1 842 11
 2869 01b8 3B68     		ldr	r3, [r7]
 2870 01ba 9B69     		ldr	r3, [r3, #24]
 2871              		.loc 1 842 8
 2872 01bc 002B     		cmp	r3, #0
 2873 01be 03D0     		beq	.L123
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 2874              		.loc 1 844 24
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 66


 2875 01c0 3B68     		ldr	r3, [r7]
 2876 01c2 DA68     		ldr	r2, [r3, #12]
 2877              		.loc 1 844 20
 2878 01c4 3B68     		ldr	r3, [r7]
 2879 01c6 9A61     		str	r2, [r3, #24]
 2880              	.L123:
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ep->xfer_size = ep->maxpacket;
 2881              		.loc 1 848 23
 2882 01c8 3B68     		ldr	r3, [r7]
 2883 01ca DA68     		ldr	r2, [r3, #12]
 2884              		.loc 1 848 19
 2885 01cc 3B68     		ldr	r3, [r7]
 2886 01ce DA61     		str	r2, [r3, #28]
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2887              		.loc 1 850 33
 2888 01d0 BB68     		ldr	r3, [r7, #8]
 2889 01d2 5A01     		lsls	r2, r3, #5
 2890 01d4 FB68     		ldr	r3, [r7, #12]
 2891 01d6 1344     		add	r3, r3, r2
 2892 01d8 03F53063 		add	r3, r3, #2816
 2893 01dc 1B69     		ldr	r3, [r3, #16]
 2894 01de BA68     		ldr	r2, [r7, #8]
 2895 01e0 5101     		lsls	r1, r2, #5
 2896 01e2 FA68     		ldr	r2, [r7, #12]
 2897 01e4 0A44     		add	r2, r2, r1
 2898 01e6 02F53062 		add	r2, r2, #2816
 2899 01ea 43F40023 		orr	r3, r3, #524288
 2900 01ee 1361     		str	r3, [r2, #16]
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 2901              		.loc 1 851 33
 2902 01f0 BB68     		ldr	r3, [r7, #8]
 2903 01f2 5A01     		lsls	r2, r3, #5
 2904 01f4 FB68     		ldr	r3, [r7, #12]
 2905 01f6 1344     		add	r3, r3, r2
 2906 01f8 03F53063 		add	r3, r3, #2816
 2907 01fc 1A69     		ldr	r2, [r3, #16]
 2908              		.loc 1 851 65
 2909 01fe 3B68     		ldr	r3, [r7]
 2910 0200 DB69     		ldr	r3, [r3, #28]
 2911              		.loc 1 851 61
 2912 0202 C3F31203 		ubfx	r3, r3, #0, #19
 2913              		.loc 1 851 33
 2914 0206 B968     		ldr	r1, [r7, #8]
 2915 0208 4801     		lsls	r0, r1, #5
 2916 020a F968     		ldr	r1, [r7, #12]
 2917 020c 0144     		add	r1, r1, r0
 2918 020e 01F53061 		add	r1, r1, #2816
 2919 0212 1343     		orrs	r3, r3, r2
 2920 0214 0B61     		str	r3, [r1, #16]
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable */
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2921              		.loc 1 854 32
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 67


 2922 0216 BB68     		ldr	r3, [r7, #8]
 2923 0218 5A01     		lsls	r2, r3, #5
 2924 021a FB68     		ldr	r3, [r7, #12]
 2925 021c 1344     		add	r3, r3, r2
 2926 021e 03F53063 		add	r3, r3, #2816
 2927 0222 1B68     		ldr	r3, [r3]
 2928 0224 BA68     		ldr	r2, [r7, #8]
 2929 0226 5101     		lsls	r1, r2, #5
 2930 0228 FA68     		ldr	r2, [r7, #12]
 2931 022a 0A44     		add	r2, r2, r1
 2932 022c 02F53062 		add	r2, r2, #2816
 2933 0230 43F00443 		orr	r3, r3, #-2080374784
 2934 0234 1360     		str	r3, [r2]
 2935              	.L122:
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 2936              		.loc 1 857 10
 2937 0236 0023     		movs	r3, #0
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 2938              		.loc 1 858 1
 2939 0238 1846     		mov	r0, r3
 2940 023a 1437     		adds	r7, r7, #20
 2941              		.cfi_def_cfa_offset 4
 2942 023c BD46     		mov	sp, r7
 2943              		.cfi_def_cfa_register 13
 2944              		@ sp needed
 2945 023e 5DF8047B 		ldr	r7, [sp], #4
 2946              		.cfi_restore 7
 2947              		.cfi_def_cfa_offset 0
 2948 0242 7047     		bx	lr
 2949              		.cfi_endproc
 2950              	.LFE336:
 2952              		.section	.text.USB_EPStopXfer,"ax",%progbits
 2953              		.align	1
 2954              		.global	USB_EPStopXfer
 2955              		.syntax unified
 2956              		.thumb
 2957              		.thumb_func
 2959              	USB_EPStopXfer:
 2960              	.LFB337:
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  USBx  usb device instance
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @retval HAL status
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 2961              		.loc 1 868 1
 2962              		.cfi_startproc
 2963              		@ args = 0, pretend = 0, frame = 24
 2964              		@ frame_needed = 1, uses_anonymous_args = 0
 2965              		@ link register save eliminated.
 2966 0000 80B4     		push	{r7}
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 68


 2967              		.cfi_def_cfa_offset 4
 2968              		.cfi_offset 7, -4
 2969 0002 87B0     		sub	sp, sp, #28
 2970              		.cfi_def_cfa_offset 32
 2971 0004 00AF     		add	r7, sp, #0
 2972              		.cfi_def_cfa_register 7
 2973 0006 7860     		str	r0, [r7, #4]
 2974 0008 3960     		str	r1, [r7]
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 2975              		.loc 1 869 17
 2976 000a 0023     		movs	r3, #0
 2977 000c FB60     		str	r3, [r7, #12]
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 2978              		.loc 1 870 21
 2979 000e 0023     		movs	r3, #0
 2980 0010 FB75     		strb	r3, [r7, #23]
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2981              		.loc 1 871 12
 2982 0012 7B68     		ldr	r3, [r7, #4]
 2983 0014 3B61     		str	r3, [r7, #16]
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2984              		.loc 1 874 9
 2985 0016 3B68     		ldr	r3, [r7]
 2986 0018 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2987              		.loc 1 874 6
 2988 001a 012B     		cmp	r3, #1
 2989 001c 4AD1     		bne	.L126
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2990              		.loc 1 877 11
 2991 001e 3B68     		ldr	r3, [r7]
 2992 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2993 0022 5A01     		lsls	r2, r3, #5
 2994 0024 3B69     		ldr	r3, [r7, #16]
 2995 0026 1344     		add	r3, r3, r2
 2996 0028 03F51063 		add	r3, r3, #2304
 2997              		.loc 1 877 29
 2998 002c 1B68     		ldr	r3, [r3]
 2999              		.loc 1 877 40
 3000 002e 03F00043 		and	r3, r3, #-2147483648
 3001              		.loc 1 877 8
 3002 0032 B3F1004F 		cmp	r3, #-2147483648
 3003 0036 40F08680 		bne	.L130
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 3004              		.loc 1 879 7
 3005 003a 3B68     		ldr	r3, [r7]
 3006 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3007              		.loc 1 879 35
 3008 003e 5A01     		lsls	r2, r3, #5
 3009 0040 3B69     		ldr	r3, [r7, #16]
 3010 0042 1344     		add	r3, r3, r2
 3011 0044 03F51063 		add	r3, r3, #2304
 3012 0048 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 69


 3013              		.loc 1 879 7
 3014 004a 3A68     		ldr	r2, [r7]
 3015 004c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3016              		.loc 1 879 35
 3017 004e 5101     		lsls	r1, r2, #5
 3018 0050 3A69     		ldr	r2, [r7, #16]
 3019 0052 0A44     		add	r2, r2, r1
 3020 0054 02F51062 		add	r2, r2, #2304
 3021 0058 43F00063 		orr	r3, r3, #134217728
 3022 005c 1360     		str	r3, [r2]
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 3023              		.loc 1 880 7
 3024 005e 3B68     		ldr	r3, [r7]
 3025 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3026              		.loc 1 880 35
 3027 0062 5A01     		lsls	r2, r3, #5
 3028 0064 3B69     		ldr	r3, [r7, #16]
 3029 0066 1344     		add	r3, r3, r2
 3030 0068 03F51063 		add	r3, r3, #2304
 3031 006c 1B68     		ldr	r3, [r3]
 3032              		.loc 1 880 7
 3033 006e 3A68     		ldr	r2, [r7]
 3034 0070 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3035              		.loc 1 880 35
 3036 0072 5101     		lsls	r1, r2, #5
 3037 0074 3A69     		ldr	r2, [r7, #16]
 3038 0076 0A44     		add	r2, r2, r1
 3039 0078 02F51062 		add	r2, r2, #2304
 3040 007c 43F08043 		orr	r3, r3, #1073741824
 3041 0080 1360     		str	r3, [r2]
 3042              	.L129:
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 3043              		.loc 1 884 14
 3044 0082 FB68     		ldr	r3, [r7, #12]
 3045 0084 0133     		adds	r3, r3, #1
 3046 0086 FB60     		str	r3, [r7, #12]
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 10000U)
 3047              		.loc 1 886 19
 3048 0088 FB68     		ldr	r3, [r7, #12]
 3049              		.loc 1 886 12
 3050 008a 42F21072 		movw	r2, #10000
 3051 008e 9342     		cmp	r3, r2
 3052 0090 02D9     		bls	.L128
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ret = HAL_ERROR;
 3053              		.loc 1 888 15
 3054 0092 0123     		movs	r3, #1
 3055 0094 FB75     		strb	r3, [r7, #23]
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
 3056              		.loc 1 889 11
 3057 0096 56E0     		b	.L130
 3058              	.L128:
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 70


 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) ==  USB_OTG_DIEPCTL_EPENA);
 3059              		.loc 1 891 18
 3060 0098 3B68     		ldr	r3, [r7]
 3061 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3062 009c 5A01     		lsls	r2, r3, #5
 3063 009e 3B69     		ldr	r3, [r7, #16]
 3064 00a0 1344     		add	r3, r3, r2
 3065 00a2 03F51063 		add	r3, r3, #2304
 3066              		.loc 1 891 36
 3067 00a6 1B68     		ldr	r3, [r3]
 3068              		.loc 1 891 47
 3069 00a8 03F00043 		and	r3, r3, #-2147483648
 3070              		.loc 1 891 72
 3071 00ac B3F1004F 		cmp	r3, #-2147483648
 3072 00b0 E7D0     		beq	.L129
 3073 00b2 48E0     		b	.L130
 3074              	.L126:
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 3075              		.loc 1 896 11
 3076 00b4 3B68     		ldr	r3, [r7]
 3077 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3078 00b8 5A01     		lsls	r2, r3, #5
 3079 00ba 3B69     		ldr	r3, [r7, #16]
 3080 00bc 1344     		add	r3, r3, r2
 3081 00be 03F53063 		add	r3, r3, #2816
 3082              		.loc 1 896 30
 3083 00c2 1B68     		ldr	r3, [r3]
 3084              		.loc 1 896 41
 3085 00c4 03F00043 		and	r3, r3, #-2147483648
 3086              		.loc 1 896 8
 3087 00c8 B3F1004F 		cmp	r3, #-2147483648
 3088 00cc 3BD1     		bne	.L130
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
 3089              		.loc 1 898 7
 3090 00ce 3B68     		ldr	r3, [r7]
 3091 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3092              		.loc 1 898 36
 3093 00d2 5A01     		lsls	r2, r3, #5
 3094 00d4 3B69     		ldr	r3, [r7, #16]
 3095 00d6 1344     		add	r3, r3, r2
 3096 00d8 03F53063 		add	r3, r3, #2816
 3097 00dc 1B68     		ldr	r3, [r3]
 3098              		.loc 1 898 7
 3099 00de 3A68     		ldr	r2, [r7]
 3100 00e0 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3101              		.loc 1 898 36
 3102 00e2 5101     		lsls	r1, r2, #5
 3103 00e4 3A69     		ldr	r2, [r7, #16]
 3104 00e6 0A44     		add	r2, r2, r1
 3105 00e8 02F53062 		add	r2, r2, #2816
 3106 00ec 43F00063 		orr	r3, r3, #134217728
 3107 00f0 1360     		str	r3, [r2]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 71


 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 3108              		.loc 1 899 7
 3109 00f2 3B68     		ldr	r3, [r7]
 3110 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3111              		.loc 1 899 36
 3112 00f6 5A01     		lsls	r2, r3, #5
 3113 00f8 3B69     		ldr	r3, [r7, #16]
 3114 00fa 1344     		add	r3, r3, r2
 3115 00fc 03F53063 		add	r3, r3, #2816
 3116 0100 1B68     		ldr	r3, [r3]
 3117              		.loc 1 899 7
 3118 0102 3A68     		ldr	r2, [r7]
 3119 0104 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3120              		.loc 1 899 36
 3121 0106 5101     		lsls	r1, r2, #5
 3122 0108 3A69     		ldr	r2, [r7, #16]
 3123 010a 0A44     		add	r2, r2, r1
 3124 010c 02F53062 		add	r2, r2, #2816
 3125 0110 43F08043 		orr	r3, r3, #1073741824
 3126 0114 1360     		str	r3, [r2]
 3127              	.L132:
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 3128              		.loc 1 903 14
 3129 0116 FB68     		ldr	r3, [r7, #12]
 3130 0118 0133     		adds	r3, r3, #1
 3131 011a FB60     		str	r3, [r7, #12]
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 10000U)
 3132              		.loc 1 905 19
 3133 011c FB68     		ldr	r3, [r7, #12]
 3134              		.loc 1 905 12
 3135 011e 42F21072 		movw	r2, #10000
 3136 0122 9342     		cmp	r3, r2
 3137 0124 02D9     		bls	.L131
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ret = HAL_ERROR;
 3138              		.loc 1 907 15
 3139 0126 0123     		movs	r3, #1
 3140 0128 FB75     		strb	r3, [r7, #23]
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
 3141              		.loc 1 908 11
 3142 012a 0CE0     		b	.L130
 3143              	.L131:
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) ==  USB_OTG_DOEPCTL_EPENA);
 3144              		.loc 1 910 18
 3145 012c 3B68     		ldr	r3, [r7]
 3146 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3147 0130 5A01     		lsls	r2, r3, #5
 3148 0132 3B69     		ldr	r3, [r7, #16]
 3149 0134 1344     		add	r3, r3, r2
 3150 0136 03F53063 		add	r3, r3, #2816
 3151              		.loc 1 910 37
 3152 013a 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 72


 3153              		.loc 1 910 48
 3154 013c 03F00043 		and	r3, r3, #-2147483648
 3155              		.loc 1 910 73
 3156 0140 B3F1004F 		cmp	r3, #-2147483648
 3157 0144 E7D0     		beq	.L132
 3158              	.L130:
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 3159              		.loc 1 914 10
 3160 0146 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3161              		.loc 1 915 1
 3162 0148 1846     		mov	r0, r3
 3163 014a 1C37     		adds	r7, r7, #28
 3164              		.cfi_def_cfa_offset 4
 3165 014c BD46     		mov	sp, r7
 3166              		.cfi_def_cfa_register 13
 3167              		@ sp needed
 3168 014e 5DF8047B 		ldr	r7, [sp], #4
 3169              		.cfi_restore 7
 3170              		.cfi_def_cfa_offset 0
 3171 0152 7047     		bx	lr
 3172              		.cfi_endproc
 3173              	.LFE337:
 3175              		.section	.text.USB_WritePacket,"ax",%progbits
 3176              		.align	1
 3177              		.global	USB_WritePacket
 3178              		.syntax unified
 3179              		.thumb
 3180              		.thumb_func
 3182              	USB_WritePacket:
 3183              	.LFB338:
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         with the EP/channel
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len)
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3184              		.loc 1 929 1
 3185              		.cfi_startproc
 3186              		@ args = 0, pretend = 0, frame = 32
 3187              		@ frame_needed = 1, uses_anonymous_args = 0
 3188              		@ link register save eliminated.
 3189 0000 80B4     		push	{r7}
 3190              		.cfi_def_cfa_offset 4
 3191              		.cfi_offset 7, -4
 3192 0002 89B0     		sub	sp, sp, #36
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 73


 3193              		.cfi_def_cfa_offset 40
 3194 0004 00AF     		add	r7, sp, #0
 3195              		.cfi_def_cfa_register 7
 3196 0006 F860     		str	r0, [r7, #12]
 3197 0008 B960     		str	r1, [r7, #8]
 3198 000a 1146     		mov	r1, r2
 3199 000c 1A46     		mov	r2, r3
 3200 000e 0B46     		mov	r3, r1
 3201 0010 FB71     		strb	r3, [r7, #7]
 3202 0012 1346     		mov	r3, r2	@ movhi
 3203 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3204              		.loc 1 930 12
 3205 0016 FB68     		ldr	r3, [r7, #12]
 3206 0018 7B61     		str	r3, [r7, #20]
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pSrc = src;
 3207              		.loc 1 931 12
 3208 001a BB68     		ldr	r3, [r7, #8]
 3209 001c FB61     		str	r3, [r7, #28]
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count32b;
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count32b = ((uint32_t)len + 3U) / 4U;
 3210              		.loc 1 935 15
 3211 001e BB88     		ldrh	r3, [r7, #4]
 3212              		.loc 1 935 29
 3213 0020 0333     		adds	r3, r3, #3
 3214              		.loc 1 935 12
 3215 0022 9B08     		lsrs	r3, r3, #2
 3216 0024 3B61     		str	r3, [r7, #16]
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3217              		.loc 1 936 10
 3218 0026 0023     		movs	r3, #0
 3219 0028 BB61     		str	r3, [r7, #24]
 3220              		.loc 1 936 3
 3221 002a 18E0     		b	.L135
 3222              	.L136:
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3223              		.loc 1 938 5 discriminator 3
 3224 002c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3225 002e 1A03     		lsls	r2, r3, #12
 3226 0030 7B69     		ldr	r3, [r7, #20]
 3227 0032 1344     		add	r3, r3, r2
 3228 0034 03F58053 		add	r3, r3, #4096
 3229 0038 1A46     		mov	r2, r3
 3230              		.loc 1 938 39 discriminator 3
 3231 003a FB69     		ldr	r3, [r7, #28]
 3232 003c 1B68     		ldr	r3, [r3]	@ unaligned
 3233              		.loc 1 938 37 discriminator 3
 3234 003e 1360     		str	r3, [r2]
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3235              		.loc 1 939 9 discriminator 3
 3236 0040 FB69     		ldr	r3, [r7, #28]
 3237 0042 0133     		adds	r3, r3, #1
 3238 0044 FB61     		str	r3, [r7, #28]
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 74


 3239              		.loc 1 940 9 discriminator 3
 3240 0046 FB69     		ldr	r3, [r7, #28]
 3241 0048 0133     		adds	r3, r3, #1
 3242 004a FB61     		str	r3, [r7, #28]
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3243              		.loc 1 941 9 discriminator 3
 3244 004c FB69     		ldr	r3, [r7, #28]
 3245 004e 0133     		adds	r3, r3, #1
 3246 0050 FB61     		str	r3, [r7, #28]
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3247              		.loc 1 942 9 discriminator 3
 3248 0052 FB69     		ldr	r3, [r7, #28]
 3249 0054 0133     		adds	r3, r3, #1
 3250 0056 FB61     		str	r3, [r7, #28]
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3251              		.loc 1 936 31 discriminator 3
 3252 0058 BB69     		ldr	r3, [r7, #24]
 3253 005a 0133     		adds	r3, r3, #1
 3254 005c BB61     		str	r3, [r7, #24]
 3255              	.L135:
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3256              		.loc 1 936 18 discriminator 1
 3257 005e BA69     		ldr	r2, [r7, #24]
 3258 0060 3B69     		ldr	r3, [r7, #16]
 3259 0062 9A42     		cmp	r2, r3
 3260 0064 E2D3     		bcc	.L136
 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3261              		.loc 1 945 10
 3262 0066 0023     		movs	r3, #0
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3263              		.loc 1 946 1
 3264 0068 1846     		mov	r0, r3
 3265 006a 2437     		adds	r7, r7, #36
 3266              		.cfi_def_cfa_offset 4
 3267 006c BD46     		mov	sp, r7
 3268              		.cfi_def_cfa_register 13
 3269              		@ sp needed
 3270 006e 5DF8047B 		ldr	r7, [sp], #4
 3271              		.cfi_restore 7
 3272              		.cfi_def_cfa_offset 0
 3273 0072 7047     		bx	lr
 3274              		.cfi_endproc
 3275              	.LFE338:
 3277              		.section	.text.USB_ReadPacket,"ax",%progbits
 3278              		.align	1
 3279              		.global	USB_ReadPacket
 3280              		.syntax unified
 3281              		.thumb
 3282              		.thumb_func
 3284              	USB_ReadPacket:
 3285              	.LFB339:
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 75


 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  dest  source pointer
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval pointer to destination buffer
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3286              		.loc 1 956 1
 3287              		.cfi_startproc
 3288              		@ args = 0, pretend = 0, frame = 40
 3289              		@ frame_needed = 1, uses_anonymous_args = 0
 3290              		@ link register save eliminated.
 3291 0000 80B4     		push	{r7}
 3292              		.cfi_def_cfa_offset 4
 3293              		.cfi_offset 7, -4
 3294 0002 8BB0     		sub	sp, sp, #44
 3295              		.cfi_def_cfa_offset 48
 3296 0004 00AF     		add	r7, sp, #0
 3297              		.cfi_def_cfa_register 7
 3298 0006 F860     		str	r0, [r7, #12]
 3299 0008 B960     		str	r1, [r7, #8]
 3300 000a 1346     		mov	r3, r2
 3301 000c FB80     		strh	r3, [r7, #6]	@ movhi
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3302              		.loc 1 957 12
 3303 000e FB68     		ldr	r3, [r7, #12]
 3304 0010 BB61     		str	r3, [r7, #24]
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pDest = dest;
 3305              		.loc 1 958 12
 3306 0012 BB68     		ldr	r3, [r7, #8]
 3307 0014 7B62     		str	r3, [r7, #36]
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t pData;
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 3308              		.loc 1 961 37
 3309 0016 FB88     		ldrh	r3, [r7, #6]
 3310 0018 9B08     		lsrs	r3, r3, #2
 3311 001a 9BB2     		uxth	r3, r3
 3312              		.loc 1 961 12
 3313 001c 7B61     		str	r3, [r7, #20]
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 3314              		.loc 1 962 12
 3315 001e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3316 0020 03F00303 		and	r3, r3, #3
 3317 0024 FB83     		strh	r3, [r7, #30]	@ movhi
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3318              		.loc 1 964 10
 3319 0026 0023     		movs	r3, #0
 3320 0028 3B62     		str	r3, [r7, #32]
 3321              		.loc 1 964 3
 3322 002a 14E0     		b	.L139
 3323              	.L140:
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3324              		.loc 1 966 5 discriminator 3
 3325 002c BB69     		ldr	r3, [r7, #24]
 3326 002e 03F58053 		add	r3, r3, #4096
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 76


 3327 0032 1A68     		ldr	r2, [r3]
 3328 0034 7B6A     		ldr	r3, [r7, #36]
 3329 0036 1A60     		str	r2, [r3]	@ unaligned
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3330              		.loc 1 967 10 discriminator 3
 3331 0038 7B6A     		ldr	r3, [r7, #36]
 3332 003a 0133     		adds	r3, r3, #1
 3333 003c 7B62     		str	r3, [r7, #36]
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3334              		.loc 1 968 10 discriminator 3
 3335 003e 7B6A     		ldr	r3, [r7, #36]
 3336 0040 0133     		adds	r3, r3, #1
 3337 0042 7B62     		str	r3, [r7, #36]
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3338              		.loc 1 969 10 discriminator 3
 3339 0044 7B6A     		ldr	r3, [r7, #36]
 3340 0046 0133     		adds	r3, r3, #1
 3341 0048 7B62     		str	r3, [r7, #36]
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3342              		.loc 1 970 10 discriminator 3
 3343 004a 7B6A     		ldr	r3, [r7, #36]
 3344 004c 0133     		adds	r3, r3, #1
 3345 004e 7B62     		str	r3, [r7, #36]
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3346              		.loc 1 964 31 discriminator 3
 3347 0050 3B6A     		ldr	r3, [r7, #32]
 3348 0052 0133     		adds	r3, r3, #1
 3349 0054 3B62     		str	r3, [r7, #32]
 3350              	.L139:
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3351              		.loc 1 964 18 discriminator 1
 3352 0056 3A6A     		ldr	r2, [r7, #32]
 3353 0058 7B69     		ldr	r3, [r7, #20]
 3354 005a 9A42     		cmp	r2, r3
 3355 005c E6D3     		bcc	.L140
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (remaining_bytes != 0U)
 3356              		.loc 1 974 6
 3357 005e FB8B     		ldrh	r3, [r7, #30]
 3358 0060 002B     		cmp	r3, #0
 3359 0062 1ED0     		beq	.L141
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     i = 0U;
 3360              		.loc 1 976 7
 3361 0064 0023     		movs	r3, #0
 3362 0066 3B62     		str	r3, [r7, #32]
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 3363              		.loc 1 977 5
 3364 0068 BB69     		ldr	r3, [r7, #24]
 3365 006a 03F58053 		add	r3, r3, #4096
 3366 006e 1A46     		mov	r2, r3
 3367 0070 07F11003 		add	r3, r7, #16
 3368 0074 1268     		ldr	r2, [r2]
 3369 0076 1A60     		str	r2, [r3]	@ unaligned
 3370              	.L142:
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 77


 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 3371              		.loc 1 981 43 discriminator 1
 3372 0078 3A69     		ldr	r2, [r7, #16]
 3373              		.loc 1 981 52 discriminator 1
 3374 007a 3B6A     		ldr	r3, [r7, #32]
 3375 007c DBB2     		uxtb	r3, r3
 3376              		.loc 1 981 50 discriminator 1
 3377 007e DB00     		lsls	r3, r3, #3
 3378              		.loc 1 981 43 discriminator 1
 3379 0080 22FA03F3 		lsr	r3, r2, r3
 3380              		.loc 1 981 27 discriminator 1
 3381 0084 DAB2     		uxtb	r2, r3
 3382              		.loc 1 981 25 discriminator 1
 3383 0086 7B6A     		ldr	r3, [r7, #36]
 3384 0088 1A70     		strb	r2, [r3]
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       i++;
 3385              		.loc 1 982 8 discriminator 1
 3386 008a 3B6A     		ldr	r3, [r7, #32]
 3387 008c 0133     		adds	r3, r3, #1
 3388 008e 3B62     		str	r3, [r7, #32]
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       pDest++;
 3389              		.loc 1 983 12 discriminator 1
 3390 0090 7B6A     		ldr	r3, [r7, #36]
 3391 0092 0133     		adds	r3, r3, #1
 3392 0094 7B62     		str	r3, [r7, #36]
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       remaining_bytes--;
 3393              		.loc 1 984 22 discriminator 1
 3394 0096 FB8B     		ldrh	r3, [r7, #30]
 3395 0098 013B     		subs	r3, r3, #1
 3396 009a FB83     		strh	r3, [r7, #30]	@ movhi
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 3397              		.loc 1 985 30 discriminator 1
 3398 009c FB8B     		ldrh	r3, [r7, #30]
 3399 009e 002B     		cmp	r3, #0
 3400 00a0 EAD1     		bne	.L142
 3401              	.L141:
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((void *)pDest);
 3402              		.loc 1 988 11
 3403 00a2 7B6A     		ldr	r3, [r7, #36]
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3404              		.loc 1 989 1
 3405 00a4 1846     		mov	r0, r3
 3406 00a6 2C37     		adds	r7, r7, #44
 3407              		.cfi_def_cfa_offset 4
 3408 00a8 BD46     		mov	sp, r7
 3409              		.cfi_def_cfa_register 13
 3410              		@ sp needed
 3411 00aa 5DF8047B 		ldr	r7, [sp], #4
 3412              		.cfi_restore 7
 3413              		.cfi_def_cfa_offset 0
 3414 00ae 7047     		bx	lr
 3415              		.cfi_endproc
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 78


 3416              	.LFE339:
 3418              		.section	.text.USB_EPSetStall,"ax",%progbits
 3419              		.align	1
 3420              		.global	USB_EPSetStall
 3421              		.syntax unified
 3422              		.thumb
 3423              		.thumb_func
 3425              	USB_EPSetStall:
 3426              	.LFB340:
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3427              		.loc 1 998 1
 3428              		.cfi_startproc
 3429              		@ args = 0, pretend = 0, frame = 16
 3430              		@ frame_needed = 1, uses_anonymous_args = 0
 3431              		@ link register save eliminated.
 3432 0000 80B4     		push	{r7}
 3433              		.cfi_def_cfa_offset 4
 3434              		.cfi_offset 7, -4
 3435 0002 85B0     		sub	sp, sp, #20
 3436              		.cfi_def_cfa_offset 24
 3437 0004 00AF     		add	r7, sp, #0
 3438              		.cfi_def_cfa_register 7
 3439 0006 7860     		str	r0, [r7, #4]
 3440 0008 3960     		str	r1, [r7]
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3441              		.loc 1 999 12
 3442 000a 7B68     		ldr	r3, [r7, #4]
 3443 000c FB60     		str	r3, [r7, #12]
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3444              		.loc 1 1000 32
 3445 000e 3B68     		ldr	r3, [r7]
 3446 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3447              		.loc 1 1000 12
 3448 0012 BB60     		str	r3, [r7, #8]
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3449              		.loc 1 1002 9
 3450 0014 3B68     		ldr	r3, [r7]
 3451 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3452              		.loc 1 1002 6
 3453 0018 012B     		cmp	r3, #1
 3454 001a 2CD1     		bne	.L145
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3455              		.loc 1 1004 11
 3456 001c BB68     		ldr	r3, [r7, #8]
 3457 001e 5A01     		lsls	r2, r3, #5
 3458 0020 FB68     		ldr	r3, [r7, #12]
 3459 0022 1344     		add	r3, r3, r2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 79


 3460 0024 03F51063 		add	r3, r3, #2304
 3461              		.loc 1 1004 27
 3462 0028 1B68     		ldr	r3, [r3]
 3463              		.loc 1 1004 8
 3464 002a 002B     		cmp	r3, #0
 3465 002c 12DB     		blt	.L146
 3466              		.loc 1 1004 69 discriminator 1
 3467 002e BB68     		ldr	r3, [r7, #8]
 3468 0030 002B     		cmp	r3, #0
 3469 0032 0FD0     		beq	.L146
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3470              		.loc 1 1006 33
 3471 0034 BB68     		ldr	r3, [r7, #8]
 3472 0036 5A01     		lsls	r2, r3, #5
 3473 0038 FB68     		ldr	r3, [r7, #12]
 3474 003a 1344     		add	r3, r3, r2
 3475 003c 03F51063 		add	r3, r3, #2304
 3476 0040 1B68     		ldr	r3, [r3]
 3477 0042 BA68     		ldr	r2, [r7, #8]
 3478 0044 5101     		lsls	r1, r2, #5
 3479 0046 FA68     		ldr	r2, [r7, #12]
 3480 0048 0A44     		add	r2, r2, r1
 3481 004a 02F51062 		add	r2, r2, #2304
 3482 004e 23F08043 		bic	r3, r3, #1073741824
 3483 0052 1360     		str	r3, [r2]
 3484              	.L146:
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3485              		.loc 1 1008 31
 3486 0054 BB68     		ldr	r3, [r7, #8]
 3487 0056 5A01     		lsls	r2, r3, #5
 3488 0058 FB68     		ldr	r3, [r7, #12]
 3489 005a 1344     		add	r3, r3, r2
 3490 005c 03F51063 		add	r3, r3, #2304
 3491 0060 1B68     		ldr	r3, [r3]
 3492 0062 BA68     		ldr	r2, [r7, #8]
 3493 0064 5101     		lsls	r1, r2, #5
 3494 0066 FA68     		ldr	r2, [r7, #12]
 3495 0068 0A44     		add	r2, r2, r1
 3496 006a 02F51062 		add	r2, r2, #2304
 3497 006e 43F40013 		orr	r3, r3, #2097152
 3498 0072 1360     		str	r3, [r2]
 3499 0074 2BE0     		b	.L147
 3500              	.L145:
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3501              		.loc 1 1012 11
 3502 0076 BB68     		ldr	r3, [r7, #8]
 3503 0078 5A01     		lsls	r2, r3, #5
 3504 007a FB68     		ldr	r3, [r7, #12]
 3505 007c 1344     		add	r3, r3, r2
 3506 007e 03F53063 		add	r3, r3, #2816
 3507              		.loc 1 1012 28
 3508 0082 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 80


 3509              		.loc 1 1012 8
 3510 0084 002B     		cmp	r3, #0
 3511 0086 12DB     		blt	.L148
 3512              		.loc 1 1012 70 discriminator 1
 3513 0088 BB68     		ldr	r3, [r7, #8]
 3514 008a 002B     		cmp	r3, #0
 3515 008c 0FD0     		beq	.L148
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3516              		.loc 1 1014 34
 3517 008e BB68     		ldr	r3, [r7, #8]
 3518 0090 5A01     		lsls	r2, r3, #5
 3519 0092 FB68     		ldr	r3, [r7, #12]
 3520 0094 1344     		add	r3, r3, r2
 3521 0096 03F53063 		add	r3, r3, #2816
 3522 009a 1B68     		ldr	r3, [r3]
 3523 009c BA68     		ldr	r2, [r7, #8]
 3524 009e 5101     		lsls	r1, r2, #5
 3525 00a0 FA68     		ldr	r2, [r7, #12]
 3526 00a2 0A44     		add	r2, r2, r1
 3527 00a4 02F53062 		add	r2, r2, #2816
 3528 00a8 23F08043 		bic	r3, r3, #1073741824
 3529 00ac 1360     		str	r3, [r2]
 3530              	.L148:
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3531              		.loc 1 1016 32
 3532 00ae BB68     		ldr	r3, [r7, #8]
 3533 00b0 5A01     		lsls	r2, r3, #5
 3534 00b2 FB68     		ldr	r3, [r7, #12]
 3535 00b4 1344     		add	r3, r3, r2
 3536 00b6 03F53063 		add	r3, r3, #2816
 3537 00ba 1B68     		ldr	r3, [r3]
 3538 00bc BA68     		ldr	r2, [r7, #8]
 3539 00be 5101     		lsls	r1, r2, #5
 3540 00c0 FA68     		ldr	r2, [r7, #12]
 3541 00c2 0A44     		add	r2, r2, r1
 3542 00c4 02F53062 		add	r2, r2, #2816
 3543 00c8 43F40013 		orr	r3, r3, #2097152
 3544 00cc 1360     		str	r3, [r2]
 3545              	.L147:
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3546              		.loc 1 1019 10
 3547 00ce 0023     		movs	r3, #0
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3548              		.loc 1 1020 1
 3549 00d0 1846     		mov	r0, r3
 3550 00d2 1437     		adds	r7, r7, #20
 3551              		.cfi_def_cfa_offset 4
 3552 00d4 BD46     		mov	sp, r7
 3553              		.cfi_def_cfa_register 13
 3554              		@ sp needed
 3555 00d6 5DF8047B 		ldr	r7, [sp], #4
 3556              		.cfi_restore 7
 3557              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 81


 3558 00da 7047     		bx	lr
 3559              		.cfi_endproc
 3560              	.LFE340:
 3562              		.section	.text.USB_EPClearStall,"ax",%progbits
 3563              		.align	1
 3564              		.global	USB_EPClearStall
 3565              		.syntax unified
 3566              		.thumb
 3567              		.thumb_func
 3569              	USB_EPClearStall:
 3570              	.LFB341:
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3571              		.loc 1 1029 1
 3572              		.cfi_startproc
 3573              		@ args = 0, pretend = 0, frame = 16
 3574              		@ frame_needed = 1, uses_anonymous_args = 0
 3575              		@ link register save eliminated.
 3576 0000 80B4     		push	{r7}
 3577              		.cfi_def_cfa_offset 4
 3578              		.cfi_offset 7, -4
 3579 0002 85B0     		sub	sp, sp, #20
 3580              		.cfi_def_cfa_offset 24
 3581 0004 00AF     		add	r7, sp, #0
 3582              		.cfi_def_cfa_register 7
 3583 0006 7860     		str	r0, [r7, #4]
 3584 0008 3960     		str	r1, [r7]
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3585              		.loc 1 1030 12
 3586 000a 7B68     		ldr	r3, [r7, #4]
 3587 000c FB60     		str	r3, [r7, #12]
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3588              		.loc 1 1031 32
 3589 000e 3B68     		ldr	r3, [r7]
 3590 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3591              		.loc 1 1031 12
 3592 0012 BB60     		str	r3, [r7, #8]
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3593              		.loc 1 1033 9
 3594 0014 3B68     		ldr	r3, [r7]
 3595 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3596              		.loc 1 1033 6
 3597 0018 012B     		cmp	r3, #1
 3598 001a 28D1     		bne	.L151
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3599              		.loc 1 1035 31
 3600 001c BB68     		ldr	r3, [r7, #8]
 3601 001e 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 82


 3602 0020 FB68     		ldr	r3, [r7, #12]
 3603 0022 1344     		add	r3, r3, r2
 3604 0024 03F51063 		add	r3, r3, #2304
 3605 0028 1B68     		ldr	r3, [r3]
 3606 002a BA68     		ldr	r2, [r7, #8]
 3607 002c 5101     		lsls	r1, r2, #5
 3608 002e FA68     		ldr	r2, [r7, #12]
 3609 0030 0A44     		add	r2, r2, r1
 3610 0032 02F51062 		add	r2, r2, #2304
 3611 0036 23F40013 		bic	r3, r3, #2097152
 3612 003a 1360     		str	r3, [r2]
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3613              		.loc 1 1036 12
 3614 003c 3B68     		ldr	r3, [r7]
 3615 003e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3616              		.loc 1 1036 8
 3617 0040 032B     		cmp	r3, #3
 3618 0042 03D0     		beq	.L152
 3619              		.loc 1 1036 42 discriminator 1
 3620 0044 3B68     		ldr	r3, [r7]
 3621 0046 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3622              		.loc 1 1036 36 discriminator 1
 3623 0048 022B     		cmp	r3, #2
 3624 004a 38D1     		bne	.L153
 3625              	.L152:
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3626              		.loc 1 1038 33
 3627 004c BB68     		ldr	r3, [r7, #8]
 3628 004e 5A01     		lsls	r2, r3, #5
 3629 0050 FB68     		ldr	r3, [r7, #12]
 3630 0052 1344     		add	r3, r3, r2
 3631 0054 03F51063 		add	r3, r3, #2304
 3632 0058 1B68     		ldr	r3, [r3]
 3633 005a BA68     		ldr	r2, [r7, #8]
 3634 005c 5101     		lsls	r1, r2, #5
 3635 005e FA68     		ldr	r2, [r7, #12]
 3636 0060 0A44     		add	r2, r2, r1
 3637 0062 02F51062 		add	r2, r2, #2304
 3638 0066 43F08053 		orr	r3, r3, #268435456
 3639 006a 1360     		str	r3, [r2]
 3640 006c 27E0     		b	.L153
 3641              	.L151:
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 3642              		.loc 1 1043 32
 3643 006e BB68     		ldr	r3, [r7, #8]
 3644 0070 5A01     		lsls	r2, r3, #5
 3645 0072 FB68     		ldr	r3, [r7, #12]
 3646 0074 1344     		add	r3, r3, r2
 3647 0076 03F53063 		add	r3, r3, #2816
 3648 007a 1B68     		ldr	r3, [r3]
 3649 007c BA68     		ldr	r2, [r7, #8]
 3650 007e 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 83


 3651 0080 FA68     		ldr	r2, [r7, #12]
 3652 0082 0A44     		add	r2, r2, r1
 3653 0084 02F53062 		add	r2, r2, #2816
 3654 0088 23F40013 		bic	r3, r3, #2097152
 3655 008c 1360     		str	r3, [r2]
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3656              		.loc 1 1044 12
 3657 008e 3B68     		ldr	r3, [r7]
 3658 0090 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3659              		.loc 1 1044 8
 3660 0092 032B     		cmp	r3, #3
 3661 0094 03D0     		beq	.L154
 3662              		.loc 1 1044 42 discriminator 1
 3663 0096 3B68     		ldr	r3, [r7]
 3664 0098 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3665              		.loc 1 1044 36 discriminator 1
 3666 009a 022B     		cmp	r3, #2
 3667 009c 0FD1     		bne	.L153
 3668              	.L154:
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3669              		.loc 1 1046 34
 3670 009e BB68     		ldr	r3, [r7, #8]
 3671 00a0 5A01     		lsls	r2, r3, #5
 3672 00a2 FB68     		ldr	r3, [r7, #12]
 3673 00a4 1344     		add	r3, r3, r2
 3674 00a6 03F53063 		add	r3, r3, #2816
 3675 00aa 1B68     		ldr	r3, [r3]
 3676 00ac BA68     		ldr	r2, [r7, #8]
 3677 00ae 5101     		lsls	r1, r2, #5
 3678 00b0 FA68     		ldr	r2, [r7, #12]
 3679 00b2 0A44     		add	r2, r2, r1
 3680 00b4 02F53062 		add	r2, r2, #2816
 3681 00b8 43F08053 		orr	r3, r3, #268435456
 3682 00bc 1360     		str	r3, [r2]
 3683              	.L153:
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3684              		.loc 1 1049 10
 3685 00be 0023     		movs	r3, #0
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3686              		.loc 1 1050 1
 3687 00c0 1846     		mov	r0, r3
 3688 00c2 1437     		adds	r7, r7, #20
 3689              		.cfi_def_cfa_offset 4
 3690 00c4 BD46     		mov	sp, r7
 3691              		.cfi_def_cfa_register 13
 3692              		@ sp needed
 3693 00c6 5DF8047B 		ldr	r7, [sp], #4
 3694              		.cfi_restore 7
 3695              		.cfi_def_cfa_offset 0
 3696 00ca 7047     		bx	lr
 3697              		.cfi_endproc
 3698              	.LFE341:
 3700              		.section	.text.USB_StopDevice,"ax",%progbits
 3701              		.align	1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 84


 3702              		.global	USB_StopDevice
 3703              		.syntax unified
 3704              		.thumb
 3705              		.thumb_func
 3707              	USB_StopDevice:
 3708              	.LFB342:
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3709              		.loc 1 1058 1
 3710              		.cfi_startproc
 3711              		@ args = 0, pretend = 0, frame = 24
 3712              		@ frame_needed = 1, uses_anonymous_args = 0
 3713 0000 80B5     		push	{r7, lr}
 3714              		.cfi_def_cfa_offset 8
 3715              		.cfi_offset 7, -8
 3716              		.cfi_offset 14, -4
 3717 0002 86B0     		sub	sp, sp, #24
 3718              		.cfi_def_cfa_offset 32
 3719 0004 00AF     		add	r7, sp, #0
 3720              		.cfi_def_cfa_register 7
 3721 0006 7860     		str	r0, [r7, #4]
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3722              		.loc 1 1060 12
 3723 0008 7B68     		ldr	r3, [r7, #4]
 3724 000a 3B61     		str	r3, [r7, #16]
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear Pending interrupt */
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 3725              		.loc 1 1064 10
 3726 000c 0023     		movs	r3, #0
 3727 000e 7B61     		str	r3, [r7, #20]
 3728              		.loc 1 1064 3
 3729 0010 16E0     		b	.L157
 3730              	.L158:
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 3731              		.loc 1 1066 5 discriminator 3
 3732 0012 7B69     		ldr	r3, [r7, #20]
 3733 0014 5A01     		lsls	r2, r3, #5
 3734 0016 3B69     		ldr	r3, [r7, #16]
 3735 0018 1344     		add	r3, r3, r2
 3736 001a 03F51063 		add	r3, r3, #2304
 3737 001e 1A46     		mov	r2, r3
 3738              		.loc 1 1066 27 discriminator 3
 3739 0020 4FF67F33 		movw	r3, #64383
 3740 0024 9360     		str	r3, [r2, #8]
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 3741              		.loc 1 1067 5 discriminator 3
 3742 0026 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 85


 3743 0028 5A01     		lsls	r2, r3, #5
 3744 002a 3B69     		ldr	r3, [r7, #16]
 3745 002c 1344     		add	r3, r3, r2
 3746 002e 03F53063 		add	r3, r3, #2816
 3747 0032 1A46     		mov	r2, r3
 3748              		.loc 1 1067 28 discriminator 3
 3749 0034 4FF67F33 		movw	r3, #64383
 3750 0038 9360     		str	r3, [r2, #8]
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3751              		.loc 1 1064 26 discriminator 3
 3752 003a 7B69     		ldr	r3, [r7, #20]
 3753 003c 0133     		adds	r3, r3, #1
 3754 003e 7B61     		str	r3, [r7, #20]
 3755              	.L157:
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3756              		.loc 1 1064 18 discriminator 1
 3757 0040 7B69     		ldr	r3, [r7, #20]
 3758 0042 0E2B     		cmp	r3, #14
 3759 0044 E5D9     		bls	.L158
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear interrupt masks */
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3760              		.loc 1 1071 3
 3761 0046 3B69     		ldr	r3, [r7, #16]
 3762 0048 03F50063 		add	r3, r3, #2048
 3763 004c 1A46     		mov	r2, r3
 3764              		.loc 1 1071 25
 3765 004e 0023     		movs	r3, #0
 3766 0050 1361     		str	r3, [r2, #16]
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 3767              		.loc 1 1072 3
 3768 0052 3B69     		ldr	r3, [r7, #16]
 3769 0054 03F50063 		add	r3, r3, #2048
 3770 0058 1A46     		mov	r2, r3
 3771              		.loc 1 1072 25
 3772 005a 0023     		movs	r3, #0
 3773 005c 5361     		str	r3, [r2, #20]
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3774              		.loc 1 1073 3
 3775 005e 3B69     		ldr	r3, [r7, #16]
 3776 0060 03F50063 		add	r3, r3, #2048
 3777 0064 1A46     		mov	r2, r3
 3778              		.loc 1 1073 25
 3779 0066 0023     		movs	r3, #0
 3780 0068 D361     		str	r3, [r2, #28]
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush the FIFO */
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 3781              		.loc 1 1076 9
 3782 006a 7868     		ldr	r0, [r7, #4]
 3783 006c FFF7FEFF 		bl	USB_FlushRxFifo
 3784 0070 0346     		mov	r3, r0
 3785 0072 FB73     		strb	r3, [r7, #15]
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ret != HAL_OK)
 3786              		.loc 1 1077 6
 3787 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 86


 3788 0076 002B     		cmp	r3, #0
 3789 0078 01D0     		beq	.L159
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return ret;
 3790              		.loc 1 1079 12
 3791 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3792 007c 0BE0     		b	.L160
 3793              	.L159:
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 3794              		.loc 1 1082 9
 3795 007e 1021     		movs	r1, #16
 3796 0080 7868     		ldr	r0, [r7, #4]
 3797 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 3798 0086 0346     		mov	r3, r0
 3799 0088 FB73     		strb	r3, [r7, #15]
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ret != HAL_OK)
 3800              		.loc 1 1083 6
 3801 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3802 008c 002B     		cmp	r3, #0
 3803 008e 01D0     		beq	.L161
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return ret;
 3804              		.loc 1 1085 12
 3805 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3806 0092 00E0     		b	.L160
 3807              	.L161:
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 3808              		.loc 1 1088 10
 3809 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3810              	.L160:
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3811              		.loc 1 1089 1
 3812 0096 1846     		mov	r0, r3
 3813 0098 1837     		adds	r7, r7, #24
 3814              		.cfi_def_cfa_offset 8
 3815 009a BD46     		mov	sp, r7
 3816              		.cfi_def_cfa_register 13
 3817              		@ sp needed
 3818 009c 80BD     		pop	{r7, pc}
 3819              		.cfi_endproc
 3820              	.LFE342:
 3822              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3823              		.align	1
 3824              		.global	USB_SetDevAddress
 3825              		.syntax unified
 3826              		.thumb
 3827              		.thumb_func
 3829              	USB_SetDevAddress:
 3830              	.LFB343:
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 87


1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3831              		.loc 1 1099 1
 3832              		.cfi_startproc
 3833              		@ args = 0, pretend = 0, frame = 16
 3834              		@ frame_needed = 1, uses_anonymous_args = 0
 3835              		@ link register save eliminated.
 3836 0000 80B4     		push	{r7}
 3837              		.cfi_def_cfa_offset 4
 3838              		.cfi_offset 7, -4
 3839 0002 85B0     		sub	sp, sp, #20
 3840              		.cfi_def_cfa_offset 24
 3841 0004 00AF     		add	r7, sp, #0
 3842              		.cfi_def_cfa_register 7
 3843 0006 7860     		str	r0, [r7, #4]
 3844 0008 0B46     		mov	r3, r1
 3845 000a FB70     		strb	r3, [r7, #3]
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3846              		.loc 1 1100 12
 3847 000c 7B68     		ldr	r3, [r7, #4]
 3848 000e FB60     		str	r3, [r7, #12]
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 3849              		.loc 1 1102 21
 3850 0010 FB68     		ldr	r3, [r7, #12]
 3851 0012 03F50063 		add	r3, r3, #2048
 3852 0016 1B68     		ldr	r3, [r3]
 3853 0018 FA68     		ldr	r2, [r7, #12]
 3854 001a 02F50062 		add	r2, r2, #2048
 3855 001e 23F4FE63 		bic	r3, r3, #2032
 3856 0022 1360     		str	r3, [r2]
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 3857              		.loc 1 1103 21
 3858 0024 FB68     		ldr	r3, [r7, #12]
 3859 0026 03F50063 		add	r3, r3, #2048
 3860 002a 1A68     		ldr	r2, [r3]
 3861              		.loc 1 1103 25
 3862 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3863              		.loc 1 1103 43
 3864 002e 1B01     		lsls	r3, r3, #4
 3865              		.loc 1 1103 49
 3866 0030 03F4FE63 		and	r3, r3, #2032
 3867              		.loc 1 1103 21
 3868 0034 F968     		ldr	r1, [r7, #12]
 3869 0036 01F50061 		add	r1, r1, #2048
 3870 003a 1343     		orrs	r3, r3, r2
 3871 003c 0B60     		str	r3, [r1]
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3872              		.loc 1 1105 10
 3873 003e 0023     		movs	r3, #0
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3874              		.loc 1 1106 1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 88


 3875 0040 1846     		mov	r0, r3
 3876 0042 1437     		adds	r7, r7, #20
 3877              		.cfi_def_cfa_offset 4
 3878 0044 BD46     		mov	sp, r7
 3879              		.cfi_def_cfa_register 13
 3880              		@ sp needed
 3881 0046 5DF8047B 		ldr	r7, [sp], #4
 3882              		.cfi_restore 7
 3883              		.cfi_def_cfa_offset 0
 3884 004a 7047     		bx	lr
 3885              		.cfi_endproc
 3886              	.LFE343:
 3888              		.section	.text.USB_DevConnect,"ax",%progbits
 3889              		.align	1
 3890              		.global	USB_DevConnect
 3891              		.syntax unified
 3892              		.thumb
 3893              		.thumb_func
 3895              	USB_DevConnect:
 3896              	.LFB344:
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3897              		.loc 1 1114 1
 3898              		.cfi_startproc
 3899              		@ args = 0, pretend = 0, frame = 16
 3900              		@ frame_needed = 1, uses_anonymous_args = 0
 3901              		@ link register save eliminated.
 3902 0000 80B4     		push	{r7}
 3903              		.cfi_def_cfa_offset 4
 3904              		.cfi_offset 7, -4
 3905 0002 85B0     		sub	sp, sp, #20
 3906              		.cfi_def_cfa_offset 24
 3907 0004 00AF     		add	r7, sp, #0
 3908              		.cfi_def_cfa_register 7
 3909 0006 7860     		str	r0, [r7, #4]
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3910              		.loc 1 1115 12
 3911 0008 7B68     		ldr	r3, [r7, #4]
 3912 000a FB60     		str	r3, [r7, #12]
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 3913              		.loc 1 1118 16
 3914 000c FB68     		ldr	r3, [r7, #12]
 3915 000e 03F56063 		add	r3, r3, #3584
 3916 0012 1B68     		ldr	r3, [r3]
 3917 0014 FA68     		ldr	r2, [r7, #12]
 3918 0016 02F56062 		add	r2, r2, #3584
 3919 001a 23F00303 		bic	r3, r3, #3
 3920 001e 1360     		str	r3, [r2]
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 89


1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 3921              		.loc 1 1120 21
 3922 0020 FB68     		ldr	r3, [r7, #12]
 3923 0022 03F50063 		add	r3, r3, #2048
 3924 0026 5B68     		ldr	r3, [r3, #4]
 3925 0028 FA68     		ldr	r2, [r7, #12]
 3926 002a 02F50062 		add	r2, r2, #2048
 3927 002e 23F00203 		bic	r3, r3, #2
 3928 0032 5360     		str	r3, [r2, #4]
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3929              		.loc 1 1122 10
 3930 0034 0023     		movs	r3, #0
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3931              		.loc 1 1123 1
 3932 0036 1846     		mov	r0, r3
 3933 0038 1437     		adds	r7, r7, #20
 3934              		.cfi_def_cfa_offset 4
 3935 003a BD46     		mov	sp, r7
 3936              		.cfi_def_cfa_register 13
 3937              		@ sp needed
 3938 003c 5DF8047B 		ldr	r7, [sp], #4
 3939              		.cfi_restore 7
 3940              		.cfi_def_cfa_offset 0
 3941 0040 7047     		bx	lr
 3942              		.cfi_endproc
 3943              	.LFE344:
 3945              		.section	.text.USB_DevDisconnect,"ax",%progbits
 3946              		.align	1
 3947              		.global	USB_DevDisconnect
 3948              		.syntax unified
 3949              		.thumb
 3950              		.thumb_func
 3952              	USB_DevDisconnect:
 3953              	.LFB345:
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3954              		.loc 1 1131 1
 3955              		.cfi_startproc
 3956              		@ args = 0, pretend = 0, frame = 16
 3957              		@ frame_needed = 1, uses_anonymous_args = 0
 3958              		@ link register save eliminated.
 3959 0000 80B4     		push	{r7}
 3960              		.cfi_def_cfa_offset 4
 3961              		.cfi_offset 7, -4
 3962 0002 85B0     		sub	sp, sp, #20
 3963              		.cfi_def_cfa_offset 24
 3964 0004 00AF     		add	r7, sp, #0
 3965              		.cfi_def_cfa_register 7
 3966 0006 7860     		str	r0, [r7, #4]
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 90


 3967              		.loc 1 1132 12
 3968 0008 7B68     		ldr	r3, [r7, #4]
 3969 000a FB60     		str	r3, [r7, #12]
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 3970              		.loc 1 1135 16
 3971 000c FB68     		ldr	r3, [r7, #12]
 3972 000e 03F56063 		add	r3, r3, #3584
 3973 0012 1B68     		ldr	r3, [r3]
 3974 0014 FA68     		ldr	r2, [r7, #12]
 3975 0016 02F56062 		add	r2, r2, #3584
 3976 001a 23F00303 		bic	r3, r3, #3
 3977 001e 1360     		str	r3, [r2]
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 3978              		.loc 1 1137 21
 3979 0020 FB68     		ldr	r3, [r7, #12]
 3980 0022 03F50063 		add	r3, r3, #2048
 3981 0026 5B68     		ldr	r3, [r3, #4]
 3982 0028 FA68     		ldr	r2, [r7, #12]
 3983 002a 02F50062 		add	r2, r2, #2048
 3984 002e 43F00203 		orr	r3, r3, #2
 3985 0032 5360     		str	r3, [r2, #4]
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3986              		.loc 1 1139 10
 3987 0034 0023     		movs	r3, #0
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3988              		.loc 1 1140 1
 3989 0036 1846     		mov	r0, r3
 3990 0038 1437     		adds	r7, r7, #20
 3991              		.cfi_def_cfa_offset 4
 3992 003a BD46     		mov	sp, r7
 3993              		.cfi_def_cfa_register 13
 3994              		@ sp needed
 3995 003c 5DF8047B 		ldr	r7, [sp], #4
 3996              		.cfi_restore 7
 3997              		.cfi_def_cfa_offset 0
 3998 0040 7047     		bx	lr
 3999              		.cfi_endproc
 4000              	.LFE345:
 4002              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4003              		.align	1
 4004              		.global	USB_ReadInterrupts
 4005              		.syntax unified
 4006              		.thumb
 4007              		.thumb_func
 4009              	USB_ReadInterrupts:
 4010              	.LFB346:
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 91


1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4011              		.loc 1 1148 1
 4012              		.cfi_startproc
 4013              		@ args = 0, pretend = 0, frame = 16
 4014              		@ frame_needed = 1, uses_anonymous_args = 0
 4015              		@ link register save eliminated.
 4016 0000 80B4     		push	{r7}
 4017              		.cfi_def_cfa_offset 4
 4018              		.cfi_offset 7, -4
 4019 0002 85B0     		sub	sp, sp, #20
 4020              		.cfi_def_cfa_offset 24
 4021 0004 00AF     		add	r7, sp, #0
 4022              		.cfi_def_cfa_register 7
 4023 0006 7860     		str	r0, [r7, #4]
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4024              		.loc 1 1151 10
 4025 0008 7B68     		ldr	r3, [r7, #4]
 4026 000a 5B69     		ldr	r3, [r3, #20]
 4027 000c FB60     		str	r3, [r7, #12]
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4028              		.loc 1 1152 17
 4029 000e 7B68     		ldr	r3, [r7, #4]
 4030 0010 9B69     		ldr	r3, [r3, #24]
 4031              		.loc 1 1152 10
 4032 0012 FA68     		ldr	r2, [r7, #12]
 4033 0014 1340     		ands	r3, r3, r2
 4034 0016 FB60     		str	r3, [r7, #12]
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4035              		.loc 1 1154 10
 4036 0018 FB68     		ldr	r3, [r7, #12]
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4037              		.loc 1 1155 1
 4038 001a 1846     		mov	r0, r3
 4039 001c 1437     		adds	r7, r7, #20
 4040              		.cfi_def_cfa_offset 4
 4041 001e BD46     		mov	sp, r7
 4042              		.cfi_def_cfa_register 13
 4043              		@ sp needed
 4044 0020 5DF8047B 		ldr	r7, [sp], #4
 4045              		.cfi_restore 7
 4046              		.cfi_def_cfa_offset 0
 4047 0024 7047     		bx	lr
 4048              		.cfi_endproc
 4049              	.LFE346:
 4051              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4052              		.align	1
 4053              		.global	USB_ReadDevAllOutEpInterrupt
 4054              		.syntax unified
 4055              		.thumb
 4056              		.thumb_func
 4058              	USB_ReadDevAllOutEpInterrupt:
 4059              	.LFB347:
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 92


1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4060              		.loc 1 1163 1
 4061              		.cfi_startproc
 4062              		@ args = 0, pretend = 0, frame = 16
 4063              		@ frame_needed = 1, uses_anonymous_args = 0
 4064              		@ link register save eliminated.
 4065 0000 80B4     		push	{r7}
 4066              		.cfi_def_cfa_offset 4
 4067              		.cfi_offset 7, -4
 4068 0002 85B0     		sub	sp, sp, #20
 4069              		.cfi_def_cfa_offset 24
 4070 0004 00AF     		add	r7, sp, #0
 4071              		.cfi_def_cfa_register 7
 4072 0006 7860     		str	r0, [r7, #4]
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4073              		.loc 1 1164 12
 4074 0008 7B68     		ldr	r3, [r7, #4]
 4075 000a FB60     		str	r3, [r7, #12]
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4076              		.loc 1 1167 13
 4077 000c FB68     		ldr	r3, [r7, #12]
 4078 000e 03F50063 		add	r3, r3, #2048
 4079              		.loc 1 1167 11
 4080 0012 9B69     		ldr	r3, [r3, #24]
 4081 0014 BB60     		str	r3, [r7, #8]
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4082              		.loc 1 1168 13
 4083 0016 FB68     		ldr	r3, [r7, #12]
 4084 0018 03F50063 		add	r3, r3, #2048
 4085              		.loc 1 1168 24
 4086 001c DB69     		ldr	r3, [r3, #28]
 4087              		.loc 1 1168 10
 4088 001e BA68     		ldr	r2, [r7, #8]
 4089 0020 1340     		ands	r3, r3, r2
 4090 0022 BB60     		str	r3, [r7, #8]
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4091              		.loc 1 1170 34
 4092 0024 BB68     		ldr	r3, [r7, #8]
 4093 0026 1B0C     		lsrs	r3, r3, #16
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4094              		.loc 1 1171 1
 4095 0028 1846     		mov	r0, r3
 4096 002a 1437     		adds	r7, r7, #20
 4097              		.cfi_def_cfa_offset 4
 4098 002c BD46     		mov	sp, r7
 4099              		.cfi_def_cfa_register 13
 4100              		@ sp needed
 4101 002e 5DF8047B 		ldr	r7, [sp], #4
 4102              		.cfi_restore 7
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 93


 4103              		.cfi_def_cfa_offset 0
 4104 0032 7047     		bx	lr
 4105              		.cfi_endproc
 4106              	.LFE347:
 4108              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4109              		.align	1
 4110              		.global	USB_ReadDevAllInEpInterrupt
 4111              		.syntax unified
 4112              		.thumb
 4113              		.thumb_func
 4115              	USB_ReadDevAllInEpInterrupt:
 4116              	.LFB348:
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4117              		.loc 1 1179 1
 4118              		.cfi_startproc
 4119              		@ args = 0, pretend = 0, frame = 16
 4120              		@ frame_needed = 1, uses_anonymous_args = 0
 4121              		@ link register save eliminated.
 4122 0000 80B4     		push	{r7}
 4123              		.cfi_def_cfa_offset 4
 4124              		.cfi_offset 7, -4
 4125 0002 85B0     		sub	sp, sp, #20
 4126              		.cfi_def_cfa_offset 24
 4127 0004 00AF     		add	r7, sp, #0
 4128              		.cfi_def_cfa_register 7
 4129 0006 7860     		str	r0, [r7, #4]
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4130              		.loc 1 1180 12
 4131 0008 7B68     		ldr	r3, [r7, #4]
 4132 000a FB60     		str	r3, [r7, #12]
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4133              		.loc 1 1183 13
 4134 000c FB68     		ldr	r3, [r7, #12]
 4135 000e 03F50063 		add	r3, r3, #2048
 4136              		.loc 1 1183 11
 4137 0012 9B69     		ldr	r3, [r3, #24]
 4138 0014 BB60     		str	r3, [r7, #8]
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4139              		.loc 1 1184 13
 4140 0016 FB68     		ldr	r3, [r7, #12]
 4141 0018 03F50063 		add	r3, r3, #2048
 4142              		.loc 1 1184 24
 4143 001c DB69     		ldr	r3, [r3, #28]
 4144              		.loc 1 1184 10
 4145 001e BA68     		ldr	r2, [r7, #8]
 4146 0020 1340     		ands	r3, r3, r2
 4147 0022 BB60     		str	r3, [r7, #8]
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 94


1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4148              		.loc 1 1186 19
 4149 0024 BB68     		ldr	r3, [r7, #8]
 4150 0026 9BB2     		uxth	r3, r3
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4151              		.loc 1 1187 1
 4152 0028 1846     		mov	r0, r3
 4153 002a 1437     		adds	r7, r7, #20
 4154              		.cfi_def_cfa_offset 4
 4155 002c BD46     		mov	sp, r7
 4156              		.cfi_def_cfa_register 13
 4157              		@ sp needed
 4158 002e 5DF8047B 		ldr	r7, [sp], #4
 4159              		.cfi_restore 7
 4160              		.cfi_def_cfa_offset 0
 4161 0032 7047     		bx	lr
 4162              		.cfi_endproc
 4163              	.LFE348:
 4165              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4166              		.align	1
 4167              		.global	USB_ReadDevOutEPInterrupt
 4168              		.syntax unified
 4169              		.thumb
 4170              		.thumb_func
 4172              	USB_ReadDevOutEPInterrupt:
 4173              	.LFB349:
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  endpoint number
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4174              		.loc 1 1197 1
 4175              		.cfi_startproc
 4176              		@ args = 0, pretend = 0, frame = 16
 4177              		@ frame_needed = 1, uses_anonymous_args = 0
 4178              		@ link register save eliminated.
 4179 0000 80B4     		push	{r7}
 4180              		.cfi_def_cfa_offset 4
 4181              		.cfi_offset 7, -4
 4182 0002 85B0     		sub	sp, sp, #20
 4183              		.cfi_def_cfa_offset 24
 4184 0004 00AF     		add	r7, sp, #0
 4185              		.cfi_def_cfa_register 7
 4186 0006 7860     		str	r0, [r7, #4]
 4187 0008 0B46     		mov	r3, r1
 4188 000a FB70     		strb	r3, [r7, #3]
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4189              		.loc 1 1198 12
 4190 000c 7B68     		ldr	r3, [r7, #4]
 4191 000e FB60     		str	r3, [r7, #12]
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 95


1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4192              		.loc 1 1201 13
 4193 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4194 0012 5A01     		lsls	r2, r3, #5
 4195 0014 FB68     		ldr	r3, [r7, #12]
 4196 0016 1344     		add	r3, r3, r2
 4197 0018 03F53063 		add	r3, r3, #2816
 4198              		.loc 1 1201 11
 4199 001c 9B68     		ldr	r3, [r3, #8]
 4200 001e BB60     		str	r3, [r7, #8]
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4201              		.loc 1 1202 13
 4202 0020 FB68     		ldr	r3, [r7, #12]
 4203 0022 03F50063 		add	r3, r3, #2048
 4204              		.loc 1 1202 24
 4205 0026 5B69     		ldr	r3, [r3, #20]
 4206              		.loc 1 1202 10
 4207 0028 BA68     		ldr	r2, [r7, #8]
 4208 002a 1340     		ands	r3, r3, r2
 4209 002c BB60     		str	r3, [r7, #8]
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4210              		.loc 1 1204 10
 4211 002e BB68     		ldr	r3, [r7, #8]
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4212              		.loc 1 1205 1
 4213 0030 1846     		mov	r0, r3
 4214 0032 1437     		adds	r7, r7, #20
 4215              		.cfi_def_cfa_offset 4
 4216 0034 BD46     		mov	sp, r7
 4217              		.cfi_def_cfa_register 13
 4218              		@ sp needed
 4219 0036 5DF8047B 		ldr	r7, [sp], #4
 4220              		.cfi_restore 7
 4221              		.cfi_def_cfa_offset 0
 4222 003a 7047     		bx	lr
 4223              		.cfi_endproc
 4224              	.LFE349:
 4226              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4227              		.align	1
 4228              		.global	USB_ReadDevInEPInterrupt
 4229              		.syntax unified
 4230              		.thumb
 4231              		.thumb_func
 4233              	USB_ReadDevInEPInterrupt:
 4234              	.LFB350:
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  endpoint number
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4235              		.loc 1 1215 1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 96


 4236              		.cfi_startproc
 4237              		@ args = 0, pretend = 0, frame = 24
 4238              		@ frame_needed = 1, uses_anonymous_args = 0
 4239              		@ link register save eliminated.
 4240 0000 80B4     		push	{r7}
 4241              		.cfi_def_cfa_offset 4
 4242              		.cfi_offset 7, -4
 4243 0002 87B0     		sub	sp, sp, #28
 4244              		.cfi_def_cfa_offset 32
 4245 0004 00AF     		add	r7, sp, #0
 4246              		.cfi_def_cfa_register 7
 4247 0006 7860     		str	r0, [r7, #4]
 4248 0008 0B46     		mov	r3, r1
 4249 000a FB70     		strb	r3, [r7, #3]
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4250              		.loc 1 1216 12
 4251 000c 7B68     		ldr	r3, [r7, #4]
 4252 000e 7B61     		str	r3, [r7, #20]
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t msk;
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t emp;
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4253              		.loc 1 1221 9
 4254 0010 7B69     		ldr	r3, [r7, #20]
 4255 0012 03F50063 		add	r3, r3, #2048
 4256              		.loc 1 1221 7
 4257 0016 1B69     		ldr	r3, [r3, #16]
 4258 0018 3B61     		str	r3, [r7, #16]
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 4259              		.loc 1 1222 9
 4260 001a 7B69     		ldr	r3, [r7, #20]
 4261 001c 03F50063 		add	r3, r3, #2048
 4262              		.loc 1 1222 7
 4263 0020 5B6B     		ldr	r3, [r3, #52]
 4264 0022 FB60     		str	r3, [r7, #12]
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4265              		.loc 1 1223 26
 4266 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4267 0026 03F00F03 		and	r3, r3, #15
 4268              		.loc 1 1223 16
 4269 002a FA68     		ldr	r2, [r7, #12]
 4270 002c 22FA03F3 		lsr	r3, r2, r3
 4271              		.loc 1 1223 50
 4272 0030 DB01     		lsls	r3, r3, #7
 4273 0032 DBB2     		uxtb	r3, r3
 4274              		.loc 1 1223 7
 4275 0034 3A69     		ldr	r2, [r7, #16]
 4276 0036 1343     		orrs	r3, r3, r2
 4277 0038 3B61     		str	r3, [r7, #16]
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4278              		.loc 1 1224 12
 4279 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4280 003c 5A01     		lsls	r2, r3, #5
 4281 003e 7B69     		ldr	r3, [r7, #20]
 4282 0040 1344     		add	r3, r3, r2
 4283 0042 03F51063 		add	r3, r3, #2304
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 97


 4284              		.loc 1 1224 38
 4285 0046 9B68     		ldr	r3, [r3, #8]
 4286              		.loc 1 1224 10
 4287 0048 3A69     		ldr	r2, [r7, #16]
 4288 004a 1340     		ands	r3, r3, r2
 4289 004c BB60     		str	r3, [r7, #8]
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4290              		.loc 1 1226 10
 4291 004e BB68     		ldr	r3, [r7, #8]
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4292              		.loc 1 1227 1
 4293 0050 1846     		mov	r0, r3
 4294 0052 1C37     		adds	r7, r7, #28
 4295              		.cfi_def_cfa_offset 4
 4296 0054 BD46     		mov	sp, r7
 4297              		.cfi_def_cfa_register 13
 4298              		@ sp needed
 4299 0056 5DF8047B 		ldr	r7, [sp], #4
 4300              		.cfi_restore 7
 4301              		.cfi_def_cfa_offset 0
 4302 005a 7047     		bx	lr
 4303              		.cfi_endproc
 4304              	.LFE350:
 4306              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4307              		.align	1
 4308              		.global	USB_ClearInterrupts
 4309              		.syntax unified
 4310              		.thumb
 4311              		.thumb_func
 4313              	USB_ClearInterrupts:
 4314              	.LFB351:
1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  interrupt  flag
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval None
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4315              		.loc 1 1236 1
 4316              		.cfi_startproc
 4317              		@ args = 0, pretend = 0, frame = 8
 4318              		@ frame_needed = 1, uses_anonymous_args = 0
 4319              		@ link register save eliminated.
 4320 0000 80B4     		push	{r7}
 4321              		.cfi_def_cfa_offset 4
 4322              		.cfi_offset 7, -4
 4323 0002 83B0     		sub	sp, sp, #12
 4324              		.cfi_def_cfa_offset 16
 4325 0004 00AF     		add	r7, sp, #0
 4326              		.cfi_def_cfa_register 7
 4327 0006 7860     		str	r0, [r7, #4]
 4328 0008 3960     		str	r1, [r7]
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 4329              		.loc 1 1237 17
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 98


 4330 000a 7B68     		ldr	r3, [r7, #4]
 4331 000c 5A69     		ldr	r2, [r3, #20]
 4332 000e 3B68     		ldr	r3, [r7]
 4333 0010 1A43     		orrs	r2, r2, r3
 4334 0012 7B68     		ldr	r3, [r7, #4]
 4335 0014 5A61     		str	r2, [r3, #20]
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4336              		.loc 1 1238 1
 4337 0016 00BF     		nop
 4338 0018 0C37     		adds	r7, r7, #12
 4339              		.cfi_def_cfa_offset 4
 4340 001a BD46     		mov	sp, r7
 4341              		.cfi_def_cfa_register 13
 4342              		@ sp needed
 4343 001c 5DF8047B 		ldr	r7, [sp], #4
 4344              		.cfi_restore 7
 4345              		.cfi_def_cfa_offset 0
 4346 0020 7047     		bx	lr
 4347              		.cfi_endproc
 4348              	.LFE351:
 4350              		.section	.text.USB_GetMode,"ax",%progbits
 4351              		.align	1
 4352              		.global	USB_GetMode
 4353              		.syntax unified
 4354              		.thumb
 4355              		.thumb_func
 4357              	USB_GetMode:
 4358              	.LFB352:
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns USB core mode
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           0 : Host
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           1 : Device
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4359              		.loc 1 1249 1
 4360              		.cfi_startproc
 4361              		@ args = 0, pretend = 0, frame = 8
 4362              		@ frame_needed = 1, uses_anonymous_args = 0
 4363              		@ link register save eliminated.
 4364 0000 80B4     		push	{r7}
 4365              		.cfi_def_cfa_offset 4
 4366              		.cfi_offset 7, -4
 4367 0002 83B0     		sub	sp, sp, #12
 4368              		.cfi_def_cfa_offset 16
 4369 0004 00AF     		add	r7, sp, #0
 4370              		.cfi_def_cfa_register 7
 4371 0006 7860     		str	r0, [r7, #4]
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4372              		.loc 1 1250 16
 4373 0008 7B68     		ldr	r3, [r7, #4]
 4374 000a 5B69     		ldr	r3, [r3, #20]
 4375              		.loc 1 1250 27
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 99


 4376 000c 03F00103 		and	r3, r3, #1
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4377              		.loc 1 1251 1
 4378 0010 1846     		mov	r0, r3
 4379 0012 0C37     		adds	r7, r7, #12
 4380              		.cfi_def_cfa_offset 4
 4381 0014 BD46     		mov	sp, r7
 4382              		.cfi_def_cfa_register 13
 4383              		@ sp needed
 4384 0016 5DF8047B 		ldr	r7, [sp], #4
 4385              		.cfi_restore 7
 4386              		.cfi_def_cfa_offset 0
 4387 001a 7047     		bx	lr
 4388              		.cfi_endproc
 4389              	.LFE352:
 4391              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4392              		.align	1
 4393              		.global	USB_ActivateSetup
 4394              		.syntax unified
 4395              		.thumb
 4396              		.thumb_func
 4398              	USB_ActivateSetup:
 4399              	.LFB353:
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4400              		.loc 1 1259 1
 4401              		.cfi_startproc
 4402              		@ args = 0, pretend = 0, frame = 16
 4403              		@ frame_needed = 1, uses_anonymous_args = 0
 4404              		@ link register save eliminated.
 4405 0000 80B4     		push	{r7}
 4406              		.cfi_def_cfa_offset 4
 4407              		.cfi_offset 7, -4
 4408 0002 85B0     		sub	sp, sp, #20
 4409              		.cfi_def_cfa_offset 24
 4410 0004 00AF     		add	r7, sp, #0
 4411              		.cfi_def_cfa_register 7
 4412 0006 7860     		str	r0, [r7, #4]
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4413              		.loc 1 1260 12
 4414 0008 7B68     		ldr	r3, [r7, #4]
 4415 000a FB60     		str	r3, [r7, #12]
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4416              		.loc 1 1263 26
 4417 000c FB68     		ldr	r3, [r7, #12]
 4418 000e 03F51063 		add	r3, r3, #2304
 4419 0012 1B68     		ldr	r3, [r3]
 4420 0014 FA68     		ldr	r2, [r7, #12]
 4421 0016 02F51062 		add	r2, r2, #2304
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 100


 4422 001a 23F4FF63 		bic	r3, r3, #2040
 4423 001e 23F00703 		bic	r3, r3, #7
 4424 0022 1360     		str	r3, [r2]
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4425              		.loc 1 1265 21
 4426 0024 FB68     		ldr	r3, [r7, #12]
 4427 0026 03F50063 		add	r3, r3, #2048
 4428 002a 5B68     		ldr	r3, [r3, #4]
 4429 002c FA68     		ldr	r2, [r7, #12]
 4430 002e 02F50062 		add	r2, r2, #2048
 4431 0032 43F48073 		orr	r3, r3, #256
 4432 0036 5360     		str	r3, [r2, #4]
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4433              		.loc 1 1267 10
 4434 0038 0023     		movs	r3, #0
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4435              		.loc 1 1268 1
 4436 003a 1846     		mov	r0, r3
 4437 003c 1437     		adds	r7, r7, #20
 4438              		.cfi_def_cfa_offset 4
 4439 003e BD46     		mov	sp, r7
 4440              		.cfi_def_cfa_register 13
 4441              		@ sp needed
 4442 0040 5DF8047B 		ldr	r7, [sp], #4
 4443              		.cfi_restore 7
 4444              		.cfi_def_cfa_offset 0
 4445 0044 7047     		bx	lr
 4446              		.cfi_endproc
 4447              	.LFE353:
 4449              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4450              		.align	1
 4451              		.global	USB_EP0_OutStart
 4452              		.syntax unified
 4453              		.thumb
 4454              		.thumb_func
 4456              	USB_EP0_OutStart:
 4457              	.LFB354:
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t *psetup)
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4458              		.loc 1 1277 1
 4459              		.cfi_startproc
 4460              		@ args = 0, pretend = 0, frame = 16
 4461              		@ frame_needed = 1, uses_anonymous_args = 0
 4462              		@ link register save eliminated.
 4463 0000 80B4     		push	{r7}
 4464              		.cfi_def_cfa_offset 4
 4465              		.cfi_offset 7, -4
 4466 0002 85B0     		sub	sp, sp, #20
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 101


 4467              		.cfi_def_cfa_offset 24
 4468 0004 00AF     		add	r7, sp, #0
 4469              		.cfi_def_cfa_register 7
 4470 0006 7860     		str	r0, [r7, #4]
 4471 0008 3960     		str	r1, [r7]
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4472              		.loc 1 1278 12
 4473 000a 7B68     		ldr	r3, [r7, #4]
 4474 000c FB60     		str	r3, [r7, #12]
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 4475              		.loc 1 1279 41
 4476 000e 7B68     		ldr	r3, [r7, #4]
 4477 0010 3C33     		adds	r3, r3, #60
 4478              		.loc 1 1279 23
 4479 0012 0433     		adds	r3, r3, #4
 4480              		.loc 1 1279 12
 4481 0014 1B68     		ldr	r3, [r3]
 4482 0016 BB60     		str	r3, [r7, #8]
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(psetup);
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4483              		.loc 1 1282 6
 4484 0018 BB68     		ldr	r3, [r7, #8]
 4485 001a 1C4A     		ldr	r2, .L186
 4486 001c 9342     		cmp	r3, r2
 4487 001e 0AD9     		bls	.L184
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 4488              		.loc 1 1284 10
 4489 0020 FB68     		ldr	r3, [r7, #12]
 4490 0022 03F53063 		add	r3, r3, #2816
 4491              		.loc 1 1284 24
 4492 0026 1B68     		ldr	r3, [r3]
 4493              		.loc 1 1284 34
 4494 0028 03F00043 		and	r3, r3, #-2147483648
 4495              		.loc 1 1284 8
 4496 002c B3F1004F 		cmp	r3, #-2147483648
 4497 0030 01D1     		bne	.L184
1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_OK;
 4498              		.loc 1 1286 14
 4499 0032 0023     		movs	r3, #0
 4500 0034 24E0     		b	.L185
 4501              	.L184:
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 4502              		.loc 1 1290 3
 4503 0036 FB68     		ldr	r3, [r7, #12]
 4504 0038 03F53063 		add	r3, r3, #2816
 4505 003c 1A46     		mov	r2, r3
 4506              		.loc 1 1290 28
 4507 003e 0023     		movs	r3, #0
 4508 0040 1361     		str	r3, [r2, #16]
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 4509              		.loc 1 1291 28
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 102


 4510 0042 FB68     		ldr	r3, [r7, #12]
 4511 0044 03F53063 		add	r3, r3, #2816
 4512 0048 1B69     		ldr	r3, [r3, #16]
 4513 004a FA68     		ldr	r2, [r7, #12]
 4514 004c 02F53062 		add	r2, r2, #2816
 4515 0050 43F40023 		orr	r3, r3, #524288
 4516 0054 1361     		str	r3, [r2, #16]
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 4517              		.loc 1 1292 28
 4518 0056 FB68     		ldr	r3, [r7, #12]
 4519 0058 03F53063 		add	r3, r3, #2816
 4520 005c 1B69     		ldr	r3, [r3, #16]
 4521 005e FA68     		ldr	r2, [r7, #12]
 4522 0060 02F53062 		add	r2, r2, #2816
 4523 0064 43F01803 		orr	r3, r3, #24
 4524 0068 1361     		str	r3, [r2, #16]
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 4525              		.loc 1 1293 28
 4526 006a FB68     		ldr	r3, [r7, #12]
 4527 006c 03F53063 		add	r3, r3, #2816
 4528 0070 1B69     		ldr	r3, [r3, #16]
 4529 0072 FA68     		ldr	r2, [r7, #12]
 4530 0074 02F53062 		add	r2, r2, #2816
 4531 0078 43F0C043 		orr	r3, r3, #1610612736
 4532 007c 1361     		str	r3, [r2, #16]
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4533              		.loc 1 1295 10
 4534 007e 0023     		movs	r3, #0
 4535              	.L185:
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4536              		.loc 1 1296 1
 4537 0080 1846     		mov	r0, r3
 4538 0082 1437     		adds	r7, r7, #20
 4539              		.cfi_def_cfa_offset 4
 4540 0084 BD46     		mov	sp, r7
 4541              		.cfi_def_cfa_register 13
 4542              		@ sp needed
 4543 0086 5DF8047B 		ldr	r7, [sp], #4
 4544              		.cfi_restore 7
 4545              		.cfi_def_cfa_offset 0
 4546 008a 7047     		bx	lr
 4547              	.L187:
 4548              		.align	2
 4549              	.L186:
 4550 008c 0A30544F 		.word	1330917386
 4551              		.cfi_endproc
 4552              	.LFE354:
 4554              		.section	.text.USB_CoreReset,"ax",%progbits
 4555              		.align	1
 4556              		.syntax unified
 4557              		.thumb
 4558              		.thumb_func
 4560              	USB_CoreReset:
 4561              	.LFB355:
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 103


1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4562              		.loc 1 1304 1
 4563              		.cfi_startproc
 4564              		@ args = 0, pretend = 0, frame = 16
 4565              		@ frame_needed = 1, uses_anonymous_args = 0
 4566              		@ link register save eliminated.
 4567 0000 80B4     		push	{r7}
 4568              		.cfi_def_cfa_offset 4
 4569              		.cfi_offset 7, -4
 4570 0002 85B0     		sub	sp, sp, #20
 4571              		.cfi_def_cfa_offset 24
 4572 0004 00AF     		add	r7, sp, #0
 4573              		.cfi_def_cfa_register 7
 4574 0006 7860     		str	r0, [r7, #4]
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 4575              		.loc 1 1305 17
 4576 0008 0023     		movs	r3, #0
 4577 000a FB60     		str	r3, [r7, #12]
 4578              	.L191:
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 4579              		.loc 1 1310 10
 4580 000c FB68     		ldr	r3, [r7, #12]
 4581 000e 0133     		adds	r3, r3, #1
 4582 0010 FB60     		str	r3, [r7, #12]
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 4583              		.loc 1 1312 15
 4584 0012 FB68     		ldr	r3, [r7, #12]
 4585              		.loc 1 1312 8
 4586 0014 134A     		ldr	r2, .L194
 4587 0016 9342     		cmp	r3, r2
 4588 0018 01D9     		bls	.L189
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4589              		.loc 1 1314 14
 4590 001a 0323     		movs	r3, #3
 4591 001c 1BE0     		b	.L190
 4592              	.L189:
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 4593              		.loc 1 1316 17
 4594 001e 7B68     		ldr	r3, [r7, #4]
 4595 0020 1B69     		ldr	r3, [r3, #16]
 4596              		.loc 1 1316 53
 4597 0022 002B     		cmp	r3, #0
 4598 0024 F2DA     		bge	.L191
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Core Soft Reset */
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 104


1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 4599              		.loc 1 1319 9
 4600 0026 0023     		movs	r3, #0
 4601 0028 FB60     		str	r3, [r7, #12]
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 4602              		.loc 1 1320 17
 4603 002a 7B68     		ldr	r3, [r7, #4]
 4604 002c 1B69     		ldr	r3, [r3, #16]
 4605 002e 43F00102 		orr	r2, r3, #1
 4606 0032 7B68     		ldr	r3, [r7, #4]
 4607 0034 1A61     		str	r2, [r3, #16]
 4608              	.L193:
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 4609              		.loc 1 1324 10
 4610 0036 FB68     		ldr	r3, [r7, #12]
 4611 0038 0133     		adds	r3, r3, #1
 4612 003a FB60     		str	r3, [r7, #12]
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 4613              		.loc 1 1326 15
 4614 003c FB68     		ldr	r3, [r7, #12]
 4615              		.loc 1 1326 8
 4616 003e 094A     		ldr	r2, .L194
 4617 0040 9342     		cmp	r3, r2
 4618 0042 01D9     		bls	.L192
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4619              		.loc 1 1328 14
 4620 0044 0323     		movs	r3, #3
 4621 0046 06E0     		b	.L190
 4622              	.L192:
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 4623              		.loc 1 1330 17
 4624 0048 7B68     		ldr	r3, [r7, #4]
 4625 004a 1B69     		ldr	r3, [r3, #16]
 4626              		.loc 1 1330 27
 4627 004c 03F00103 		and	r3, r3, #1
 4628              		.loc 1 1330 52
 4629 0050 012B     		cmp	r3, #1
 4630 0052 F0D0     		beq	.L193
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4631              		.loc 1 1332 10
 4632 0054 0023     		movs	r3, #0
 4633              	.L190:
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4634              		.loc 1 1333 1
 4635 0056 1846     		mov	r0, r3
 4636 0058 1437     		adds	r7, r7, #20
 4637              		.cfi_def_cfa_offset 4
 4638 005a BD46     		mov	sp, r7
 4639              		.cfi_def_cfa_register 13
 4640              		@ sp needed
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 105


 4641 005c 5DF8047B 		ldr	r7, [sp], #4
 4642              		.cfi_restore 7
 4643              		.cfi_def_cfa_offset 0
 4644 0060 7047     		bx	lr
 4645              	.L195:
 4646 0062 00BF     		.align	2
 4647              	.L194:
 4648 0064 400D0300 		.word	200000
 4649              		.cfi_endproc
 4650              	.LFE355:
 4652              		.section	.text.USB_HostInit,"ax",%progbits
 4653              		.align	1
 4654              		.global	USB_HostInit
 4655              		.syntax unified
 4656              		.thumb
 4657              		.thumb_func
 4659              	USB_HostInit:
 4660              	.LFB356:
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for Host mode
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4661              		.loc 1 1344 1
 4662              		.cfi_startproc
 4663              		@ args = 56, pretend = 16, frame = 24
 4664              		@ frame_needed = 1, uses_anonymous_args = 0
 4665 0000 84B0     		sub	sp, sp, #16
 4666              		.cfi_def_cfa_offset 16
 4667 0002 80B5     		push	{r7, lr}
 4668              		.cfi_def_cfa_offset 24
 4669              		.cfi_offset 7, -24
 4670              		.cfi_offset 14, -20
 4671 0004 86B0     		sub	sp, sp, #24
 4672              		.cfi_def_cfa_offset 48
 4673 0006 00AF     		add	r7, sp, #0
 4674              		.cfi_def_cfa_register 7
 4675 0008 7860     		str	r0, [r7, #4]
 4676 000a 07F12400 		add	r0, r7, #36
 4677 000e 80E80E00 		stm	r0, {r1, r2, r3}
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 4678              		.loc 1 1345 21
 4679 0012 0023     		movs	r3, #0
 4680 0014 FB75     		strb	r3, [r7, #23]
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4681              		.loc 1 1346 12
 4682 0016 7B68     		ldr	r3, [r7, #4]
 4683 0018 FB60     		str	r3, [r7, #12]
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Restart the Phy Clock */
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 106


1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4684              		.loc 1 1350 3
 4685 001a FB68     		ldr	r3, [r7, #12]
 4686 001c 03F56063 		add	r3, r3, #3584
 4687 0020 1A46     		mov	r2, r3
 4688              		.loc 1 1350 16
 4689 0022 0023     		movs	r3, #0
 4690 0024 1360     		str	r3, [r2]
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable VBUS sensing */
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
 4691              		.loc 1 1353 15
 4692 0026 7B68     		ldr	r3, [r7, #4]
 4693 0028 9B6B     		ldr	r3, [r3, #56]
 4694 002a 23F40012 		bic	r2, r3, #2097152
 4695 002e 7B68     		ldr	r3, [r7, #4]
 4696 0030 9A63     		str	r2, [r3, #56]
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
 4697              		.loc 1 1356 15
 4698 0032 7B68     		ldr	r3, [r7, #4]
 4699 0034 9B6B     		ldr	r3, [r3, #56]
 4700 0036 23F40032 		bic	r2, r3, #131072
 4701 003a 7B68     		ldr	r3, [r7, #4]
 4702 003c 9A63     		str	r2, [r3, #56]
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set default Max speed support */
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4703              		.loc 1 1359 19
 4704 003e FB68     		ldr	r3, [r7, #12]
 4705 0040 03F58063 		add	r3, r3, #1024
 4706 0044 1B68     		ldr	r3, [r3]
 4707 0046 FA68     		ldr	r2, [r7, #12]
 4708 0048 02F58062 		add	r2, r2, #1024
 4709 004c 23F00403 		bic	r3, r3, #4
 4710 0050 1360     		str	r3, [r2]
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 4711              		.loc 1 1362 7
 4712 0052 1021     		movs	r1, #16
 4713 0054 7868     		ldr	r0, [r7, #4]
 4714 0056 FFF7FEFF 		bl	USB_FlushTxFifo
 4715 005a 0346     		mov	r3, r0
 4716              		.loc 1 1362 6
 4717 005c 002B     		cmp	r3, #0
 4718 005e 01D0     		beq	.L197
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 4719              		.loc 1 1364 9
 4720 0060 0123     		movs	r3, #1
 4721 0062 FB75     		strb	r3, [r7, #23]
 4722              	.L197:
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 107


 4723              		.loc 1 1367 7
 4724 0064 7868     		ldr	r0, [r7, #4]
 4725 0066 FFF7FEFF 		bl	USB_FlushRxFifo
 4726 006a 0346     		mov	r3, r0
 4727              		.loc 1 1367 6
 4728 006c 002B     		cmp	r3, #0
 4729 006e 01D0     		beq	.L198
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 4730              		.loc 1 1369 9
 4731 0070 0123     		movs	r3, #1
 4732 0072 FB75     		strb	r3, [r7, #23]
 4733              	.L198:
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 4734              		.loc 1 1373 10
 4735 0074 0023     		movs	r3, #0
 4736 0076 3B61     		str	r3, [r7, #16]
 4737              		.loc 1 1373 3
 4738 0078 15E0     		b	.L199
 4739              	.L200:
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 4740              		.loc 1 1375 5 discriminator 3
 4741 007a 3B69     		ldr	r3, [r7, #16]
 4742 007c 5A01     		lsls	r2, r3, #5
 4743 007e FB68     		ldr	r3, [r7, #12]
 4744 0080 1344     		add	r3, r3, r2
 4745 0082 03F5A063 		add	r3, r3, #1280
 4746 0086 1A46     		mov	r2, r3
 4747              		.loc 1 1375 23 discriminator 3
 4748 0088 4FF0FF33 		mov	r3, #-1
 4749 008c 9360     		str	r3, [r2, #8]
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4750              		.loc 1 1376 5 discriminator 3
 4751 008e 3B69     		ldr	r3, [r7, #16]
 4752 0090 5A01     		lsls	r2, r3, #5
 4753 0092 FB68     		ldr	r3, [r7, #12]
 4754 0094 1344     		add	r3, r3, r2
 4755 0096 03F5A063 		add	r3, r3, #1280
 4756 009a 1A46     		mov	r2, r3
 4757              		.loc 1 1376 26 discriminator 3
 4758 009c 0023     		movs	r3, #0
 4759 009e D360     		str	r3, [r2, #12]
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4760              		.loc 1 1373 40 discriminator 3
 4761 00a0 3B69     		ldr	r3, [r7, #16]
 4762 00a2 0133     		adds	r3, r3, #1
 4763 00a4 3B61     		str	r3, [r7, #16]
 4764              	.L199:
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4765              		.loc 1 1373 23 discriminator 1
 4766 00a6 BB6A     		ldr	r3, [r7, #40]
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4767              		.loc 1 1373 18 discriminator 1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 108


 4768 00a8 3A69     		ldr	r2, [r7, #16]
 4769 00aa 9A42     		cmp	r2, r3
 4770 00ac E5D3     		bcc	.L200
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable all interrupts. */
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4771              		.loc 1 1380 17
 4772 00ae 7B68     		ldr	r3, [r7, #4]
 4773 00b0 0022     		movs	r2, #0
 4774 00b2 9A61     		str	r2, [r3, #24]
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending interrupts */
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4775              		.loc 1 1383 17
 4776 00b4 7B68     		ldr	r3, [r7, #4]
 4777 00b6 4FF0FF32 		mov	r2, #-1
 4778 00ba 5A61     		str	r2, [r3, #20]
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* set Rx FIFO size */
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRXFSIZ  = 0x80U;
 4779              		.loc 1 1386 18
 4780 00bc 7B68     		ldr	r3, [r7, #4]
 4781 00be 8022     		movs	r2, #128
 4782 00c0 5A62     		str	r2, [r3, #36]
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 4783              		.loc 1 1387 28
 4784 00c2 7B68     		ldr	r3, [r7, #4]
 4785 00c4 0C4A     		ldr	r2, .L202
 4786 00c6 9A62     		str	r2, [r3, #40]
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4787              		.loc 1 1388 18
 4788 00c8 7B68     		ldr	r3, [r7, #4]
 4789 00ca 0C4A     		ldr	r2, .L202+4
 4790 00cc C3F80021 		str	r2, [r3, #256]
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the common interrupts */
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 4791              		.loc 1 1390 17
 4792 00d0 7B68     		ldr	r3, [r7, #4]
 4793 00d2 9B69     		ldr	r3, [r3, #24]
 4794 00d4 43F01002 		orr	r2, r3, #16
 4795 00d8 7B68     		ldr	r3, [r7, #4]
 4796 00da 9A61     		str	r2, [r3, #24]
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 4797              		.loc 1 1393 17
 4798 00dc 7B68     		ldr	r3, [r7, #4]
 4799 00de 9A69     		ldr	r2, [r3, #24]
 4800 00e0 074B     		ldr	r3, .L202+8
 4801 00e2 1343     		orrs	r3, r3, r2
 4802 00e4 7A68     		ldr	r2, [r7, #4]
 4803 00e6 9361     		str	r3, [r2, #24]
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 109


 4804              		.loc 1 1397 10
 4805 00e8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4806              		.loc 1 1398 1
 4807 00ea 1846     		mov	r0, r3
 4808 00ec 1837     		adds	r7, r7, #24
 4809              		.cfi_def_cfa_offset 24
 4810 00ee BD46     		mov	sp, r7
 4811              		.cfi_def_cfa_register 13
 4812              		@ sp needed
 4813 00f0 BDE88040 		pop	{r7, lr}
 4814              		.cfi_restore 14
 4815              		.cfi_restore 7
 4816              		.cfi_def_cfa_offset 16
 4817 00f4 04B0     		add	sp, sp, #16
 4818              		.cfi_def_cfa_offset 0
 4819 00f6 7047     		bx	lr
 4820              	.L203:
 4821              		.align	2
 4822              	.L202:
 4823 00f8 80006000 		.word	6291584
 4824 00fc E0004000 		.word	4194528
 4825 0100 080020A3 		.word	-1558183928
 4826              		.cfi_endproc
 4827              	.LFE356:
 4829              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 4830              		.align	1
 4831              		.global	USB_InitFSLSPClkSel
 4832              		.syntax unified
 4833              		.thumb
 4834              		.thumb_func
 4836              	USB_InitFSLSPClkSel:
 4837              	.LFB357:
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  freq  clock frequency
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4838              		.loc 1 1411 1
 4839              		.cfi_startproc
 4840              		@ args = 0, pretend = 0, frame = 16
 4841              		@ frame_needed = 1, uses_anonymous_args = 0
 4842              		@ link register save eliminated.
 4843 0000 80B4     		push	{r7}
 4844              		.cfi_def_cfa_offset 4
 4845              		.cfi_offset 7, -4
 4846 0002 85B0     		sub	sp, sp, #20
 4847              		.cfi_def_cfa_offset 24
 4848 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 110


 4849              		.cfi_def_cfa_register 7
 4850 0006 7860     		str	r0, [r7, #4]
 4851 0008 0B46     		mov	r3, r1
 4852 000a FB70     		strb	r3, [r7, #3]
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4853              		.loc 1 1412 12
 4854 000c 7B68     		ldr	r3, [r7, #4]
 4855 000e FB60     		str	r3, [r7, #12]
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 4856              		.loc 1 1414 19
 4857 0010 FB68     		ldr	r3, [r7, #12]
 4858 0012 03F58063 		add	r3, r3, #1024
 4859 0016 1B68     		ldr	r3, [r3]
 4860 0018 FA68     		ldr	r2, [r7, #12]
 4861 001a 02F58062 		add	r2, r2, #1024
 4862 001e 23F00303 		bic	r3, r3, #3
 4863 0022 1360     		str	r3, [r2]
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 4864              		.loc 1 1415 19
 4865 0024 FB68     		ldr	r3, [r7, #12]
 4866 0026 03F58063 		add	r3, r3, #1024
 4867 002a 1A68     		ldr	r2, [r3]
 4868              		.loc 1 1415 37
 4869 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4870 002e 03F00303 		and	r3, r3, #3
 4871              		.loc 1 1415 19
 4872 0032 F968     		ldr	r1, [r7, #12]
 4873 0034 01F58061 		add	r1, r1, #1024
 4874 0038 1343     		orrs	r3, r3, r2
 4875 003a 0B60     		str	r3, [r1]
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 4876              		.loc 1 1417 6
 4877 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4878 003e 012B     		cmp	r3, #1
 4879 0040 07D1     		bne	.L205
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 4880              		.loc 1 1419 5
 4881 0042 FB68     		ldr	r3, [r7, #12]
 4882 0044 03F58063 		add	r3, r3, #1024
 4883 0048 1A46     		mov	r2, r3
 4884              		.loc 1 1419 21
 4885 004a 4BF68033 		movw	r3, #48000
 4886 004e 5360     		str	r3, [r2, #4]
 4887 0050 09E0     		b	.L206
 4888              	.L205:
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 4889              		.loc 1 1421 11
 4890 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4891 0054 022B     		cmp	r3, #2
 4892 0056 06D1     		bne	.L206
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 4893              		.loc 1 1423 5
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 111


 4894 0058 FB68     		ldr	r3, [r7, #12]
 4895 005a 03F58063 		add	r3, r3, #1024
 4896 005e 1A46     		mov	r2, r3
 4897              		.loc 1 1423 21
 4898 0060 41F27073 		movw	r3, #6000
 4899 0064 5360     		str	r3, [r2, #4]
 4900              	.L206:
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* ... */
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4901              		.loc 1 1430 10
 4902 0066 0023     		movs	r3, #0
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4903              		.loc 1 1431 1
 4904 0068 1846     		mov	r0, r3
 4905 006a 1437     		adds	r7, r7, #20
 4906              		.cfi_def_cfa_offset 4
 4907 006c BD46     		mov	sp, r7
 4908              		.cfi_def_cfa_register 13
 4909              		@ sp needed
 4910 006e 5DF8047B 		ldr	r7, [sp], #4
 4911              		.cfi_restore 7
 4912              		.cfi_def_cfa_offset 0
 4913 0072 7047     		bx	lr
 4914              		.cfi_endproc
 4915              	.LFE357:
 4917              		.section	.text.USB_ResetPort,"ax",%progbits
 4918              		.align	1
 4919              		.global	USB_ResetPort
 4920              		.syntax unified
 4921              		.thumb
 4922              		.thumb_func
 4924              	USB_ResetPort:
 4925              	.LFB358:
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *   before clearing the reset bit.
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4926              		.loc 1 1441 1
 4927              		.cfi_startproc
 4928              		@ args = 0, pretend = 0, frame = 16
 4929              		@ frame_needed = 1, uses_anonymous_args = 0
 4930 0000 80B5     		push	{r7, lr}
 4931              		.cfi_def_cfa_offset 8
 4932              		.cfi_offset 7, -8
 4933              		.cfi_offset 14, -4
 4934 0002 84B0     		sub	sp, sp, #16
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 112


 4935              		.cfi_def_cfa_offset 24
 4936 0004 00AF     		add	r7, sp, #0
 4937              		.cfi_def_cfa_register 7
 4938 0006 7860     		str	r0, [r7, #4]
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4939              		.loc 1 1442 12
 4940 0008 7B68     		ldr	r3, [r7, #4]
 4941 000a FB60     		str	r3, [r7, #12]
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4942              		.loc 1 1444 17
 4943 000c 0023     		movs	r3, #0
 4944 000e BB60     		str	r3, [r7, #8]
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4945              		.loc 1 1446 11
 4946 0010 FB68     		ldr	r3, [r7, #12]
 4947 0012 03F58863 		add	r3, r3, #1088
 4948 0016 1B68     		ldr	r3, [r3]
 4949              		.loc 1 1446 9
 4950 0018 BB60     		str	r3, [r7, #8]
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 4951              		.loc 1 1448 9
 4952 001a BB68     		ldr	r3, [r7, #8]
 4953 001c 23F02E03 		bic	r3, r3, #46
 4954 0020 BB60     		str	r3, [r7, #8]
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 4955              		.loc 1 1451 35
 4956 0022 BB68     		ldr	r3, [r7, #8]
 4957              		.loc 1 1451 3
 4958 0024 FA68     		ldr	r2, [r7, #12]
 4959 0026 02F58862 		add	r2, r2, #1088
 4960              		.loc 1 1451 35
 4961 002a 43F48073 		orr	r3, r3, #256
 4962              		.loc 1 1451 14
 4963 002e 1360     		str	r3, [r2]
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 4964              		.loc 1 1452 3
 4965 0030 6420     		movs	r0, #100
 4966 0032 FFF7FEFF 		bl	HAL_Delay
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 4967              		.loc 1 1453 38
 4968 0036 BB68     		ldr	r3, [r7, #8]
 4969              		.loc 1 1453 3
 4970 0038 FA68     		ldr	r2, [r7, #12]
 4971 003a 02F58862 		add	r2, r2, #1088
 4972              		.loc 1 1453 38
 4973 003e 23F48073 		bic	r3, r3, #256
 4974              		.loc 1 1453 14
 4975 0042 1360     		str	r3, [r2]
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_Delay(10U);
 4976              		.loc 1 1454 3
 4977 0044 0A20     		movs	r0, #10
 4978 0046 FFF7FEFF 		bl	HAL_Delay
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 113


1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4979              		.loc 1 1456 10
 4980 004a 0023     		movs	r3, #0
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4981              		.loc 1 1457 1
 4982 004c 1846     		mov	r0, r3
 4983 004e 1037     		adds	r7, r7, #16
 4984              		.cfi_def_cfa_offset 8
 4985 0050 BD46     		mov	sp, r7
 4986              		.cfi_def_cfa_register 13
 4987              		@ sp needed
 4988 0052 80BD     		pop	{r7, pc}
 4989              		.cfi_endproc
 4990              	.LFE358:
 4992              		.section	.text.USB_DriveVbus,"ax",%progbits
 4993              		.align	1
 4994              		.global	USB_DriveVbus
 4995              		.syntax unified
 4996              		.thumb
 4997              		.thumb_func
 4999              	USB_DriveVbus:
 5000              	.LFB359:
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  state  VBUS state
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           0 : Deactivate VBUS
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           1 : Activate VBUS
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5001              		.loc 1 1468 1
 5002              		.cfi_startproc
 5003              		@ args = 0, pretend = 0, frame = 16
 5004              		@ frame_needed = 1, uses_anonymous_args = 0
 5005              		@ link register save eliminated.
 5006 0000 80B4     		push	{r7}
 5007              		.cfi_def_cfa_offset 4
 5008              		.cfi_offset 7, -4
 5009 0002 85B0     		sub	sp, sp, #20
 5010              		.cfi_def_cfa_offset 24
 5011 0004 00AF     		add	r7, sp, #0
 5012              		.cfi_def_cfa_register 7
 5013 0006 7860     		str	r0, [r7, #4]
 5014 0008 0B46     		mov	r3, r1
 5015 000a FB70     		strb	r3, [r7, #3]
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5016              		.loc 1 1469 12
 5017 000c 7B68     		ldr	r3, [r7, #4]
 5018 000e FB60     		str	r3, [r7, #12]
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5019              		.loc 1 1470 17
 5020 0010 0023     		movs	r3, #0
 5021 0012 BB60     		str	r3, [r7, #8]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 114


1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5022              		.loc 1 1472 11
 5023 0014 FB68     		ldr	r3, [r7, #12]
 5024 0016 03F58863 		add	r3, r3, #1088
 5025 001a 1B68     		ldr	r3, [r3]
 5026              		.loc 1 1472 9
 5027 001c BB60     		str	r3, [r7, #8]
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5028              		.loc 1 1474 9
 5029 001e BB68     		ldr	r3, [r7, #8]
 5030 0020 23F02E03 		bic	r3, r3, #46
 5031 0024 BB60     		str	r3, [r7, #8]
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5032              		.loc 1 1477 15
 5033 0026 BB68     		ldr	r3, [r7, #8]
 5034 0028 03F48053 		and	r3, r3, #4096
 5035              		.loc 1 1477 6
 5036 002c 002B     		cmp	r3, #0
 5037 002e 09D1     		bne	.L211
 5038              		.loc 1 1477 43 discriminator 1
 5039 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5040 0032 012B     		cmp	r3, #1
 5041 0034 06D1     		bne	.L211
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5042              		.loc 1 1479 37
 5043 0036 BB68     		ldr	r3, [r7, #8]
 5044              		.loc 1 1479 5
 5045 0038 FA68     		ldr	r2, [r7, #12]
 5046 003a 02F58862 		add	r2, r2, #1088
 5047              		.loc 1 1479 37
 5048 003e 43F48053 		orr	r3, r3, #4096
 5049              		.loc 1 1479 16
 5050 0042 1360     		str	r3, [r2]
 5051              	.L211:
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5052              		.loc 1 1481 15
 5053 0044 BB68     		ldr	r3, [r7, #8]
 5054 0046 03F48053 		and	r3, r3, #4096
 5055              		.loc 1 1481 6
 5056 004a B3F5805F 		cmp	r3, #4096
 5057 004e 09D1     		bne	.L212
 5058              		.loc 1 1481 58 discriminator 1
 5059 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5060 0052 002B     		cmp	r3, #0
 5061 0054 06D1     		bne	.L212
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5062              		.loc 1 1483 40
 5063 0056 BB68     		ldr	r3, [r7, #8]
 5064              		.loc 1 1483 5
 5065 0058 FA68     		ldr	r2, [r7, #12]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 115


 5066 005a 02F58862 		add	r2, r2, #1088
 5067              		.loc 1 1483 40
 5068 005e 23F48053 		bic	r3, r3, #4096
 5069              		.loc 1 1483 16
 5070 0062 1360     		str	r3, [r2]
 5071              	.L212:
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5072              		.loc 1 1485 10
 5073 0064 0023     		movs	r3, #0
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5074              		.loc 1 1486 1
 5075 0066 1846     		mov	r0, r3
 5076 0068 1437     		adds	r7, r7, #20
 5077              		.cfi_def_cfa_offset 4
 5078 006a BD46     		mov	sp, r7
 5079              		.cfi_def_cfa_register 13
 5080              		@ sp needed
 5081 006c 5DF8047B 		ldr	r7, [sp], #4
 5082              		.cfi_restore 7
 5083              		.cfi_def_cfa_offset 0
 5084 0070 7047     		bx	lr
 5085              		.cfi_endproc
 5086              	.LFE359:
 5088              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 5089              		.align	1
 5090              		.global	USB_GetHostSpeed
 5091              		.syntax unified
 5092              		.thumb
 5093              		.thumb_func
 5095              	USB_GetHostSpeed:
 5096              	.LFB360:
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Return Host Core speed
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval speed : Host speed
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5097              		.loc 1 1497 1
 5098              		.cfi_startproc
 5099              		@ args = 0, pretend = 0, frame = 16
 5100              		@ frame_needed = 1, uses_anonymous_args = 0
 5101              		@ link register save eliminated.
 5102 0000 80B4     		push	{r7}
 5103              		.cfi_def_cfa_offset 4
 5104              		.cfi_offset 7, -4
 5105 0002 85B0     		sub	sp, sp, #20
 5106              		.cfi_def_cfa_offset 24
 5107 0004 00AF     		add	r7, sp, #0
 5108              		.cfi_def_cfa_register 7
 5109 0006 7860     		str	r0, [r7, #4]
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 116


 5110              		.loc 1 1498 12
 5111 0008 7B68     		ldr	r3, [r7, #4]
 5112 000a FB60     		str	r3, [r7, #12]
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5113              		.loc 1 1499 17
 5114 000c 0023     		movs	r3, #0
 5115 000e BB60     		str	r3, [r7, #8]
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5116              		.loc 1 1501 11
 5117 0010 FB68     		ldr	r3, [r7, #12]
 5118 0012 03F58863 		add	r3, r3, #1088
 5119 0016 1B68     		ldr	r3, [r3]
 5120              		.loc 1 1501 9
 5121 0018 BB60     		str	r3, [r7, #8]
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5122              		.loc 1 1502 39
 5123 001a BB68     		ldr	r3, [r7, #8]
 5124 001c 5B0C     		lsrs	r3, r3, #17
 5125 001e 03F00303 		and	r3, r3, #3
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5126              		.loc 1 1503 1
 5127 0022 1846     		mov	r0, r3
 5128 0024 1437     		adds	r7, r7, #20
 5129              		.cfi_def_cfa_offset 4
 5130 0026 BD46     		mov	sp, r7
 5131              		.cfi_def_cfa_register 13
 5132              		@ sp needed
 5133 0028 5DF8047B 		ldr	r7, [sp], #4
 5134              		.cfi_restore 7
 5135              		.cfi_def_cfa_offset 0
 5136 002c 7047     		bx	lr
 5137              		.cfi_endproc
 5138              	.LFE360:
 5140              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5141              		.align	1
 5142              		.global	USB_GetCurrentFrame
 5143              		.syntax unified
 5144              		.thumb
 5145              		.thumb_func
 5147              	USB_GetCurrentFrame:
 5148              	.LFB361:
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval current frame number
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5149              		.loc 1 1511 1
 5150              		.cfi_startproc
 5151              		@ args = 0, pretend = 0, frame = 16
 5152              		@ frame_needed = 1, uses_anonymous_args = 0
 5153              		@ link register save eliminated.
 5154 0000 80B4     		push	{r7}
 5155              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 117


 5156              		.cfi_offset 7, -4
 5157 0002 85B0     		sub	sp, sp, #20
 5158              		.cfi_def_cfa_offset 24
 5159 0004 00AF     		add	r7, sp, #0
 5160              		.cfi_def_cfa_register 7
 5161 0006 7860     		str	r0, [r7, #4]
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5162              		.loc 1 1512 12
 5163 0008 7B68     		ldr	r3, [r7, #4]
 5164 000a FB60     		str	r3, [r7, #12]
1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5165              		.loc 1 1514 11
 5166 000c FB68     		ldr	r3, [r7, #12]
 5167 000e 03F58063 		add	r3, r3, #1024
 5168              		.loc 1 1514 20
 5169 0012 9B68     		ldr	r3, [r3, #8]
 5170              		.loc 1 1514 28
 5171 0014 9BB2     		uxth	r3, r3
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5172              		.loc 1 1515 1
 5173 0016 1846     		mov	r0, r3
 5174 0018 1437     		adds	r7, r7, #20
 5175              		.cfi_def_cfa_offset 4
 5176 001a BD46     		mov	sp, r7
 5177              		.cfi_def_cfa_register 13
 5178              		@ sp needed
 5179 001c 5DF8047B 		ldr	r7, [sp], #4
 5180              		.cfi_restore 7
 5181              		.cfi_def_cfa_offset 0
 5182 0020 7047     		bx	lr
 5183              		.cfi_endproc
 5184              	.LFE361:
 5186              		.section	.text.USB_HC_Init,"ax",%progbits
 5187              		.align	1
 5188              		.global	USB_HC_Init
 5189              		.syntax unified
 5190              		.thumb
 5191              		.thumb_func
 5193              	USB_HC_Init:
 5194              	.LFB362:
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initialize a host channel
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_num  Channel number
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  dev_address  Current device address
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  speed  Current device speed
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 118


1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5195              		.loc 1 1543 1
 5196              		.cfi_startproc
 5197              		@ args = 12, pretend = 0, frame = 32
 5198              		@ frame_needed = 1, uses_anonymous_args = 0
 5199 0000 80B5     		push	{r7, lr}
 5200              		.cfi_def_cfa_offset 8
 5201              		.cfi_offset 7, -8
 5202              		.cfi_offset 14, -4
 5203 0002 88B0     		sub	sp, sp, #32
 5204              		.cfi_def_cfa_offset 40
 5205 0004 00AF     		add	r7, sp, #0
 5206              		.cfi_def_cfa_register 7
 5207 0006 7860     		str	r0, [r7, #4]
 5208 0008 0846     		mov	r0, r1
 5209 000a 1146     		mov	r1, r2
 5210 000c 1A46     		mov	r2, r3
 5211 000e 0346     		mov	r3, r0
 5212 0010 FB70     		strb	r3, [r7, #3]
 5213 0012 0B46     		mov	r3, r1
 5214 0014 BB70     		strb	r3, [r7, #2]
 5215 0016 1346     		mov	r3, r2
 5216 0018 7B70     		strb	r3, [r7, #1]
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5217              		.loc 1 1544 21
 5218 001a 0023     		movs	r3, #0
 5219 001c FB77     		strb	r3, [r7, #31]
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5220              		.loc 1 1545 12
 5221 001e 7B68     		ldr	r3, [r7, #4]
 5222 0020 3B61     		str	r3, [r7, #16]
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HCcharEpDir;
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 5223              		.loc 1 1551 3
 5224 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5225 0024 5A01     		lsls	r2, r3, #5
 5226 0026 3B69     		ldr	r3, [r7, #16]
 5227 0028 1344     		add	r3, r3, r2
 5228 002a 03F5A063 		add	r3, r3, #1280
 5229 002e 1A46     		mov	r2, r3
 5230              		.loc 1 1551 36
 5231 0030 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 119


 5232 0034 9360     		str	r3, [r2, #8]
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   switch (ep_type)
 5233              		.loc 1 1554 3
 5234 0036 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5235 003a 032B     		cmp	r3, #3
 5236 003c 67D8     		bhi	.L219
 5237 003e 01A2     		adr	r2, .L221
 5238 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5239              		.p2align 2
 5240              	.L221:
 5241 0044 55000000 		.word	.L222+1
 5242 0048 D1000000 		.word	.L223+1
 5243 004c 55000000 		.word	.L222+1
 5244 0050 93000000 		.word	.L220+1
 5245              		.p2align 1
 5246              	.L222:
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_BULK:
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5247              		.loc 1 1558 7
 5248 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5249 0056 5A01     		lsls	r2, r3, #5
 5250 0058 3B69     		ldr	r3, [r7, #16]
 5251 005a 1344     		add	r3, r3, r2
 5252 005c 03F5A063 		add	r3, r3, #1280
 5253 0060 1A46     		mov	r2, r3
 5254              		.loc 1 1558 43
 5255 0062 40F29D43 		movw	r3, #1181
 5256 0066 D360     		str	r3, [r2, #12]
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5257              		.loc 1 1565 27
 5258 0068 97F90230 		ldrsb	r3, [r7, #2]
 5259              		.loc 1 1565 10
 5260 006c 002B     		cmp	r3, #0
 5261 006e 51DA     		bge	.L235
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5262              		.loc 1 1567 45
 5263 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5264 0072 5A01     		lsls	r2, r3, #5
 5265 0074 3B69     		ldr	r3, [r7, #16]
 5266 0076 1344     		add	r3, r3, r2
 5267 0078 03F5A063 		add	r3, r3, #1280
 5268 007c DB68     		ldr	r3, [r3, #12]
 5269 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5270 0080 5101     		lsls	r1, r2, #5
 5271 0082 3A69     		ldr	r2, [r7, #16]
 5272 0084 0A44     		add	r2, r2, r1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 120


 5273 0086 02F5A062 		add	r2, r2, #1280
 5274 008a 43F48073 		orr	r3, r3, #256
 5275 008e D360     		str	r3, [r2, #12]
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5276              		.loc 1 1569 7
 5277 0090 40E0     		b	.L235
 5278              	.L220:
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_INTR:
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5279              		.loc 1 1572 7
 5280 0092 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5281 0094 5A01     		lsls	r2, r3, #5
 5282 0096 3B69     		ldr	r3, [r7, #16]
 5283 0098 1344     		add	r3, r3, r2
 5284 009a 03F5A063 		add	r3, r3, #1280
 5285 009e 1A46     		mov	r2, r3
 5286              		.loc 1 1572 43
 5287 00a0 40F29D63 		movw	r3, #1693
 5288 00a4 D360     		str	r3, [r2, #12]
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5289              		.loc 1 1580 27
 5290 00a6 97F90230 		ldrsb	r3, [r7, #2]
 5291              		.loc 1 1580 10
 5292 00aa 002B     		cmp	r3, #0
 5293 00ac 34DA     		bge	.L236
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5294              		.loc 1 1582 45
 5295 00ae FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5296 00b0 5A01     		lsls	r2, r3, #5
 5297 00b2 3B69     		ldr	r3, [r7, #16]
 5298 00b4 1344     		add	r3, r3, r2
 5299 00b6 03F5A063 		add	r3, r3, #1280
 5300 00ba DB68     		ldr	r3, [r3, #12]
 5301 00bc FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5302 00be 5101     		lsls	r1, r2, #5
 5303 00c0 3A69     		ldr	r2, [r7, #16]
 5304 00c2 0A44     		add	r2, r2, r1
 5305 00c4 02F5A062 		add	r2, r2, #1280
 5306 00c8 43F48073 		orr	r3, r3, #256
 5307 00cc D360     		str	r3, [r2, #12]
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5308              		.loc 1 1585 7
 5309 00ce 23E0     		b	.L236
 5310              	.L223:
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 121


1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5311              		.loc 1 1588 7
 5312 00d0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5313 00d2 5A01     		lsls	r2, r3, #5
 5314 00d4 3B69     		ldr	r3, [r7, #16]
 5315 00d6 1344     		add	r3, r3, r2
 5316 00d8 03F5A063 		add	r3, r3, #1280
 5317 00dc 1A46     		mov	r2, r3
 5318              		.loc 1 1588 43
 5319 00de 40F22523 		movw	r3, #549
 5320 00e2 D360     		str	r3, [r2, #12]
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5321              		.loc 1 1593 27
 5322 00e4 97F90230 		ldrsb	r3, [r7, #2]
 5323              		.loc 1 1593 10
 5324 00e8 002B     		cmp	r3, #0
 5325 00ea 17DA     		bge	.L237
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5326              		.loc 1 1595 45
 5327 00ec FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5328 00ee 5A01     		lsls	r2, r3, #5
 5329 00f0 3B69     		ldr	r3, [r7, #16]
 5330 00f2 1344     		add	r3, r3, r2
 5331 00f4 03F5A063 		add	r3, r3, #1280
 5332 00f8 DB68     		ldr	r3, [r3, #12]
 5333 00fa FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5334 00fc 5101     		lsls	r1, r2, #5
 5335 00fe 3A69     		ldr	r2, [r7, #16]
 5336 0100 0A44     		add	r2, r2, r1
 5337 0102 02F5A062 		add	r2, r2, #1280
 5338 0106 43F4C073 		orr	r3, r3, #384
 5339 010a D360     		str	r3, [r2, #12]
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5340              		.loc 1 1597 7
 5341 010c 06E0     		b	.L237
 5342              	.L219:
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     default:
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ret = HAL_ERROR;
 5343              		.loc 1 1600 11
 5344 010e 0123     		movs	r3, #1
 5345 0110 FB77     		strb	r3, [r7, #31]
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5346              		.loc 1 1601 7
 5347 0112 04E0     		b	.L225
 5348              	.L235:
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5349              		.loc 1 1569 7
 5350 0114 00BF     		nop
 5351 0116 02E0     		b	.L225
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 122


 5352              	.L236:
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5353              		.loc 1 1585 7
 5354 0118 00BF     		nop
 5355 011a 00E0     		b	.L225
 5356              	.L237:
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5357              		.loc 1 1597 7
 5358 011c 00BF     		nop
 5359              	.L225:
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
 5360              		.loc 1 1605 39
 5361 011e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5362 0120 5A01     		lsls	r2, r3, #5
 5363 0122 3B69     		ldr	r3, [r7, #16]
 5364 0124 1344     		add	r3, r3, r2
 5365 0126 03F5A063 		add	r3, r3, #1280
 5366 012a DB68     		ldr	r3, [r3, #12]
 5367 012c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5368 012e 5101     		lsls	r1, r2, #5
 5369 0130 3A69     		ldr	r2, [r7, #16]
 5370 0132 0A44     		add	r2, r2, r1
 5371 0134 02F5A062 		add	r2, r2, #1280
 5372 0138 43F00203 		orr	r3, r3, #2
 5373 013c D360     		str	r3, [r2, #12]
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 5374              		.loc 1 1608 23
 5375 013e 3B69     		ldr	r3, [r7, #16]
 5376 0140 03F58063 		add	r3, r3, #1024
 5377 0144 9A69     		ldr	r2, [r3, #24]
 5378              		.loc 1 1608 41
 5379 0146 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5380 0148 03F00F03 		and	r3, r3, #15
 5381              		.loc 1 1608 30
 5382 014c 0121     		movs	r1, #1
 5383 014e 01FA03F3 		lsl	r3, r1, r3
 5384              		.loc 1 1608 23
 5385 0152 3969     		ldr	r1, [r7, #16]
 5386 0154 01F58061 		add	r1, r1, #1024
 5387 0158 1343     		orrs	r3, r3, r2
 5388 015a 8B61     		str	r3, [r1, #24]
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 5389              		.loc 1 1611 17
 5390 015c 7B68     		ldr	r3, [r7, #4]
 5391 015e 9B69     		ldr	r3, [r3, #24]
 5392 0160 43F00072 		orr	r2, r3, #33554432
 5393 0164 7B68     		ldr	r3, [r7, #4]
 5394 0166 9A61     		str	r2, [r3, #24]
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Program the HCCHAR register */
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 123


1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 5395              		.loc 1 1614 23
 5396 0168 97F90230 		ldrsb	r3, [r7, #2]
 5397              		.loc 1 1614 6
 5398 016c 002B     		cmp	r3, #0
 5399 016e 03DA     		bge	.L228
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 5400              		.loc 1 1616 17
 5401 0170 4FF40043 		mov	r3, #32768
 5402 0174 BB61     		str	r3, [r7, #24]
 5403 0176 01E0     		b	.L229
 5404              	.L228:
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharEpDir = 0U;
 5405              		.loc 1 1620 17
 5406 0178 0023     		movs	r3, #0
 5407 017a BB61     		str	r3, [r7, #24]
 5408              	.L229:
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
 5409              		.loc 1 1623 19
 5410 017c 7868     		ldr	r0, [r7, #4]
 5411 017e FFF7FEFF 		bl	USB_GetHostSpeed
 5412 0182 F860     		str	r0, [r7, #12]
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* LS device plugged to HUB */
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
 5413              		.loc 1 1626 6
 5414 0184 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 5415 0188 022B     		cmp	r3, #2
 5416 018a 06D1     		bne	.L230
 5417              		.loc 1 1626 41 discriminator 1
 5418 018c FB68     		ldr	r3, [r7, #12]
 5419 018e 022B     		cmp	r3, #2
 5420 0190 03D0     		beq	.L230
1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 5421              		.loc 1 1628 20
 5422 0192 4FF40033 		mov	r3, #131072
 5423 0196 7B61     		str	r3, [r7, #20]
 5424 0198 01E0     		b	.L231
 5425              	.L230:
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 5426              		.loc 1 1632 20
 5427 019a 0023     		movs	r3, #0
 5428 019c 7B61     		str	r3, [r7, #20]
 5429              	.L231:
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 124


 5430              		.loc 1 1635 41
 5431 019e 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 5432              		.loc 1 1635 63
 5433 01a0 9B05     		lsls	r3, r3, #22
 5434              		.loc 1 1635 70
 5435 01a2 03F0FE52 		and	r2, r3, #532676608
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5436              		.loc 1 1636 67
 5437 01a6 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 5438 01a8 DB02     		lsls	r3, r3, #11
 5439              		.loc 1 1636 74
 5440 01aa 03F4F043 		and	r3, r3, #30720
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5441              		.loc 1 1635 92
 5442 01ae 1A43     		orrs	r2, r2, r3
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5443              		.loc 1 1637 41
 5444 01b0 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5445              		.loc 1 1637 59
 5446 01b4 9B04     		lsls	r3, r3, #18
 5447              		.loc 1 1637 66
 5448 01b6 03F44023 		and	r3, r3, #786432
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5449              		.loc 1 1636 98
 5450 01ba 1A43     		orrs	r2, r2, r3
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 5451              		.loc 1 1638 54
 5452 01bc 3B8E     		ldrh	r3, [r7, #48]
 5453 01be C3F30A03 		ubfx	r3, r3, #0, #11
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5454              		.loc 1 1637 90
 5455 01c2 1A43     		orrs	r2, r2, r3
 5456              		.loc 1 1638 78
 5457 01c4 BB69     		ldr	r3, [r7, #24]
 5458 01c6 1A43     		orrs	r2, r2, r3
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5459              		.loc 1 1635 3
 5460 01c8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5461 01ca 5901     		lsls	r1, r3, #5
 5462 01cc 3B69     		ldr	r3, [r7, #16]
 5463 01ce 0B44     		add	r3, r3, r1
 5464 01d0 03F5A063 		add	r3, r3, #1280
 5465 01d4 1946     		mov	r1, r3
 5466              		.loc 1 1638 92
 5467 01d6 7B69     		ldr	r3, [r7, #20]
 5468 01d8 1343     		orrs	r3, r3, r2
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5469              		.loc 1 1635 37
 5470 01da 0B60     		str	r3, [r1]
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
 5471              		.loc 1 1640 6
 5472 01dc 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5473 01e0 032B     		cmp	r3, #3
 5474 01e2 03D0     		beq	.L232
 5475              		.loc 1 1640 33 discriminator 1
 5476 01e4 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 125


 5477 01e8 012B     		cmp	r3, #1
 5478 01ea 0FD1     		bne	.L233
 5479              	.L232:
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
 5480              		.loc 1 1642 39
 5481 01ec FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5482 01ee 5A01     		lsls	r2, r3, #5
 5483 01f0 3B69     		ldr	r3, [r7, #16]
 5484 01f2 1344     		add	r3, r3, r2
 5485 01f4 03F5A063 		add	r3, r3, #1280
 5486 01f8 1B68     		ldr	r3, [r3]
 5487 01fa FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5488 01fc 5101     		lsls	r1, r2, #5
 5489 01fe 3A69     		ldr	r2, [r7, #16]
 5490 0200 0A44     		add	r2, r2, r1
 5491 0202 02F5A062 		add	r2, r2, #1280
 5492 0206 43F00053 		orr	r3, r3, #536870912
 5493 020a 1360     		str	r3, [r2]
 5494              	.L233:
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 5495              		.loc 1 1645 10
 5496 020c FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5497              		.loc 1 1646 1
 5498 020e 1846     		mov	r0, r3
 5499 0210 2037     		adds	r7, r7, #32
 5500              		.cfi_def_cfa_offset 8
 5501 0212 BD46     		mov	sp, r7
 5502              		.cfi_def_cfa_register 13
 5503              		@ sp needed
 5504 0214 80BD     		pop	{r7, pc}
 5505              		.cfi_endproc
 5506              	.LFE362:
 5508 0216 00BF     		.section	.text.USB_HC_StartXfer,"ax",%progbits
 5509              		.align	1
 5510              		.global	USB_HC_StartXfer
 5511              		.syntax unified
 5512              		.thumb
 5513              		.thumb_func
 5515              	USB_HC_StartXfer:
 5516              	.LFB363:
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc)
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5517              		.loc 1 1655 1
 5518              		.cfi_startproc
 5519              		@ args = 0, pretend = 0, frame = 32
 5520              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 126


 5521 0000 80B5     		push	{r7, lr}
 5522              		.cfi_def_cfa_offset 8
 5523              		.cfi_offset 7, -8
 5524              		.cfi_offset 14, -4
 5525 0002 88B0     		sub	sp, sp, #32
 5526              		.cfi_def_cfa_offset 40
 5527 0004 00AF     		add	r7, sp, #0
 5528              		.cfi_def_cfa_register 7
 5529 0006 7860     		str	r0, [r7, #4]
 5530 0008 3960     		str	r1, [r7]
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5531              		.loc 1 1656 12
 5532 000a 7B68     		ldr	r3, [r7, #4]
 5533 000c BB61     		str	r3, [r7, #24]
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 5534              		.loc 1 1657 33
 5535 000e 3B68     		ldr	r3, [r7]
 5536 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5537              		.loc 1 1657 12
 5538 0012 7B61     		str	r3, [r7, #20]
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t  is_oddframe;
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t len_words;
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t num_packets;
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 5539              		.loc 1 1662 12
 5540 0014 4FF48073 		mov	r3, #256
 5541 0018 7B82     		strh	r3, [r7, #18]	@ movhi
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 5542              		.loc 1 1665 9
 5543 001a 3B68     		ldr	r3, [r7]
 5544 001c 5B69     		ldr	r3, [r3, #20]
 5545              		.loc 1 1665 6
 5546 001e 002B     		cmp	r3, #0
 5547 0020 18D0     		beq	.L239
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 5548              		.loc 1 1667 33
 5549 0022 3B68     		ldr	r3, [r7]
 5550 0024 5B69     		ldr	r3, [r3, #20]
 5551              		.loc 1 1667 48
 5552 0026 3A68     		ldr	r2, [r7]
 5553 0028 1289     		ldrh	r2, [r2, #8]
 5554              		.loc 1 1667 44
 5555 002a 1344     		add	r3, r3, r2
 5556              		.loc 1 1667 61
 5557 002c 013B     		subs	r3, r3, #1
 5558              		.loc 1 1667 71
 5559 002e 3A68     		ldr	r2, [r7]
 5560 0030 1289     		ldrh	r2, [r2, #8]
 5561              		.loc 1 1667 67
 5562 0032 B3FBF2F3 		udiv	r3, r3, r2
 5563              		.loc 1 1667 17
 5564 0036 FB83     		strh	r3, [r7, #30]	@ movhi
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 127


1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 5565              		.loc 1 1669 8
 5566 0038 FA8B     		ldrh	r2, [r7, #30]
 5567 003a 7B8A     		ldrh	r3, [r7, #18]
 5568 003c 9A42     		cmp	r2, r3
 5569 003e 0BD9     		bls	.L240
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 5570              		.loc 1 1671 19
 5571 0040 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 5572 0042 FB83     		strh	r3, [r7, #30]	@ movhi
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 5573              		.loc 1 1672 22
 5574 0044 FB8B     		ldrh	r3, [r7, #30]
 5575              		.loc 1 1672 48
 5576 0046 3A68     		ldr	r2, [r7]
 5577 0048 1289     		ldrh	r2, [r2, #8]
 5578              		.loc 1 1672 44
 5579 004a 03FB02F2 		mul	r2, r3, r2
 5580              		.loc 1 1672 20
 5581 004e 3B68     		ldr	r3, [r7]
 5582 0050 1A61     		str	r2, [r3, #16]
 5583 0052 01E0     		b	.L240
 5584              	.L239:
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     num_packets = 1U;
 5585              		.loc 1 1677 17
 5586 0054 0123     		movs	r3, #1
 5587 0056 FB83     		strh	r3, [r7, #30]	@ movhi
 5588              	.L240:
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /*
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * max_packet size.
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5589              		.loc 1 1684 9
 5590 0058 3B68     		ldr	r3, [r7]
 5591 005a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5592              		.loc 1 1684 6
 5593 005c 002B     		cmp	r3, #0
 5594 005e 07D0     		beq	.L241
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 5595              		.loc 1 1686 20
 5596 0060 FB8B     		ldrh	r3, [r7, #30]
 5597              		.loc 1 1686 46
 5598 0062 3A68     		ldr	r2, [r7]
 5599 0064 1289     		ldrh	r2, [r2, #8]
 5600              		.loc 1 1686 42
 5601 0066 03FB02F2 		mul	r2, r3, r2
 5602              		.loc 1 1686 18
 5603 006a 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 128


 5604 006c 1A61     		str	r2, [r3, #16]
 5605 006e 03E0     		b	.L242
 5606              	.L241:
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
 5607              		.loc 1 1690 22
 5608 0070 3B68     		ldr	r3, [r7]
 5609 0072 5A69     		ldr	r2, [r3, #20]
 5610              		.loc 1 1690 18
 5611 0074 3B68     		ldr	r3, [r7]
 5612 0076 1A61     		str	r2, [r3, #16]
 5613              	.L242:
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
 5614              		.loc 1 1694 32
 5615 0078 3B68     		ldr	r3, [r7]
 5616 007a 1B69     		ldr	r3, [r3, #16]
 5617              		.loc 1 1694 43
 5618 007c C3F31202 		ubfx	r2, r3, #0, #19
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5619              		.loc 1 1695 31
 5620 0080 FB8B     		ldrh	r3, [r7, #30]
 5621              		.loc 1 1695 53
 5622 0082 D904     		lsls	r1, r3, #19
 5623              		.loc 1 1695 60
 5624 0084 594B     		ldr	r3, .L257
 5625 0086 0B40     		ands	r3, r3, r1
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5626              		.loc 1 1694 68
 5627 0088 1A43     		orrs	r2, r2, r3
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 5628              		.loc 1 1696 43
 5629 008a 3B68     		ldr	r3, [r7]
 5630 008c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 5631              		.loc 1 1696 54
 5632 008e 5B07     		lsls	r3, r3, #29
 5633              		.loc 1 1696 61
 5634 0090 03F0C043 		and	r3, r3, #1610612736
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5635              		.loc 1 1694 3
 5636 0094 7969     		ldr	r1, [r7, #20]
 5637 0096 4801     		lsls	r0, r1, #5
 5638 0098 B969     		ldr	r1, [r7, #24]
 5639 009a 0144     		add	r1, r1, r0
 5640 009c 01F5A061 		add	r1, r1, #1280
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5641              		.loc 1 1695 85
 5642 00a0 1343     		orrs	r3, r3, r2
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5643              		.loc 1 1694 27
 5644 00a2 0B61     		str	r3, [r1, #16]
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 129


 5645              		.loc 1 1698 29
 5646 00a4 BB69     		ldr	r3, [r7, #24]
 5647 00a6 03F58063 		add	r3, r3, #1024
 5648              		.loc 1 1698 38
 5649 00aa 9B68     		ldr	r3, [r3, #8]
 5650              		.loc 1 1698 46
 5651 00ac 03F00103 		and	r3, r3, #1
 5652              		.loc 1 1698 67
 5653 00b0 002B     		cmp	r3, #0
 5654 00b2 0CBF     		ite	eq
 5655 00b4 0123     		moveq	r3, #1
 5656 00b6 0023     		movne	r3, #0
 5657 00b8 DBB2     		uxtb	r3, r3
 5658              		.loc 1 1698 15
 5659 00ba 7B74     		strb	r3, [r7, #17]
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5660              		.loc 1 1699 27
 5661 00bc 7B69     		ldr	r3, [r7, #20]
 5662 00be 5A01     		lsls	r2, r3, #5
 5663 00c0 BB69     		ldr	r3, [r7, #24]
 5664 00c2 1344     		add	r3, r3, r2
 5665 00c4 03F5A063 		add	r3, r3, #1280
 5666 00c8 1B68     		ldr	r3, [r3]
 5667 00ca 7A69     		ldr	r2, [r7, #20]
 5668 00cc 5101     		lsls	r1, r2, #5
 5669 00ce BA69     		ldr	r2, [r7, #24]
 5670 00d0 0A44     		add	r2, r2, r1
 5671 00d2 02F5A062 		add	r2, r2, #1280
 5672 00d6 23F00053 		bic	r3, r3, #536870912
 5673 00da 1360     		str	r3, [r2]
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 5674              		.loc 1 1700 27
 5675 00dc 7B69     		ldr	r3, [r7, #20]
 5676 00de 5A01     		lsls	r2, r3, #5
 5677 00e0 BB69     		ldr	r3, [r7, #24]
 5678 00e2 1344     		add	r3, r3, r2
 5679 00e4 03F5A063 		add	r3, r3, #1280
 5680 00e8 1A68     		ldr	r2, [r3]
 5681              		.loc 1 1700 30
 5682 00ea 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 5683              		.loc 1 1700 52
 5684 00ec 5B07     		lsls	r3, r3, #29
 5685              		.loc 1 1700 27
 5686 00ee 7969     		ldr	r1, [r7, #20]
 5687 00f0 4801     		lsls	r0, r1, #5
 5688 00f2 B969     		ldr	r1, [r7, #24]
 5689 00f4 0144     		add	r1, r1, r0
 5690 00f6 01F5A061 		add	r1, r1, #1280
 5691 00fa 1343     		orrs	r3, r3, r2
 5692 00fc 0B60     		str	r3, [r1]
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set host channel enable */
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 5693              		.loc 1 1703 12
 5694 00fe 7B69     		ldr	r3, [r7, #20]
 5695 0100 5A01     		lsls	r2, r3, #5
 5696 0102 BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 130


 5697 0104 1344     		add	r3, r3, r2
 5698 0106 03F5A063 		add	r3, r3, #1280
 5699              		.loc 1 1703 27
 5700 010a 1B68     		ldr	r3, [r3]
 5701              		.loc 1 1703 10
 5702 010c BB60     		str	r3, [r7, #8]
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5703              		.loc 1 1704 10
 5704 010e BB68     		ldr	r3, [r7, #8]
 5705 0110 23F08043 		bic	r3, r3, #1073741824
 5706 0114 BB60     		str	r3, [r7, #8]
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5707              		.loc 1 1707 9
 5708 0116 3B68     		ldr	r3, [r7]
 5709 0118 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5710              		.loc 1 1707 6
 5711 011a 002B     		cmp	r3, #0
 5712 011c 04D0     		beq	.L243
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 5713              		.loc 1 1709 12
 5714 011e BB68     		ldr	r3, [r7, #8]
 5715 0120 43F40043 		orr	r3, r3, #32768
 5716 0124 BB60     		str	r3, [r7, #8]
 5717 0126 03E0     		b	.L244
 5718              	.L243:
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 5719              		.loc 1 1713 12
 5720 0128 BB68     		ldr	r3, [r7, #8]
 5721 012a 23F40043 		bic	r3, r3, #32768
 5722 012e BB60     		str	r3, [r7, #8]
 5723              	.L244:
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5724              		.loc 1 1715 10
 5725 0130 BB68     		ldr	r3, [r7, #8]
 5726 0132 43F00043 		orr	r3, r3, #-2147483648
 5727 0136 BB60     		str	r3, [r7, #8]
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 5728              		.loc 1 1716 3
 5729 0138 7B69     		ldr	r3, [r7, #20]
 5730 013a 5A01     		lsls	r2, r3, #5
 5731 013c BB69     		ldr	r3, [r7, #24]
 5732 013e 1344     		add	r3, r3, r2
 5733 0140 03F5A063 		add	r3, r3, #1280
 5734 0144 1A46     		mov	r2, r3
 5735              		.loc 1 1716 27
 5736 0146 BB68     		ldr	r3, [r7, #8]
 5737 0148 1360     		str	r3, [r2]
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 5738              		.loc 1 1718 10
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 131


 5739 014a 3B68     		ldr	r3, [r7]
 5740 014c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5741              		.loc 1 1718 6
 5742 014e 002B     		cmp	r3, #0
 5743 0150 47D1     		bne	.L245
 5744              		.loc 1 1718 34 discriminator 1
 5745 0152 3B68     		ldr	r3, [r7]
 5746 0154 5B69     		ldr	r3, [r3, #20]
 5747              		.loc 1 1718 28 discriminator 1
 5748 0156 002B     		cmp	r3, #0
 5749 0158 43D0     		beq	.L245
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     switch (hc->ep_type)
 5750              		.loc 1 1720 15
 5751 015a 3B68     		ldr	r3, [r7]
 5752 015c DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 5753              		.loc 1 1720 5
 5754 015e 032B     		cmp	r3, #3
 5755 0160 30D8     		bhi	.L254
 5756 0162 01A2     		adr	r2, .L248
 5757 0164 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5758              		.p2align 2
 5759              	.L248:
 5760 0168 79010000 		.word	.L249+1
 5761 016c 9D010000 		.word	.L247+1
 5762 0170 79010000 		.word	.L249+1
 5763 0174 9D010000 		.word	.L247+1
 5764              		.p2align 1
 5765              	.L249:
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Non periodic transfer */
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_BULK:
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5766              		.loc 1 1726 35
 5767 0178 3B68     		ldr	r3, [r7]
 5768 017a 5B69     		ldr	r3, [r3, #20]
 5769              		.loc 1 1726 46
 5770 017c 0333     		adds	r3, r3, #3
 5771              		.loc 1 1726 52
 5772 017e 9B08     		lsrs	r3, r3, #2
 5773              		.loc 1 1726 19
 5774 0180 FB81     		strh	r3, [r7, #14]	@ movhi
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 5775              		.loc 1 1729 23
 5776 0182 FA89     		ldrh	r2, [r7, #14]
 5777              		.loc 1 1729 30
 5778 0184 7B68     		ldr	r3, [r7, #4]
 5779 0186 DB6A     		ldr	r3, [r3, #44]
 5780              		.loc 1 1729 41
 5781 0188 9BB2     		uxth	r3, r3
 5782              		.loc 1 1729 12
 5783 018a 9A42     		cmp	r2, r3
 5784 018c 1CD9     		bls	.L255
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 132


1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 5785              		.loc 1 1732 25
 5786 018e 7B68     		ldr	r3, [r7, #4]
 5787 0190 9B69     		ldr	r3, [r3, #24]
 5788 0192 43F02002 		orr	r2, r3, #32
 5789 0196 7B68     		ldr	r3, [r7, #4]
 5790 0198 9A61     		str	r2, [r3, #24]
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 5791              		.loc 1 1734 9
 5792 019a 15E0     		b	.L255
 5793              	.L247:
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Periodic transfer */
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_INTR:
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5794              		.loc 1 1739 35
 5795 019c 3B68     		ldr	r3, [r7]
 5796 019e 5B69     		ldr	r3, [r3, #20]
 5797              		.loc 1 1739 46
 5798 01a0 0333     		adds	r3, r3, #3
 5799              		.loc 1 1739 52
 5800 01a2 9B08     		lsrs	r3, r3, #2
 5801              		.loc 1 1739 19
 5802 01a4 FB81     		strh	r3, [r7, #14]	@ movhi
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 5803              		.loc 1 1741 23
 5804 01a6 FA89     		ldrh	r2, [r7, #14]
 5805              		.loc 1 1741 26
 5806 01a8 BB69     		ldr	r3, [r7, #24]
 5807 01aa 03F58063 		add	r3, r3, #1024
 5808              		.loc 1 1741 35
 5809 01ae 1B69     		ldr	r3, [r3, #16]
 5810              		.loc 1 1741 45
 5811 01b0 9BB2     		uxth	r3, r3
 5812              		.loc 1 1741 12
 5813 01b2 9A42     		cmp	r2, r3
 5814 01b4 0AD9     		bls	.L256
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 5815              		.loc 1 1744 25
 5816 01b6 7B68     		ldr	r3, [r7, #4]
 5817 01b8 9B69     		ldr	r3, [r3, #24]
 5818 01ba 43F08062 		orr	r2, r3, #67108864
 5819 01be 7B68     		ldr	r3, [r7, #4]
 5820 01c0 9A61     		str	r2, [r3, #24]
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 5821              		.loc 1 1746 9
 5822 01c2 03E0     		b	.L256
 5823              	.L254:
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 133


1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       default:
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 5824              		.loc 1 1749 9
 5825 01c4 00BF     		nop
 5826 01c6 02E0     		b	.L251
 5827              	.L255:
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5828              		.loc 1 1734 9
 5829 01c8 00BF     		nop
 5830 01ca 00E0     		b	.L251
 5831              	.L256:
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5832              		.loc 1 1746 9
 5833 01cc 00BF     		nop
 5834              	.L251:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len);
 5835              		.loc 1 1753 11
 5836 01ce 3B68     		ldr	r3, [r7]
 5837 01d0 D968     		ldr	r1, [r3, #12]
 5838 01d2 3B68     		ldr	r3, [r7]
 5839 01d4 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5840              		.loc 1 1753 72
 5841 01d6 3B68     		ldr	r3, [r7]
 5842 01d8 5B69     		ldr	r3, [r3, #20]
 5843              		.loc 1 1753 11
 5844 01da 9BB2     		uxth	r3, r3
 5845 01dc 7868     		ldr	r0, [r7, #4]
 5846 01de FFF7FEFF 		bl	USB_WritePacket
 5847              	.L245:
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5848              		.loc 1 1756 10
 5849 01e2 0023     		movs	r3, #0
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5850              		.loc 1 1757 1
 5851 01e4 1846     		mov	r0, r3
 5852 01e6 2037     		adds	r7, r7, #32
 5853              		.cfi_def_cfa_offset 8
 5854 01e8 BD46     		mov	sp, r7
 5855              		.cfi_def_cfa_register 13
 5856              		@ sp needed
 5857 01ea 80BD     		pop	{r7, pc}
 5858              	.L258:
 5859              		.align	2
 5860              	.L257:
 5861 01ec 0000F81F 		.word	536346624
 5862              		.cfi_endproc
 5863              	.LFE363:
 5865              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 5866              		.align	1
 5867              		.global	USB_HC_ReadInterrupt
 5868              		.syntax unified
 5869              		.thumb
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 134


 5870              		.thumb_func
 5872              	USB_HC_ReadInterrupt:
 5873              	.LFB364:
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5874              		.loc 1 1765 1
 5875              		.cfi_startproc
 5876              		@ args = 0, pretend = 0, frame = 16
 5877              		@ frame_needed = 1, uses_anonymous_args = 0
 5878              		@ link register save eliminated.
 5879 0000 80B4     		push	{r7}
 5880              		.cfi_def_cfa_offset 4
 5881              		.cfi_offset 7, -4
 5882 0002 85B0     		sub	sp, sp, #20
 5883              		.cfi_def_cfa_offset 24
 5884 0004 00AF     		add	r7, sp, #0
 5885              		.cfi_def_cfa_register 7
 5886 0006 7860     		str	r0, [r7, #4]
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5887              		.loc 1 1766 12
 5888 0008 7B68     		ldr	r3, [r7, #4]
 5889 000a FB60     		str	r3, [r7, #12]
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 5890              		.loc 1 1768 12
 5891 000c FB68     		ldr	r3, [r7, #12]
 5892 000e 03F58063 		add	r3, r3, #1024
 5893              		.loc 1 1768 21
 5894 0012 5B69     		ldr	r3, [r3, #20]
 5895              		.loc 1 1768 30
 5896 0014 9BB2     		uxth	r3, r3
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5897              		.loc 1 1769 1
 5898 0016 1846     		mov	r0, r3
 5899 0018 1437     		adds	r7, r7, #20
 5900              		.cfi_def_cfa_offset 4
 5901 001a BD46     		mov	sp, r7
 5902              		.cfi_def_cfa_register 13
 5903              		@ sp needed
 5904 001c 5DF8047B 		ldr	r7, [sp], #4
 5905              		.cfi_restore 7
 5906              		.cfi_def_cfa_offset 0
 5907 0020 7047     		bx	lr
 5908              		.cfi_endproc
 5909              	.LFE364:
 5911              		.section	.text.USB_HC_Halt,"ax",%progbits
 5912              		.align	1
 5913              		.global	USB_HC_Halt
 5914              		.syntax unified
 5915              		.thumb
 5916              		.thumb_func
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 135


 5918              	USB_HC_Halt:
 5919              	.LFB365:
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Halt a host channel
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5920              		.loc 1 1779 1
 5921              		.cfi_startproc
 5922              		@ args = 0, pretend = 0, frame = 32
 5923              		@ frame_needed = 1, uses_anonymous_args = 0
 5924              		@ link register save eliminated.
 5925 0000 80B4     		push	{r7}
 5926              		.cfi_def_cfa_offset 4
 5927              		.cfi_offset 7, -4
 5928 0002 89B0     		sub	sp, sp, #36
 5929              		.cfi_def_cfa_offset 40
 5930 0004 00AF     		add	r7, sp, #0
 5931              		.cfi_def_cfa_register 7
 5932 0006 7860     		str	r0, [r7, #4]
 5933 0008 0B46     		mov	r3, r1
 5934 000a FB70     		strb	r3, [r7, #3]
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5935              		.loc 1 1780 12
 5936 000c 7B68     		ldr	r3, [r7, #4]
 5937 000e FB61     		str	r3, [r7, #28]
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 5938              		.loc 1 1781 12
 5939 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5940 0012 BB61     		str	r3, [r7, #24]
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 5941              		.loc 1 1782 17
 5942 0014 0023     		movs	r3, #0
 5943 0016 FB60     		str	r3, [r7, #12]
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 5944              		.loc 1 1783 24
 5945 0018 BB69     		ldr	r3, [r7, #24]
 5946 001a 5A01     		lsls	r2, r3, #5
 5947 001c FB69     		ldr	r3, [r7, #28]
 5948 001e 1344     		add	r3, r3, r2
 5949 0020 03F5A063 		add	r3, r3, #1280
 5950              		.loc 1 1783 38
 5951 0024 1B68     		ldr	r3, [r3]
 5952              		.loc 1 1783 71
 5953 0026 9B0C     		lsrs	r3, r3, #18
 5954              		.loc 1 1783 12
 5955 0028 03F00303 		and	r3, r3, #3
 5956 002c 7B61     		str	r3, [r7, #20]
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
 5957              		.loc 1 1784 26
 5958 002e BB69     		ldr	r3, [r7, #24]
 5959 0030 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 136


 5960 0032 FB69     		ldr	r3, [r7, #28]
 5961 0034 1344     		add	r3, r3, r2
 5962 0036 03F5A063 		add	r3, r3, #1280
 5963              		.loc 1 1784 40
 5964 003a 1B68     		ldr	r3, [r3]
 5965              		.loc 1 1784 73
 5966 003c DB0F     		lsrs	r3, r3, #31
 5967              		.loc 1 1784 12
 5968 003e 03F00103 		and	r3, r3, #1
 5969 0042 3B61     		str	r3, [r7, #16]
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) &&
 5970              		.loc 1 1786 13
 5971 0044 7B68     		ldr	r3, [r7, #4]
 5972 0046 9B68     		ldr	r3, [r3, #8]
 5973              		.loc 1 1786 23
 5974 0048 03F02003 		and	r3, r3, #32
 5975              		.loc 1 1786 6
 5976 004c 202B     		cmp	r3, #32
 5977 004e 04D1     		bne	.L262
 5978              		.loc 1 1786 74 discriminator 1
 5979 0050 3B69     		ldr	r3, [r7, #16]
 5980 0052 002B     		cmp	r3, #0
 5981 0054 01D1     		bne	.L262
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (ChannelEna == 0U))
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_OK;
 5982              		.loc 1 1789 12
 5983 0056 0023     		movs	r3, #0
 5984 0058 C8E0     		b	.L263
 5985              	.L262:
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 5986              		.loc 1 1793 6
 5987 005a 7B69     		ldr	r3, [r7, #20]
 5988 005c 002B     		cmp	r3, #0
 5989 005e 02D0     		beq	.L264
 5990              		.loc 1 1793 33 discriminator 1
 5991 0060 7B69     		ldr	r3, [r7, #20]
 5992 0062 022B     		cmp	r3, #2
 5993 0064 63D1     		bne	.L265
 5994              	.L264:
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5995              		.loc 1 1795 28
 5996 0066 BB69     		ldr	r3, [r7, #24]
 5997 0068 5A01     		lsls	r2, r3, #5
 5998 006a FB69     		ldr	r3, [r7, #28]
 5999 006c 1344     		add	r3, r3, r2
 6000 006e 03F5A063 		add	r3, r3, #1280
 6001 0072 1B68     		ldr	r3, [r3]
 6002 0074 BA69     		ldr	r2, [r7, #24]
 6003 0076 5101     		lsls	r1, r2, #5
 6004 0078 FA69     		ldr	r2, [r7, #28]
 6005 007a 0A44     		add	r2, r2, r1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 137


 6006 007c 02F5A062 		add	r2, r2, #1280
 6007 0080 43F08043 		orr	r3, r3, #1073741824
 6008 0084 1360     		str	r3, [r2]
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
 6009              		.loc 1 1797 14
 6010 0086 7B68     		ldr	r3, [r7, #4]
 6011 0088 9B68     		ldr	r3, [r3, #8]
 6012              		.loc 1 1797 24
 6013 008a 03F02003 		and	r3, r3, #32
 6014              		.loc 1 1797 8
 6015 008e 002B     		cmp	r3, #0
 6016 0090 40F0AB80 		bne	.L271
1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 6017              		.loc 1 1799 16
 6018 0094 7B68     		ldr	r3, [r7, #4]
 6019 0096 DB6A     		ldr	r3, [r3, #44]
 6020              		.loc 1 1799 27
 6021 0098 03F47F03 		and	r3, r3, #16711680
 6022              		.loc 1 1799 10
 6023 009c 002B     		cmp	r3, #0
 6024 009e 33D1     		bne	.L267
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6025              		.loc 1 1801 32
 6026 00a0 BB69     		ldr	r3, [r7, #24]
 6027 00a2 5A01     		lsls	r2, r3, #5
 6028 00a4 FB69     		ldr	r3, [r7, #28]
 6029 00a6 1344     		add	r3, r3, r2
 6030 00a8 03F5A063 		add	r3, r3, #1280
 6031 00ac 1B68     		ldr	r3, [r3]
 6032 00ae BA69     		ldr	r2, [r7, #24]
 6033 00b0 5101     		lsls	r1, r2, #5
 6034 00b2 FA69     		ldr	r2, [r7, #28]
 6035 00b4 0A44     		add	r2, r2, r1
 6036 00b6 02F5A062 		add	r2, r2, #1280
 6037 00ba 23F00043 		bic	r3, r3, #-2147483648
 6038 00be 1360     		str	r3, [r2]
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6039              		.loc 1 1802 32
 6040 00c0 BB69     		ldr	r3, [r7, #24]
 6041 00c2 5A01     		lsls	r2, r3, #5
 6042 00c4 FB69     		ldr	r3, [r7, #28]
 6043 00c6 1344     		add	r3, r3, r2
 6044 00c8 03F5A063 		add	r3, r3, #1280
 6045 00cc 1B68     		ldr	r3, [r3]
 6046 00ce BA69     		ldr	r2, [r7, #24]
 6047 00d0 5101     		lsls	r1, r2, #5
 6048 00d2 FA69     		ldr	r2, [r7, #28]
 6049 00d4 0A44     		add	r2, r2, r1
 6050 00d6 02F5A062 		add	r2, r2, #1280
 6051 00da 43F00043 		orr	r3, r3, #-2147483648
 6052 00de 1360     		str	r3, [r2]
 6053              	.L270:
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         do
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 138


1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           count++;
 6054              		.loc 1 1805 16
 6055 00e0 FB68     		ldr	r3, [r7, #12]
 6056 00e2 0133     		adds	r3, r3, #1
 6057 00e4 FB60     		str	r3, [r7, #12]
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           if (count > 1000U)
 6058              		.loc 1 1807 21
 6059 00e6 FB68     		ldr	r3, [r7, #12]
 6060              		.loc 1 1807 14
 6061 00e8 B3F57A7F 		cmp	r3, #1000
 6062 00ec 1DD8     		bhi	.L277
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           {
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             break;
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6063              		.loc 1 1811 19
 6064 00ee BB69     		ldr	r3, [r7, #24]
 6065 00f0 5A01     		lsls	r2, r3, #5
 6066 00f2 FB69     		ldr	r3, [r7, #28]
 6067 00f4 1344     		add	r3, r3, r2
 6068 00f6 03F5A063 		add	r3, r3, #1280
 6069              		.loc 1 1811 33
 6070 00fa 1B68     		ldr	r3, [r3]
 6071              		.loc 1 1811 42
 6072 00fc 03F00043 		and	r3, r3, #-2147483648
 6073              		.loc 1 1811 66
 6074 0100 B3F1004F 		cmp	r3, #-2147483648
 6075 0104 ECD0     		beq	.L270
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6076              		.loc 1 1797 8
 6077 0106 70E0     		b	.L271
 6078              	.L267:
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6079              		.loc 1 1815 32
 6080 0108 BB69     		ldr	r3, [r7, #24]
 6081 010a 5A01     		lsls	r2, r3, #5
 6082 010c FB69     		ldr	r3, [r7, #28]
 6083 010e 1344     		add	r3, r3, r2
 6084 0110 03F5A063 		add	r3, r3, #1280
 6085 0114 1B68     		ldr	r3, [r3]
 6086 0116 BA69     		ldr	r2, [r7, #24]
 6087 0118 5101     		lsls	r1, r2, #5
 6088 011a FA69     		ldr	r2, [r7, #28]
 6089 011c 0A44     		add	r2, r2, r1
 6090 011e 02F5A062 		add	r2, r2, #1280
 6091 0122 43F00043 		orr	r3, r3, #-2147483648
 6092 0126 1360     		str	r3, [r2]
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6093              		.loc 1 1797 8
 6094 0128 5FE0     		b	.L271
 6095              	.L277:
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
 6096              		.loc 1 1809 13
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 139


 6097 012a 00BF     		nop
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6098              		.loc 1 1797 8
 6099 012c 5DE0     		b	.L271
 6100              	.L265:
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6101              		.loc 1 1821 28
 6102 012e BB69     		ldr	r3, [r7, #24]
 6103 0130 5A01     		lsls	r2, r3, #5
 6104 0132 FB69     		ldr	r3, [r7, #28]
 6105 0134 1344     		add	r3, r3, r2
 6106 0136 03F5A063 		add	r3, r3, #1280
 6107 013a 1B68     		ldr	r3, [r3]
 6108 013c BA69     		ldr	r2, [r7, #24]
 6109 013e 5101     		lsls	r1, r2, #5
 6110 0140 FA69     		ldr	r2, [r7, #28]
 6111 0142 0A44     		add	r2, r2, r1
 6112 0144 02F5A062 		add	r2, r2, #1280
 6113 0148 43F08043 		orr	r3, r3, #1073741824
 6114 014c 1360     		str	r3, [r2]
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 6115              		.loc 1 1823 10
 6116 014e FB69     		ldr	r3, [r7, #28]
 6117 0150 03F58063 		add	r3, r3, #1024
 6118              		.loc 1 1823 19
 6119 0154 1B69     		ldr	r3, [r3, #16]
 6120              		.loc 1 1823 29
 6121 0156 03F47F03 		and	r3, r3, #16711680
 6122              		.loc 1 1823 8
 6123 015a 002B     		cmp	r3, #0
 6124 015c 33D1     		bne	.L272
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6125              		.loc 1 1825 30
 6126 015e BB69     		ldr	r3, [r7, #24]
 6127 0160 5A01     		lsls	r2, r3, #5
 6128 0162 FB69     		ldr	r3, [r7, #28]
 6129 0164 1344     		add	r3, r3, r2
 6130 0166 03F5A063 		add	r3, r3, #1280
 6131 016a 1B68     		ldr	r3, [r3]
 6132 016c BA69     		ldr	r2, [r7, #24]
 6133 016e 5101     		lsls	r1, r2, #5
 6134 0170 FA69     		ldr	r2, [r7, #28]
 6135 0172 0A44     		add	r2, r2, r1
 6136 0174 02F5A062 		add	r2, r2, #1280
 6137 0178 23F00043 		bic	r3, r3, #-2147483648
 6138 017c 1360     		str	r3, [r2]
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6139              		.loc 1 1826 30
 6140 017e BB69     		ldr	r3, [r7, #24]
 6141 0180 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 140


 6142 0182 FB69     		ldr	r3, [r7, #28]
 6143 0184 1344     		add	r3, r3, r2
 6144 0186 03F5A063 		add	r3, r3, #1280
 6145 018a 1B68     		ldr	r3, [r3]
 6146 018c BA69     		ldr	r2, [r7, #24]
 6147 018e 5101     		lsls	r1, r2, #5
 6148 0190 FA69     		ldr	r2, [r7, #28]
 6149 0192 0A44     		add	r2, r2, r1
 6150 0194 02F5A062 		add	r2, r2, #1280
 6151 0198 43F00043 		orr	r3, r3, #-2147483648
 6152 019c 1360     		str	r3, [r2]
 6153              	.L275:
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 6154              		.loc 1 1829 14
 6155 019e FB68     		ldr	r3, [r7, #12]
 6156 01a0 0133     		adds	r3, r3, #1
 6157 01a2 FB60     		str	r3, [r7, #12]
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 1000U)
 6158              		.loc 1 1831 19
 6159 01a4 FB68     		ldr	r3, [r7, #12]
 6160              		.loc 1 1831 12
 6161 01a6 B3F57A7F 		cmp	r3, #1000
 6162 01aa 1DD8     		bhi	.L278
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6163              		.loc 1 1835 17
 6164 01ac BB69     		ldr	r3, [r7, #24]
 6165 01ae 5A01     		lsls	r2, r3, #5
 6166 01b0 FB69     		ldr	r3, [r7, #28]
 6167 01b2 1344     		add	r3, r3, r2
 6168 01b4 03F5A063 		add	r3, r3, #1280
 6169              		.loc 1 1835 31
 6170 01b8 1B68     		ldr	r3, [r3]
 6171              		.loc 1 1835 40
 6172 01ba 03F00043 		and	r3, r3, #-2147483648
 6173              		.loc 1 1835 64
 6174 01be B3F1004F 		cmp	r3, #-2147483648
 6175 01c2 ECD0     		beq	.L275
 6176 01c4 11E0     		b	.L271
 6177              	.L272:
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6178              		.loc 1 1839 30
 6179 01c6 BB69     		ldr	r3, [r7, #24]
 6180 01c8 5A01     		lsls	r2, r3, #5
 6181 01ca FB69     		ldr	r3, [r7, #28]
 6182 01cc 1344     		add	r3, r3, r2
 6183 01ce 03F5A063 		add	r3, r3, #1280
 6184 01d2 1B68     		ldr	r3, [r3]
 6185 01d4 BA69     		ldr	r2, [r7, #24]
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 141


 6186 01d6 5101     		lsls	r1, r2, #5
 6187 01d8 FA69     		ldr	r2, [r7, #28]
 6188 01da 0A44     		add	r2, r2, r1
 6189 01dc 02F5A062 		add	r2, r2, #1280
 6190 01e0 43F00043 		orr	r3, r3, #-2147483648
 6191 01e4 1360     		str	r3, [r2]
 6192 01e6 00E0     		b	.L271
 6193              	.L278:
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 6194              		.loc 1 1833 11
 6195 01e8 00BF     		nop
 6196              	.L271:
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6197              		.loc 1 1843 10
 6198 01ea 0023     		movs	r3, #0
 6199              	.L263:
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6200              		.loc 1 1844 1
 6201 01ec 1846     		mov	r0, r3
 6202 01ee 2437     		adds	r7, r7, #36
 6203              		.cfi_def_cfa_offset 4
 6204 01f0 BD46     		mov	sp, r7
 6205              		.cfi_def_cfa_register 13
 6206              		@ sp needed
 6207 01f2 5DF8047B 		ldr	r7, [sp], #4
 6208              		.cfi_restore 7
 6209              		.cfi_def_cfa_offset 0
 6210 01f6 7047     		bx	lr
 6211              		.cfi_endproc
 6212              	.LFE365:
 6214              		.section	.text.USB_DoPing,"ax",%progbits
 6215              		.align	1
 6216              		.global	USB_DoPing
 6217              		.syntax unified
 6218              		.thumb
 6219              		.thumb_func
 6221              	USB_DoPing:
 6222              	.LFB366:
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6223              		.loc 1 1854 1
 6224              		.cfi_startproc
 6225              		@ args = 0, pretend = 0, frame = 24
 6226              		@ frame_needed = 1, uses_anonymous_args = 0
 6227              		@ link register save eliminated.
 6228 0000 80B4     		push	{r7}
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 142


 6229              		.cfi_def_cfa_offset 4
 6230              		.cfi_offset 7, -4
 6231 0002 87B0     		sub	sp, sp, #28
 6232              		.cfi_def_cfa_offset 32
 6233 0004 00AF     		add	r7, sp, #0
 6234              		.cfi_def_cfa_register 7
 6235 0006 7860     		str	r0, [r7, #4]
 6236 0008 0B46     		mov	r3, r1
 6237 000a FB70     		strb	r3, [r7, #3]
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6238              		.loc 1 1855 12
 6239 000c 7B68     		ldr	r3, [r7, #4]
 6240 000e 7B61     		str	r3, [r7, #20]
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 6241              		.loc 1 1856 12
 6242 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6243 0012 3B61     		str	r3, [r7, #16]
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 6244              		.loc 1 1857 12
 6245 0014 0123     		movs	r3, #1
 6246 0016 FB60     		str	r3, [r7, #12]
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6247              		.loc 1 1860 42
 6248 0018 FB68     		ldr	r3, [r7, #12]
 6249 001a DA04     		lsls	r2, r3, #19
 6250              		.loc 1 1860 49
 6251 001c 154B     		ldr	r3, .L281
 6252 001e 1340     		ands	r3, r3, r2
 6253              		.loc 1 1860 3
 6254 0020 3A69     		ldr	r2, [r7, #16]
 6255 0022 5101     		lsls	r1, r2, #5
 6256 0024 7A69     		ldr	r2, [r7, #20]
 6257 0026 0A44     		add	r2, r2, r1
 6258 0028 02F5A062 		add	r2, r2, #1280
 6259              		.loc 1 1860 74
 6260 002c 43F00043 		orr	r3, r3, #-2147483648
 6261              		.loc 1 1860 26
 6262 0030 1361     		str	r3, [r2, #16]
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set host channel enable */
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 6263              		.loc 1 1864 12
 6264 0032 3B69     		ldr	r3, [r7, #16]
 6265 0034 5A01     		lsls	r2, r3, #5
 6266 0036 7B69     		ldr	r3, [r7, #20]
 6267 0038 1344     		add	r3, r3, r2
 6268 003a 03F5A063 		add	r3, r3, #1280
 6269              		.loc 1 1864 10
 6270 003e 1B68     		ldr	r3, [r3]
 6271 0040 BB60     		str	r3, [r7, #8]
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6272              		.loc 1 1865 10
 6273 0042 BB68     		ldr	r3, [r7, #8]
 6274 0044 23F08043 		bic	r3, r3, #1073741824
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 143


 6275 0048 BB60     		str	r3, [r7, #8]
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6276              		.loc 1 1866 10
 6277 004a BB68     		ldr	r3, [r7, #8]
 6278 004c 43F00043 		orr	r3, r3, #-2147483648
 6279 0050 BB60     		str	r3, [r7, #8]
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 6280              		.loc 1 1867 3
 6281 0052 3B69     		ldr	r3, [r7, #16]
 6282 0054 5A01     		lsls	r2, r3, #5
 6283 0056 7B69     		ldr	r3, [r7, #20]
 6284 0058 1344     		add	r3, r3, r2
 6285 005a 03F5A063 		add	r3, r3, #1280
 6286 005e 1A46     		mov	r2, r3
 6287              		.loc 1 1867 26
 6288 0060 BB68     		ldr	r3, [r7, #8]
 6289 0062 1360     		str	r3, [r2]
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6290              		.loc 1 1869 10
 6291 0064 0023     		movs	r3, #0
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6292              		.loc 1 1870 1
 6293 0066 1846     		mov	r0, r3
 6294 0068 1C37     		adds	r7, r7, #28
 6295              		.cfi_def_cfa_offset 4
 6296 006a BD46     		mov	sp, r7
 6297              		.cfi_def_cfa_register 13
 6298              		@ sp needed
 6299 006c 5DF8047B 		ldr	r7, [sp], #4
 6300              		.cfi_restore 7
 6301              		.cfi_def_cfa_offset 0
 6302 0070 7047     		bx	lr
 6303              	.L282:
 6304 0072 00BF     		.align	2
 6305              	.L281:
 6306 0074 0000F81F 		.word	536346624
 6307              		.cfi_endproc
 6308              	.LFE366:
 6310              		.section	.text.USB_StopHost,"ax",%progbits
 6311              		.align	1
 6312              		.global	USB_StopHost
 6313              		.syntax unified
 6314              		.thumb
 6315              		.thumb_func
 6317              	USB_StopHost:
 6318              	.LFB367:
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Stop Host Core
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6319              		.loc 1 1878 1
 6320              		.cfi_startproc
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 144


 6321              		@ args = 0, pretend = 0, frame = 32
 6322              		@ frame_needed = 1, uses_anonymous_args = 0
 6323 0000 80B5     		push	{r7, lr}
 6324              		.cfi_def_cfa_offset 8
 6325              		.cfi_offset 7, -8
 6326              		.cfi_offset 14, -4
 6327 0002 88B0     		sub	sp, sp, #32
 6328              		.cfi_def_cfa_offset 40
 6329 0004 00AF     		add	r7, sp, #0
 6330              		.cfi_def_cfa_register 7
 6331 0006 7860     		str	r0, [r7, #4]
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 6332              		.loc 1 1879 21
 6333 0008 0023     		movs	r3, #0
 6334 000a FB77     		strb	r3, [r7, #31]
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6335              		.loc 1 1880 12
 6336 000c 7B68     		ldr	r3, [r7, #4]
 6337 000e 7B61     		str	r3, [r7, #20]
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6338              		.loc 1 1881 17
 6339 0010 0023     		movs	r3, #0
 6340 0012 FB60     		str	r3, [r7, #12]
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t value;
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 6341              		.loc 1 1885 9
 6342 0014 7868     		ldr	r0, [r7, #4]
 6343 0016 FFF7FEFF 		bl	USB_DisableGlobalInt
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush USB FIFO */
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 6344              		.loc 1 1888 7
 6345 001a 1021     		movs	r1, #16
 6346 001c 7868     		ldr	r0, [r7, #4]
 6347 001e FFF7FEFF 		bl	USB_FlushTxFifo
 6348 0022 0346     		mov	r3, r0
 6349              		.loc 1 1888 6
 6350 0024 002B     		cmp	r3, #0
 6351 0026 01D0     		beq	.L284
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 6352              		.loc 1 1890 9
 6353 0028 0123     		movs	r3, #1
 6354 002a FB77     		strb	r3, [r7, #31]
 6355              	.L284:
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 6356              		.loc 1 1893 7
 6357 002c 7868     		ldr	r0, [r7, #4]
 6358 002e FFF7FEFF 		bl	USB_FlushRxFifo
 6359 0032 0346     		mov	r3, r0
 6360              		.loc 1 1893 6
 6361 0034 002B     		cmp	r3, #0
 6362 0036 01D0     		beq	.L285
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 145


1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 6363              		.loc 1 1895 9
 6364 0038 0123     		movs	r3, #1
 6365 003a FB77     		strb	r3, [r7, #31]
 6366              	.L285:
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6367              		.loc 1 1899 10
 6368 003c 0023     		movs	r3, #0
 6369 003e BB61     		str	r3, [r7, #24]
 6370              		.loc 1 1899 3
 6371 0040 1FE0     		b	.L286
 6372              	.L287:
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6373              		.loc 1 1901 13 discriminator 3
 6374 0042 BB69     		ldr	r3, [r7, #24]
 6375 0044 5A01     		lsls	r2, r3, #5
 6376 0046 7B69     		ldr	r3, [r7, #20]
 6377 0048 1344     		add	r3, r3, r2
 6378 004a 03F5A063 		add	r3, r3, #1280
 6379              		.loc 1 1901 11 discriminator 3
 6380 004e 1B68     		ldr	r3, [r3]
 6381 0050 3B61     		str	r3, [r7, #16]
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 6382              		.loc 1 1902 11 discriminator 3
 6383 0052 3B69     		ldr	r3, [r7, #16]
 6384 0054 43F08043 		orr	r3, r3, #1073741824
 6385 0058 3B61     		str	r3, [r7, #16]
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 6386              		.loc 1 1903 11 discriminator 3
 6387 005a 3B69     		ldr	r3, [r7, #16]
 6388 005c 23F00043 		bic	r3, r3, #-2147483648
 6389 0060 3B61     		str	r3, [r7, #16]
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6390              		.loc 1 1904 11 discriminator 3
 6391 0062 3B69     		ldr	r3, [r7, #16]
 6392 0064 23F40043 		bic	r3, r3, #32768
 6393 0068 3B61     		str	r3, [r7, #16]
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6394              		.loc 1 1905 5 discriminator 3
 6395 006a BB69     		ldr	r3, [r7, #24]
 6396 006c 5A01     		lsls	r2, r3, #5
 6397 006e 7B69     		ldr	r3, [r7, #20]
 6398 0070 1344     		add	r3, r3, r2
 6399 0072 03F5A063 		add	r3, r3, #1280
 6400 0076 1A46     		mov	r2, r3
 6401              		.loc 1 1905 24 discriminator 3
 6402 0078 3B69     		ldr	r3, [r7, #16]
 6403 007a 1360     		str	r3, [r2]
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6404              		.loc 1 1899 27 discriminator 3
 6405 007c BB69     		ldr	r3, [r7, #24]
 6406 007e 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 146


 6407 0080 BB61     		str	r3, [r7, #24]
 6408              	.L286:
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6409              		.loc 1 1899 18 discriminator 1
 6410 0082 BB69     		ldr	r3, [r7, #24]
 6411 0084 0F2B     		cmp	r3, #15
 6412 0086 DCD9     		bls	.L287
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6413              		.loc 1 1909 10
 6414 0088 0023     		movs	r3, #0
 6415 008a BB61     		str	r3, [r7, #24]
 6416              		.loc 1 1909 3
 6417 008c 34E0     		b	.L288
 6418              	.L292:
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6419              		.loc 1 1911 13
 6420 008e BB69     		ldr	r3, [r7, #24]
 6421 0090 5A01     		lsls	r2, r3, #5
 6422 0092 7B69     		ldr	r3, [r7, #20]
 6423 0094 1344     		add	r3, r3, r2
 6424 0096 03F5A063 		add	r3, r3, #1280
 6425              		.loc 1 1911 11
 6426 009a 1B68     		ldr	r3, [r3]
 6427 009c 3B61     		str	r3, [r7, #16]
1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 6428              		.loc 1 1912 11
 6429 009e 3B69     		ldr	r3, [r7, #16]
 6430 00a0 43F08043 		orr	r3, r3, #1073741824
 6431 00a4 3B61     		str	r3, [r7, #16]
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 6432              		.loc 1 1913 11
 6433 00a6 3B69     		ldr	r3, [r7, #16]
 6434 00a8 43F00043 		orr	r3, r3, #-2147483648
 6435 00ac 3B61     		str	r3, [r7, #16]
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6436              		.loc 1 1914 11
 6437 00ae 3B69     		ldr	r3, [r7, #16]
 6438 00b0 23F40043 		bic	r3, r3, #32768
 6439 00b4 3B61     		str	r3, [r7, #16]
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6440              		.loc 1 1915 5
 6441 00b6 BB69     		ldr	r3, [r7, #24]
 6442 00b8 5A01     		lsls	r2, r3, #5
 6443 00ba 7B69     		ldr	r3, [r7, #20]
 6444 00bc 1344     		add	r3, r3, r2
 6445 00be 03F5A063 		add	r3, r3, #1280
 6446 00c2 1A46     		mov	r2, r3
 6447              		.loc 1 1915 24
 6448 00c4 3B69     		ldr	r3, [r7, #16]
 6449 00c6 1360     		str	r3, [r2]
 6450              	.L291:
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 147


1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       count++;
 6451              		.loc 1 1919 12
 6452 00c8 FB68     		ldr	r3, [r7, #12]
 6453 00ca 0133     		adds	r3, r3, #1
 6454 00cc FB60     		str	r3, [r7, #12]
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (count > 1000U)
 6455              		.loc 1 1921 17
 6456 00ce FB68     		ldr	r3, [r7, #12]
 6457              		.loc 1 1921 10
 6458 00d0 B3F57A7F 		cmp	r3, #1000
 6459 00d4 0CD8     		bhi	.L294
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6460              		.loc 1 1925 15
 6461 00d6 BB69     		ldr	r3, [r7, #24]
 6462 00d8 5A01     		lsls	r2, r3, #5
 6463 00da 7B69     		ldr	r3, [r7, #20]
 6464 00dc 1344     		add	r3, r3, r2
 6465 00de 03F5A063 		add	r3, r3, #1280
 6466              		.loc 1 1925 25
 6467 00e2 1B68     		ldr	r3, [r3]
 6468              		.loc 1 1925 34
 6469 00e4 03F00043 		and	r3, r3, #-2147483648
 6470              		.loc 1 1925 58
 6471 00e8 B3F1004F 		cmp	r3, #-2147483648
 6472 00ec ECD0     		beq	.L291
 6473 00ee 00E0     		b	.L290
 6474              	.L294:
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 6475              		.loc 1 1923 9
 6476 00f0 00BF     		nop
 6477              	.L290:
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6478              		.loc 1 1909 27 discriminator 2
 6479 00f2 BB69     		ldr	r3, [r7, #24]
 6480 00f4 0133     		adds	r3, r3, #1
 6481 00f6 BB61     		str	r3, [r7, #24]
 6482              	.L288:
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6483              		.loc 1 1909 18 discriminator 1
 6484 00f8 BB69     		ldr	r3, [r7, #24]
 6485 00fa 0F2B     		cmp	r3, #15
 6486 00fc C7D9     		bls	.L292
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 6487              		.loc 1 1929 3
 6488 00fe 7B69     		ldr	r3, [r7, #20]
 6489 0100 03F58063 		add	r3, r3, #1024
 6490 0104 1A46     		mov	r2, r3
 6491              		.loc 1 1929 20
 6492 0106 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 148


 6493 010a 5361     		str	r3, [r2, #20]
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 6494              		.loc 1 1930 17
 6495 010c 7B68     		ldr	r3, [r7, #4]
 6496 010e 4FF0FF32 		mov	r2, #-1
 6497 0112 5A61     		str	r2, [r3, #20]
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 6498              		.loc 1 1932 9
 6499 0114 7868     		ldr	r0, [r7, #4]
 6500 0116 FFF7FEFF 		bl	USB_EnableGlobalInt
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 6501              		.loc 1 1934 10
 6502 011a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6503              		.loc 1 1935 1
 6504 011c 1846     		mov	r0, r3
 6505 011e 2037     		adds	r7, r7, #32
 6506              		.cfi_def_cfa_offset 8
 6507 0120 BD46     		mov	sp, r7
 6508              		.cfi_def_cfa_register 13
 6509              		@ sp needed
 6510 0122 80BD     		pop	{r7, pc}
 6511              		.cfi_endproc
 6512              	.LFE367:
 6514              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 6515              		.align	1
 6516              		.global	USB_ActivateRemoteWakeup
 6517              		.syntax unified
 6518              		.thumb
 6519              		.thumb_func
 6521              	USB_ActivateRemoteWakeup:
 6522              	.LFB368:
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6523              		.loc 1 1943 1
 6524              		.cfi_startproc
 6525              		@ args = 0, pretend = 0, frame = 16
 6526              		@ frame_needed = 1, uses_anonymous_args = 0
 6527              		@ link register save eliminated.
 6528 0000 80B4     		push	{r7}
 6529              		.cfi_def_cfa_offset 4
 6530              		.cfi_offset 7, -4
 6531 0002 85B0     		sub	sp, sp, #20
 6532              		.cfi_def_cfa_offset 24
 6533 0004 00AF     		add	r7, sp, #0
 6534              		.cfi_def_cfa_register 7
 6535 0006 7860     		str	r0, [r7, #4]
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6536              		.loc 1 1944 12
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 149


 6537 0008 7B68     		ldr	r3, [r7, #4]
 6538 000a FB60     		str	r3, [r7, #12]
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 6539              		.loc 1 1946 8
 6540 000c FB68     		ldr	r3, [r7, #12]
 6541 000e 03F50063 		add	r3, r3, #2048
 6542              		.loc 1 1946 19
 6543 0012 9B68     		ldr	r3, [r3, #8]
 6544              		.loc 1 1946 26
 6545 0014 03F00103 		and	r3, r3, #1
 6546              		.loc 1 1946 6
 6547 0018 012B     		cmp	r3, #1
 6548 001a 09D1     		bne	.L296
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* active Remote wakeup signalling */
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 6549              		.loc 1 1949 23
 6550 001c FB68     		ldr	r3, [r7, #12]
 6551 001e 03F50063 		add	r3, r3, #2048
 6552 0022 5B68     		ldr	r3, [r3, #4]
 6553 0024 FA68     		ldr	r2, [r7, #12]
 6554 0026 02F50062 		add	r2, r2, #2048
 6555 002a 43F00103 		orr	r3, r3, #1
 6556 002e 5360     		str	r3, [r2, #4]
 6557              	.L296:
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6558              		.loc 1 1952 10
 6559 0030 0023     		movs	r3, #0
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6560              		.loc 1 1953 1
 6561 0032 1846     		mov	r0, r3
 6562 0034 1437     		adds	r7, r7, #20
 6563              		.cfi_def_cfa_offset 4
 6564 0036 BD46     		mov	sp, r7
 6565              		.cfi_def_cfa_register 13
 6566              		@ sp needed
 6567 0038 5DF8047B 		ldr	r7, [sp], #4
 6568              		.cfi_restore 7
 6569              		.cfi_def_cfa_offset 0
 6570 003c 7047     		bx	lr
 6571              		.cfi_endproc
 6572              	.LFE368:
 6574              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 6575              		.align	1
 6576              		.global	USB_DeActivateRemoteWakeup
 6577              		.syntax unified
 6578              		.thumb
 6579              		.thumb_func
 6581              	USB_DeActivateRemoteWakeup:
 6582              	.LFB369:
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 150


1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6583              		.loc 1 1961 1
 6584              		.cfi_startproc
 6585              		@ args = 0, pretend = 0, frame = 16
 6586              		@ frame_needed = 1, uses_anonymous_args = 0
 6587              		@ link register save eliminated.
 6588 0000 80B4     		push	{r7}
 6589              		.cfi_def_cfa_offset 4
 6590              		.cfi_offset 7, -4
 6591 0002 85B0     		sub	sp, sp, #20
 6592              		.cfi_def_cfa_offset 24
 6593 0004 00AF     		add	r7, sp, #0
 6594              		.cfi_def_cfa_register 7
 6595 0006 7860     		str	r0, [r7, #4]
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6596              		.loc 1 1962 12
 6597 0008 7B68     		ldr	r3, [r7, #4]
 6598 000a FB60     		str	r3, [r7, #12]
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* active Remote wakeup signalling */
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 6599              		.loc 1 1965 21
 6600 000c FB68     		ldr	r3, [r7, #12]
 6601 000e 03F50063 		add	r3, r3, #2048
 6602 0012 5B68     		ldr	r3, [r3, #4]
 6603 0014 FA68     		ldr	r2, [r7, #12]
 6604 0016 02F50062 		add	r2, r2, #2048
 6605 001a 23F00103 		bic	r3, r3, #1
 6606 001e 5360     		str	r3, [r2, #4]
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6607              		.loc 1 1967 10
 6608 0020 0023     		movs	r3, #0
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6609              		.loc 1 1968 1
 6610 0022 1846     		mov	r0, r3
 6611 0024 1437     		adds	r7, r7, #20
 6612              		.cfi_def_cfa_offset 4
 6613 0026 BD46     		mov	sp, r7
 6614              		.cfi_def_cfa_register 13
 6615              		@ sp needed
 6616 0028 5DF8047B 		ldr	r7, [sp], #4
 6617              		.cfi_restore 7
 6618              		.cfi_def_cfa_offset 0
 6619 002c 7047     		bx	lr
 6620              		.cfi_endproc
 6621              	.LFE369:
 6623              		.text
 6624              	.Letext0:
 6625              		.file 2 "c:\\users\\isan\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@xpac
 6626              		.file 3 "c:\\users\\isan\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@xpac
 6627              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 6628              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4p5xx.h"
 6629              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 151


 6630              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_usb.h"
 6631              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 152


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32l4xx_ll_usb.c
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:20     .text.USB_CoreInit:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:26     .text.USB_CoreInit:0000000000000000 USB_CoreInit
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4560   .text.USB_CoreReset:0000000000000000 USB_CoreReset
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:97     .text.USB_SetTurnaroundTime:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:103    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:303    .text.USB_SetTurnaroundTime:0000000000000110 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:317    .text.USB_EnableGlobalInt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:323    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:361    .text.USB_DisableGlobalInt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:367    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:405    .text.USB_SetCurrentMode:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:411    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4357   .text.USB_GetMode:0000000000000000 USB_GetMode
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:526    .text.USB_DevInit:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:532    .text.USB_DevInit:0000000000000000 USB_DevInit
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1145   .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:946    .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1048   .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:935    .text.USB_DevInit:0000000000000294 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:940    .text.USB_FlushTxFifo:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1037   .text.USB_FlushTxFifo:0000000000000064 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1042   .text.USB_FlushRxFifo:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1134   .text.USB_FlushRxFifo:000000000000005c $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1139   .text.USB_SetDevSpeed:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1191   .text.USB_GetDevSpeed:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1197   .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1258   .text.USB_ActivateEndpoint:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1264   .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1441   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1447   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1630   .text.USB_DeactivateEndpoint:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1636   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1885   .text.USB_DeactivateEndpoint:00000000000001b0 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1891   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:1897   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2101   .text.USB_EPStartXfer:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2107   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3182   .text.USB_WritePacket:0000000000000000 USB_WritePacket
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2584   .text.USB_EPStartXfer:0000000000000370 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2587   .text.USB_EPStartXfer:0000000000000374 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2630   .text.USB_EP0StartXfer:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2636   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2953   .text.USB_EPStopXfer:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:2959   .text.USB_EPStopXfer:0000000000000000 USB_EPStopXfer
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3176   .text.USB_WritePacket:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3278   .text.USB_ReadPacket:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3284   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3419   .text.USB_EPSetStall:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3425   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3563   .text.USB_EPClearStall:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3569   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3701   .text.USB_StopDevice:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3707   .text.USB_StopDevice:0000000000000000 USB_StopDevice
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3823   .text.USB_SetDevAddress:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3829   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 153


C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3889   .text.USB_DevConnect:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3895   .text.USB_DevConnect:0000000000000000 USB_DevConnect
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3946   .text.USB_DevDisconnect:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:3952   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4003   .text.USB_ReadInterrupts:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4009   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4052   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4058   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4109   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4115   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4166   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4172   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4227   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4233   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4307   .text.USB_ClearInterrupts:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4313   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4351   .text.USB_GetMode:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4392   .text.USB_ActivateSetup:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4398   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4450   .text.USB_EP0_OutStart:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4456   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4550   .text.USB_EP0_OutStart:000000000000008c $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4555   .text.USB_CoreReset:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4648   .text.USB_CoreReset:0000000000000064 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4653   .text.USB_HostInit:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4659   .text.USB_HostInit:0000000000000000 USB_HostInit
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4823   .text.USB_HostInit:00000000000000f8 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4830   .text.USB_InitFSLSPClkSel:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4836   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4918   .text.USB_ResetPort:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4924   .text.USB_ResetPort:0000000000000000 USB_ResetPort
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4993   .text.USB_DriveVbus:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:4999   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5089   .text.USB_GetHostSpeed:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5095   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5141   .text.USB_GetCurrentFrame:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5147   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5187   .text.USB_HC_Init:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5193   .text.USB_HC_Init:0000000000000000 USB_HC_Init
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5241   .text.USB_HC_Init:0000000000000044 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5245   .text.USB_HC_Init:0000000000000054 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5509   .text.USB_HC_StartXfer:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5515   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5760   .text.USB_HC_StartXfer:0000000000000168 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5764   .text.USB_HC_StartXfer:0000000000000178 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5861   .text.USB_HC_StartXfer:00000000000001ec $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5866   .text.USB_HC_ReadInterrupt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5872   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5912   .text.USB_HC_Halt:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:5918   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6215   .text.USB_DoPing:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6221   .text.USB_DoPing:0000000000000000 USB_DoPing
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6306   .text.USB_DoPing:0000000000000074 $d
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6311   .text.USB_StopHost:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6317   .text.USB_StopHost:0000000000000000 USB_StopHost
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6515   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6521   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
ARM GAS  C:\Users\isan\AppData\Local\Temp\cc4ili2A.s 			page 154


C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6575   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
C:\Users\isan\AppData\Local\Temp\cc4ili2A.s:6581   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup

UNDEFINED SYMBOLS
HAL_Delay
