ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32l4xx_hal_sd.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.HAL_SD_Init,"ax",%progbits
  20              		.align	1
  21              		.global	HAL_SD_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	HAL_SD_Init:
  27              	.LFB321:
  28              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c"
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @file    stm32l4xx_hal_sd.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @attention
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * Copyright (c) 2017 STMicroelectronics.
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * All rights reserved.
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * in the root directory of this software component.
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   @verbatim
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                         ##### How to use this driver #####
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 2


  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     examples.
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SDMMC driver functions to interface with SD and uSD cards devices.
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     It is used as follows:
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#)Initialize the SDMMC low level resources by implementing the HAL_SD_MspInit() API:
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) Call the function HAL_RCCEx_PeriphCLKConfig with RCC_PERIPHCLK_SDMMC1 for
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         PeriphClockSelection and select SDMMC1 clock source (MSI, main PLL or PLLSAI1)
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC1_CLK_ENABLE();
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) SDMMC pins configuration for SD card
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and according to your pin assignment;
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) On STM32L4Rx/STM32L4Sxx devices, no DMA configuration is need, an internal DMA for SDM
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) On other devices, perform DMA configuration if you need to use DMA process (HAL_SD_Rea
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE();
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled.
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure the SDMMC and DMA interrupt priorities using functions
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDMMC's priority
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ================================================
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SDMMC Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tra
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This function provide the following operations:
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         The SD Card frequency (SDMMC_CK) is computed as follows:
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (2 * ClockDiv) on STM32L4Rx/STM32L4Sxx devices
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (ClockDiv + 2) on other devices
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 3


  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This phase of initialization is done through SDMMC_Init() and
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This phase allows the card initialization and identification
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         of plug-off plug-in.
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD Card Read operation ***
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD Card Write operation ***
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ===============================
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 4


 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card status ***
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ======================
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card information ***
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ===========================
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         block number ...
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card CSD register ***
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ============================
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card CID register ***
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ============================
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD HAL driver macros list ***
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==================================
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_ENABLE : Enable the SD device
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DISABLE : Disable the SD device
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DMA_ENABLE: Enable the SDMMC DMA transfer
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DMA_DISABLE: Disable the SDMMC DMA transfer
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 5


 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** Callback registration ***
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   =============================================
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Use Functions HAL_SD_RegisterCallback() to register a user callback,
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     it allows to register following callbacks:
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     and a pointer to the user callback function.
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated register callbacks:
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     respectively HAL_SD_RegisterTransceiverCallback().
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Use function HAL_SD_UnRegisterCallback() to reset a callback to the default
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated unregister callbacks:
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     respectively HAL_SD_UnRegisterTransceiverCallback().
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     By default, after the HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the HAL_SD_Init
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     and HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the HAL_SD_Init and HAL_SD_DeInit
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     during the Init/DeInit.
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 6


 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     using HAL_SD_RegisterCallback before calling HAL_SD_DeInit
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     or HAL_SD_Init function.
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     not defined, the callback registering feature is not available
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   @endverbatim
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #include "stm32l4xx_hal.h"
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(SDMMC1)
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup STM32L4xx_HAL_Driver
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Frequencies used in the driver for clock divider calculation */
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #define SD_INIT_FREQ                   400000U   /* Initialization phase : 400 kHz max */
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #define SD_NORMAL_SPEED_FREQ           25000000U /* Normal speed phase : 25 MHz max */
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #define SD_HIGH_SPEED_FREQ             50000000U /* High speed phase : 50 MHz max */
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_InitCard       (SD_HandleTypeDef *hsd);
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_PowerON        (SD_HandleTypeDef *hsd);
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendSDStatus   (SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendStatus     (SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Enable (SD_HandleTypeDef *hsd);
 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_FindSCR        (SD_HandleTypeDef *hsd, uint32_t *pSCR);
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_PowerOFF       (SD_HandleTypeDef *hsd);
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_Write_IT       (SD_HandleTypeDef *hsd);
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_Read_IT        (SD_HandleTypeDef *hsd);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 7


 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMAReceiveCplt (DMA_HandleTypeDef *hdma);
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMAError       (DMA_HandleTypeDef *hdma);
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMATxAbort     (DMA_HandleTypeDef *hdma);
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMARxAbort     (DMA_HandleTypeDef *hdma);
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** uint32_t        SD_HighSpeed      (SD_HandleTypeDef *hsd);
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed (SD_HandleTypeDef *hsd);
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_DDR_Mode       (SD_HandleTypeDef *hsd);
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @verbatim
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     card device to be ready for use.
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @endverbatim
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to the SD handle
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
  29              		.loc 1 358 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 40
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 8AB0     		sub	sp, sp, #40
  38              		.cfi_def_cfa_offset 48
  39 0004 00AF     		add	r7, sp, #0
  40              		.cfi_def_cfa_register 7
  41 0006 7860     		str	r0, [r7, #4]
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 8


 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t speedgrade, unitsize;
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart;
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the SD handle allocation */
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd == NULL)
  42              		.loc 1 366 5
  43 0008 7B68     		ldr	r3, [r7, #4]
  44 000a 002B     		cmp	r3, #0
  45 000c 01D1     		bne	.L2
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
  46              		.loc 1 368 12
  47 000e 0123     		movs	r3, #1
  48 0010 78E0     		b	.L14
  49              	.L2:
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_BYPASS(hsd->Init.ClockBypass));
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_RESET)
  50              		.loc 1 382 9
  51 0012 7B68     		ldr	r3, [r7, #4]
  52 0014 93F83430 		ldrb	r3, [r3, #52]
  53 0018 DBB2     		uxtb	r3, r3
  54              		.loc 1 382 5
  55 001a 002B     		cmp	r3, #0
  56 001c 05D1     		bne	.L4
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
  57              		.loc 1 385 15
  58 001e 7B68     		ldr	r3, [r7, #4]
  59 0020 0022     		movs	r2, #0
  60 0022 1A77     		strb	r2, [r3, #28]
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuffer0CpltCallback;
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuffer1CpltCallback;
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuffer0CpltCallback;
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuffer1CpltCallback;
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SDEx_DriveTransceiver_1_8V_Callback;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 9


 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->MspInitCallback == NULL)
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Init the low level hardware */
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
  61              		.loc 1 409 5
  62 0024 7868     		ldr	r0, [r7, #4]
  63 0026 FFF7FEFF 		bl	HAL_SD_MspInit
  64              	.L4:
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
  65              		.loc 1 413 14
  66 002a 7B68     		ldr	r3, [r7, #4]
  67 002c 0322     		movs	r2, #3
  68 002e 83F83420 		strb	r2, [r3, #52]
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the Card parameters */
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
  69              		.loc 1 416 7
  70 0032 7868     		ldr	r0, [r7, #4]
  71 0034 FFF7FEFF 		bl	HAL_SD_InitCard
  72 0038 0346     		mov	r3, r0
  73              		.loc 1 416 6
  74 003a 002B     		cmp	r3, #0
  75 003c 01D0     		beq	.L5
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
  76              		.loc 1 418 12
  77 003e 0123     		movs	r3, #1
  78 0040 60E0     		b	.L14
  79              	.L5:
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if( HAL_SD_GetCardStatus(hsd, &CardStatus) != HAL_OK)
  80              		.loc 1 422 7
  81 0042 07F10803 		add	r3, r7, #8
  82 0046 1946     		mov	r1, r3
  83 0048 7868     		ldr	r0, [r7, #4]
  84 004a FFF7FEFF 		bl	HAL_SD_GetCardStatus
  85 004e 0346     		mov	r3, r0
  86              		.loc 1 422 5
  87 0050 002B     		cmp	r3, #0
  88 0052 01D0     		beq	.L6
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
  89              		.loc 1 424 12
  90 0054 0123     		movs	r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 10


  91 0056 55E0     		b	.L14
  92              	.L6:
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get Initial Card Speed from Card Status*/
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   speedgrade = CardStatus.UhsSpeedGrade;
  93              		.loc 1 427 26
  94 0058 3B7E     		ldrb	r3, [r7, #24]
  95 005a DBB2     		uxtb	r3, r3
  96              		.loc 1 427 14
  97 005c 7B62     		str	r3, [r7, #36]
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
  98              		.loc 1 428 24
  99 005e 7B7E     		ldrb	r3, [r7, #25]
 100 0060 DBB2     		uxtb	r3, r3
 101              		.loc 1 428 12
 102 0062 3B62     		str	r3, [r7, #32]
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 103              		.loc 1 429 19
 104 0064 7B68     		ldr	r3, [r7, #4]
 105 0066 DB6B     		ldr	r3, [r3, #60]
 106              		.loc 1 429 6
 107 0068 012B     		cmp	r3, #1
 108 006a 0AD1     		bne	.L7
 109              		.loc 1 429 48 discriminator 1
 110 006c 7B6A     		ldr	r3, [r7, #36]
 111 006e 002B     		cmp	r3, #0
 112 0070 02D1     		bne	.L8
 113              		.loc 1 429 71 discriminator 2
 114 0072 3B6A     		ldr	r3, [r7, #32]
 115 0074 002B     		cmp	r3, #0
 116 0076 04D0     		beq	.L7
 117              	.L8:
 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 118              		.loc 1 431 27
 119 0078 7B68     		ldr	r3, [r7, #4]
 120 007a 4FF40072 		mov	r2, #512
 121 007e DA65     		str	r2, [r3, #92]
 122 0080 0BE0     		b	.L9
 123              	.L7:
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 124              		.loc 1 435 20
 125 0082 7B68     		ldr	r3, [r7, #4]
 126 0084 DB6B     		ldr	r3, [r3, #60]
 127              		.loc 1 435 8
 128 0086 012B     		cmp	r3, #1
 129 0088 04D1     		bne	.L10
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_HIGH_SPEED;
 130              		.loc 1 437 30
 131 008a 7B68     		ldr	r3, [r7, #4]
 132 008c 4FF48072 		mov	r2, #256
 133 0090 DA65     		str	r2, [r3, #92]
 134 0092 02E0     		b	.L9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 11


 135              	.L10:
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_NORMAL_SPEED;
 136              		.loc 1 441 30
 137 0094 7B68     		ldr	r3, [r7, #4]
 138 0096 0022     		movs	r2, #0
 139 0098 DA65     		str	r2, [r3, #92]
 140              	.L9:
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Configure the bus wide */
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(HAL_SD_ConfigWideBusOperation(hsd, hsd->Init.BusWide) != HAL_OK)
 141              		.loc 1 446 6
 142 009a 7B68     		ldr	r3, [r7, #4]
 143 009c DB68     		ldr	r3, [r3, #12]
 144 009e 1946     		mov	r1, r3
 145 00a0 7868     		ldr	r0, [r7, #4]
 146 00a2 FFF7FEFF 		bl	HAL_SD_ConfigWideBusOperation
 147 00a6 0346     		mov	r3, r0
 148              		.loc 1 446 5
 149 00a8 002B     		cmp	r3, #0
 150 00aa 01D0     		beq	.L11
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 151              		.loc 1 448 12
 152 00ac 0123     		movs	r3, #1
 153 00ae 29E0     		b	.L14
 154              	.L11:
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Verify that SD card is ready to use after Initialization */
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tickstart = HAL_GetTick();
 155              		.loc 1 452 15
 156 00b0 FFF7FEFF 		bl	HAL_GetTick
 157 00b4 F861     		str	r0, [r7, #28]
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 158              		.loc 1 453 8
 159 00b6 14E0     		b	.L12
 160              	.L13:
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick()-tickstart) >=  SDMMC_DATATIMEOUT)
 161              		.loc 1 455 9
 162 00b8 FFF7FEFF 		bl	HAL_GetTick
 163 00bc 0246     		mov	r2, r0
 164              		.loc 1 455 22
 165 00be FB69     		ldr	r3, [r7, #28]
 166 00c0 D31A     		subs	r3, r2, r3
 167              		.loc 1 455 7
 168 00c2 B3F1FF3F 		cmp	r3, #-1
 169 00c6 0CD1     		bne	.L12
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 170              		.loc 1 457 22
 171 00c8 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 12


 172 00ca 4FF00042 		mov	r2, #-2147483648
 173 00ce 9A63     		str	r2, [r3, #56]
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State= HAL_SD_STATE_READY;
 174              		.loc 1 458 17
 175 00d0 7B68     		ldr	r3, [r7, #4]
 176 00d2 0122     		movs	r2, #1
 177 00d4 83F83420 		strb	r2, [r3, #52]
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 178              		.loc 1 459 20
 179 00d8 7B68     		ldr	r3, [r7, #4]
 180 00da 0022     		movs	r2, #0
 181 00dc 1A63     		str	r2, [r3, #48]
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_TIMEOUT;
 182              		.loc 1 460 14
 183 00de 0323     		movs	r3, #3
 184 00e0 10E0     		b	.L14
 185              	.L12:
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 186              		.loc 1 453 10
 187 00e2 7868     		ldr	r0, [r7, #4]
 188 00e4 FFF7FEFF 		bl	HAL_SD_GetCardState
 189 00e8 0346     		mov	r3, r0
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 190              		.loc 1 453 35
 191 00ea 042B     		cmp	r3, #4
 192 00ec E4D1     		bne	.L13
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the error code */
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 193              		.loc 1 466 18
 194 00ee 7B68     		ldr	r3, [r7, #4]
 195 00f0 0022     		movs	r2, #0
 196 00f2 9A63     		str	r2, [r3, #56]
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the SD operation */
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 197              		.loc 1 469 16
 198 00f4 7B68     		ldr	r3, [r7, #4]
 199 00f6 0022     		movs	r2, #0
 200 00f8 1A63     		str	r2, [r3, #48]
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the SD state */
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 201              		.loc 1 472 14
 202 00fa 7B68     		ldr	r3, [r7, #4]
 203 00fc 0122     		movs	r2, #1
 204 00fe 83F83420 		strb	r2, [r3, #52]
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 205              		.loc 1 474 10
 206 0102 0023     		movs	r3, #0
 207              	.L14:
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 208              		.loc 1 475 1 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 13


 209 0104 1846     		mov	r0, r3
 210 0106 2837     		adds	r7, r7, #40
 211              		.cfi_def_cfa_offset 8
 212 0108 BD46     		mov	sp, r7
 213              		.cfi_def_cfa_register 13
 214              		@ sp needed
 215 010a 80BD     		pop	{r7, pc}
 216              		.cfi_endproc
 217              	.LFE321:
 219              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 220              		.align	1
 221              		.global	HAL_SD_InitCard
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 226              	HAL_SD_InitCard:
 227              	.LFB322:
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             re-initialization is needed.
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 228              		.loc 1 485 1
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 40
 231              		@ frame_needed = 1, uses_anonymous_args = 0
 232 0000 B0B5     		push	{r4, r5, r7, lr}
 233              		.cfi_def_cfa_offset 16
 234              		.cfi_offset 4, -16
 235              		.cfi_offset 5, -12
 236              		.cfi_offset 7, -8
 237              		.cfi_offset 14, -4
 238 0002 8EB0     		sub	sp, sp, #56
 239              		.cfi_def_cfa_offset 72
 240 0004 04AF     		add	r7, sp, #16
 241              		.cfi_def_cfa 7, 56
 242 0006 7860     		str	r0, [r7, #4]
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_InitTypeDef Init;
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sdmmc_clk;
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Default SDMMC peripheral configuration for SD card initialization */
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 243              		.loc 1 491 28
 244 0008 0023     		movs	r3, #0
 245 000a BB60     		str	r3, [r7, #8]
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockBypass         = SDMMC_CLOCK_BYPASS_DISABLE;
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 246              		.loc 1 495 28
 247 000c 0023     		movs	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 14


 248 000e FB60     		str	r3, [r7, #12]
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 249              		.loc 1 496 28
 250 0010 0023     		movs	r3, #0
 251 0012 3B61     		str	r3, [r7, #16]
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 252              		.loc 1 497 28
 253 0014 0023     		movs	r3, #0
 254 0016 7B61     		str	r3, [r7, #20]
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Init Clock should be less or equal to 400Khz*/
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   sdmmc_clk = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC1);
 255              		.loc 1 500 15
 256 0018 4FF40020 		mov	r0, #524288
 257 001c FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 258 0020 7862     		str	r0, [r7, #36]
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 259              		.loc 1 501 6
 260 0022 7B6A     		ldr	r3, [r7, #36]
 261 0024 002B     		cmp	r3, #0
 262 0026 09D1     		bne	.L16
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 263              		.loc 1 503 18
 264 0028 7B68     		ldr	r3, [r7, #4]
 265 002a 0122     		movs	r2, #1
 266 002c 83F83420 		strb	r2, [r3, #52]
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 267              		.loc 1 504 22
 268 0030 7B68     		ldr	r3, [r7, #4]
 269 0032 4FF00062 		mov	r2, #134217728
 270 0036 9A63     		str	r2, [r3, #56]
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 271              		.loc 1 505 14
 272 0038 0123     		movs	r3, #1
 273 003a 79E0     		b	.L22
 274              	.L16:
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockDiv = ((sdmmc_clk / SD_INIT_FREQ) - 2U);
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockDiv = sdmmc_clk / (2U * SD_INIT_FREQ);
 275              		.loc 1 510 29
 276 003c 7B6A     		ldr	r3, [r7, #36]
 277 003e 1B0A     		lsrs	r3, r3, #8
 278 0040 3D4A     		ldr	r2, .L23
 279 0042 A2FB0323 		umull	r2, r3, r2, r3
 280 0046 1B09     		lsrs	r3, r3, #4
 281              		.loc 1 510 17
 282 0048 BB61     		str	r3, [r7, #24]
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.Transceiver = hsd->Init.Transceiver;
 283              		.loc 1 514 31
 284 004a 7B68     		ldr	r3, [r7, #4]
 285 004c 9B69     		ldr	r3, [r3, #24]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 15


 286              		.loc 1 514 20
 287 004e FB61     		str	r3, [r7, #28]
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
 288              		.loc 1 515 15
 289 0050 7B68     		ldr	r3, [r7, #4]
 290 0052 9B69     		ldr	r3, [r3, #24]
 291              		.loc 1 515 5
 292 0054 012B     		cmp	r3, #1
 293 0056 07D1     		bne	.L18
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set Transceiver polarity */
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 294              		.loc 1 518 8
 295 0058 7B68     		ldr	r3, [r7, #4]
 296 005a 1B68     		ldr	r3, [r3]
 297              		.loc 1 518 26
 298 005c 1A68     		ldr	r2, [r3]
 299              		.loc 1 518 8
 300 005e 7B68     		ldr	r3, [r7, #4]
 301 0060 1B68     		ldr	r3, [r3]
 302              		.loc 1 518 26
 303 0062 42F01002 		orr	r2, r2, #16
 304 0066 1A60     		str	r2, [r3]
 305              	.L18:
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, Init);
 306              		.loc 1 523 9
 307 0068 7B68     		ldr	r3, [r7, #4]
 308 006a 1D68     		ldr	r5, [r3]
 309 006c 6C46     		mov	r4, sp
 310 006e 07F11403 		add	r3, r7, #20
 311 0072 93E80700 		ldm	r3, {r0, r1, r2}
 312 0076 84E80700 		stm	r4, {r0, r1, r2}
 313 007a 07F10803 		add	r3, r7, #8
 314 007e 0ECB     		ldm	r3, {r1, r2, r3}
 315 0080 2846     		mov	r0, r5
 316 0082 FFF7FEFF 		bl	SDMMC_Init
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Disable SDMMC Clock */
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_DISABLE(hsd);
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Power State to ON */
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_PowerState_ON(hsd->Instance);
 317              		.loc 1 531 9
 318 0086 7B68     		ldr	r3, [r7, #4]
 319 0088 1B68     		ldr	r3, [r3]
 320 008a 1846     		mov	r0, r3
 321 008c FFF7FEFF 		bl	SDMMC_PowerState_ON
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Enable SDMMC Clock */
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_ENABLE(hsd);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 16


 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* wait 74 Cycles: required power up waiting time before starting
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      the SD initialization sequence */
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   sdmmc_clk = sdmmc_clk/(Init.ClockDiv + 2U);
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   sdmmc_clk = sdmmc_clk/(2U*Init.ClockDiv);
 322              		.loc 1 543 33
 323 0090 BB69     		ldr	r3, [r7, #24]
 324              		.loc 1 543 28
 325 0092 5B00     		lsls	r3, r3, #1
 326              		.loc 1 543 13
 327 0094 7A6A     		ldr	r2, [r7, #36]
 328 0096 B2FBF3F3 		udiv	r3, r2, r3
 329 009a 7B62     		str	r3, [r7, #36]
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_Delay(1U+ (74U*1000U/(sdmmc_clk)));
 330              		.loc 1 545 27
 331 009c 274A     		ldr	r2, .L23+4
 332 009e 7B6A     		ldr	r3, [r7, #36]
 333 00a0 B2FBF3F3 		udiv	r3, r2, r3
 334              		.loc 1 545 3
 335 00a4 0133     		adds	r3, r3, #1
 336 00a6 1846     		mov	r0, r3
 337 00a8 FFF7FEFF 		bl	HAL_Delay
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Identify card operating voltage */
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 338              		.loc 1 548 16
 339 00ac 7868     		ldr	r0, [r7, #4]
 340 00ae FFF7FEFF 		bl	SD_PowerON
 341 00b2 3862     		str	r0, [r7, #32]
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 342              		.loc 1 549 5
 343 00b4 3B6A     		ldr	r3, [r7, #32]
 344 00b6 002B     		cmp	r3, #0
 345 00b8 0BD0     		beq	.L19
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 346              		.loc 1 551 16
 347 00ba 7B68     		ldr	r3, [r7, #4]
 348 00bc 0122     		movs	r2, #1
 349 00be 83F83420 		strb	r2, [r3, #52]
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 350              		.loc 1 552 20
 351 00c2 7B68     		ldr	r3, [r7, #4]
 352 00c4 9A6B     		ldr	r2, [r3, #56]
 353 00c6 3B6A     		ldr	r3, [r7, #32]
 354 00c8 1A43     		orrs	r2, r2, r3
 355 00ca 7B68     		ldr	r3, [r7, #4]
 356 00cc 9A63     		str	r2, [r3, #56]
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 357              		.loc 1 553 12
 358 00ce 0123     		movs	r3, #1
 359 00d0 2EE0     		b	.L22
 360              	.L19:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 17


 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Card initialization */
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 361              		.loc 1 557 16
 362 00d2 7868     		ldr	r0, [r7, #4]
 363 00d4 FFF7FEFF 		bl	SD_InitCard
 364 00d8 3862     		str	r0, [r7, #32]
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 365              		.loc 1 558 5
 366 00da 3B6A     		ldr	r3, [r7, #32]
 367 00dc 002B     		cmp	r3, #0
 368 00de 0BD0     		beq	.L20
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 369              		.loc 1 560 16
 370 00e0 7B68     		ldr	r3, [r7, #4]
 371 00e2 0122     		movs	r2, #1
 372 00e4 83F83420 		strb	r2, [r3, #52]
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 373              		.loc 1 561 20
 374 00e8 7B68     		ldr	r3, [r7, #4]
 375 00ea 9A6B     		ldr	r2, [r3, #56]
 376 00ec 3B6A     		ldr	r3, [r7, #32]
 377 00ee 1A43     		orrs	r2, r2, r3
 378 00f0 7B68     		ldr	r3, [r7, #4]
 379 00f2 9A63     		str	r2, [r3, #56]
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 380              		.loc 1 562 12
 381 00f4 0123     		movs	r3, #1
 382 00f6 1BE0     		b	.L22
 383              	.L20:
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 384              		.loc 1 566 16
 385 00f8 7B68     		ldr	r3, [r7, #4]
 386 00fa 1B68     		ldr	r3, [r3]
 387 00fc 4FF40071 		mov	r1, #512
 388 0100 1846     		mov	r0, r3
 389 0102 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 390 0106 3862     		str	r0, [r7, #32]
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 391              		.loc 1 567 5
 392 0108 3B6A     		ldr	r3, [r7, #32]
 393 010a 002B     		cmp	r3, #0
 394 010c 0FD0     		beq	.L21
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 395              		.loc 1 570 5
 396 010e 7B68     		ldr	r3, [r7, #4]
 397 0110 1B68     		ldr	r3, [r3]
 398 0112 0B4A     		ldr	r2, .L23+8
 399 0114 9A63     		str	r2, [r3, #56]
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 18


 400              		.loc 1 571 20
 401 0116 7B68     		ldr	r3, [r7, #4]
 402 0118 9A6B     		ldr	r2, [r3, #56]
 403 011a 3B6A     		ldr	r3, [r7, #32]
 404 011c 1A43     		orrs	r2, r2, r3
 405 011e 7B68     		ldr	r3, [r7, #4]
 406 0120 9A63     		str	r2, [r3, #56]
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 407              		.loc 1 572 16
 408 0122 7B68     		ldr	r3, [r7, #4]
 409 0124 0122     		movs	r2, #1
 410 0126 83F83420 		strb	r2, [r3, #52]
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 411              		.loc 1 573 12
 412 012a 0123     		movs	r3, #1
 413 012c 00E0     		b	.L22
 414              	.L21:
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 415              		.loc 1 576 10
 416 012e 0023     		movs	r3, #0
 417              	.L22:
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 418              		.loc 1 577 1 discriminator 1
 419 0130 1846     		mov	r0, r3
 420 0132 2837     		adds	r7, r7, #40
 421              		.cfi_def_cfa_offset 16
 422 0134 BD46     		mov	sp, r7
 423              		.cfi_def_cfa_register 13
 424              		@ sp needed
 425 0136 B0BD     		pop	{r4, r5, r7, pc}
 426              	.L24:
 427              		.align	2
 428              	.L23:
 429 0138 598B4F01 		.word	21990233
 430 013c 10210100 		.word	74000
 431 0140 FF0FE01F 		.word	534777855
 432              		.cfi_endproc
 433              	.LFE322:
 435              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 436              		.align	1
 437              		.global	HAL_SD_DeInit
 438              		.syntax unified
 439              		.thumb
 440              		.thumb_func
 442              	HAL_SD_DeInit:
 443              	.LFB323:
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 444              		.loc 1 585 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 19


 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 8
 447              		@ frame_needed = 1, uses_anonymous_args = 0
 448 0000 80B5     		push	{r7, lr}
 449              		.cfi_def_cfa_offset 8
 450              		.cfi_offset 7, -8
 451              		.cfi_offset 14, -4
 452 0002 82B0     		sub	sp, sp, #8
 453              		.cfi_def_cfa_offset 16
 454 0004 00AF     		add	r7, sp, #0
 455              		.cfi_def_cfa_register 7
 456 0006 7860     		str	r0, [r7, #4]
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the SD handle allocation */
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd == NULL)
 457              		.loc 1 587 5
 458 0008 7B68     		ldr	r3, [r7, #4]
 459 000a 002B     		cmp	r3, #0
 460 000c 01D1     		bne	.L26
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 461              		.loc 1 589 12
 462 000e 0123     		movs	r3, #1
 463 0010 18E0     		b	.L27
 464              	.L26:
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 465              		.loc 1 595 14
 466 0012 7B68     		ldr	r3, [r7, #4]
 467 0014 0322     		movs	r2, #3
 468 0016 83F83420 		strb	r2, [r3, #52]
 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Deactivate the 1.8V Mode */
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
 469              		.loc 1 599 15
 470 001a 7B68     		ldr	r3, [r7, #4]
 471 001c 9B69     		ldr	r3, [r3, #24]
 472              		.loc 1 599 5
 473 001e 012B     		cmp	r3, #1
 474 0020 02D1     		bne	.L28
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->DriveTransceiver_1_8V_Callback == NULL)
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SDEx_DriveTransceiver_1_8V_Callback;
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback(RESET);
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SDEx_DriveTransceiver_1_8V_Callback(RESET);
 475              		.loc 1 608 5
 476 0022 0020     		movs	r0, #0
 477 0024 FFF7FEFF 		bl	HAL_SDEx_DriveTransceiver_1_8V_Callback
 478              	.L28:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 20


 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set SD power state to off */
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_PowerOFF(hsd);
 479              		.loc 1 614 3
 480 0028 7868     		ldr	r0, [r7, #4]
 481 002a FFF7FEFF 		bl	SD_PowerOFF
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->MspDeInitCallback == NULL)
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* DeInit the low level hardware */
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 482              		.loc 1 626 3
 483 002e 7868     		ldr	r0, [r7, #4]
 484 0030 FFF7FEFF 		bl	HAL_SD_MspDeInit
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 485              		.loc 1 629 18
 486 0034 7B68     		ldr	r3, [r7, #4]
 487 0036 0022     		movs	r2, #0
 488 0038 9A63     		str	r2, [r3, #56]
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 489              		.loc 1 630 14
 490 003a 7B68     		ldr	r3, [r7, #4]
 491 003c 0022     		movs	r2, #0
 492 003e 83F83420 		strb	r2, [r3, #52]
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 493              		.loc 1 632 10
 494 0042 0023     		movs	r3, #0
 495              	.L27:
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 496              		.loc 1 633 1
 497 0044 1846     		mov	r0, r3
 498 0046 0837     		adds	r7, r7, #8
 499              		.cfi_def_cfa_offset 8
 500 0048 BD46     		mov	sp, r7
 501              		.cfi_def_cfa_register 13
 502              		@ sp needed
 503 004a 80BD     		pop	{r7, pc}
 504              		.cfi_endproc
 505              	.LFE323:
 507              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 508              		.align	1
 509              		.weak	HAL_SD_MspInit
 510              		.syntax unified
 511              		.thumb
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 21


 512              		.thumb_func
 514              	HAL_SD_MspInit:
 515              	.LFB324:
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 516              		.loc 1 642 1
 517              		.cfi_startproc
 518              		@ args = 0, pretend = 0, frame = 8
 519              		@ frame_needed = 1, uses_anonymous_args = 0
 520              		@ link register save eliminated.
 521 0000 80B4     		push	{r7}
 522              		.cfi_def_cfa_offset 4
 523              		.cfi_offset 7, -4
 524 0002 83B0     		sub	sp, sp, #12
 525              		.cfi_def_cfa_offset 16
 526 0004 00AF     		add	r7, sp, #0
 527              		.cfi_def_cfa_register 7
 528 0006 7860     		str	r0, [r7, #4]
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 529              		.loc 1 649 1
 530 0008 00BF     		nop
 531 000a 0C37     		adds	r7, r7, #12
 532              		.cfi_def_cfa_offset 4
 533 000c BD46     		mov	sp, r7
 534              		.cfi_def_cfa_register 13
 535              		@ sp needed
 536 000e 5DF8047B 		ldr	r7, [sp], #4
 537              		.cfi_restore 7
 538              		.cfi_def_cfa_offset 0
 539 0012 7047     		bx	lr
 540              		.cfi_endproc
 541              	.LFE324:
 543              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 544              		.align	1
 545              		.weak	HAL_SD_MspDeInit
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 550              	HAL_SD_MspDeInit:
 551              	.LFB325:
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 22


 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 552              		.loc 1 657 1
 553              		.cfi_startproc
 554              		@ args = 0, pretend = 0, frame = 8
 555              		@ frame_needed = 1, uses_anonymous_args = 0
 556              		@ link register save eliminated.
 557 0000 80B4     		push	{r7}
 558              		.cfi_def_cfa_offset 4
 559              		.cfi_offset 7, -4
 560 0002 83B0     		sub	sp, sp, #12
 561              		.cfi_def_cfa_offset 16
 562 0004 00AF     		add	r7, sp, #0
 563              		.cfi_def_cfa_register 7
 564 0006 7860     		str	r0, [r7, #4]
 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 565              		.loc 1 664 1
 566 0008 00BF     		nop
 567 000a 0C37     		adds	r7, r7, #12
 568              		.cfi_def_cfa_offset 4
 569 000c BD46     		mov	sp, r7
 570              		.cfi_def_cfa_register 13
 571              		@ sp needed
 572 000e 5DF8047B 		ldr	r7, [sp], #4
 573              		.cfi_restore 7
 574              		.cfi_def_cfa_offset 0
 575 0012 7047     		bx	lr
 576              		.cfi_endproc
 577              	.LFE325:
 579              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 580              		.align	1
 581              		.global	HAL_SD_ReadBlocks
 582              		.syntax unified
 583              		.thumb
 584              		.thumb_func
 586              	HAL_SD_ReadBlocks:
 587              	.LFB326:
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *  @brief   Data transfer functions
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @verbatim
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                         ##### IO operation functions #####
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 23


 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     transfer from/to SD card.
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @endverbatim
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed by polling mode.
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData pointer to the buffer that will contain the received data
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address from where data is to be read
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of SD blocks to read
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  Timeout Specify timeout value
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 588              		.loc 1 698 1
 589              		.cfi_startproc
 590              		@ args = 4, pretend = 0, frame = 72
 591              		@ frame_needed = 1, uses_anonymous_args = 0
 592 0000 80B5     		push	{r7, lr}
 593              		.cfi_def_cfa_offset 8
 594              		.cfi_offset 7, -8
 595              		.cfi_offset 14, -4
 596 0002 92B0     		sub	sp, sp, #72
 597              		.cfi_def_cfa_offset 80
 598 0004 00AF     		add	r7, sp, #0
 599              		.cfi_def_cfa_register 7
 600 0006 F860     		str	r0, [r7, #12]
 601 0008 B960     		str	r1, [r7, #8]
 602 000a 7A60     		str	r2, [r7, #4]
 603 000c 3B60     		str	r3, [r7]
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 604              		.loc 1 701 24
 605 000e FFF7FEFF 		bl	HAL_GetTick
 606 0012 3863     		str	r0, [r7, #48]
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 607              		.loc 1 703 12
 608 0014 7B68     		ldr	r3, [r7, #4]
 609 0016 BB63     		str	r3, [r7, #56]
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 610              		.loc 1 704 12
 611 0018 BB68     		ldr	r3, [r7, #8]
 612 001a 7B63     		str	r3, [r7, #52]
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 613              		.loc 1 706 5
 614 001c BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 24


 615 001e 002B     		cmp	r3, #0
 616 0020 07D1     		bne	.L32
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 617              		.loc 1 708 20
 618 0022 FB68     		ldr	r3, [r7, #12]
 619 0024 9B6B     		ldr	r3, [r3, #56]
 620 0026 43F00062 		orr	r2, r3, #134217728
 621 002a FB68     		ldr	r3, [r7, #12]
 622 002c 9A63     		str	r2, [r3, #56]
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 623              		.loc 1 709 12
 624 002e 0123     		movs	r3, #1
 625 0030 70E1     		b	.L50
 626              	.L32:
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 627              		.loc 1 712 9
 628 0032 FB68     		ldr	r3, [r7, #12]
 629 0034 93F83430 		ldrb	r3, [r3, #52]
 630 0038 DBB2     		uxtb	r3, r3
 631              		.loc 1 712 5
 632 003a 012B     		cmp	r3, #1
 633 003c 40F06381 		bne	.L34
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 634              		.loc 1 714 20
 635 0040 FB68     		ldr	r3, [r7, #12]
 636 0042 0022     		movs	r2, #0
 637 0044 9A63     		str	r2, [r3, #56]
 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 638              		.loc 1 716 13
 639 0046 BA6B     		ldr	r2, [r7, #56]
 640 0048 3B68     		ldr	r3, [r7]
 641 004a 1A44     		add	r2, r2, r3
 642              		.loc 1 716 45
 643 004c FB68     		ldr	r3, [r7, #12]
 644 004e 5B6D     		ldr	r3, [r3, #84]
 645              		.loc 1 716 7
 646 0050 9A42     		cmp	r2, r3
 647 0052 07D9     		bls	.L35
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 648              		.loc 1 718 22
 649 0054 FB68     		ldr	r3, [r7, #12]
 650 0056 9B6B     		ldr	r3, [r3, #56]
 651 0058 43F00072 		orr	r2, r3, #33554432
 652 005c FB68     		ldr	r3, [r7, #12]
 653 005e 9A63     		str	r2, [r3, #56]
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 654              		.loc 1 719 14
 655 0060 0123     		movs	r3, #1
 656 0062 57E1     		b	.L50
 657              	.L35:
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 25


 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 658              		.loc 1 722 16
 659 0064 FB68     		ldr	r3, [r7, #12]
 660 0066 0322     		movs	r2, #3
 661 0068 83F83420 		strb	r2, [r3, #52]
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 662              		.loc 1 725 8
 663 006c FB68     		ldr	r3, [r7, #12]
 664 006e 1B68     		ldr	r3, [r3]
 665              		.loc 1 725 26
 666 0070 0022     		movs	r2, #0
 667 0072 DA62     		str	r2, [r3, #44]
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 668              		.loc 1 727 19
 669 0074 FB68     		ldr	r3, [r7, #12]
 670 0076 DB6B     		ldr	r3, [r3, #60]
 671              		.loc 1 727 7
 672 0078 012B     		cmp	r3, #1
 673 007a 02D0     		beq	.L36
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 674              		.loc 1 729 11
 675 007c BB6B     		ldr	r3, [r7, #56]
 676 007e 5B02     		lsls	r3, r3, #9
 677 0080 BB63     		str	r3, [r7, #56]
 678              	.L36:
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 679              		.loc 1 733 26
 680 0082 4FF0FF33 		mov	r3, #-1
 681 0086 7B61     		str	r3, [r7, #20]
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 682              		.loc 1 734 43
 683 0088 3B68     		ldr	r3, [r7]
 684 008a 5B02     		lsls	r3, r3, #9
 685              		.loc 1 734 26
 686 008c BB61     		str	r3, [r7, #24]
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 687              		.loc 1 735 26
 688 008e 9023     		movs	r3, #144
 689 0090 FB61     		str	r3, [r7, #28]
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 690              		.loc 1 736 26
 691 0092 0223     		movs	r3, #2
 692 0094 3B62     		str	r3, [r7, #32]
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 693              		.loc 1 737 26
 694 0096 0023     		movs	r3, #0
 695 0098 7B62     		str	r3, [r7, #36]
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 26


 696              		.loc 1 739 26
 697 009a 0023     		movs	r3, #0
 698 009c BB62     		str	r3, [r7, #40]
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 699              		.loc 1 743 11
 700 009e FB68     		ldr	r3, [r7, #12]
 701 00a0 1B68     		ldr	r3, [r3]
 702 00a2 07F11402 		add	r2, r7, #20
 703 00a6 1146     		mov	r1, r2
 704 00a8 1846     		mov	r0, r3
 705 00aa FFF7FEFF 		bl	SDMMC_ConfigData
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 706              		.loc 1 745 5
 707 00ae FB68     		ldr	r3, [r7, #12]
 708 00b0 1B68     		ldr	r3, [r3]
 709 00b2 DA68     		ldr	r2, [r3, #12]
 710 00b4 FB68     		ldr	r3, [r7, #12]
 711 00b6 1B68     		ldr	r3, [r3]
 712 00b8 42F04002 		orr	r2, r2, #64
 713 00bc DA60     		str	r2, [r3, #12]
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Read block(s) in polling mode */
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 714              		.loc 1 749 7
 715 00be 3B68     		ldr	r3, [r7]
 716 00c0 012B     		cmp	r3, #1
 717 00c2 0AD9     		bls	.L37
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 718              		.loc 1 751 20
 719 00c4 FB68     		ldr	r3, [r7, #12]
 720 00c6 0222     		movs	r2, #2
 721 00c8 1A63     		str	r2, [r3, #48]
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Multi Block command */
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 722              		.loc 1 754 20
 723 00ca FB68     		ldr	r3, [r7, #12]
 724 00cc 1B68     		ldr	r3, [r3]
 725 00ce B96B     		ldr	r1, [r7, #56]
 726 00d0 1846     		mov	r0, r3
 727 00d2 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 728 00d6 7864     		str	r0, [r7, #68]
 729 00d8 09E0     		b	.L38
 730              	.L37:
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 731              		.loc 1 758 20
 732 00da FB68     		ldr	r3, [r7, #12]
 733 00dc 0122     		movs	r2, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 27


 734 00de 1A63     		str	r2, [r3, #48]
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Single Block command */
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 735              		.loc 1 761 20
 736 00e0 FB68     		ldr	r3, [r7, #12]
 737 00e2 1B68     		ldr	r3, [r3]
 738 00e4 B96B     		ldr	r1, [r7, #56]
 739 00e6 1846     		mov	r0, r3
 740 00e8 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 741 00ec 7864     		str	r0, [r7, #68]
 742              	.L38:
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 743              		.loc 1 763 7
 744 00ee 7B6C     		ldr	r3, [r7, #68]
 745 00f0 002B     		cmp	r3, #0
 746 00f2 12D0     		beq	.L39
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 747              		.loc 1 766 7
 748 00f4 FB68     		ldr	r3, [r7, #12]
 749 00f6 1B68     		ldr	r3, [r3]
 750 00f8 884A     		ldr	r2, .L51
 751 00fa 9A63     		str	r2, [r3, #56]
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 752              		.loc 1 767 22
 753 00fc FB68     		ldr	r3, [r7, #12]
 754 00fe 9A6B     		ldr	r2, [r3, #56]
 755 0100 7B6C     		ldr	r3, [r7, #68]
 756 0102 1A43     		orrs	r2, r2, r3
 757 0104 FB68     		ldr	r3, [r7, #12]
 758 0106 9A63     		str	r2, [r3, #56]
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 759              		.loc 1 768 18
 760 0108 FB68     		ldr	r3, [r7, #12]
 761 010a 0122     		movs	r2, #1
 762 010c 83F83420 		strb	r2, [r3, #52]
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 763              		.loc 1 769 20
 764 0110 FB68     		ldr	r3, [r7, #12]
 765 0112 0022     		movs	r2, #0
 766 0114 1A63     		str	r2, [r3, #48]
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 767              		.loc 1 770 14
 768 0116 0123     		movs	r3, #1
 769 0118 FCE0     		b	.L50
 770              	.L39:
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Poll on SDMMC flags */
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     dataremaining = config.DataLength;
 771              		.loc 1 774 19
 772 011a BB69     		ldr	r3, [r7, #24]
 773 011c FB63     		str	r3, [r7, #60]
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 28


 774              		.loc 1 775 10
 775 011e 61E0     		b	.L40
 776              	.L45:
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) && (dataremaining > 0U))
 777              		.loc 1 777 10
 778 0120 FB68     		ldr	r3, [r7, #12]
 779 0122 1B68     		ldr	r3, [r3]
 780 0124 5B6B     		ldr	r3, [r3, #52]
 781 0126 03F40043 		and	r3, r3, #32768
 782              		.loc 1 777 9
 783 012a 002B     		cmp	r3, #0
 784 012c 3CD0     		beq	.L41
 785              		.loc 1 777 54 discriminator 1
 786 012e FB6B     		ldr	r3, [r7, #60]
 787 0130 002B     		cmp	r3, #0
 788 0132 39D0     		beq	.L41
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Read data from SDMMC Rx FIFO */
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 789              		.loc 1 780 19
 790 0134 0023     		movs	r3, #0
 791 0136 3B64     		str	r3, [r7, #64]
 792              		.loc 1 780 9
 793 0138 33E0     		b	.L42
 794              	.L43:
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data = SDMMC_ReadFIFO(hsd->Instance);
 795              		.loc 1 782 18 discriminator 3
 796 013a FB68     		ldr	r3, [r7, #12]
 797 013c 1B68     		ldr	r3, [r3]
 798 013e 1846     		mov	r0, r3
 799 0140 FFF7FEFF 		bl	SDMMC_ReadFIFO
 800 0144 F862     		str	r0, [r7, #44]
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 801              		.loc 1 783 23 discriminator 3
 802 0146 FB6A     		ldr	r3, [r7, #44]
 803 0148 DAB2     		uxtb	r2, r3
 804              		.loc 1 783 21 discriminator 3
 805 014a 7B6B     		ldr	r3, [r7, #52]
 806 014c 1A70     		strb	r2, [r3]
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 807              		.loc 1 784 19 discriminator 3
 808 014e 7B6B     		ldr	r3, [r7, #52]
 809 0150 0133     		adds	r3, r3, #1
 810 0152 7B63     		str	r3, [r7, #52]
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 811              		.loc 1 785 24 discriminator 3
 812 0154 FB6B     		ldr	r3, [r7, #60]
 813 0156 013B     		subs	r3, r3, #1
 814 0158 FB63     		str	r3, [r7, #60]
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 815              		.loc 1 786 39 discriminator 3
 816 015a FB6A     		ldr	r3, [r7, #44]
 817 015c 1B0A     		lsrs	r3, r3, #8
 818              		.loc 1 786 23 discriminator 3
 819 015e DAB2     		uxtb	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 29


 820              		.loc 1 786 21 discriminator 3
 821 0160 7B6B     		ldr	r3, [r7, #52]
 822 0162 1A70     		strb	r2, [r3]
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 823              		.loc 1 787 19 discriminator 3
 824 0164 7B6B     		ldr	r3, [r7, #52]
 825 0166 0133     		adds	r3, r3, #1
 826 0168 7B63     		str	r3, [r7, #52]
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 827              		.loc 1 788 24 discriminator 3
 828 016a FB6B     		ldr	r3, [r7, #60]
 829 016c 013B     		subs	r3, r3, #1
 830 016e FB63     		str	r3, [r7, #60]
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 831              		.loc 1 789 39 discriminator 3
 832 0170 FB6A     		ldr	r3, [r7, #44]
 833 0172 1B0C     		lsrs	r3, r3, #16
 834              		.loc 1 789 23 discriminator 3
 835 0174 DAB2     		uxtb	r2, r3
 836              		.loc 1 789 21 discriminator 3
 837 0176 7B6B     		ldr	r3, [r7, #52]
 838 0178 1A70     		strb	r2, [r3]
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 839              		.loc 1 790 19 discriminator 3
 840 017a 7B6B     		ldr	r3, [r7, #52]
 841 017c 0133     		adds	r3, r3, #1
 842 017e 7B63     		str	r3, [r7, #52]
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 843              		.loc 1 791 24 discriminator 3
 844 0180 FB6B     		ldr	r3, [r7, #60]
 845 0182 013B     		subs	r3, r3, #1
 846 0184 FB63     		str	r3, [r7, #60]
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 847              		.loc 1 792 39 discriminator 3
 848 0186 FB6A     		ldr	r3, [r7, #44]
 849 0188 1B0E     		lsrs	r3, r3, #24
 850              		.loc 1 792 23 discriminator 3
 851 018a DAB2     		uxtb	r2, r3
 852              		.loc 1 792 21 discriminator 3
 853 018c 7B6B     		ldr	r3, [r7, #52]
 854 018e 1A70     		strb	r2, [r3]
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 855              		.loc 1 793 19 discriminator 3
 856 0190 7B6B     		ldr	r3, [r7, #52]
 857 0192 0133     		adds	r3, r3, #1
 858 0194 7B63     		str	r3, [r7, #52]
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 859              		.loc 1 794 24 discriminator 3
 860 0196 FB6B     		ldr	r3, [r7, #60]
 861 0198 013B     		subs	r3, r3, #1
 862 019a FB63     		str	r3, [r7, #60]
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 863              		.loc 1 780 42 discriminator 3
 864 019c 3B6C     		ldr	r3, [r7, #64]
 865 019e 0133     		adds	r3, r3, #1
 866 01a0 3B64     		str	r3, [r7, #64]
 867              	.L42:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 30


 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 868              		.loc 1 780 31 discriminator 1
 869 01a2 3B6C     		ldr	r3, [r7, #64]
 870 01a4 072B     		cmp	r3, #7
 871 01a6 C8D9     		bls	.L43
 872              	.L41:
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 873              		.loc 1 798 12
 874 01a8 FFF7FEFF 		bl	HAL_GetTick
 875 01ac 0246     		mov	r2, r0
 876              		.loc 1 798 25
 877 01ae 3B6B     		ldr	r3, [r7, #48]
 878 01b0 D31A     		subs	r3, r2, r3
 879              		.loc 1 798 9
 880 01b2 3A6D     		ldr	r2, [r7, #80]
 881 01b4 9A42     		cmp	r2, r3
 882 01b6 02D9     		bls	.L44
 883              		.loc 1 798 50 discriminator 1
 884 01b8 3B6D     		ldr	r3, [r7, #80]
 885 01ba 002B     		cmp	r3, #0
 886 01bc 12D1     		bne	.L40
 887              	.L44:
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 888              		.loc 1 801 9
 889 01be FB68     		ldr	r3, [r7, #12]
 890 01c0 1B68     		ldr	r3, [r3]
 891 01c2 564A     		ldr	r2, .L51
 892 01c4 9A63     		str	r2, [r3, #56]
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 893              		.loc 1 802 24
 894 01c6 FB68     		ldr	r3, [r7, #12]
 895 01c8 9B6B     		ldr	r3, [r3, #56]
 896 01ca 43F00042 		orr	r2, r3, #-2147483648
 897 01ce FB68     		ldr	r3, [r7, #12]
 898 01d0 9A63     		str	r2, [r3, #56]
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 899              		.loc 1 803 19
 900 01d2 FB68     		ldr	r3, [r7, #12]
 901 01d4 0122     		movs	r2, #1
 902 01d6 83F83420 		strb	r2, [r3, #52]
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 903              		.loc 1 804 22
 904 01da FB68     		ldr	r3, [r7, #12]
 905 01dc 0022     		movs	r2, #0
 906 01de 1A63     		str	r2, [r3, #48]
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 907              		.loc 1 805 16
 908 01e0 0323     		movs	r3, #3
 909 01e2 97E0     		b	.L50
 910              	.L40:
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 911              		.loc 1 775 12
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 31


 912 01e4 FB68     		ldr	r3, [r7, #12]
 913 01e6 1B68     		ldr	r3, [r3]
 914 01e8 5B6B     		ldr	r3, [r3, #52]
 915 01ea 03F49573 		and	r3, r3, #298
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 916              		.loc 1 775 11
 917 01ee 002B     		cmp	r3, #0
 918 01f0 96D0     		beq	.L45
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
 919              		.loc 1 809 5
 920 01f2 FB68     		ldr	r3, [r7, #12]
 921 01f4 1B68     		ldr	r3, [r3]
 922 01f6 DA68     		ldr	r2, [r3, #12]
 923 01f8 FB68     		ldr	r3, [r7, #12]
 924 01fa 1B68     		ldr	r3, [r3]
 925 01fc 22F04002 		bic	r2, r2, #64
 926 0200 DA60     		str	r2, [r3, #12]
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 927              		.loc 1 813 8
 928 0202 FB68     		ldr	r3, [r7, #12]
 929 0204 1B68     		ldr	r3, [r3]
 930 0206 5B6B     		ldr	r3, [r3, #52]
 931 0208 03F48073 		and	r3, r3, #256
 932              		.loc 1 813 7
 933 020c 002B     		cmp	r3, #0
 934 020e 22D0     		beq	.L46
 935              		.loc 1 813 51 discriminator 1
 936 0210 3B68     		ldr	r3, [r7]
 937 0212 012B     		cmp	r3, #1
 938 0214 1FD9     		bls	.L46
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
 939              		.loc 1 815 21
 940 0216 FB68     		ldr	r3, [r7, #12]
 941 0218 DB6B     		ldr	r3, [r3, #60]
 942              		.loc 1 815 9
 943 021a 032B     		cmp	r3, #3
 944 021c 1BD0     		beq	.L46
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Send stop transmission command */
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 945              		.loc 1 818 22
 946 021e FB68     		ldr	r3, [r7, #12]
 947 0220 1B68     		ldr	r3, [r3]
 948 0222 1846     		mov	r0, r3
 949 0224 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 950 0228 7864     		str	r0, [r7, #68]
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 951              		.loc 1 819 11
 952 022a 7B6C     		ldr	r3, [r7, #68]
 953 022c 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 32


 954 022e 12D0     		beq	.L46
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clear all the static flags */
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 955              		.loc 1 822 11
 956 0230 FB68     		ldr	r3, [r7, #12]
 957 0232 1B68     		ldr	r3, [r3]
 958 0234 394A     		ldr	r2, .L51
 959 0236 9A63     		str	r2, [r3, #56]
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 960              		.loc 1 823 26
 961 0238 FB68     		ldr	r3, [r7, #12]
 962 023a 9A6B     		ldr	r2, [r3, #56]
 963 023c 7B6C     		ldr	r3, [r7, #68]
 964 023e 1A43     		orrs	r2, r2, r3
 965 0240 FB68     		ldr	r3, [r7, #12]
 966 0242 9A63     		str	r2, [r3, #56]
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 967              		.loc 1 824 22
 968 0244 FB68     		ldr	r3, [r7, #12]
 969 0246 0122     		movs	r2, #1
 970 0248 83F83420 		strb	r2, [r3, #52]
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 971              		.loc 1 825 24
 972 024c FB68     		ldr	r3, [r7, #12]
 973 024e 0022     		movs	r2, #0
 974 0250 1A63     		str	r2, [r3, #48]
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 975              		.loc 1 826 18
 976 0252 0123     		movs	r3, #1
 977 0254 5EE0     		b	.L50
 978              	.L46:
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get error state */
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 979              		.loc 1 832 8
 980 0256 FB68     		ldr	r3, [r7, #12]
 981 0258 1B68     		ldr	r3, [r3]
 982 025a 5B6B     		ldr	r3, [r3, #52]
 983 025c 03F00803 		and	r3, r3, #8
 984              		.loc 1 832 7
 985 0260 002B     		cmp	r3, #0
 986 0262 12D0     		beq	.L47
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 987              		.loc 1 835 7
 988 0264 FB68     		ldr	r3, [r7, #12]
 989 0266 1B68     		ldr	r3, [r3]
 990 0268 2C4A     		ldr	r2, .L51
 991 026a 9A63     		str	r2, [r3, #56]
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 992              		.loc 1 836 22
 993 026c FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 33


 994 026e 9B6B     		ldr	r3, [r3, #56]
 995 0270 43F00802 		orr	r2, r3, #8
 996 0274 FB68     		ldr	r3, [r7, #12]
 997 0276 9A63     		str	r2, [r3, #56]
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 998              		.loc 1 837 18
 999 0278 FB68     		ldr	r3, [r7, #12]
 1000 027a 0122     		movs	r2, #1
 1001 027c 83F83420 		strb	r2, [r3, #52]
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1002              		.loc 1 838 20
 1003 0280 FB68     		ldr	r3, [r7, #12]
 1004 0282 0022     		movs	r2, #0
 1005 0284 1A63     		str	r2, [r3, #48]
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1006              		.loc 1 839 14
 1007 0286 0123     		movs	r3, #1
 1008 0288 44E0     		b	.L50
 1009              	.L47:
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 1010              		.loc 1 841 13
 1011 028a FB68     		ldr	r3, [r7, #12]
 1012 028c 1B68     		ldr	r3, [r3]
 1013 028e 5B6B     		ldr	r3, [r3, #52]
 1014 0290 03F00203 		and	r3, r3, #2
 1015              		.loc 1 841 12
 1016 0294 002B     		cmp	r3, #0
 1017 0296 12D0     		beq	.L48
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1018              		.loc 1 844 7
 1019 0298 FB68     		ldr	r3, [r7, #12]
 1020 029a 1B68     		ldr	r3, [r3]
 1021 029c 1F4A     		ldr	r2, .L51
 1022 029e 9A63     		str	r2, [r3, #56]
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 1023              		.loc 1 845 22
 1024 02a0 FB68     		ldr	r3, [r7, #12]
 1025 02a2 9B6B     		ldr	r3, [r3, #56]
 1026 02a4 43F00202 		orr	r2, r3, #2
 1027 02a8 FB68     		ldr	r3, [r7, #12]
 1028 02aa 9A63     		str	r2, [r3, #56]
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1029              		.loc 1 846 18
 1030 02ac FB68     		ldr	r3, [r7, #12]
 1031 02ae 0122     		movs	r2, #1
 1032 02b0 83F83420 		strb	r2, [r3, #52]
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1033              		.loc 1 847 20
 1034 02b4 FB68     		ldr	r3, [r7, #12]
 1035 02b6 0022     		movs	r2, #0
 1036 02b8 1A63     		str	r2, [r3, #48]
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1037              		.loc 1 848 14
 1038 02ba 0123     		movs	r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 34


 1039 02bc 2AE0     		b	.L50
 1040              	.L48:
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 1041              		.loc 1 850 13
 1042 02be FB68     		ldr	r3, [r7, #12]
 1043 02c0 1B68     		ldr	r3, [r3]
 1044 02c2 5B6B     		ldr	r3, [r3, #52]
 1045 02c4 03F02003 		and	r3, r3, #32
 1046              		.loc 1 850 12
 1047 02c8 002B     		cmp	r3, #0
 1048 02ca 12D0     		beq	.L49
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1049              		.loc 1 853 7
 1050 02cc FB68     		ldr	r3, [r7, #12]
 1051 02ce 1B68     		ldr	r3, [r3]
 1052 02d0 124A     		ldr	r2, .L51
 1053 02d2 9A63     		str	r2, [r3, #56]
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 1054              		.loc 1 854 22
 1055 02d4 FB68     		ldr	r3, [r7, #12]
 1056 02d6 9B6B     		ldr	r3, [r3, #56]
 1057 02d8 43F02002 		orr	r2, r3, #32
 1058 02dc FB68     		ldr	r3, [r7, #12]
 1059 02de 9A63     		str	r2, [r3, #56]
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1060              		.loc 1 855 18
 1061 02e0 FB68     		ldr	r3, [r7, #12]
 1062 02e2 0122     		movs	r2, #1
 1063 02e4 83F83420 		strb	r2, [r3, #52]
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1064              		.loc 1 856 20
 1065 02e8 FB68     		ldr	r3, [r7, #12]
 1066 02ea 0022     		movs	r2, #0
 1067 02ec 1A63     		str	r2, [r3, #48]
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1068              		.loc 1 857 14
 1069 02ee 0123     		movs	r3, #1
 1070 02f0 10E0     		b	.L50
 1071              	.L49:
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Empty FIFO if there is still any data */
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXDAVL)) && (dataremaining > 0U))
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 35


 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 1072              		.loc 1 895 5
 1073 02f2 FB68     		ldr	r3, [r7, #12]
 1074 02f4 1B68     		ldr	r3, [r3]
 1075 02f6 0A4A     		ldr	r2, .L51+4
 1076 02f8 9A63     		str	r2, [r3, #56]
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 1077              		.loc 1 897 16
 1078 02fa FB68     		ldr	r3, [r7, #12]
 1079 02fc 0122     		movs	r2, #1
 1080 02fe 83F83420 		strb	r2, [r3, #52]
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
 1081              		.loc 1 899 12
 1082 0302 0023     		movs	r3, #0
 1083 0304 06E0     		b	.L50
 1084              	.L34:
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 1085              		.loc 1 903 20
 1086 0306 FB68     		ldr	r3, [r7, #12]
 1087 0308 9B6B     		ldr	r3, [r3, #56]
 1088 030a 43F00052 		orr	r2, r3, #536870912
 1089 030e FB68     		ldr	r3, [r7, #12]
 1090 0310 9A63     		str	r2, [r3, #56]
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1091              		.loc 1 904 12
 1092 0312 0123     		movs	r3, #1
 1093              	.L50:
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1094              		.loc 1 906 1 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 36


 1095 0314 1846     		mov	r0, r3
 1096 0316 4837     		adds	r7, r7, #72
 1097              		.cfi_def_cfa_offset 8
 1098 0318 BD46     		mov	sp, r7
 1099              		.cfi_def_cfa_register 13
 1100              		@ sp needed
 1101 031a 80BD     		pop	{r7, pc}
 1102              	.L52:
 1103              		.align	2
 1104              	.L51:
 1105 031c FF0FE01F 		.word	534777855
 1106 0320 3A0F0018 		.word	402657082
 1107              		.cfi_endproc
 1108              	.LFE326:
 1110              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 1111              		.align	1
 1112              		.global	HAL_SD_WriteBlocks
 1113              		.syntax unified
 1114              		.thumb
 1115              		.thumb_func
 1117              	HAL_SD_WriteBlocks:
 1118              	.LFB327:
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         transfer is managed by polling mode.
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData pointer to the buffer that will contain the data to transmit
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address where data will be written
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of SD blocks to write
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  Timeout Specify timeout value
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 1119              		.loc 1 921 1
 1120              		.cfi_startproc
 1121              		@ args = 4, pretend = 0, frame = 72
 1122              		@ frame_needed = 1, uses_anonymous_args = 0
 1123 0000 80B5     		push	{r7, lr}
 1124              		.cfi_def_cfa_offset 8
 1125              		.cfi_offset 7, -8
 1126              		.cfi_offset 14, -4
 1127 0002 92B0     		sub	sp, sp, #72
 1128              		.cfi_def_cfa_offset 80
 1129 0004 00AF     		add	r7, sp, #0
 1130              		.cfi_def_cfa_register 7
 1131 0006 F860     		str	r0, [r7, #12]
 1132 0008 B960     		str	r1, [r7, #8]
 1133 000a 7A60     		str	r2, [r7, #4]
 1134 000c 3B60     		str	r3, [r7]
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1135              		.loc 1 924 24
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 37


 1136 000e FFF7FEFF 		bl	HAL_GetTick
 1137 0012 3863     		str	r0, [r7, #48]
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1138              		.loc 1 926 12
 1139 0014 7B68     		ldr	r3, [r7, #4]
 1140 0016 BB63     		str	r3, [r7, #56]
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1141              		.loc 1 927 12
 1142 0018 BB68     		ldr	r3, [r7, #8]
 1143 001a 7B63     		str	r3, [r7, #52]
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 1144              		.loc 1 929 5
 1145 001c BB68     		ldr	r3, [r7, #8]
 1146 001e 002B     		cmp	r3, #0
 1147 0020 07D1     		bne	.L54
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 1148              		.loc 1 931 20
 1149 0022 FB68     		ldr	r3, [r7, #12]
 1150 0024 9B6B     		ldr	r3, [r3, #56]
 1151 0026 43F00062 		orr	r2, r3, #134217728
 1152 002a FB68     		ldr	r3, [r7, #12]
 1153 002c 9A63     		str	r2, [r3, #56]
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1154              		.loc 1 932 12
 1155 002e 0123     		movs	r3, #1
 1156 0030 74E1     		b	.L72
 1157              	.L54:
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 1158              		.loc 1 935 9
 1159 0032 FB68     		ldr	r3, [r7, #12]
 1160 0034 93F83430 		ldrb	r3, [r3, #52]
 1161 0038 DBB2     		uxtb	r3, r3
 1162              		.loc 1 935 5
 1163 003a 012B     		cmp	r3, #1
 1164 003c 40F06781 		bne	.L56
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 1165              		.loc 1 937 20
 1166 0040 FB68     		ldr	r3, [r7, #12]
 1167 0042 0022     		movs	r2, #0
 1168 0044 9A63     		str	r2, [r3, #56]
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 1169              		.loc 1 939 13
 1170 0046 BA6B     		ldr	r2, [r7, #56]
 1171 0048 3B68     		ldr	r3, [r7]
 1172 004a 1A44     		add	r2, r2, r3
 1173              		.loc 1 939 45
 1174 004c FB68     		ldr	r3, [r7, #12]
 1175 004e 5B6D     		ldr	r3, [r3, #84]
 1176              		.loc 1 939 7
 1177 0050 9A42     		cmp	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 38


 1178 0052 07D9     		bls	.L57
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 1179              		.loc 1 941 22
 1180 0054 FB68     		ldr	r3, [r7, #12]
 1181 0056 9B6B     		ldr	r3, [r3, #56]
 1182 0058 43F00072 		orr	r2, r3, #33554432
 1183 005c FB68     		ldr	r3, [r7, #12]
 1184 005e 9A63     		str	r2, [r3, #56]
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1185              		.loc 1 942 14
 1186 0060 0123     		movs	r3, #1
 1187 0062 5BE1     		b	.L72
 1188              	.L57:
 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 1189              		.loc 1 945 16
 1190 0064 FB68     		ldr	r3, [r7, #12]
 1191 0066 0322     		movs	r2, #3
 1192 0068 83F83420 		strb	r2, [r3, #52]
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 1193              		.loc 1 948 8
 1194 006c FB68     		ldr	r3, [r7, #12]
 1195 006e 1B68     		ldr	r3, [r3]
 1196              		.loc 1 948 26
 1197 0070 0022     		movs	r2, #0
 1198 0072 DA62     		str	r2, [r3, #44]
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 1199              		.loc 1 950 19
 1200 0074 FB68     		ldr	r3, [r7, #12]
 1201 0076 DB6B     		ldr	r3, [r3, #60]
 1202              		.loc 1 950 7
 1203 0078 012B     		cmp	r3, #1
 1204 007a 02D0     		beq	.L58
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 1205              		.loc 1 952 11
 1206 007c BB6B     		ldr	r3, [r7, #56]
 1207 007e 5B02     		lsls	r3, r3, #9
 1208 0080 BB63     		str	r3, [r7, #56]
 1209              	.L58:
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1210              		.loc 1 956 26
 1211 0082 4FF0FF33 		mov	r3, #-1
 1212 0086 BB61     		str	r3, [r7, #24]
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1213              		.loc 1 957 43
 1214 0088 3B68     		ldr	r3, [r7]
 1215 008a 5B02     		lsls	r3, r3, #9
 1216              		.loc 1 957 26
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 39


 1217 008c FB61     		str	r3, [r7, #28]
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1218              		.loc 1 958 26
 1219 008e 9023     		movs	r3, #144
 1220 0090 3B62     		str	r3, [r7, #32]
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 1221              		.loc 1 959 26
 1222 0092 0023     		movs	r3, #0
 1223 0094 7B62     		str	r3, [r7, #36]
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1224              		.loc 1 960 26
 1225 0096 0023     		movs	r3, #0
 1226 0098 BB62     		str	r3, [r7, #40]
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1227              		.loc 1 962 26
 1228 009a 0023     		movs	r3, #0
 1229 009c FB62     		str	r3, [r7, #44]
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1230              		.loc 1 966 11
 1231 009e FB68     		ldr	r3, [r7, #12]
 1232 00a0 1B68     		ldr	r3, [r3]
 1233 00a2 07F11802 		add	r2, r7, #24
 1234 00a6 1146     		mov	r1, r2
 1235 00a8 1846     		mov	r0, r3
 1236 00aa FFF7FEFF 		bl	SDMMC_ConfigData
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 1237              		.loc 1 968 5
 1238 00ae FB68     		ldr	r3, [r7, #12]
 1239 00b0 1B68     		ldr	r3, [r3]
 1240 00b2 DA68     		ldr	r2, [r3, #12]
 1241 00b4 FB68     		ldr	r3, [r7, #12]
 1242 00b6 1B68     		ldr	r3, [r3]
 1243 00b8 42F04002 		orr	r2, r2, #64
 1244 00bc DA60     		str	r2, [r3, #12]
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 1245              		.loc 1 972 7
 1246 00be 3B68     		ldr	r3, [r7]
 1247 00c0 012B     		cmp	r3, #1
 1248 00c2 0AD9     		bls	.L59
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 1249              		.loc 1 974 20
 1250 00c4 FB68     		ldr	r3, [r7, #12]
 1251 00c6 2022     		movs	r2, #32
 1252 00c8 1A63     		str	r2, [r3, #48]
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Multi Block command */
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 1253              		.loc 1 977 20
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 40


 1254 00ca FB68     		ldr	r3, [r7, #12]
 1255 00cc 1B68     		ldr	r3, [r3]
 1256 00ce B96B     		ldr	r1, [r7, #56]
 1257 00d0 1846     		mov	r0, r3
 1258 00d2 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 1259 00d6 7864     		str	r0, [r7, #68]
 1260 00d8 09E0     		b	.L60
 1261              	.L59:
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 1262              		.loc 1 981 20
 1263 00da FB68     		ldr	r3, [r7, #12]
 1264 00dc 1022     		movs	r2, #16
 1265 00de 1A63     		str	r2, [r3, #48]
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Single Block command */
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 1266              		.loc 1 984 20
 1267 00e0 FB68     		ldr	r3, [r7, #12]
 1268 00e2 1B68     		ldr	r3, [r3]
 1269 00e4 B96B     		ldr	r1, [r7, #56]
 1270 00e6 1846     		mov	r0, r3
 1271 00e8 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 1272 00ec 7864     		str	r0, [r7, #68]
 1273              	.L60:
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1274              		.loc 1 986 7
 1275 00ee 7B6C     		ldr	r3, [r7, #68]
 1276 00f0 002B     		cmp	r3, #0
 1277 00f2 12D0     		beq	.L61
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1278              		.loc 1 989 7
 1279 00f4 FB68     		ldr	r3, [r7, #12]
 1280 00f6 1B68     		ldr	r3, [r3]
 1281 00f8 8A4A     		ldr	r2, .L73
 1282 00fa 9A63     		str	r2, [r3, #56]
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1283              		.loc 1 990 22
 1284 00fc FB68     		ldr	r3, [r7, #12]
 1285 00fe 9A6B     		ldr	r2, [r3, #56]
 1286 0100 7B6C     		ldr	r3, [r7, #68]
 1287 0102 1A43     		orrs	r2, r2, r3
 1288 0104 FB68     		ldr	r3, [r7, #12]
 1289 0106 9A63     		str	r2, [r3, #56]
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1290              		.loc 1 991 18
 1291 0108 FB68     		ldr	r3, [r7, #12]
 1292 010a 0122     		movs	r2, #1
 1293 010c 83F83420 		strb	r2, [r3, #52]
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1294              		.loc 1 992 20
 1295 0110 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 41


 1296 0112 0022     		movs	r2, #0
 1297 0114 1A63     		str	r2, [r3, #48]
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1298              		.loc 1 993 14
 1299 0116 0123     		movs	r3, #1
 1300 0118 00E1     		b	.L72
 1301              	.L61:
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write block(s) in polling mode */
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     dataremaining = config.DataLength;
 1302              		.loc 1 997 19
 1303 011a FB69     		ldr	r3, [r7, #28]
 1304 011c FB63     		str	r3, [r7, #60]
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 1305              		.loc 1 998 10
 1306 011e 65E0     		b	.L62
 1307              	.L67:
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) && (dataremaining > 0U))
 1308              		.loc 1 1000 10
 1309 0120 FB68     		ldr	r3, [r7, #12]
 1310 0122 1B68     		ldr	r3, [r3]
 1311 0124 5B6B     		ldr	r3, [r3, #52]
 1312 0126 03F48043 		and	r3, r3, #16384
 1313              		.loc 1 1000 9
 1314 012a 002B     		cmp	r3, #0
 1315 012c 40D0     		beq	.L63
 1316              		.loc 1 1000 54 discriminator 1
 1317 012e FB6B     		ldr	r3, [r7, #60]
 1318 0130 002B     		cmp	r3, #0
 1319 0132 3DD0     		beq	.L63
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Write data to SDMMC Tx FIFO */
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 1320              		.loc 1 1003 19
 1321 0134 0023     		movs	r3, #0
 1322 0136 3B64     		str	r3, [r7, #64]
 1323              		.loc 1 1003 9
 1324 0138 37E0     		b	.L64
 1325              	.L65:
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 1326              		.loc 1 1005 29 discriminator 3
 1327 013a 7B6B     		ldr	r3, [r7, #52]
 1328 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1329              		.loc 1 1005 16 discriminator 3
 1330 013e 7B61     		str	r3, [r7, #20]
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1331              		.loc 1 1006 19 discriminator 3
 1332 0140 7B6B     		ldr	r3, [r7, #52]
 1333 0142 0133     		adds	r3, r3, #1
 1334 0144 7B63     		str	r3, [r7, #52]
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1335              		.loc 1 1007 24 discriminator 3
 1336 0146 FB6B     		ldr	r3, [r7, #60]
 1337 0148 013B     		subs	r3, r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 42


 1338 014a FB63     		str	r3, [r7, #60]
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 1339              		.loc 1 1008 31 discriminator 3
 1340 014c 7B6B     		ldr	r3, [r7, #52]
 1341 014e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1342              		.loc 1 1008 42 discriminator 3
 1343 0150 1A02     		lsls	r2, r3, #8
 1344              		.loc 1 1008 16 discriminator 3
 1345 0152 7B69     		ldr	r3, [r7, #20]
 1346 0154 1343     		orrs	r3, r3, r2
 1347 0156 7B61     		str	r3, [r7, #20]
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1348              		.loc 1 1009 19 discriminator 3
 1349 0158 7B6B     		ldr	r3, [r7, #52]
 1350 015a 0133     		adds	r3, r3, #1
 1351 015c 7B63     		str	r3, [r7, #52]
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1352              		.loc 1 1010 24 discriminator 3
 1353 015e FB6B     		ldr	r3, [r7, #60]
 1354 0160 013B     		subs	r3, r3, #1
 1355 0162 FB63     		str	r3, [r7, #60]
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 1356              		.loc 1 1011 31 discriminator 3
 1357 0164 7B6B     		ldr	r3, [r7, #52]
 1358 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1359              		.loc 1 1011 42 discriminator 3
 1360 0168 1A04     		lsls	r2, r3, #16
 1361              		.loc 1 1011 16 discriminator 3
 1362 016a 7B69     		ldr	r3, [r7, #20]
 1363 016c 1343     		orrs	r3, r3, r2
 1364 016e 7B61     		str	r3, [r7, #20]
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1365              		.loc 1 1012 19 discriminator 3
 1366 0170 7B6B     		ldr	r3, [r7, #52]
 1367 0172 0133     		adds	r3, r3, #1
 1368 0174 7B63     		str	r3, [r7, #52]
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1369              		.loc 1 1013 24 discriminator 3
 1370 0176 FB6B     		ldr	r3, [r7, #60]
 1371 0178 013B     		subs	r3, r3, #1
 1372 017a FB63     		str	r3, [r7, #60]
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 1373              		.loc 1 1014 31 discriminator 3
 1374 017c 7B6B     		ldr	r3, [r7, #52]
 1375 017e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1376              		.loc 1 1014 42 discriminator 3
 1377 0180 1A06     		lsls	r2, r3, #24
 1378              		.loc 1 1014 16 discriminator 3
 1379 0182 7B69     		ldr	r3, [r7, #20]
 1380 0184 1343     		orrs	r3, r3, r2
 1381 0186 7B61     		str	r3, [r7, #20]
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1382              		.loc 1 1015 19 discriminator 3
 1383 0188 7B6B     		ldr	r3, [r7, #52]
 1384 018a 0133     		adds	r3, r3, #1
 1385 018c 7B63     		str	r3, [r7, #52]
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 43


 1386              		.loc 1 1016 24 discriminator 3
 1387 018e FB6B     		ldr	r3, [r7, #60]
 1388 0190 013B     		subs	r3, r3, #1
 1389 0192 FB63     		str	r3, [r7, #60]
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 1390              		.loc 1 1017 17 discriminator 3
 1391 0194 FB68     		ldr	r3, [r7, #12]
 1392 0196 1B68     		ldr	r3, [r3]
 1393 0198 07F11402 		add	r2, r7, #20
 1394 019c 1146     		mov	r1, r2
 1395 019e 1846     		mov	r0, r3
 1396 01a0 FFF7FEFF 		bl	SDMMC_WriteFIFO
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 1397              		.loc 1 1003 42 discriminator 3
 1398 01a4 3B6C     		ldr	r3, [r7, #64]
 1399 01a6 0133     		adds	r3, r3, #1
 1400 01a8 3B64     		str	r3, [r7, #64]
 1401              	.L64:
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 1402              		.loc 1 1003 31 discriminator 1
 1403 01aa 3B6C     		ldr	r3, [r7, #64]
 1404 01ac 072B     		cmp	r3, #7
 1405 01ae C4D9     		bls	.L65
 1406              	.L63:
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 1407              		.loc 1 1021 12
 1408 01b0 FFF7FEFF 		bl	HAL_GetTick
 1409 01b4 0246     		mov	r2, r0
 1410              		.loc 1 1021 25
 1411 01b6 3B6B     		ldr	r3, [r7, #48]
 1412 01b8 D31A     		subs	r3, r2, r3
 1413              		.loc 1 1021 9
 1414 01ba 3A6D     		ldr	r2, [r7, #80]
 1415 01bc 9A42     		cmp	r2, r3
 1416 01be 02D9     		bls	.L66
 1417              		.loc 1 1021 50 discriminator 1
 1418 01c0 3B6D     		ldr	r3, [r7, #80]
 1419 01c2 002B     		cmp	r3, #0
 1420 01c4 12D1     		bne	.L62
 1421              	.L66:
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1422              		.loc 1 1024 9
 1423 01c6 FB68     		ldr	r3, [r7, #12]
 1424 01c8 1B68     		ldr	r3, [r3]
 1425 01ca 564A     		ldr	r2, .L73
 1426 01cc 9A63     		str	r2, [r3, #56]
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 1427              		.loc 1 1025 24
 1428 01ce FB68     		ldr	r3, [r7, #12]
 1429 01d0 9A6B     		ldr	r2, [r3, #56]
 1430 01d2 7B6C     		ldr	r3, [r7, #68]
 1431 01d4 1A43     		orrs	r2, r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 44


 1432 01d6 FB68     		ldr	r3, [r7, #12]
 1433 01d8 9A63     		str	r2, [r3, #56]
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1434              		.loc 1 1026 20
 1435 01da FB68     		ldr	r3, [r7, #12]
 1436 01dc 0122     		movs	r2, #1
 1437 01de 83F83420 		strb	r2, [r3, #52]
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1438              		.loc 1 1027 22
 1439 01e2 FB68     		ldr	r3, [r7, #12]
 1440 01e4 0022     		movs	r2, #0
 1441 01e6 1A63     		str	r2, [r3, #48]
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 1442              		.loc 1 1028 16
 1443 01e8 0323     		movs	r3, #3
 1444 01ea 97E0     		b	.L72
 1445              	.L62:
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1446              		.loc 1 998 12
 1447 01ec FB68     		ldr	r3, [r7, #12]
 1448 01ee 1B68     		ldr	r3, [r3]
 1449 01f0 5B6B     		ldr	r3, [r3, #52]
 1450 01f2 03F48D73 		and	r3, r3, #282
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1451              		.loc 1 998 11
 1452 01f6 002B     		cmp	r3, #0
 1453 01f8 92D0     		beq	.L67
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
 1454              		.loc 1 1032 5
 1455 01fa FB68     		ldr	r3, [r7, #12]
 1456 01fc 1B68     		ldr	r3, [r3]
 1457 01fe DA68     		ldr	r2, [r3, #12]
 1458 0200 FB68     		ldr	r3, [r7, #12]
 1459 0202 1B68     		ldr	r3, [r3]
 1460 0204 22F04002 		bic	r2, r2, #64
 1461 0208 DA60     		str	r2, [r3, #12]
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 1462              		.loc 1 1036 8
 1463 020a FB68     		ldr	r3, [r7, #12]
 1464 020c 1B68     		ldr	r3, [r3]
 1465 020e 5B6B     		ldr	r3, [r3, #52]
 1466 0210 03F48073 		and	r3, r3, #256
 1467              		.loc 1 1036 7
 1468 0214 002B     		cmp	r3, #0
 1469 0216 22D0     		beq	.L68
 1470              		.loc 1 1036 51 discriminator 1
 1471 0218 3B68     		ldr	r3, [r7]
 1472 021a 012B     		cmp	r3, #1
 1473 021c 1FD9     		bls	.L68
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 45


 1474              		.loc 1 1038 21
 1475 021e FB68     		ldr	r3, [r7, #12]
 1476 0220 DB6B     		ldr	r3, [r3, #60]
 1477              		.loc 1 1038 9
 1478 0222 032B     		cmp	r3, #3
 1479 0224 1BD0     		beq	.L68
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Send stop transmission command */
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 1480              		.loc 1 1041 22
 1481 0226 FB68     		ldr	r3, [r7, #12]
 1482 0228 1B68     		ldr	r3, [r3]
 1483 022a 1846     		mov	r0, r3
 1484 022c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 1485 0230 7864     		str	r0, [r7, #68]
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1486              		.loc 1 1042 11
 1487 0232 7B6C     		ldr	r3, [r7, #68]
 1488 0234 002B     		cmp	r3, #0
 1489 0236 12D0     		beq	.L68
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clear all the static flags */
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1490              		.loc 1 1045 11
 1491 0238 FB68     		ldr	r3, [r7, #12]
 1492 023a 1B68     		ldr	r3, [r3]
 1493 023c 394A     		ldr	r2, .L73
 1494 023e 9A63     		str	r2, [r3, #56]
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 1495              		.loc 1 1046 26
 1496 0240 FB68     		ldr	r3, [r7, #12]
 1497 0242 9A6B     		ldr	r2, [r3, #56]
 1498 0244 7B6C     		ldr	r3, [r7, #68]
 1499 0246 1A43     		orrs	r2, r2, r3
 1500 0248 FB68     		ldr	r3, [r7, #12]
 1501 024a 9A63     		str	r2, [r3, #56]
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1502              		.loc 1 1047 22
 1503 024c FB68     		ldr	r3, [r7, #12]
 1504 024e 0122     		movs	r2, #1
 1505 0250 83F83420 		strb	r2, [r3, #52]
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1506              		.loc 1 1048 24
 1507 0254 FB68     		ldr	r3, [r7, #12]
 1508 0256 0022     		movs	r2, #0
 1509 0258 1A63     		str	r2, [r3, #48]
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 1510              		.loc 1 1049 18
 1511 025a 0123     		movs	r3, #1
 1512 025c 5EE0     		b	.L72
 1513              	.L68:
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get error state */
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 46


 1514              		.loc 1 1055 8
 1515 025e FB68     		ldr	r3, [r7, #12]
 1516 0260 1B68     		ldr	r3, [r3]
 1517 0262 5B6B     		ldr	r3, [r3, #52]
 1518 0264 03F00803 		and	r3, r3, #8
 1519              		.loc 1 1055 7
 1520 0268 002B     		cmp	r3, #0
 1521 026a 12D0     		beq	.L69
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1522              		.loc 1 1058 7
 1523 026c FB68     		ldr	r3, [r7, #12]
 1524 026e 1B68     		ldr	r3, [r3]
 1525 0270 2C4A     		ldr	r2, .L73
 1526 0272 9A63     		str	r2, [r3, #56]
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 1527              		.loc 1 1059 22
 1528 0274 FB68     		ldr	r3, [r7, #12]
 1529 0276 9B6B     		ldr	r3, [r3, #56]
 1530 0278 43F00802 		orr	r2, r3, #8
 1531 027c FB68     		ldr	r3, [r7, #12]
 1532 027e 9A63     		str	r2, [r3, #56]
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1533              		.loc 1 1060 18
 1534 0280 FB68     		ldr	r3, [r7, #12]
 1535 0282 0122     		movs	r2, #1
 1536 0284 83F83420 		strb	r2, [r3, #52]
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1537              		.loc 1 1061 20
 1538 0288 FB68     		ldr	r3, [r7, #12]
 1539 028a 0022     		movs	r2, #0
 1540 028c 1A63     		str	r2, [r3, #48]
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1541              		.loc 1 1062 14
 1542 028e 0123     		movs	r3, #1
 1543 0290 44E0     		b	.L72
 1544              	.L69:
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 1545              		.loc 1 1064 13
 1546 0292 FB68     		ldr	r3, [r7, #12]
 1547 0294 1B68     		ldr	r3, [r3]
 1548 0296 5B6B     		ldr	r3, [r3, #52]
 1549 0298 03F00203 		and	r3, r3, #2
 1550              		.loc 1 1064 12
 1551 029c 002B     		cmp	r3, #0
 1552 029e 12D0     		beq	.L70
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1553              		.loc 1 1067 7
 1554 02a0 FB68     		ldr	r3, [r7, #12]
 1555 02a2 1B68     		ldr	r3, [r3]
 1556 02a4 1F4A     		ldr	r2, .L73
 1557 02a6 9A63     		str	r2, [r3, #56]
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 47


 1558              		.loc 1 1068 22
 1559 02a8 FB68     		ldr	r3, [r7, #12]
 1560 02aa 9B6B     		ldr	r3, [r3, #56]
 1561 02ac 43F00202 		orr	r2, r3, #2
 1562 02b0 FB68     		ldr	r3, [r7, #12]
 1563 02b2 9A63     		str	r2, [r3, #56]
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1564              		.loc 1 1069 18
 1565 02b4 FB68     		ldr	r3, [r7, #12]
 1566 02b6 0122     		movs	r2, #1
 1567 02b8 83F83420 		strb	r2, [r3, #52]
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1568              		.loc 1 1070 20
 1569 02bc FB68     		ldr	r3, [r7, #12]
 1570 02be 0022     		movs	r2, #0
 1571 02c0 1A63     		str	r2, [r3, #48]
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1572              		.loc 1 1071 14
 1573 02c2 0123     		movs	r3, #1
 1574 02c4 2AE0     		b	.L72
 1575              	.L70:
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR))
 1576              		.loc 1 1073 13
 1577 02c6 FB68     		ldr	r3, [r7, #12]
 1578 02c8 1B68     		ldr	r3, [r3]
 1579 02ca 5B6B     		ldr	r3, [r3, #52]
 1580 02cc 03F01003 		and	r3, r3, #16
 1581              		.loc 1 1073 12
 1582 02d0 002B     		cmp	r3, #0
 1583 02d2 12D0     		beq	.L71
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1584              		.loc 1 1076 7
 1585 02d4 FB68     		ldr	r3, [r7, #12]
 1586 02d6 1B68     		ldr	r3, [r3]
 1587 02d8 124A     		ldr	r2, .L73
 1588 02da 9A63     		str	r2, [r3, #56]
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 1589              		.loc 1 1077 22
 1590 02dc FB68     		ldr	r3, [r7, #12]
 1591 02de 9B6B     		ldr	r3, [r3, #56]
 1592 02e0 43F01002 		orr	r2, r3, #16
 1593 02e4 FB68     		ldr	r3, [r7, #12]
 1594 02e6 9A63     		str	r2, [r3, #56]
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1595              		.loc 1 1078 18
 1596 02e8 FB68     		ldr	r3, [r7, #12]
 1597 02ea 0122     		movs	r2, #1
 1598 02ec 83F83420 		strb	r2, [r3, #52]
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1599              		.loc 1 1079 20
 1600 02f0 FB68     		ldr	r3, [r7, #12]
 1601 02f2 0022     		movs	r2, #0
 1602 02f4 1A63     		str	r2, [r3, #48]
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 48


 1603              		.loc 1 1080 14
 1604 02f6 0123     		movs	r3, #1
 1605 02f8 10E0     		b	.L72
 1606              	.L71:
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 1607              		.loc 1 1088 5
 1608 02fa FB68     		ldr	r3, [r7, #12]
 1609 02fc 1B68     		ldr	r3, [r3]
 1610 02fe 0A4A     		ldr	r2, .L73+4
 1611 0300 9A63     		str	r2, [r3, #56]
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 1612              		.loc 1 1090 16
 1613 0302 FB68     		ldr	r3, [r7, #12]
 1614 0304 0122     		movs	r2, #1
 1615 0306 83F83420 		strb	r2, [r3, #52]
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
 1616              		.loc 1 1092 12
 1617 030a 0023     		movs	r3, #0
 1618 030c 06E0     		b	.L72
 1619              	.L56:
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 1620              		.loc 1 1096 20
 1621 030e FB68     		ldr	r3, [r7, #12]
 1622 0310 9B6B     		ldr	r3, [r3, #56]
 1623 0312 43F00052 		orr	r2, r3, #536870912
 1624 0316 FB68     		ldr	r3, [r7, #12]
 1625 0318 9A63     		str	r2, [r3, #56]
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1626              		.loc 1 1097 12
 1627 031a 0123     		movs	r3, #1
 1628              	.L72:
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1629              		.loc 1 1099 1 discriminator 1
 1630 031c 1846     		mov	r0, r3
 1631 031e 4837     		adds	r7, r7, #72
 1632              		.cfi_def_cfa_offset 8
 1633 0320 BD46     		mov	sp, r7
 1634              		.cfi_def_cfa_register 13
 1635              		@ sp needed
 1636 0322 80BD     		pop	{r7, pc}
 1637              	.L74:
 1638              		.align	2
 1639              	.L73:
 1640 0324 FF0FE01F 		.word	534777855
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 49


 1641 0328 3A0F0018 		.word	402657082
 1642              		.cfi_endproc
 1643              	.LFE327:
 1645              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 1646              		.align	1
 1647              		.global	HAL_SD_ReadBlocks_IT
 1648              		.syntax unified
 1649              		.thumb
 1650              		.thumb_func
 1652              	HAL_SD_ReadBlocks_IT:
 1653              	.LFB328:
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed in interrupt mode.
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the received data
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address from where data is to be read
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to read.
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, ui
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 1654              		.loc 1 1115 1
 1655              		.cfi_startproc
 1656              		@ args = 0, pretend = 0, frame = 48
 1657              		@ frame_needed = 1, uses_anonymous_args = 0
 1658 0000 80B5     		push	{r7, lr}
 1659              		.cfi_def_cfa_offset 8
 1660              		.cfi_offset 7, -8
 1661              		.cfi_offset 14, -4
 1662 0002 8CB0     		sub	sp, sp, #48
 1663              		.cfi_def_cfa_offset 56
 1664 0004 00AF     		add	r7, sp, #0
 1665              		.cfi_def_cfa_register 7
 1666 0006 F860     		str	r0, [r7, #12]
 1667 0008 B960     		str	r1, [r7, #8]
 1668 000a 7A60     		str	r2, [r7, #4]
 1669 000c 3B60     		str	r3, [r7]
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1670              		.loc 1 1118 12
 1671 000e 7B68     		ldr	r3, [r7, #4]
 1672 0010 BB62     		str	r3, [r7, #40]
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 1673              		.loc 1 1120 5
 1674 0012 BB68     		ldr	r3, [r7, #8]
 1675 0014 002B     		cmp	r3, #0
 1676 0016 07D1     		bne	.L76
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 50


 1677              		.loc 1 1122 20
 1678 0018 FB68     		ldr	r3, [r7, #12]
 1679 001a 9B6B     		ldr	r3, [r3, #56]
 1680 001c 43F00062 		orr	r2, r3, #134217728
 1681 0020 FB68     		ldr	r3, [r7, #12]
 1682 0022 9A63     		str	r2, [r3, #56]
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1683              		.loc 1 1123 12
 1684 0024 0123     		movs	r3, #1
 1685 0026 86E0     		b	.L84
 1686              	.L76:
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 1687              		.loc 1 1126 9
 1688 0028 FB68     		ldr	r3, [r7, #12]
 1689 002a 93F83430 		ldrb	r3, [r3, #52]
 1690 002e DBB2     		uxtb	r3, r3
 1691              		.loc 1 1126 5
 1692 0030 012B     		cmp	r3, #1
 1693 0032 7FD1     		bne	.L78
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 1694              		.loc 1 1128 20
 1695 0034 FB68     		ldr	r3, [r7, #12]
 1696 0036 0022     		movs	r2, #0
 1697 0038 9A63     		str	r2, [r3, #56]
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 1698              		.loc 1 1130 13
 1699 003a BA6A     		ldr	r2, [r7, #40]
 1700 003c 3B68     		ldr	r3, [r7]
 1701 003e 1A44     		add	r2, r2, r3
 1702              		.loc 1 1130 45
 1703 0040 FB68     		ldr	r3, [r7, #12]
 1704 0042 5B6D     		ldr	r3, [r3, #84]
 1705              		.loc 1 1130 7
 1706 0044 9A42     		cmp	r2, r3
 1707 0046 07D9     		bls	.L79
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 1708              		.loc 1 1132 22
 1709 0048 FB68     		ldr	r3, [r7, #12]
 1710 004a 9B6B     		ldr	r3, [r3, #56]
 1711 004c 43F00072 		orr	r2, r3, #33554432
 1712 0050 FB68     		ldr	r3, [r7, #12]
 1713 0052 9A63     		str	r2, [r3, #56]
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1714              		.loc 1 1133 14
 1715 0054 0123     		movs	r3, #1
 1716 0056 6EE0     		b	.L84
 1717              	.L79:
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 1718              		.loc 1 1136 16
 1719 0058 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 51


 1720 005a 0322     		movs	r2, #3
 1721 005c 83F83420 		strb	r2, [r3, #52]
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 1722              		.loc 1 1139 8
 1723 0060 FB68     		ldr	r3, [r7, #12]
 1724 0062 1B68     		ldr	r3, [r3]
 1725              		.loc 1 1139 26
 1726 0064 0022     		movs	r2, #0
 1727 0066 DA62     		str	r2, [r3, #44]
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
 1728              		.loc 1 1141 21
 1729 0068 FB68     		ldr	r3, [r7, #12]
 1730 006a BA68     		ldr	r2, [r7, #8]
 1731 006c 9A62     		str	r2, [r3, #40]
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 1732              		.loc 1 1142 33
 1733 006e 3B68     		ldr	r3, [r7]
 1734 0070 5A02     		lsls	r2, r3, #9
 1735              		.loc 1 1142 21
 1736 0072 FB68     		ldr	r3, [r7, #12]
 1737 0074 DA62     		str	r2, [r3, #44]
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 1738              		.loc 1 1144 19
 1739 0076 FB68     		ldr	r3, [r7, #12]
 1740 0078 DB6B     		ldr	r3, [r3, #60]
 1741              		.loc 1 1144 7
 1742 007a 012B     		cmp	r3, #1
 1743 007c 02D0     		beq	.L80
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 1744              		.loc 1 1146 11
 1745 007e BB6A     		ldr	r3, [r7, #40]
 1746 0080 5B02     		lsls	r3, r3, #9
 1747 0082 BB62     		str	r3, [r7, #40]
 1748              	.L80:
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1749              		.loc 1 1150 26
 1750 0084 4FF0FF33 		mov	r3, #-1
 1751 0088 3B61     		str	r3, [r7, #16]
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 1752              		.loc 1 1151 38
 1753 008a 3B68     		ldr	r3, [r7]
 1754 008c 5B02     		lsls	r3, r3, #9
 1755              		.loc 1 1151 26
 1756 008e 7B61     		str	r3, [r7, #20]
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1757              		.loc 1 1152 26
 1758 0090 9023     		movs	r3, #144
 1759 0092 BB61     		str	r3, [r7, #24]
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 52


 1760              		.loc 1 1153 26
 1761 0094 0223     		movs	r3, #2
 1762 0096 FB61     		str	r3, [r7, #28]
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1763              		.loc 1 1154 26
 1764 0098 0023     		movs	r3, #0
 1765 009a 3B62     		str	r3, [r7, #32]
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1766              		.loc 1 1156 26
 1767 009c 0023     		movs	r3, #0
 1768 009e 7B62     		str	r3, [r7, #36]
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1769              		.loc 1 1160 11
 1770 00a0 FB68     		ldr	r3, [r7, #12]
 1771 00a2 1B68     		ldr	r3, [r3]
 1772 00a4 07F11002 		add	r2, r7, #16
 1773 00a8 1146     		mov	r1, r2
 1774 00aa 1846     		mov	r0, r3
 1775 00ac FFF7FEFF 		bl	SDMMC_ConfigData
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 1776              		.loc 1 1162 5
 1777 00b0 FB68     		ldr	r3, [r7, #12]
 1778 00b2 1B68     		ldr	r3, [r3]
 1779 00b4 DA68     		ldr	r2, [r3, #12]
 1780 00b6 FB68     		ldr	r3, [r7, #12]
 1781 00b8 1B68     		ldr	r3, [r3]
 1782 00ba 42F04002 		orr	r2, r2, #64
 1783 00be DA60     		str	r2, [r3, #12]
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Read Blocks in IT mode */
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 1784              		.loc 1 1166 7
 1785 00c0 3B68     		ldr	r3, [r7]
 1786 00c2 012B     		cmp	r3, #1
 1787 00c4 0AD9     		bls	.L81
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
 1788              		.loc 1 1168 20
 1789 00c6 FB68     		ldr	r3, [r7, #12]
 1790 00c8 0A22     		movs	r2, #10
 1791 00ca 1A63     		str	r2, [r3, #48]
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Multi Block command */
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 1792              		.loc 1 1171 20
 1793 00cc FB68     		ldr	r3, [r7, #12]
 1794 00ce 1B68     		ldr	r3, [r3]
 1795 00d0 B96A     		ldr	r1, [r7, #40]
 1796 00d2 1846     		mov	r0, r3
 1797 00d4 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1798 00d8 F862     		str	r0, [r7, #44]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 53


 1799 00da 09E0     		b	.L82
 1800              	.L81:
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
 1801              		.loc 1 1175 20
 1802 00dc FB68     		ldr	r3, [r7, #12]
 1803 00de 0922     		movs	r2, #9
 1804 00e0 1A63     		str	r2, [r3, #48]
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Single Block command */
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 1805              		.loc 1 1178 20
 1806 00e2 FB68     		ldr	r3, [r7, #12]
 1807 00e4 1B68     		ldr	r3, [r3]
 1808 00e6 B96A     		ldr	r1, [r7, #40]
 1809 00e8 1846     		mov	r0, r3
 1810 00ea FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1811 00ee F862     		str	r0, [r7, #44]
 1812              	.L82:
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1813              		.loc 1 1180 7
 1814 00f0 FB6A     		ldr	r3, [r7, #44]
 1815 00f2 002B     		cmp	r3, #0
 1816 00f4 12D0     		beq	.L83
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1817              		.loc 1 1183 7
 1818 00f6 FB68     		ldr	r3, [r7, #12]
 1819 00f8 1B68     		ldr	r3, [r3]
 1820 00fa 114A     		ldr	r2, .L85
 1821 00fc 9A63     		str	r2, [r3, #56]
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1822              		.loc 1 1184 22
 1823 00fe FB68     		ldr	r3, [r7, #12]
 1824 0100 9A6B     		ldr	r2, [r3, #56]
 1825 0102 FB6A     		ldr	r3, [r7, #44]
 1826 0104 1A43     		orrs	r2, r2, r3
 1827 0106 FB68     		ldr	r3, [r7, #12]
 1828 0108 9A63     		str	r2, [r3, #56]
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1829              		.loc 1 1185 18
 1830 010a FB68     		ldr	r3, [r7, #12]
 1831 010c 0122     		movs	r2, #1
 1832 010e 83F83420 		strb	r2, [r3, #52]
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1833              		.loc 1 1186 20
 1834 0112 FB68     		ldr	r3, [r7, #12]
 1835 0114 0022     		movs	r2, #0
 1836 0116 1A63     		str	r2, [r3, #48]
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1837              		.loc 1 1187 14
 1838 0118 0123     		movs	r3, #1
 1839 011a 0CE0     		b	.L84
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 54


 1840              	.L83:
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
 1841              		.loc 1 1190 5
 1842 011c FB68     		ldr	r3, [r7, #12]
 1843 011e 1B68     		ldr	r3, [r3]
 1844 0120 DB6B     		ldr	r3, [r3, #60]
 1845 0122 FA68     		ldr	r2, [r7, #12]
 1846 0124 1268     		ldr	r2, [r2]
 1847 0126 43F40143 		orr	r3, r3, #33024
 1848 012a 43F02A03 		orr	r3, r3, #42
 1849 012e D363     		str	r3, [r2, #60]
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
 1850              		.loc 1 1192 12
 1851 0130 0023     		movs	r3, #0
 1852 0132 00E0     		b	.L84
 1853              	.L78:
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
 1854              		.loc 1 1196 12
 1855 0134 0223     		movs	r3, #2
 1856              	.L84:
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1857              		.loc 1 1198 1 discriminator 1
 1858 0136 1846     		mov	r0, r3
 1859 0138 3037     		adds	r7, r7, #48
 1860              		.cfi_def_cfa_offset 8
 1861 013a BD46     		mov	sp, r7
 1862              		.cfi_def_cfa_register 13
 1863              		@ sp needed
 1864 013c 80BD     		pop	{r7, pc}
 1865              	.L86:
 1866 013e 00BF     		.align	2
 1867              	.L85:
 1868 0140 FF0FE01F 		.word	534777855
 1869              		.cfi_endproc
 1870              	.LFE328:
 1872              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 1873              		.align	1
 1874              		.global	HAL_SD_WriteBlocks_IT
 1875              		.syntax unified
 1876              		.thumb
 1877              		.thumb_func
 1879              	HAL_SD_WriteBlocks_IT:
 1880              	.LFB329:
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed in interrupt mode.
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 55


1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the data to transmit
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address where data will be written
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to write
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 1881              		.loc 1 1214 1
 1882              		.cfi_startproc
 1883              		@ args = 0, pretend = 0, frame = 48
 1884              		@ frame_needed = 1, uses_anonymous_args = 0
 1885 0000 80B5     		push	{r7, lr}
 1886              		.cfi_def_cfa_offset 8
 1887              		.cfi_offset 7, -8
 1888              		.cfi_offset 14, -4
 1889 0002 8CB0     		sub	sp, sp, #48
 1890              		.cfi_def_cfa_offset 56
 1891 0004 00AF     		add	r7, sp, #0
 1892              		.cfi_def_cfa_register 7
 1893 0006 F860     		str	r0, [r7, #12]
 1894 0008 B960     		str	r1, [r7, #8]
 1895 000a 7A60     		str	r2, [r7, #4]
 1896 000c 3B60     		str	r3, [r7]
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1897              		.loc 1 1217 12
 1898 000e 7B68     		ldr	r3, [r7, #4]
 1899 0010 BB62     		str	r3, [r7, #40]
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 1900              		.loc 1 1219 5
 1901 0012 BB68     		ldr	r3, [r7, #8]
 1902 0014 002B     		cmp	r3, #0
 1903 0016 07D1     		bne	.L88
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 1904              		.loc 1 1221 20
 1905 0018 FB68     		ldr	r3, [r7, #12]
 1906 001a 9B6B     		ldr	r3, [r3, #56]
 1907 001c 43F00062 		orr	r2, r3, #134217728
 1908 0020 FB68     		ldr	r3, [r7, #12]
 1909 0022 9A63     		str	r2, [r3, #56]
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1910              		.loc 1 1222 12
 1911 0024 0123     		movs	r3, #1
 1912 0026 86E0     		b	.L96
 1913              	.L88:
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 1914              		.loc 1 1225 9
 1915 0028 FB68     		ldr	r3, [r7, #12]
 1916 002a 93F83430 		ldrb	r3, [r3, #52]
 1917 002e DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 56


 1918              		.loc 1 1225 5
 1919 0030 012B     		cmp	r3, #1
 1920 0032 7FD1     		bne	.L90
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 1921              		.loc 1 1227 20
 1922 0034 FB68     		ldr	r3, [r7, #12]
 1923 0036 0022     		movs	r2, #0
 1924 0038 9A63     		str	r2, [r3, #56]
1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 1925              		.loc 1 1229 13
 1926 003a BA6A     		ldr	r2, [r7, #40]
 1927 003c 3B68     		ldr	r3, [r7]
 1928 003e 1A44     		add	r2, r2, r3
 1929              		.loc 1 1229 45
 1930 0040 FB68     		ldr	r3, [r7, #12]
 1931 0042 5B6D     		ldr	r3, [r3, #84]
 1932              		.loc 1 1229 7
 1933 0044 9A42     		cmp	r2, r3
 1934 0046 07D9     		bls	.L91
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 1935              		.loc 1 1231 22
 1936 0048 FB68     		ldr	r3, [r7, #12]
 1937 004a 9B6B     		ldr	r3, [r3, #56]
 1938 004c 43F00072 		orr	r2, r3, #33554432
 1939 0050 FB68     		ldr	r3, [r7, #12]
 1940 0052 9A63     		str	r2, [r3, #56]
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1941              		.loc 1 1232 14
 1942 0054 0123     		movs	r3, #1
 1943 0056 6EE0     		b	.L96
 1944              	.L91:
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 1945              		.loc 1 1235 16
 1946 0058 FB68     		ldr	r3, [r7, #12]
 1947 005a 0322     		movs	r2, #3
 1948 005c 83F83420 		strb	r2, [r3, #52]
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 1949              		.loc 1 1238 8
 1950 0060 FB68     		ldr	r3, [r7, #12]
 1951 0062 1B68     		ldr	r3, [r3]
 1952              		.loc 1 1238 26
 1953 0064 0022     		movs	r2, #0
 1954 0066 DA62     		str	r2, [r3, #44]
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
 1955              		.loc 1 1240 21
 1956 0068 FB68     		ldr	r3, [r7, #12]
 1957 006a BA68     		ldr	r2, [r7, #8]
 1958 006c 1A62     		str	r2, [r3, #32]
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 57


 1959              		.loc 1 1241 33
 1960 006e 3B68     		ldr	r3, [r7]
 1961 0070 5A02     		lsls	r2, r3, #9
 1962              		.loc 1 1241 21
 1963 0072 FB68     		ldr	r3, [r7, #12]
 1964 0074 5A62     		str	r2, [r3, #36]
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 1965              		.loc 1 1243 19
 1966 0076 FB68     		ldr	r3, [r7, #12]
 1967 0078 DB6B     		ldr	r3, [r3, #60]
 1968              		.loc 1 1243 7
 1969 007a 012B     		cmp	r3, #1
 1970 007c 02D0     		beq	.L92
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 1971              		.loc 1 1245 11
 1972 007e BB6A     		ldr	r3, [r7, #40]
 1973 0080 5B02     		lsls	r3, r3, #9
 1974 0082 BB62     		str	r3, [r7, #40]
 1975              	.L92:
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1976              		.loc 1 1250 26
 1977 0084 4FF0FF33 		mov	r3, #-1
 1978 0088 3B61     		str	r3, [r7, #16]
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 1979              		.loc 1 1251 38
 1980 008a 3B68     		ldr	r3, [r7]
 1981 008c 5B02     		lsls	r3, r3, #9
 1982              		.loc 1 1251 26
 1983 008e 7B61     		str	r3, [r7, #20]
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1984              		.loc 1 1252 26
 1985 0090 9023     		movs	r3, #144
 1986 0092 BB61     		str	r3, [r7, #24]
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 1987              		.loc 1 1253 26
 1988 0094 0023     		movs	r3, #0
 1989 0096 FB61     		str	r3, [r7, #28]
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1990              		.loc 1 1254 26
 1991 0098 0023     		movs	r3, #0
 1992 009a 3B62     		str	r3, [r7, #32]
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1993              		.loc 1 1255 26
 1994 009c 0023     		movs	r3, #0
 1995 009e 7B62     		str	r3, [r7, #36]
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1996              		.loc 1 1256 11
 1997 00a0 FB68     		ldr	r3, [r7, #12]
 1998 00a2 1B68     		ldr	r3, [r3]
 1999 00a4 07F11002 		add	r2, r7, #16
 2000 00a8 1146     		mov	r1, r2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 58


 2001 00aa 1846     		mov	r0, r3
 2002 00ac FFF7FEFF 		bl	SDMMC_ConfigData
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 2003              		.loc 1 1258 5
 2004 00b0 FB68     		ldr	r3, [r7, #12]
 2005 00b2 1B68     		ldr	r3, [r3]
 2006 00b4 DA68     		ldr	r2, [r3, #12]
 2007 00b6 FB68     		ldr	r3, [r7, #12]
 2008 00b8 1B68     		ldr	r3, [r3]
 2009 00ba 42F04002 		orr	r2, r2, #64
 2010 00be DA60     		str	r2, [r3, #12]
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 2011              		.loc 1 1262 7
 2012 00c0 3B68     		ldr	r3, [r7]
 2013 00c2 012B     		cmp	r3, #1
 2014 00c4 0AD9     		bls	.L93
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK| SD_CONTEXT_IT);
 2015              		.loc 1 1264 20
 2016 00c6 FB68     		ldr	r3, [r7, #12]
 2017 00c8 2822     		movs	r2, #40
 2018 00ca 1A63     		str	r2, [r3, #48]
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Multi Block command */
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 2019              		.loc 1 1267 20
 2020 00cc FB68     		ldr	r3, [r7, #12]
 2021 00ce 1B68     		ldr	r3, [r3]
 2022 00d0 B96A     		ldr	r1, [r7, #40]
 2023 00d2 1846     		mov	r0, r3
 2024 00d4 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2025 00d8 F862     		str	r0, [r7, #44]
 2026 00da 09E0     		b	.L94
 2027              	.L93:
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
 2028              		.loc 1 1271 20
 2029 00dc FB68     		ldr	r3, [r7, #12]
 2030 00de 1822     		movs	r2, #24
 2031 00e0 1A63     		str	r2, [r3, #48]
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Single Block command */
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 2032              		.loc 1 1274 20
 2033 00e2 FB68     		ldr	r3, [r7, #12]
 2034 00e4 1B68     		ldr	r3, [r3]
 2035 00e6 B96A     		ldr	r1, [r7, #40]
 2036 00e8 1846     		mov	r0, r3
 2037 00ea FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2038 00ee F862     		str	r0, [r7, #44]
 2039              	.L94:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 59


1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2040              		.loc 1 1276 7
 2041 00f0 FB6A     		ldr	r3, [r7, #44]
 2042 00f2 002B     		cmp	r3, #0
 2043 00f4 12D0     		beq	.L95
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2044              		.loc 1 1279 7
 2045 00f6 FB68     		ldr	r3, [r7, #12]
 2046 00f8 1B68     		ldr	r3, [r3]
 2047 00fa 114A     		ldr	r2, .L97
 2048 00fc 9A63     		str	r2, [r3, #56]
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2049              		.loc 1 1280 22
 2050 00fe FB68     		ldr	r3, [r7, #12]
 2051 0100 9A6B     		ldr	r2, [r3, #56]
 2052 0102 FB6A     		ldr	r3, [r7, #44]
 2053 0104 1A43     		orrs	r2, r2, r3
 2054 0106 FB68     		ldr	r3, [r7, #12]
 2055 0108 9A63     		str	r2, [r3, #56]
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2056              		.loc 1 1281 18
 2057 010a FB68     		ldr	r3, [r7, #12]
 2058 010c 0122     		movs	r2, #1
 2059 010e 83F83420 		strb	r2, [r3, #52]
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2060              		.loc 1 1282 20
 2061 0112 FB68     		ldr	r3, [r7, #12]
 2062 0114 0022     		movs	r2, #0
 2063 0116 1A63     		str	r2, [r3, #48]
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2064              		.loc 1 1283 14
 2065 0118 0123     		movs	r3, #1
 2066 011a 0CE0     		b	.L96
 2067              	.L95:
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable transfer interrupts */
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
 2068              		.loc 1 1298 5
 2069 011c FB68     		ldr	r3, [r7, #12]
 2070 011e 1B68     		ldr	r3, [r3]
 2071 0120 DB6B     		ldr	r3, [r3, #60]
 2072 0122 FA68     		ldr	r2, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 60


 2073 0124 1268     		ldr	r2, [r2]
 2074 0126 43F48243 		orr	r3, r3, #16640
 2075 012a 43F01A03 		orr	r3, r3, #26
 2076 012e D363     		str	r3, [r2, #60]
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
 2077              		.loc 1 1300 12
 2078 0130 0023     		movs	r3, #0
 2079 0132 00E0     		b	.L96
 2080              	.L90:
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
 2081              		.loc 1 1304 12
 2082 0134 0223     		movs	r3, #2
 2083              	.L96:
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 2084              		.loc 1 1306 1 discriminator 1
 2085 0136 1846     		mov	r0, r3
 2086 0138 3037     		adds	r7, r7, #48
 2087              		.cfi_def_cfa_offset 8
 2088 013a BD46     		mov	sp, r7
 2089              		.cfi_def_cfa_register 13
 2090              		@ sp needed
 2091 013c 80BD     		pop	{r7, pc}
 2092              	.L98:
 2093 013e 00BF     		.align	2
 2094              	.L97:
 2095 0140 FF0FE01F 		.word	534777855
 2096              		.cfi_endproc
 2097              	.LFE329:
 2099              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 2100              		.align	1
 2101              		.global	HAL_SD_ReadBlocks_DMA
 2102              		.syntax unified
 2103              		.thumb
 2104              		.thumb_func
 2106              	HAL_SD_ReadBlocks_DMA:
 2107              	.LFB330:
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed by DMA mode.
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer SD handle
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the received data
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address from where data is to be read
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to read.
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 61


 2108              		.loc 1 1322 1
 2109              		.cfi_startproc
 2110              		@ args = 0, pretend = 0, frame = 48
 2111              		@ frame_needed = 1, uses_anonymous_args = 0
 2112 0000 80B5     		push	{r7, lr}
 2113              		.cfi_def_cfa_offset 8
 2114              		.cfi_offset 7, -8
 2115              		.cfi_offset 14, -4
 2116 0002 8CB0     		sub	sp, sp, #48
 2117              		.cfi_def_cfa_offset 56
 2118 0004 00AF     		add	r7, sp, #0
 2119              		.cfi_def_cfa_register 7
 2120 0006 F860     		str	r0, [r7, #12]
 2121 0008 B960     		str	r1, [r7, #8]
 2122 000a 7A60     		str	r2, [r7, #4]
 2123 000c 3B60     		str	r3, [r7]
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2124              		.loc 1 1325 12
 2125 000e 7B68     		ldr	r3, [r7, #4]
 2126 0010 BB62     		str	r3, [r7, #40]
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 2127              		.loc 1 1327 5
 2128 0012 BB68     		ldr	r3, [r7, #8]
 2129 0014 002B     		cmp	r3, #0
 2130 0016 07D1     		bne	.L100
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 2131              		.loc 1 1329 20
 2132 0018 FB68     		ldr	r3, [r7, #12]
 2133 001a 9B6B     		ldr	r3, [r3, #56]
 2134 001c 43F00062 		orr	r2, r3, #134217728
 2135 0020 FB68     		ldr	r3, [r7, #12]
 2136 0022 9A63     		str	r2, [r3, #56]
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2137              		.loc 1 1330 12
 2138 0024 0123     		movs	r3, #1
 2139 0026 8DE0     		b	.L108
 2140              	.L100:
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 2141              		.loc 1 1333 9
 2142 0028 FB68     		ldr	r3, [r7, #12]
 2143 002a 93F83430 		ldrb	r3, [r3, #52]
 2144 002e DBB2     		uxtb	r3, r3
 2145              		.loc 1 1333 5
 2146 0030 012B     		cmp	r3, #1
 2147 0032 40F08680 		bne	.L102
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 2148              		.loc 1 1335 20
 2149 0036 FB68     		ldr	r3, [r7, #12]
 2150 0038 0022     		movs	r2, #0
 2151 003a 9A63     		str	r2, [r3, #56]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 62


1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 2152              		.loc 1 1337 13
 2153 003c BA6A     		ldr	r2, [r7, #40]
 2154 003e 3B68     		ldr	r3, [r7]
 2155 0040 1A44     		add	r2, r2, r3
 2156              		.loc 1 1337 45
 2157 0042 FB68     		ldr	r3, [r7, #12]
 2158 0044 5B6D     		ldr	r3, [r3, #84]
 2159              		.loc 1 1337 7
 2160 0046 9A42     		cmp	r2, r3
 2161 0048 07D9     		bls	.L103
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 2162              		.loc 1 1339 22
 2163 004a FB68     		ldr	r3, [r7, #12]
 2164 004c 9B6B     		ldr	r3, [r3, #56]
 2165 004e 43F00072 		orr	r2, r3, #33554432
 2166 0052 FB68     		ldr	r3, [r7, #12]
 2167 0054 9A63     		str	r2, [r3, #56]
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2168              		.loc 1 1340 14
 2169 0056 0123     		movs	r3, #1
 2170 0058 74E0     		b	.L108
 2171              	.L103:
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 2172              		.loc 1 1343 16
 2173 005a FB68     		ldr	r3, [r7, #12]
 2174 005c 0322     		movs	r2, #3
 2175 005e 83F83420 		strb	r2, [r3, #52]
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 2176              		.loc 1 1346 8
 2177 0062 FB68     		ldr	r3, [r7, #12]
 2178 0064 1B68     		ldr	r3, [r3]
 2179              		.loc 1 1346 26
 2180 0066 0022     		movs	r2, #0
 2181 0068 DA62     		str	r2, [r3, #44]
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmarx->XferCpltCallback = SD_DMAReceiveCplt;
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA error callback */
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmarx->XferErrorCallback = SD_DMAError;
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA Abort callback */
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmarx->XferAbortCallback = NULL;
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable the DMA Channel */
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pData, (uint32_t)(BL
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 63


1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable SD DMA transfer */
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_DMA_ENABLE(hsd);
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->pRxBuffPtr = pData;
 2182              		.loc 1 1371 23
 2183 006a FB68     		ldr	r3, [r7, #12]
 2184 006c BA68     		ldr	r2, [r7, #8]
 2185 006e 9A62     		str	r2, [r3, #40]
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2186              		.loc 1 1372 35
 2187 0070 3B68     		ldr	r3, [r7]
 2188 0072 5A02     		lsls	r2, r3, #9
 2189              		.loc 1 1372 23
 2190 0074 FB68     		ldr	r3, [r7, #12]
 2191 0076 DA62     		str	r2, [r3, #44]
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 2192              		.loc 1 1375 21
 2193 0078 FB68     		ldr	r3, [r7, #12]
 2194 007a DB6B     		ldr	r3, [r3, #60]
 2195              		.loc 1 1375 9
 2196 007c 012B     		cmp	r3, #1
 2197 007e 02D0     		beq	.L104
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         add *= 512U;
 2198              		.loc 1 1377 13
 2199 0080 BB6A     		ldr	r3, [r7, #40]
 2200 0082 5B02     		lsls	r3, r3, #9
 2201 0084 BB62     		str	r3, [r7, #40]
 2202              	.L104:
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2203              		.loc 1 1381 28
 2204 0086 4FF0FF33 		mov	r3, #-1
 2205 008a 3B61     		str	r3, [r7, #16]
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2206              		.loc 1 1382 40
 2207 008c 3B68     		ldr	r3, [r7]
 2208 008e 5B02     		lsls	r3, r3, #9
 2209              		.loc 1 1382 28
 2210 0090 7B61     		str	r3, [r7, #20]
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2211              		.loc 1 1383 28
 2212 0092 9023     		movs	r3, #144
 2213 0094 BB61     		str	r3, [r7, #24]
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2214              		.loc 1 1384 28
 2215 0096 0223     		movs	r3, #2
 2216 0098 FB61     		str	r3, [r7, #28]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 64


1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2217              		.loc 1 1385 28
 2218 009a 0023     		movs	r3, #0
 2219 009c 3B62     		str	r3, [r7, #32]
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_DISABLE;
 2220              		.loc 1 1387 28
 2221 009e 0023     		movs	r3, #0
 2222 00a0 7B62     		str	r3, [r7, #36]
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_ConfigData(hsd->Instance, &config);
 2223              		.loc 1 1391 13
 2224 00a2 FB68     		ldr	r3, [r7, #12]
 2225 00a4 1B68     		ldr	r3, [r3]
 2226 00a6 07F11002 		add	r2, r7, #16
 2227 00aa 1146     		mov	r1, r2
 2228 00ac 1846     		mov	r0, r3
 2229 00ae FFF7FEFF 		bl	SDMMC_ConfigData
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 2230              		.loc 1 1395 7
 2231 00b2 FB68     		ldr	r3, [r7, #12]
 2232 00b4 1B68     		ldr	r3, [r3]
 2233 00b6 DA68     		ldr	r2, [r3, #12]
 2234 00b8 FB68     		ldr	r3, [r7, #12]
 2235 00ba 1B68     		ldr	r3, [r3]
 2236 00bc 42F04002 		orr	r2, r2, #64
 2237 00c0 DA60     		str	r2, [r3, #12]
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 2238              		.loc 1 1396 10
 2239 00c2 FB68     		ldr	r3, [r7, #12]
 2240 00c4 1B68     		ldr	r3, [r3]
 2241              		.loc 1 1396 34
 2242 00c6 BA68     		ldr	r2, [r7, #8]
 2243              		.loc 1 1396 32
 2244 00c8 9A65     		str	r2, [r3, #88]
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 2245              		.loc 1 1397 10
 2246 00ca FB68     		ldr	r3, [r7, #12]
 2247 00cc 1B68     		ldr	r3, [r3]
 2248              		.loc 1 1397 32
 2249 00ce 0122     		movs	r2, #1
 2250 00d0 1A65     		str	r2, [r3, #80]
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Blocks in DMA mode */
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(NumberOfBlocks > 1U)
 2251              		.loc 1 1401 9
 2252 00d2 3B68     		ldr	r3, [r7]
 2253 00d4 012B     		cmp	r3, #1
 2254 00d6 0AD9     		bls	.L105
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 65


 2255              		.loc 1 1403 22
 2256 00d8 FB68     		ldr	r3, [r7, #12]
 2257 00da 8222     		movs	r2, #130
 2258 00dc 1A63     		str	r2, [r3, #48]
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Read Multi Block command */
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 2259              		.loc 1 1406 22
 2260 00de FB68     		ldr	r3, [r7, #12]
 2261 00e0 1B68     		ldr	r3, [r3]
 2262 00e2 B96A     		ldr	r1, [r7, #40]
 2263 00e4 1846     		mov	r0, r3
 2264 00e6 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2265 00ea F862     		str	r0, [r7, #44]
 2266 00ec 09E0     		b	.L106
 2267              	.L105:
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
 2268              		.loc 1 1410 22
 2269 00ee FB68     		ldr	r3, [r7, #12]
 2270 00f0 8122     		movs	r2, #129
 2271 00f2 1A63     		str	r2, [r3, #48]
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Read Single Block command */
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 2272              		.loc 1 1413 22
 2273 00f4 FB68     		ldr	r3, [r7, #12]
 2274 00f6 1B68     		ldr	r3, [r3]
 2275 00f8 B96A     		ldr	r1, [r7, #40]
 2276 00fa 1846     		mov	r0, r3
 2277 00fc FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2278 0100 F862     		str	r0, [r7, #44]
 2279              	.L106:
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 2280              		.loc 1 1415 9
 2281 0102 FB6A     		ldr	r3, [r7, #44]
 2282 0104 002B     		cmp	r3, #0
 2283 0106 12D0     		beq	.L107
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2284              		.loc 1 1418 9
 2285 0108 FB68     		ldr	r3, [r7, #12]
 2286 010a 1B68     		ldr	r3, [r3]
 2287 010c 0F4A     		ldr	r2, .L109
 2288 010e 9A63     		str	r2, [r3, #56]
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2289              		.loc 1 1419 24
 2290 0110 FB68     		ldr	r3, [r7, #12]
 2291 0112 9A6B     		ldr	r2, [r3, #56]
 2292 0114 FB6A     		ldr	r3, [r7, #44]
 2293 0116 1A43     		orrs	r2, r2, r3
 2294 0118 FB68     		ldr	r3, [r7, #12]
 2295 011a 9A63     		str	r2, [r3, #56]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 66


1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2296              		.loc 1 1420 20
 2297 011c FB68     		ldr	r3, [r7, #12]
 2298 011e 0122     		movs	r2, #1
 2299 0120 83F83420 		strb	r2, [r3, #52]
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2300              		.loc 1 1421 22
 2301 0124 FB68     		ldr	r3, [r7, #12]
 2302 0126 0022     		movs	r2, #0
 2303 0128 1A63     		str	r2, [r3, #48]
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 2304              		.loc 1 1422 16
 2305 012a 0123     		movs	r3, #1
 2306 012c 0AE0     		b	.L108
 2307              	.L107:
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable transfer interrupts */
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_
 2308              		.loc 1 1426 7
 2309 012e FB68     		ldr	r3, [r7, #12]
 2310 0130 1B68     		ldr	r3, [r3]
 2311 0132 DA6B     		ldr	r2, [r3, #60]
 2312 0134 FB68     		ldr	r3, [r7, #12]
 2313 0136 1B68     		ldr	r3, [r3]
 2314 0138 42F49572 		orr	r2, r2, #298
 2315 013c DA63     		str	r2, [r3, #60]
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_OK;
 2316              		.loc 1 1428 14
 2317 013e 0023     		movs	r3, #0
 2318 0140 00E0     		b	.L108
 2319              	.L102:
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
 2320              		.loc 1 1435 12
 2321 0142 0223     		movs	r3, #2
 2322              	.L108:
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 2323              		.loc 1 1437 1 discriminator 1
 2324 0144 1846     		mov	r0, r3
 2325 0146 3037     		adds	r7, r7, #48
 2326              		.cfi_def_cfa_offset 8
 2327 0148 BD46     		mov	sp, r7
 2328              		.cfi_def_cfa_register 13
 2329              		@ sp needed
 2330 014a 80BD     		pop	{r7, pc}
 2331              	.L110:
 2332              		.align	2
 2333              	.L109:
 2334 014c FF0FE01F 		.word	534777855
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 67


 2335              		.cfi_endproc
 2336              	.LFE330:
 2338              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 2339              		.align	1
 2340              		.global	HAL_SD_WriteBlocks_DMA
 2341              		.syntax unified
 2342              		.thumb
 2343              		.thumb_func
 2345              	HAL_SD_WriteBlocks_DMA:
 2346              	.LFB331:
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed by DMA mode.
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the data to transmit
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address where data will be written
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to write
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, 
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 2347              		.loc 1 1453 1
 2348              		.cfi_startproc
 2349              		@ args = 0, pretend = 0, frame = 48
 2350              		@ frame_needed = 1, uses_anonymous_args = 0
 2351 0000 80B5     		push	{r7, lr}
 2352              		.cfi_def_cfa_offset 8
 2353              		.cfi_offset 7, -8
 2354              		.cfi_offset 14, -4
 2355 0002 8CB0     		sub	sp, sp, #48
 2356              		.cfi_def_cfa_offset 56
 2357 0004 00AF     		add	r7, sp, #0
 2358              		.cfi_def_cfa_register 7
 2359 0006 F860     		str	r0, [r7, #12]
 2360 0008 B960     		str	r1, [r7, #8]
 2361 000a 7A60     		str	r2, [r7, #4]
 2362 000c 3B60     		str	r3, [r7]
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2363              		.loc 1 1456 12
 2364 000e 7B68     		ldr	r3, [r7, #4]
 2365 0010 BB62     		str	r3, [r7, #40]
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 2366              		.loc 1 1458 5
 2367 0012 BB68     		ldr	r3, [r7, #8]
 2368 0014 002B     		cmp	r3, #0
 2369 0016 07D1     		bne	.L112
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 2370              		.loc 1 1460 20
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 68


 2371 0018 FB68     		ldr	r3, [r7, #12]
 2372 001a 9B6B     		ldr	r3, [r3, #56]
 2373 001c 43F00062 		orr	r2, r3, #134217728
 2374 0020 FB68     		ldr	r3, [r7, #12]
 2375 0022 9A63     		str	r2, [r3, #56]
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2376              		.loc 1 1461 12
 2377 0024 0123     		movs	r3, #1
 2378 0026 8DE0     		b	.L120
 2379              	.L112:
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 2380              		.loc 1 1464 9
 2381 0028 FB68     		ldr	r3, [r7, #12]
 2382 002a 93F83430 		ldrb	r3, [r3, #52]
 2383 002e DBB2     		uxtb	r3, r3
 2384              		.loc 1 1464 5
 2385 0030 012B     		cmp	r3, #1
 2386 0032 40F08680 		bne	.L114
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 2387              		.loc 1 1466 20
 2388 0036 FB68     		ldr	r3, [r7, #12]
 2389 0038 0022     		movs	r2, #0
 2390 003a 9A63     		str	r2, [r3, #56]
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 2391              		.loc 1 1468 13
 2392 003c BA6A     		ldr	r2, [r7, #40]
 2393 003e 3B68     		ldr	r3, [r7]
 2394 0040 1A44     		add	r2, r2, r3
 2395              		.loc 1 1468 45
 2396 0042 FB68     		ldr	r3, [r7, #12]
 2397 0044 5B6D     		ldr	r3, [r3, #84]
 2398              		.loc 1 1468 7
 2399 0046 9A42     		cmp	r2, r3
 2400 0048 07D9     		bls	.L115
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 2401              		.loc 1 1470 22
 2402 004a FB68     		ldr	r3, [r7, #12]
 2403 004c 9B6B     		ldr	r3, [r3, #56]
 2404 004e 43F00072 		orr	r2, r3, #33554432
 2405 0052 FB68     		ldr	r3, [r7, #12]
 2406 0054 9A63     		str	r2, [r3, #56]
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2407              		.loc 1 1471 14
 2408 0056 0123     		movs	r3, #1
 2409 0058 74E0     		b	.L120
 2410              	.L115:
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 2411              		.loc 1 1474 16
 2412 005a FB68     		ldr	r3, [r7, #12]
 2413 005c 0322     		movs	r2, #3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 69


 2414 005e 83F83420 		strb	r2, [r3, #52]
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 2415              		.loc 1 1477 8
 2416 0062 FB68     		ldr	r3, [r7, #12]
 2417 0064 1B68     		ldr	r3, [r3]
 2418              		.loc 1 1477 26
 2419 0066 0022     		movs	r2, #0
 2420 0068 DA62     		str	r2, [r3, #44]
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
 2421              		.loc 1 1480 21
 2422 006a FB68     		ldr	r3, [r7, #12]
 2423 006c BA68     		ldr	r2, [r7, #8]
 2424 006e 1A62     		str	r2, [r3, #32]
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2425              		.loc 1 1481 33
 2426 0070 3B68     		ldr	r3, [r7]
 2427 0072 5A02     		lsls	r2, r3, #9
 2428              		.loc 1 1481 21
 2429 0074 FB68     		ldr	r3, [r7, #12]
 2430 0076 5A62     		str	r2, [r3, #36]
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmatx->XferCpltCallback = SD_DMATransmitCplt;
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA error callback */
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmatx->XferErrorCallback = SD_DMAError;
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA Abort callback */
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmatx->XferAbortCallback = NULL;
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 2431              		.loc 1 1493 19
 2432 0078 FB68     		ldr	r3, [r7, #12]
 2433 007a DB6B     		ldr	r3, [r3, #60]
 2434              		.loc 1 1493 7
 2435 007c 012B     		cmp	r3, #1
 2436 007e 02D0     		beq	.L116
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 2437              		.loc 1 1495 11
 2438 0080 BB6A     		ldr	r3, [r7, #40]
 2439 0082 5B02     		lsls	r3, r3, #9
 2440 0084 BB62     		str	r3, [r7, #40]
 2441              	.L116:
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2442              		.loc 1 1500 26
 2443 0086 4FF0FF33 		mov	r3, #-1
 2444 008a 3B61     		str	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 70


1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2445              		.loc 1 1501 38
 2446 008c 3B68     		ldr	r3, [r7]
 2447 008e 5B02     		lsls	r3, r3, #9
 2448              		.loc 1 1501 26
 2449 0090 7B61     		str	r3, [r7, #20]
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2450              		.loc 1 1502 26
 2451 0092 9023     		movs	r3, #144
 2452 0094 BB61     		str	r3, [r7, #24]
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2453              		.loc 1 1503 26
 2454 0096 0023     		movs	r3, #0
 2455 0098 FB61     		str	r3, [r7, #28]
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2456              		.loc 1 1504 26
 2457 009a 0023     		movs	r3, #0
 2458 009c 3B62     		str	r3, [r7, #32]
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2459              		.loc 1 1505 26
 2460 009e 0023     		movs	r3, #0
 2461 00a0 7B62     		str	r3, [r7, #36]
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2462              		.loc 1 1506 11
 2463 00a2 FB68     		ldr	r3, [r7, #12]
 2464 00a4 1B68     		ldr	r3, [r3]
 2465 00a6 07F11002 		add	r2, r7, #16
 2466 00aa 1146     		mov	r1, r2
 2467 00ac 1846     		mov	r0, r3
 2468 00ae FFF7FEFF 		bl	SDMMC_ConfigData
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 2469              		.loc 1 1508 5
 2470 00b2 FB68     		ldr	r3, [r7, #12]
 2471 00b4 1B68     		ldr	r3, [r3]
 2472 00b6 DA68     		ldr	r2, [r3, #12]
 2473 00b8 FB68     		ldr	r3, [r7, #12]
 2474 00ba 1B68     		ldr	r3, [r3]
 2475 00bc 42F04002 		orr	r2, r2, #64
 2476 00c0 DA60     		str	r2, [r3, #12]
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 2477              		.loc 1 1510 8
 2478 00c2 FB68     		ldr	r3, [r7, #12]
 2479 00c4 1B68     		ldr	r3, [r3]
 2480              		.loc 1 1510 32
 2481 00c6 BA68     		ldr	r2, [r7, #8]
 2482              		.loc 1 1510 30
 2483 00c8 9A65     		str	r2, [r3, #88]
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 2484              		.loc 1 1511 8
 2485 00ca FB68     		ldr	r3, [r7, #12]
 2486 00cc 1B68     		ldr	r3, [r3]
 2487              		.loc 1 1511 30
 2488 00ce 0122     		movs	r2, #1
 2489 00d0 1A65     		str	r2, [r3, #80]
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 71


1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 2490              		.loc 1 1515 7
 2491 00d2 3B68     		ldr	r3, [r7]
 2492 00d4 012B     		cmp	r3, #1
 2493 00d6 0AD9     		bls	.L117
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
 2494              		.loc 1 1517 20
 2495 00d8 FB68     		ldr	r3, [r7, #12]
 2496 00da A022     		movs	r2, #160
 2497 00dc 1A63     		str	r2, [r3, #48]
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Multi Block command */
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 2498              		.loc 1 1520 20
 2499 00de FB68     		ldr	r3, [r7, #12]
 2500 00e0 1B68     		ldr	r3, [r3]
 2501 00e2 B96A     		ldr	r1, [r7, #40]
 2502 00e4 1846     		mov	r0, r3
 2503 00e6 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2504 00ea F862     		str	r0, [r7, #44]
 2505 00ec 09E0     		b	.L118
 2506              	.L117:
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
 2507              		.loc 1 1524 20
 2508 00ee FB68     		ldr	r3, [r7, #12]
 2509 00f0 9022     		movs	r2, #144
 2510 00f2 1A63     		str	r2, [r3, #48]
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Single Block command */
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 2511              		.loc 1 1527 20
 2512 00f4 FB68     		ldr	r3, [r7, #12]
 2513 00f6 1B68     		ldr	r3, [r3]
 2514 00f8 B96A     		ldr	r1, [r7, #40]
 2515 00fa 1846     		mov	r0, r3
 2516 00fc FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2517 0100 F862     		str	r0, [r7, #44]
 2518              	.L118:
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2519              		.loc 1 1529 7
 2520 0102 FB6A     		ldr	r3, [r7, #44]
 2521 0104 002B     		cmp	r3, #0
 2522 0106 12D0     		beq	.L119
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2523              		.loc 1 1532 7
 2524 0108 FB68     		ldr	r3, [r7, #12]
 2525 010a 1B68     		ldr	r3, [r3]
 2526 010c 0F4A     		ldr	r2, .L121
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 72


 2527 010e 9A63     		str	r2, [r3, #56]
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2528              		.loc 1 1533 22
 2529 0110 FB68     		ldr	r3, [r7, #12]
 2530 0112 9A6B     		ldr	r2, [r3, #56]
 2531 0114 FB6A     		ldr	r3, [r7, #44]
 2532 0116 1A43     		orrs	r2, r2, r3
 2533 0118 FB68     		ldr	r3, [r7, #12]
 2534 011a 9A63     		str	r2, [r3, #56]
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2535              		.loc 1 1534 18
 2536 011c FB68     		ldr	r3, [r7, #12]
 2537 011e 0122     		movs	r2, #1
 2538 0120 83F83420 		strb	r2, [r3, #52]
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2539              		.loc 1 1535 20
 2540 0124 FB68     		ldr	r3, [r7, #12]
 2541 0126 0022     		movs	r2, #0
 2542 0128 1A63     		str	r2, [r3, #48]
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2543              		.loc 1 1536 14
 2544 012a 0123     		movs	r3, #1
 2545 012c 0AE0     		b	.L120
 2546              	.L119:
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable SDMMC DMA transfer */
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DMA_ENABLE(hsd);
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable the DMA Channel */
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pData, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(BL
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_ConfigData(hsd->Instance, &config);
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable SD Error interrupts */
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR));
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable transfer interrupts */
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT
 2547              		.loc 1 1567 7
 2548 012e FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 73


 2549 0130 1B68     		ldr	r3, [r3]
 2550 0132 DA6B     		ldr	r2, [r3, #60]
 2551 0134 FB68     		ldr	r3, [r7, #12]
 2552 0136 1B68     		ldr	r3, [r3]
 2553 0138 42F48D72 		orr	r2, r2, #282
 2554 013c DA63     		str	r2, [r3, #60]
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_OK;
 2555              		.loc 1 1570 14
 2556 013e 0023     		movs	r3, #0
 2557 0140 00E0     		b	.L120
 2558              	.L114:
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
 2559              		.loc 1 1577 12
 2560 0142 0223     		movs	r3, #2
 2561              	.L120:
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 2562              		.loc 1 1579 1 discriminator 1
 2563 0144 1846     		mov	r0, r3
 2564 0146 3037     		adds	r7, r7, #48
 2565              		.cfi_def_cfa_offset 8
 2566 0148 BD46     		mov	sp, r7
 2567              		.cfi_def_cfa_register 13
 2568              		@ sp needed
 2569 014a 80BD     		pop	{r7, pc}
 2570              	.L122:
 2571              		.align	2
 2572              	.L121:
 2573 014c FF0FE01F 		.word	534777855
 2574              		.cfi_endproc
 2575              	.LFE331:
 2577              		.section	.text.HAL_SD_Erase,"ax",%progbits
 2578              		.align	1
 2579              		.global	HAL_SD_Erase
 2580              		.syntax unified
 2581              		.thumb
 2582              		.thumb_func
 2584              	HAL_SD_Erase:
 2585              	.LFB332:
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockStartAdd Start Block address
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockEndAdd End Block address
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 74


1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 2586              		.loc 1 1591 1
 2587              		.cfi_startproc
 2588              		@ args = 0, pretend = 0, frame = 32
 2589              		@ frame_needed = 1, uses_anonymous_args = 0
 2590 0000 80B5     		push	{r7, lr}
 2591              		.cfi_def_cfa_offset 8
 2592              		.cfi_offset 7, -8
 2593              		.cfi_offset 14, -4
 2594 0002 88B0     		sub	sp, sp, #32
 2595              		.cfi_def_cfa_offset 40
 2596 0004 00AF     		add	r7, sp, #0
 2597              		.cfi_def_cfa_register 7
 2598 0006 F860     		str	r0, [r7, #12]
 2599 0008 B960     		str	r1, [r7, #8]
 2600 000a 7A60     		str	r2, [r7, #4]
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 2601              		.loc 1 1593 12
 2602 000c BB68     		ldr	r3, [r7, #8]
 2603 000e FB61     		str	r3, [r7, #28]
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 2604              		.loc 1 1594 12
 2605 0010 7B68     		ldr	r3, [r7, #4]
 2606 0012 BB61     		str	r3, [r7, #24]
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 2607              		.loc 1 1596 9
 2608 0014 FB68     		ldr	r3, [r7, #12]
 2609 0016 93F83430 		ldrb	r3, [r3, #52]
 2610 001a DBB2     		uxtb	r3, r3
 2611              		.loc 1 1596 5
 2612 001c 012B     		cmp	r3, #1
 2613 001e 40F0B480 		bne	.L124
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 2614              		.loc 1 1598 20
 2615 0022 FB68     		ldr	r3, [r7, #12]
 2616 0024 0022     		movs	r2, #0
 2617 0026 9A63     		str	r2, [r3, #56]
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(end_add < start_add)
 2618              		.loc 1 1600 7
 2619 0028 BA69     		ldr	r2, [r7, #24]
 2620 002a FB69     		ldr	r3, [r7, #28]
 2621 002c 9A42     		cmp	r2, r3
 2622 002e 07D2     		bcs	.L125
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 2623              		.loc 1 1602 22
 2624 0030 FB68     		ldr	r3, [r7, #12]
 2625 0032 9B6B     		ldr	r3, [r3, #56]
 2626 0034 43F00062 		orr	r2, r3, #134217728
 2627 0038 FB68     		ldr	r3, [r7, #12]
 2628 003a 9A63     		str	r2, [r3, #56]
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 75


 2629              		.loc 1 1603 14
 2630 003c 0123     		movs	r3, #1
 2631 003e A5E0     		b	.L126
 2632              	.L125:
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(end_add > (hsd->SdCard.LogBlockNbr))
 2633              		.loc 1 1606 30
 2634 0040 FB68     		ldr	r3, [r7, #12]
 2635 0042 5B6D     		ldr	r3, [r3, #84]
 2636              		.loc 1 1606 7
 2637 0044 BA69     		ldr	r2, [r7, #24]
 2638 0046 9A42     		cmp	r2, r3
 2639 0048 07D9     		bls	.L127
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 2640              		.loc 1 1608 22
 2641 004a FB68     		ldr	r3, [r7, #12]
 2642 004c 9B6B     		ldr	r3, [r3, #56]
 2643 004e 43F00072 		orr	r2, r3, #33554432
 2644 0052 FB68     		ldr	r3, [r7, #12]
 2645 0054 9A63     		str	r2, [r3, #56]
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2646              		.loc 1 1609 14
 2647 0056 0123     		movs	r3, #1
 2648 0058 98E0     		b	.L126
 2649              	.L127:
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 2650              		.loc 1 1612 16
 2651 005a FB68     		ldr	r3, [r7, #12]
 2652 005c 0322     		movs	r2, #3
 2653 005e 83F83420 		strb	r2, [r3, #52]
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(((hsd->SdCard.Class) & SDMMC_CCCC_ERASE) == 0U)
 2654              		.loc 1 1615 21
 2655 0062 FB68     		ldr	r3, [r7, #12]
 2656 0064 5B6C     		ldr	r3, [r3, #68]
 2657              		.loc 1 1615 29
 2658 0066 03F02003 		and	r3, r3, #32
 2659              		.loc 1 1615 7
 2660 006a 002B     		cmp	r3, #0
 2661 006c 0FD1     		bne	.L128
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2662              		.loc 1 1618 7
 2663 006e FB68     		ldr	r3, [r7, #12]
 2664 0070 1B68     		ldr	r3, [r3]
 2665 0072 484A     		ldr	r2, .L134
 2666 0074 9A63     		str	r2, [r3, #56]
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 2667              		.loc 1 1619 22
 2668 0076 FB68     		ldr	r3, [r7, #12]
 2669 0078 9B6B     		ldr	r3, [r3, #56]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 76


 2670 007a 43F08062 		orr	r2, r3, #67108864
 2671 007e FB68     		ldr	r3, [r7, #12]
 2672 0080 9A63     		str	r2, [r3, #56]
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2673              		.loc 1 1620 18
 2674 0082 FB68     		ldr	r3, [r7, #12]
 2675 0084 0122     		movs	r2, #1
 2676 0086 83F83420 		strb	r2, [r3, #52]
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2677              		.loc 1 1621 14
 2678 008a 0123     		movs	r3, #1
 2679 008c 7EE0     		b	.L126
 2680              	.L128:
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 2681              		.loc 1 1624 9
 2682 008e FB68     		ldr	r3, [r7, #12]
 2683 0090 1B68     		ldr	r3, [r3]
 2684 0092 0021     		movs	r1, #0
 2685 0094 1846     		mov	r0, r3
 2686 0096 FFF7FEFF 		bl	SDMMC_GetResponse
 2687 009a 0346     		mov	r3, r0
 2688              		.loc 1 1624 55
 2689 009c 03F00073 		and	r3, r3, #33554432
 2690              		.loc 1 1624 7
 2691 00a0 B3F1007F 		cmp	r3, #33554432
 2692 00a4 0FD1     		bne	.L129
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2693              		.loc 1 1627 7
 2694 00a6 FB68     		ldr	r3, [r7, #12]
 2695 00a8 1B68     		ldr	r3, [r3]
 2696 00aa 3A4A     		ldr	r2, .L134
 2697 00ac 9A63     		str	r2, [r3, #56]
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 2698              		.loc 1 1628 22
 2699 00ae FB68     		ldr	r3, [r7, #12]
 2700 00b0 9B6B     		ldr	r3, [r3, #56]
 2701 00b2 43F40062 		orr	r2, r3, #2048
 2702 00b6 FB68     		ldr	r3, [r7, #12]
 2703 00b8 9A63     		str	r2, [r3, #56]
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2704              		.loc 1 1629 18
 2705 00ba FB68     		ldr	r3, [r7, #12]
 2706 00bc 0122     		movs	r2, #1
 2707 00be 83F83420 		strb	r2, [r3, #52]
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2708              		.loc 1 1630 14
 2709 00c2 0123     		movs	r3, #1
 2710 00c4 62E0     		b	.L126
 2711              	.L129:
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 77


 2712              		.loc 1 1634 19
 2713 00c6 FB68     		ldr	r3, [r7, #12]
 2714 00c8 DB6B     		ldr	r3, [r3, #60]
 2715              		.loc 1 1634 7
 2716 00ca 012B     		cmp	r3, #1
 2717 00cc 05D0     		beq	.L130
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       start_add *= 512U;
 2718              		.loc 1 1636 17
 2719 00ce FB69     		ldr	r3, [r7, #28]
 2720 00d0 5B02     		lsls	r3, r3, #9
 2721 00d2 FB61     		str	r3, [r7, #28]
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       end_add   *= 512U;
 2722              		.loc 1 1637 17
 2723 00d4 BB69     		ldr	r3, [r7, #24]
 2724 00d6 5B02     		lsls	r3, r3, #9
 2725 00d8 BB61     		str	r3, [r7, #24]
 2726              	.L130:
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SECURED)
 2727              		.loc 1 1641 19
 2728 00da FB68     		ldr	r3, [r7, #12]
 2729 00dc DB6B     		ldr	r3, [r3, #60]
 2730              		.loc 1 1641 7
 2731 00de 032B     		cmp	r3, #3
 2732 00e0 33D0     		beq	.L131
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
 2733              		.loc 1 1644 20
 2734 00e2 FB68     		ldr	r3, [r7, #12]
 2735 00e4 1B68     		ldr	r3, [r3]
 2736 00e6 F969     		ldr	r1, [r7, #28]
 2737 00e8 1846     		mov	r0, r3
 2738 00ea FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 2739 00ee 7861     		str	r0, [r7, #20]
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 2740              		.loc 1 1645 9
 2741 00f0 7B69     		ldr	r3, [r7, #20]
 2742 00f2 002B     		cmp	r3, #0
 2743 00f4 0FD0     		beq	.L132
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2744              		.loc 1 1648 9
 2745 00f6 FB68     		ldr	r3, [r7, #12]
 2746 00f8 1B68     		ldr	r3, [r3]
 2747 00fa 264A     		ldr	r2, .L134
 2748 00fc 9A63     		str	r2, [r3, #56]
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2749              		.loc 1 1649 24
 2750 00fe FB68     		ldr	r3, [r7, #12]
 2751 0100 9A6B     		ldr	r2, [r3, #56]
 2752 0102 7B69     		ldr	r3, [r7, #20]
 2753 0104 1A43     		orrs	r2, r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 78


 2754 0106 FB68     		ldr	r3, [r7, #12]
 2755 0108 9A63     		str	r2, [r3, #56]
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2756              		.loc 1 1650 20
 2757 010a FB68     		ldr	r3, [r7, #12]
 2758 010c 0122     		movs	r2, #1
 2759 010e 83F83420 		strb	r2, [r3, #52]
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 2760              		.loc 1 1651 16
 2761 0112 0123     		movs	r3, #1
 2762 0114 3AE0     		b	.L126
 2763              	.L132:
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
 2764              		.loc 1 1655 20
 2765 0116 FB68     		ldr	r3, [r7, #12]
 2766 0118 1B68     		ldr	r3, [r3]
 2767 011a B969     		ldr	r1, [r7, #24]
 2768 011c 1846     		mov	r0, r3
 2769 011e FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 2770 0122 7861     		str	r0, [r7, #20]
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 2771              		.loc 1 1656 9
 2772 0124 7B69     		ldr	r3, [r7, #20]
 2773 0126 002B     		cmp	r3, #0
 2774 0128 0FD0     		beq	.L131
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2775              		.loc 1 1659 9
 2776 012a FB68     		ldr	r3, [r7, #12]
 2777 012c 1B68     		ldr	r3, [r3]
 2778 012e 194A     		ldr	r2, .L134
 2779 0130 9A63     		str	r2, [r3, #56]
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2780              		.loc 1 1660 24
 2781 0132 FB68     		ldr	r3, [r7, #12]
 2782 0134 9A6B     		ldr	r2, [r3, #56]
 2783 0136 7B69     		ldr	r3, [r7, #20]
 2784 0138 1A43     		orrs	r2, r2, r3
 2785 013a FB68     		ldr	r3, [r7, #12]
 2786 013c 9A63     		str	r2, [r3, #56]
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2787              		.loc 1 1661 20
 2788 013e FB68     		ldr	r3, [r7, #12]
 2789 0140 0122     		movs	r2, #1
 2790 0142 83F83420 		strb	r2, [r3, #52]
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 2791              		.loc 1 1662 16
 2792 0146 0123     		movs	r3, #1
 2793 0148 20E0     		b	.L126
 2794              	.L131:
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 79


1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD38 ERASE */
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance, 0UL);
 2795              		.loc 1 1667 18
 2796 014a FB68     		ldr	r3, [r7, #12]
 2797 014c 1B68     		ldr	r3, [r3]
 2798 014e 0021     		movs	r1, #0
 2799 0150 1846     		mov	r0, r3
 2800 0152 FFF7FEFF 		bl	SDMMC_CmdErase
 2801 0156 7861     		str	r0, [r7, #20]
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2802              		.loc 1 1668 7
 2803 0158 7B69     		ldr	r3, [r7, #20]
 2804 015a 002B     		cmp	r3, #0
 2805 015c 0FD0     		beq	.L133
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2806              		.loc 1 1671 7
 2807 015e FB68     		ldr	r3, [r7, #12]
 2808 0160 1B68     		ldr	r3, [r3]
 2809 0162 0C4A     		ldr	r2, .L134
 2810 0164 9A63     		str	r2, [r3, #56]
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2811              		.loc 1 1672 22
 2812 0166 FB68     		ldr	r3, [r7, #12]
 2813 0168 9A6B     		ldr	r2, [r3, #56]
 2814 016a 7B69     		ldr	r3, [r7, #20]
 2815 016c 1A43     		orrs	r2, r2, r3
 2816 016e FB68     		ldr	r3, [r7, #12]
 2817 0170 9A63     		str	r2, [r3, #56]
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2818              		.loc 1 1673 18
 2819 0172 FB68     		ldr	r3, [r7, #12]
 2820 0174 0122     		movs	r2, #1
 2821 0176 83F83420 		strb	r2, [r3, #52]
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2822              		.loc 1 1674 14
 2823 017a 0123     		movs	r3, #1
 2824 017c 06E0     		b	.L126
 2825              	.L133:
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 2826              		.loc 1 1677 16
 2827 017e FB68     		ldr	r3, [r7, #12]
 2828 0180 0122     		movs	r2, #1
 2829 0182 83F83420 		strb	r2, [r3, #52]
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
 2830              		.loc 1 1679 12
 2831 0186 0023     		movs	r3, #0
 2832 0188 00E0     		b	.L126
 2833              	.L124:
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 80


 2834              		.loc 1 1683 12
 2835 018a 0223     		movs	r3, #2
 2836              	.L126:
1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 2837              		.loc 1 1685 1
 2838 018c 1846     		mov	r0, r3
 2839 018e 2037     		adds	r7, r7, #32
 2840              		.cfi_def_cfa_offset 8
 2841 0190 BD46     		mov	sp, r7
 2842              		.cfi_def_cfa_register 13
 2843              		@ sp needed
 2844 0192 80BD     		pop	{r7, pc}
 2845              	.L135:
 2846              		.align	2
 2847              	.L134:
 2848 0194 FF0FE01F 		.word	534777855
 2849              		.cfi_endproc
 2850              	.LFE332:
 2852              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 2853              		.align	1
 2854              		.global	HAL_SD_IRQHandler
 2855              		.syntax unified
 2856              		.thumb
 2857              		.thumb_func
 2859              	HAL_SD_IRQHandler:
 2860              	.LFB333:
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 2861              		.loc 1 1693 1
 2862              		.cfi_startproc
 2863              		@ args = 0, pretend = 0, frame = 16
 2864              		@ frame_needed = 1, uses_anonymous_args = 0
 2865 0000 80B5     		push	{r7, lr}
 2866              		.cfi_def_cfa_offset 8
 2867              		.cfi_offset 7, -8
 2868              		.cfi_offset 14, -4
 2869 0002 84B0     		sub	sp, sp, #16
 2870              		.cfi_def_cfa_offset 24
 2871 0004 00AF     		add	r7, sp, #0
 2872              		.cfi_def_cfa_register 7
 2873 0006 7860     		str	r0, [r7, #4]
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
 2874              		.loc 1 1695 12
 2875 0008 7B68     		ldr	r3, [r7, #4]
 2876 000a 1B6B     		ldr	r3, [r3, #48]
 2877 000c FB60     		str	r3, [r7, #12]
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check for SDMMC interrupt flags */
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 81


 2878              		.loc 1 1698 7
 2879 000e 7B68     		ldr	r3, [r7, #4]
 2880 0010 1B68     		ldr	r3, [r3]
 2881 0012 5B6B     		ldr	r3, [r3, #52]
 2882 0014 03F40043 		and	r3, r3, #32768
 2883              		.loc 1 1698 5
 2884 0018 002B     		cmp	r3, #0
 2885 001a 08D0     		beq	.L137
 2886              		.loc 1 1698 74 discriminator 1
 2887 001c FB68     		ldr	r3, [r7, #12]
 2888 001e 03F00803 		and	r3, r3, #8
 2889              		.loc 1 1698 61 discriminator 1
 2890 0022 002B     		cmp	r3, #0
 2891 0024 03D0     		beq	.L137
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SD_Read_IT(hsd);
 2892              		.loc 1 1700 5
 2893 0026 7868     		ldr	r0, [r7, #4]
 2894 0028 FFF7FEFF 		bl	SD_Read_IT
 2895 002c 99E1     		b	.L138
 2896              	.L137:
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) != RESET)
 2897              		.loc 1 1703 11
 2898 002e 7B68     		ldr	r3, [r7, #4]
 2899 0030 1B68     		ldr	r3, [r3]
 2900 0032 5B6B     		ldr	r3, [r3, #52]
 2901 0034 03F48073 		and	r3, r3, #256
 2902              		.loc 1 1703 10
 2903 0038 002B     		cmp	r3, #0
 2904 003a 00F0AE80 		beq	.L139
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DATAEND);
 2905              		.loc 1 1705 5
 2906 003e 7B68     		ldr	r3, [r7, #4]
 2907 0040 1B68     		ldr	r3, [r3]
 2908 0042 4FF48072 		mov	r2, #256
 2909 0046 9A63     		str	r2, [r3, #56]
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT |\
 2910              		.loc 1 1707 5
 2911 0048 7B68     		ldr	r3, [r7, #4]
 2912 004a 1B68     		ldr	r3, [r3]
 2913 004c DB6B     		ldr	r3, [r3, #60]
 2914 004e 7A68     		ldr	r2, [r7, #4]
 2915 0050 1268     		ldr	r2, [r2]
 2916 0052 23F44143 		bic	r3, r3, #49408
 2917 0056 23F03A03 		bic	r3, r3, #58
 2918 005a D363     		str	r3, [r2, #60]
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE |\
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_RXFIFOHF);
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
 2919              		.loc 1 1712 5
 2920 005c 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 82


 2921 005e 1B68     		ldr	r3, [r3]
 2922 0060 DA6B     		ldr	r2, [r3, #60]
 2923 0062 7B68     		ldr	r3, [r7, #4]
 2924 0064 1B68     		ldr	r3, [r3]
 2925 0066 22F08052 		bic	r2, r2, #268435456
 2926 006a DA63     		str	r2, [r3, #60]
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
 2927              		.loc 1 1713 5
 2928 006c 7B68     		ldr	r3, [r7, #4]
 2929 006e 1B68     		ldr	r3, [r3]
 2930 0070 DA68     		ldr	r2, [r3, #12]
 2931 0072 7B68     		ldr	r3, [r7, #4]
 2932 0074 1B68     		ldr	r3, [r3]
 2933 0076 22F04002 		bic	r2, r2, #64
 2934 007a DA60     		str	r2, [r3, #12]
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL &= ~(SDMMC_DCTRL_DTEN);
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
 2935              		.loc 1 1718 17
 2936 007c FB68     		ldr	r3, [r7, #12]
 2937 007e 03F00803 		and	r3, r3, #8
 2938              		.loc 1 1718 7
 2939 0082 002B     		cmp	r3, #0
 2940 0084 38D0     		beq	.L140
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 2941              		.loc 1 1720 20
 2942 0086 FB68     		ldr	r3, [r7, #12]
 2943 0088 03F00203 		and	r3, r3, #2
 2944              		.loc 1 1720 9
 2945 008c 002B     		cmp	r3, #0
 2946 008e 04D1     		bne	.L141
 2947              		.loc 1 1720 74 discriminator 1
 2948 0090 FB68     		ldr	r3, [r7, #12]
 2949 0092 03F02003 		and	r3, r3, #32
 2950              		.loc 1 1720 61 discriminator 1
 2951 0096 002B     		cmp	r3, #0
 2952 0098 11D0     		beq	.L142
 2953              	.L141:
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 2954              		.loc 1 1722 22
 2955 009a 7B68     		ldr	r3, [r7, #4]
 2956 009c 1B68     		ldr	r3, [r3]
 2957 009e 1846     		mov	r0, r3
 2958 00a0 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2959 00a4 B860     		str	r0, [r7, #8]
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2960              		.loc 1 1723 11
 2961 00a6 BB68     		ldr	r3, [r7, #8]
 2962 00a8 002B     		cmp	r3, #0
 2963 00aa 08D0     		beq	.L142
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2964              		.loc 1 1725 26
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 83


 2965 00ac 7B68     		ldr	r3, [r7, #4]
 2966 00ae 9A6B     		ldr	r2, [r3, #56]
 2967 00b0 BB68     		ldr	r3, [r7, #8]
 2968 00b2 1A43     		orrs	r2, r2, r3
 2969 00b4 7B68     		ldr	r3, [r7, #4]
 2970 00b6 9A63     		str	r2, [r3, #56]
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
 2971              		.loc 1 1729 11
 2972 00b8 7868     		ldr	r0, [r7, #4]
 2973 00ba FFF7FEFF 		bl	HAL_SD_ErrorCallback
 2974              	.L142:
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 2975              		.loc 1 1735 7
 2976 00be 7B68     		ldr	r3, [r7, #4]
 2977 00c0 1B68     		ldr	r3, [r3]
 2978 00c2 904A     		ldr	r2, .L162
 2979 00c4 9A63     		str	r2, [r3, #56]
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2980              		.loc 1 1737 18
 2981 00c6 7B68     		ldr	r3, [r7, #4]
 2982 00c8 0122     		movs	r2, #1
 2983 00ca 83F83420 		strb	r2, [r3, #52]
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2984              		.loc 1 1738 20
 2985 00ce 7B68     		ldr	r3, [r7, #4]
 2986 00d0 0022     		movs	r2, #0
 2987 00d2 1A63     		str	r2, [r3, #48]
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 2988              		.loc 1 1739 20
 2989 00d4 FB68     		ldr	r3, [r7, #12]
 2990 00d6 03F00103 		and	r3, r3, #1
 2991              		.loc 1 1739 9
 2992 00da 002B     		cmp	r3, #0
 2993 00dc 04D1     		bne	.L143
 2994              		.loc 1 1739 72 discriminator 1
 2995 00de FB68     		ldr	r3, [r7, #12]
 2996 00e0 03F00203 		and	r3, r3, #2
 2997              		.loc 1 1739 59 discriminator 1
 2998 00e4 002B     		cmp	r3, #0
 2999 00e6 03D0     		beq	.L144
 3000              	.L143:
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
 3001              		.loc 1 1744 9
 3002 00e8 7868     		ldr	r0, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 84


 3003 00ea FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 3004 00ee 38E1     		b	.L138
 3005              	.L144:
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
 3006              		.loc 1 1752 9
 3007 00f0 7868     		ldr	r0, [r7, #4]
 3008 00f2 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->DLEN = 0;
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 85


1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) == 0U) && ((context & SD_CONTEXT_READ_MULTIPLE_B
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Disable the DMA transfer for transmit request by setting the DMAEN bit
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         in the SD DCTRL register */
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 0
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SD_Write_IT(hsd);
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR | S
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set Error code */
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DCRCFAIL) != RESET)
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DTIMEOUT) != RESET)
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_RXOVERR) != RESET)
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_TXUNDERR) != RESET)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 86


1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear All flags */
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable all interrupts */
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Disable Internal DMA */
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Set the SD state to ready to be able to start again the process */
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCallback(hsd);
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_ErrorCallback(hsd);
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Abort the SD DMA channel */
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Set the DMA Tx abort callback */
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 87


1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_DMATxAbort(hsd->hdmatx);
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTI
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Set the DMA Rx abort callback */
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_DMARxAbort(hsd->hdmarx);
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_NONE;
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->AbortCpltCallback(hsd);
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_AbortCallback(hsd);
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_IDMABTC) != RESET)
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_IDMABTC);
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback(hsd);
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuffer1CpltCallback(hsd);
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback(hsd);
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuffer1CpltCallback(hsd);
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 88


1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else /* SD_DMA_BUFFER1 */
1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback(hsd);
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuffer0CpltCallback(hsd);
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback(hsd);
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuffer0CpltCallback(hsd);
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Nothing to do */
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3009              		.loc 1 1994 1
 3010 00f6 34E1     		b	.L161
 3011              	.L140:
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3012              		.loc 1 1756 22
 3013 00f8 FB68     		ldr	r3, [r7, #12]
 3014 00fa 03F08003 		and	r3, r3, #128
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3015              		.loc 1 1756 12
 3016 00fe 002B     		cmp	r3, #0
 3017 0100 00F02F81 		beq	.L161
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 3018              		.loc 1 1759 10
 3019 0104 7B68     		ldr	r3, [r7, #4]
 3020 0106 1B68     		ldr	r3, [r3]
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 3021              		.loc 1 1759 27
 3022 0108 0022     		movs	r2, #0
 3023 010a 9A62     		str	r2, [r3, #40]
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 3024              		.loc 1 1760 10
 3025 010c 7B68     		ldr	r3, [r7, #4]
 3026 010e 1B68     		ldr	r3, [r3]
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 3027              		.loc 1 1760 28
 3028 0110 0022     		movs	r2, #0
 3029 0112 DA62     		str	r2, [r3, #44]
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3030              		.loc 1 1761 10
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 89


 3031 0114 7B68     		ldr	r3, [r7, #4]
 3032 0116 1B68     		ldr	r3, [r3]
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3033              		.loc 1 1761 31
 3034 0118 0022     		movs	r2, #0
 3035 011a 1A65     		str	r2, [r3, #80]
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3036              		.loc 1 1764 20
 3037 011c FB68     		ldr	r3, [r7, #12]
 3038 011e 03F00203 		and	r3, r3, #2
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3039              		.loc 1 1764 9
 3040 0122 002B     		cmp	r3, #0
 3041 0124 04D1     		bne	.L146
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3042              		.loc 1 1764 74 discriminator 1
 3043 0126 FB68     		ldr	r3, [r7, #12]
 3044 0128 03F02003 		and	r3, r3, #32
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3045              		.loc 1 1764 61 discriminator 1
 3046 012c 002B     		cmp	r3, #0
 3047 012e 11D0     		beq	.L147
 3048              	.L146:
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 3049              		.loc 1 1766 22
 3050 0130 7B68     		ldr	r3, [r7, #4]
 3051 0132 1B68     		ldr	r3, [r3]
 3052 0134 1846     		mov	r0, r3
 3053 0136 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3054 013a B860     		str	r0, [r7, #8]
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 3055              		.loc 1 1767 11
 3056 013c BB68     		ldr	r3, [r7, #8]
 3057 013e 002B     		cmp	r3, #0
 3058 0140 08D0     		beq	.L147
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 3059              		.loc 1 1769 26
 3060 0142 7B68     		ldr	r3, [r7, #4]
 3061 0144 9A6B     		ldr	r2, [r3, #56]
 3062 0146 BB68     		ldr	r3, [r7, #8]
 3063 0148 1A43     		orrs	r2, r2, r3
 3064 014a 7B68     		ldr	r3, [r7, #4]
 3065 014c 9A63     		str	r2, [r3, #56]
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3066              		.loc 1 1773 11
 3067 014e 7868     		ldr	r0, [r7, #4]
 3068 0150 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3069              	.L147:
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3070              		.loc 1 1778 18
 3071 0154 7B68     		ldr	r3, [r7, #4]
 3072 0156 0122     		movs	r2, #1
 3073 0158 83F83420 		strb	r2, [r3, #52]
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
 3074              		.loc 1 1779 20
 3075 015c 7B68     		ldr	r3, [r7, #4]
 3076 015e 0022     		movs	r2, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 90


 3077 0160 1A63     		str	r2, [r3, #48]
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3078              		.loc 1 1780 20
 3079 0162 FB68     		ldr	r3, [r7, #12]
 3080 0164 03F01003 		and	r3, r3, #16
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3081              		.loc 1 1780 9
 3082 0168 002B     		cmp	r3, #0
 3083 016a 04D1     		bne	.L148
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3084              		.loc 1 1780 73 discriminator 1
 3085 016c FB68     		ldr	r3, [r7, #12]
 3086 016e 03F02003 		and	r3, r3, #32
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3087              		.loc 1 1780 60 discriminator 1
 3088 0172 002B     		cmp	r3, #0
 3089 0174 02D0     		beq	.L149
 3090              	.L148:
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3091              		.loc 1 1785 9
 3092 0176 7868     		ldr	r0, [r7, #4]
 3093 0178 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 3094              	.L149:
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3095              		.loc 1 1788 20
 3096 017c FB68     		ldr	r3, [r7, #12]
 3097 017e 03F00103 		and	r3, r3, #1
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3098              		.loc 1 1788 9
 3099 0182 002B     		cmp	r3, #0
 3100 0184 05D1     		bne	.L150
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3101              		.loc 1 1788 72 discriminator 1
 3102 0186 FB68     		ldr	r3, [r7, #12]
 3103 0188 03F00203 		and	r3, r3, #2
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3104              		.loc 1 1788 59 discriminator 1
 3105 018c 002B     		cmp	r3, #0
 3106 018e 00F0E880 		beq	.L161
 3107              	.L150:
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3108              		.loc 1 1793 9
 3109 0192 7868     		ldr	r0, [r7, #4]
 3110 0194 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 3111              		.loc 1 1994 1
 3112 0198 E3E0     		b	.L161
 3113              	.L139:
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3114              		.loc 1 1832 12
 3115 019a 7B68     		ldr	r3, [r7, #4]
 3116 019c 1B68     		ldr	r3, [r3]
 3117 019e 5B6B     		ldr	r3, [r3, #52]
 3118 01a0 03F48043 		and	r3, r3, #16384
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3119              		.loc 1 1832 10
 3120 01a4 002B     		cmp	r3, #0
 3121 01a6 08D0     		beq	.L151
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 91


1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3122              		.loc 1 1832 79 discriminator 1
 3123 01a8 FB68     		ldr	r3, [r7, #12]
 3124 01aa 03F00803 		and	r3, r3, #8
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3125              		.loc 1 1832 66 discriminator 1
 3126 01ae 002B     		cmp	r3, #0
 3127 01b0 03D0     		beq	.L151
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3128              		.loc 1 1834 5
 3129 01b2 7868     		ldr	r0, [r7, #4]
 3130 01b4 FFF7FEFF 		bl	SD_Write_IT
 3131 01b8 D3E0     		b	.L138
 3132              	.L151:
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3133              		.loc 1 1837 11
 3134 01ba 7B68     		ldr	r3, [r7, #4]
 3135 01bc 1B68     		ldr	r3, [r3]
 3136 01be 5B6B     		ldr	r3, [r3, #52]
 3137 01c0 03F03A03 		and	r3, r3, #58
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3138              		.loc 1 1837 10
 3139 01c4 002B     		cmp	r3, #0
 3140 01c6 00F09F80 		beq	.L152
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3141              		.loc 1 1840 8
 3142 01ca 7B68     		ldr	r3, [r7, #4]
 3143 01cc 1B68     		ldr	r3, [r3]
 3144 01ce 5B6B     		ldr	r3, [r3, #52]
 3145 01d0 03F00203 		and	r3, r3, #2
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3146              		.loc 1 1840 7
 3147 01d4 002B     		cmp	r3, #0
 3148 01d6 05D0     		beq	.L153
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3149              		.loc 1 1842 22
 3150 01d8 7B68     		ldr	r3, [r7, #4]
 3151 01da 9B6B     		ldr	r3, [r3, #56]
 3152 01dc 43F00202 		orr	r2, r3, #2
 3153 01e0 7B68     		ldr	r3, [r7, #4]
 3154 01e2 9A63     		str	r2, [r3, #56]
 3155              	.L153:
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3156              		.loc 1 1844 8
 3157 01e4 7B68     		ldr	r3, [r7, #4]
 3158 01e6 1B68     		ldr	r3, [r3]
 3159 01e8 5B6B     		ldr	r3, [r3, #52]
 3160 01ea 03F00803 		and	r3, r3, #8
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3161              		.loc 1 1844 7
 3162 01ee 002B     		cmp	r3, #0
 3163 01f0 05D0     		beq	.L154
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3164              		.loc 1 1846 22
 3165 01f2 7B68     		ldr	r3, [r7, #4]
 3166 01f4 9B6B     		ldr	r3, [r3, #56]
 3167 01f6 43F00802 		orr	r2, r3, #8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 92


 3168 01fa 7B68     		ldr	r3, [r7, #4]
 3169 01fc 9A63     		str	r2, [r3, #56]
 3170              	.L154:
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3171              		.loc 1 1848 8
 3172 01fe 7B68     		ldr	r3, [r7, #4]
 3173 0200 1B68     		ldr	r3, [r3]
 3174 0202 5B6B     		ldr	r3, [r3, #52]
 3175 0204 03F02003 		and	r3, r3, #32
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3176              		.loc 1 1848 7
 3177 0208 002B     		cmp	r3, #0
 3178 020a 05D0     		beq	.L155
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3179              		.loc 1 1850 22
 3180 020c 7B68     		ldr	r3, [r7, #4]
 3181 020e 9B6B     		ldr	r3, [r3, #56]
 3182 0210 43F02002 		orr	r2, r3, #32
 3183 0214 7B68     		ldr	r3, [r7, #4]
 3184 0216 9A63     		str	r2, [r3, #56]
 3185              	.L155:
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3186              		.loc 1 1852 8
 3187 0218 7B68     		ldr	r3, [r7, #4]
 3188 021a 1B68     		ldr	r3, [r3]
 3189 021c 5B6B     		ldr	r3, [r3, #52]
 3190 021e 03F01003 		and	r3, r3, #16
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3191              		.loc 1 1852 7
 3192 0222 002B     		cmp	r3, #0
 3193 0224 05D0     		beq	.L156
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3194              		.loc 1 1854 22
 3195 0226 7B68     		ldr	r3, [r7, #4]
 3196 0228 9B6B     		ldr	r3, [r3, #56]
 3197 022a 43F01002 		orr	r2, r3, #16
 3198 022e 7B68     		ldr	r3, [r7, #4]
 3199 0230 9A63     		str	r2, [r3, #56]
 3200              	.L156:
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3201              		.loc 1 1858 5
 3202 0232 7B68     		ldr	r3, [r7, #4]
 3203 0234 1B68     		ldr	r3, [r3]
 3204 0236 334A     		ldr	r2, .L162
 3205 0238 9A63     		str	r2, [r3, #56]
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
 3206              		.loc 1 1861 5
 3207 023a 7B68     		ldr	r3, [r7, #4]
 3208 023c 1B68     		ldr	r3, [r3]
 3209 023e DA6B     		ldr	r2, [r3, #60]
 3210 0240 7B68     		ldr	r3, [r7, #4]
 3211 0242 1B68     		ldr	r3, [r3]
 3212 0244 22F49D72 		bic	r2, r2, #314
 3213 0248 DA63     		str	r2, [r3, #60]
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
 3214              		.loc 1 1865 5
 3215 024a 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 93


 3216 024c 1B68     		ldr	r3, [r3]
 3217 024e DA68     		ldr	r2, [r3, #12]
 3218 0250 7B68     		ldr	r3, [r7, #4]
 3219 0252 1B68     		ldr	r3, [r3]
 3220 0254 22F04002 		bic	r2, r2, #64
 3221 0258 DA60     		str	r2, [r3, #12]
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3222              		.loc 1 1866 8
 3223 025a 7B68     		ldr	r3, [r7, #4]
 3224 025c 1B68     		ldr	r3, [r3]
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3225              		.loc 1 1866 26
 3226 025e DA6A     		ldr	r2, [r3, #44]
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3227              		.loc 1 1866 8
 3228 0260 7B68     		ldr	r3, [r7, #4]
 3229 0262 1B68     		ldr	r3, [r3]
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3230              		.loc 1 1866 26
 3231 0264 42F40052 		orr	r2, r2, #8192
 3232 0268 DA62     		str	r2, [r3, #44]
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3233              		.loc 1 1867 8
 3234 026a 7B68     		ldr	r3, [r7, #4]
 3235 026c 1B68     		ldr	r3, [r3]
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3236              		.loc 1 1867 24
 3237 026e DA68     		ldr	r2, [r3, #12]
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3238              		.loc 1 1867 8
 3239 0270 7B68     		ldr	r3, [r7, #4]
 3240 0272 1B68     		ldr	r3, [r3]
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3241              		.loc 1 1867 24
 3242 0274 42F08002 		orr	r2, r2, #128
 3243 0278 DA60     		str	r2, [r3, #12]
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3244              		.loc 1 1869 23
 3245 027a 7B68     		ldr	r3, [r7, #4]
 3246 027c 1B68     		ldr	r3, [r3]
 3247 027e 1846     		mov	r0, r3
 3248 0280 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3249 0284 0246     		mov	r2, r0
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3250              		.loc 1 1869 20
 3251 0286 7B68     		ldr	r3, [r7, #4]
 3252 0288 9B6B     		ldr	r3, [r3, #56]
 3253 028a 1A43     		orrs	r2, r2, r3
 3254 028c 7B68     		ldr	r3, [r7, #4]
 3255 028e 9A63     		str	r2, [r3, #56]
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3256              		.loc 1 1871 8
 3257 0290 7B68     		ldr	r3, [r7, #4]
 3258 0292 1B68     		ldr	r3, [r3]
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3259              		.loc 1 1871 24
 3260 0294 DA68     		ldr	r2, [r3, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 94


1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3261              		.loc 1 1871 8
 3262 0296 7B68     		ldr	r3, [r7, #4]
 3263 0298 1B68     		ldr	r3, [r3]
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3264              		.loc 1 1871 24
 3265 029a 22F08002 		bic	r2, r2, #128
 3266 029e DA60     		str	r2, [r3, #12]
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3267              		.loc 1 1872 5
 3268 02a0 7B68     		ldr	r3, [r7, #4]
 3269 02a2 1B68     		ldr	r3, [r3]
 3270 02a4 4FF40062 		mov	r2, #2048
 3271 02a8 9A63     		str	r2, [r3, #56]
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3272              		.loc 1 1875 17
 3273 02aa FB68     		ldr	r3, [r7, #12]
 3274 02ac 03F00803 		and	r3, r3, #8
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3275              		.loc 1 1875 7
 3276 02b0 002B     		cmp	r3, #0
 3277 02b2 0AD0     		beq	.L157
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3278              		.loc 1 1878 18
 3279 02b4 7B68     		ldr	r3, [r7, #4]
 3280 02b6 0122     		movs	r2, #1
 3281 02b8 83F83420 		strb	r2, [r3, #52]
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 3282              		.loc 1 1879 20
 3283 02bc 7B68     		ldr	r3, [r7, #4]
 3284 02be 0022     		movs	r2, #0
 3285 02c0 1A63     		str	r2, [r3, #48]
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3286              		.loc 1 1883 7
 3287 02c2 7868     		ldr	r0, [r7, #4]
 3288 02c4 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3289              		.loc 1 1994 1
 3290 02c8 4BE0     		b	.L161
 3291              	.L157:
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3292              		.loc 1 1886 22
 3293 02ca FB68     		ldr	r3, [r7, #12]
 3294 02cc 03F08003 		and	r3, r3, #128
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3295              		.loc 1 1886 12
 3296 02d0 002B     		cmp	r3, #0
 3297 02d2 46D0     		beq	.L161
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3298              		.loc 1 1889 13
 3299 02d4 7B68     		ldr	r3, [r7, #4]
 3300 02d6 9B6B     		ldr	r3, [r3, #56]
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3301              		.loc 1 1889 9
 3302 02d8 002B     		cmp	r3, #0
 3303 02da 42D0     		beq	.L161
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 3304              		.loc 1 1892 9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 95


 3305 02dc 7B68     		ldr	r3, [r7, #4]
 3306 02de 1B68     		ldr	r3, [r3]
 3307 02e0 DA6B     		ldr	r2, [r3, #60]
 3308 02e2 7B68     		ldr	r3, [r7, #4]
 3309 02e4 1B68     		ldr	r3, [r3]
 3310 02e6 22F08052 		bic	r2, r2, #268435456
 3311 02ea DA63     		str	r2, [r3, #60]
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3312              		.loc 1 1893 12
 3313 02ec 7B68     		ldr	r3, [r7, #4]
 3314 02ee 1B68     		ldr	r3, [r3]
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3315              		.loc 1 1893 33
 3316 02f0 0022     		movs	r2, #0
 3317 02f2 1A65     		str	r2, [r3, #80]
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 3318              		.loc 1 1896 20
 3319 02f4 7B68     		ldr	r3, [r7, #4]
 3320 02f6 0122     		movs	r2, #1
 3321 02f8 83F83420 		strb	r2, [r3, #52]
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3322              		.loc 1 1900 9
 3323 02fc 7868     		ldr	r0, [r7, #4]
 3324 02fe FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3325              		.loc 1 1994 1
 3326 0302 2EE0     		b	.L161
 3327              	.L163:
 3328              		.align	2
 3329              	.L162:
 3330 0304 3A0F0018 		.word	402657082
 3331              	.L152:
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3332              		.loc 1 1945 11
 3333 0308 7B68     		ldr	r3, [r7, #4]
 3334 030a 1B68     		ldr	r3, [r3]
 3335 030c 5B6B     		ldr	r3, [r3, #52]
 3336 030e 03F08053 		and	r3, r3, #268435456
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3337              		.loc 1 1945 10
 3338 0312 002B     		cmp	r3, #0
 3339 0314 25D0     		beq	.L161
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
 3340              		.loc 1 1947 5
 3341 0316 7B68     		ldr	r3, [r7, #4]
 3342 0318 1B68     		ldr	r3, [r3]
 3343 031a 4FF08052 		mov	r2, #268435456
 3344 031e 9A63     		str	r2, [r3, #56]
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3345              		.loc 1 1948 8
 3346 0320 7B68     		ldr	r3, [r7, #4]
 3347 0322 1B68     		ldr	r3, [r3]
 3348 0324 1B6D     		ldr	r3, [r3, #80]
 3349 0326 03F00403 		and	r3, r3, #4
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3350              		.loc 1 1948 7
 3351 032a 002B     		cmp	r3, #0
 3352 032c 0CD1     		bne	.L158
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 96


1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3353              		.loc 1 1951 19
 3354 032e FB68     		ldr	r3, [r7, #12]
 3355 0330 03F02003 		and	r3, r3, #32
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3356              		.loc 1 1951 9
 3357 0334 002B     		cmp	r3, #0
 3358 0336 03D0     		beq	.L159
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3359              		.loc 1 1956 9
 3360 0338 7868     		ldr	r0, [r7, #4]
 3361 033a FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuffer1CpltCallback
 3362              		.loc 1 1994 1
 3363 033e 10E0     		b	.L161
 3364              	.L159:
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3365              		.loc 1 1964 9
 3366 0340 7868     		ldr	r0, [r7, #4]
 3367 0342 FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuffer1CpltCallback
 3368              		.loc 1 1994 1
 3369 0346 0CE0     		b	.L161
 3370              	.L158:
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3371              		.loc 1 1971 19
 3372 0348 FB68     		ldr	r3, [r7, #12]
 3373 034a 03F02003 		and	r3, r3, #32
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3374              		.loc 1 1971 9
 3375 034e 002B     		cmp	r3, #0
 3376 0350 03D0     		beq	.L160
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3377              		.loc 1 1976 9
 3378 0352 7868     		ldr	r0, [r7, #4]
 3379 0354 FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuffer0CpltCallback
 3380              		.loc 1 1994 1
 3381 0358 03E0     		b	.L161
 3382              	.L160:
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3383              		.loc 1 1984 9
 3384 035a 7868     		ldr	r0, [r7, #4]
 3385 035c FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuffer0CpltCallback
 3386              		.loc 1 1994 1
 3387 0360 FFE7     		b	.L161
 3388              	.L138:
 3389              	.L161:
 3390 0362 00BF     		nop
 3391 0364 1037     		adds	r7, r7, #16
 3392              		.cfi_def_cfa_offset 8
 3393 0366 BD46     		mov	sp, r7
 3394              		.cfi_def_cfa_register 13
 3395              		@ sp needed
 3396 0368 80BD     		pop	{r7, pc}
 3397              		.cfi_endproc
 3398              	.LFE333:
 3400 036a 00BF     		.section	.text.HAL_SD_GetState,"ax",%progbits
 3401              		.align	1
 3402              		.global	HAL_SD_GetState
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 97


 3403              		.syntax unified
 3404              		.thumb
 3405              		.thumb_func
 3407              	HAL_SD_GetState:
 3408              	.LFB334:
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief return the SD state
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer to sd handle
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL state
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3409              		.loc 1 2002 1
 3410              		.cfi_startproc
 3411              		@ args = 0, pretend = 0, frame = 8
 3412              		@ frame_needed = 1, uses_anonymous_args = 0
 3413              		@ link register save eliminated.
 3414 0000 80B4     		push	{r7}
 3415              		.cfi_def_cfa_offset 4
 3416              		.cfi_offset 7, -4
 3417 0002 83B0     		sub	sp, sp, #12
 3418              		.cfi_def_cfa_offset 16
 3419 0004 00AF     		add	r7, sp, #0
 3420              		.cfi_def_cfa_register 7
 3421 0006 7860     		str	r0, [r7, #4]
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return hsd->State;
 3422              		.loc 1 2003 13
 3423 0008 7B68     		ldr	r3, [r7, #4]
 3424 000a 93F83430 		ldrb	r3, [r3, #52]
 3425 000e DBB2     		uxtb	r3, r3
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3426              		.loc 1 2004 1
 3427 0010 1846     		mov	r0, r3
 3428 0012 0C37     		adds	r7, r7, #12
 3429              		.cfi_def_cfa_offset 4
 3430 0014 BD46     		mov	sp, r7
 3431              		.cfi_def_cfa_register 13
 3432              		@ sp needed
 3433 0016 5DF8047B 		ldr	r7, [sp], #4
 3434              		.cfi_restore 7
 3435              		.cfi_def_cfa_offset 0
 3436 001a 7047     		bx	lr
 3437              		.cfi_endproc
 3438              	.LFE334:
 3440              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3441              		.align	1
 3442              		.global	HAL_SD_GetError
 3443              		.syntax unified
 3444              		.thumb
 3445              		.thumb_func
 3447              	HAL_SD_GetError:
 3448              	.LFB335:
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** * @brief  Return the SD error code
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 98


2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *              the configuration information.
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** * @retval SD Error Code
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** */
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3449              		.loc 1 2013 1
 3450              		.cfi_startproc
 3451              		@ args = 0, pretend = 0, frame = 8
 3452              		@ frame_needed = 1, uses_anonymous_args = 0
 3453              		@ link register save eliminated.
 3454 0000 80B4     		push	{r7}
 3455              		.cfi_def_cfa_offset 4
 3456              		.cfi_offset 7, -4
 3457 0002 83B0     		sub	sp, sp, #12
 3458              		.cfi_def_cfa_offset 16
 3459 0004 00AF     		add	r7, sp, #0
 3460              		.cfi_def_cfa_register 7
 3461 0006 7860     		str	r0, [r7, #4]
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return hsd->ErrorCode;
 3462              		.loc 1 2014 13
 3463 0008 7B68     		ldr	r3, [r7, #4]
 3464 000a 9B6B     		ldr	r3, [r3, #56]
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3465              		.loc 1 2015 1
 3466 000c 1846     		mov	r0, r3
 3467 000e 0C37     		adds	r7, r7, #12
 3468              		.cfi_def_cfa_offset 4
 3469 0010 BD46     		mov	sp, r7
 3470              		.cfi_def_cfa_register 13
 3471              		@ sp needed
 3472 0012 5DF8047B 		ldr	r7, [sp], #4
 3473              		.cfi_restore 7
 3474              		.cfi_def_cfa_offset 0
 3475 0016 7047     		bx	lr
 3476              		.cfi_endproc
 3477              	.LFE335:
 3479              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3480              		.align	1
 3481              		.weak	HAL_SD_TxCpltCallback
 3482              		.syntax unified
 3483              		.thumb
 3484              		.thumb_func
 3486              	HAL_SD_TxCpltCallback:
 3487              	.LFB336:
2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer to SD handle
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3488              		.loc 1 2023 1
 3489              		.cfi_startproc
 3490              		@ args = 0, pretend = 0, frame = 8
 3491              		@ frame_needed = 1, uses_anonymous_args = 0
 3492              		@ link register save eliminated.
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 99


 3493 0000 80B4     		push	{r7}
 3494              		.cfi_def_cfa_offset 4
 3495              		.cfi_offset 7, -4
 3496 0002 83B0     		sub	sp, sp, #12
 3497              		.cfi_def_cfa_offset 16
 3498 0004 00AF     		add	r7, sp, #0
 3499              		.cfi_def_cfa_register 7
 3500 0006 7860     		str	r0, [r7, #4]
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3501              		.loc 1 2030 1
 3502 0008 00BF     		nop
 3503 000a 0C37     		adds	r7, r7, #12
 3504              		.cfi_def_cfa_offset 4
 3505 000c BD46     		mov	sp, r7
 3506              		.cfi_def_cfa_register 13
 3507              		@ sp needed
 3508 000e 5DF8047B 		ldr	r7, [sp], #4
 3509              		.cfi_restore 7
 3510              		.cfi_def_cfa_offset 0
 3511 0012 7047     		bx	lr
 3512              		.cfi_endproc
 3513              	.LFE336:
 3515              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 3516              		.align	1
 3517              		.weak	HAL_SD_RxCpltCallback
 3518              		.syntax unified
 3519              		.thumb
 3520              		.thumb_func
 3522              	HAL_SD_RxCpltCallback:
 3523              	.LFB337:
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer SD handle
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3524              		.loc 1 2038 1
 3525              		.cfi_startproc
 3526              		@ args = 0, pretend = 0, frame = 8
 3527              		@ frame_needed = 1, uses_anonymous_args = 0
 3528              		@ link register save eliminated.
 3529 0000 80B4     		push	{r7}
 3530              		.cfi_def_cfa_offset 4
 3531              		.cfi_offset 7, -4
 3532 0002 83B0     		sub	sp, sp, #12
 3533              		.cfi_def_cfa_offset 16
 3534 0004 00AF     		add	r7, sp, #0
 3535              		.cfi_def_cfa_register 7
 3536 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 100


2039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3537              		.loc 1 2045 1
 3538 0008 00BF     		nop
 3539 000a 0C37     		adds	r7, r7, #12
 3540              		.cfi_def_cfa_offset 4
 3541 000c BD46     		mov	sp, r7
 3542              		.cfi_def_cfa_register 13
 3543              		@ sp needed
 3544 000e 5DF8047B 		ldr	r7, [sp], #4
 3545              		.cfi_restore 7
 3546              		.cfi_def_cfa_offset 0
 3547 0012 7047     		bx	lr
 3548              		.cfi_endproc
 3549              	.LFE337:
 3551              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 3552              		.align	1
 3553              		.weak	HAL_SD_ErrorCallback
 3554              		.syntax unified
 3555              		.thumb
 3556              		.thumb_func
 3558              	HAL_SD_ErrorCallback:
 3559              	.LFB338:
2046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief SD error callbacks
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer SD handle
2050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3560              		.loc 1 2053 1
 3561              		.cfi_startproc
 3562              		@ args = 0, pretend = 0, frame = 8
 3563              		@ frame_needed = 1, uses_anonymous_args = 0
 3564              		@ link register save eliminated.
 3565 0000 80B4     		push	{r7}
 3566              		.cfi_def_cfa_offset 4
 3567              		.cfi_offset 7, -4
 3568 0002 83B0     		sub	sp, sp, #12
 3569              		.cfi_def_cfa_offset 16
 3570 0004 00AF     		add	r7, sp, #0
 3571              		.cfi_def_cfa_register 7
 3572 0006 7860     		str	r0, [r7, #4]
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3573              		.loc 1 2060 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 101


 3574 0008 00BF     		nop
 3575 000a 0C37     		adds	r7, r7, #12
 3576              		.cfi_def_cfa_offset 4
 3577 000c BD46     		mov	sp, r7
 3578              		.cfi_def_cfa_register 13
 3579              		@ sp needed
 3580 000e 5DF8047B 		ldr	r7, [sp], #4
 3581              		.cfi_restore 7
 3582              		.cfi_def_cfa_offset 0
 3583 0012 7047     		bx	lr
 3584              		.cfi_endproc
 3585              	.LFE338:
 3587              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 3588              		.align	1
 3589              		.weak	HAL_SD_AbortCallback
 3590              		.syntax unified
 3591              		.thumb
 3592              		.thumb_func
 3594              	HAL_SD_AbortCallback:
 3595              	.LFB339:
2061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief SD Abort callbacks
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer SD handle
2065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3596              		.loc 1 2068 1
 3597              		.cfi_startproc
 3598              		@ args = 0, pretend = 0, frame = 8
 3599              		@ frame_needed = 1, uses_anonymous_args = 0
 3600              		@ link register save eliminated.
 3601 0000 80B4     		push	{r7}
 3602              		.cfi_def_cfa_offset 4
 3603              		.cfi_offset 7, -4
 3604 0002 83B0     		sub	sp, sp, #12
 3605              		.cfi_def_cfa_offset 16
 3606 0004 00AF     		add	r7, sp, #0
 3607              		.cfi_def_cfa_register 7
 3608 0006 7860     		str	r0, [r7, #4]
2069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
2074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3609              		.loc 1 2075 1
 3610 0008 00BF     		nop
 3611 000a 0C37     		adds	r7, r7, #12
 3612              		.cfi_def_cfa_offset 4
 3613 000c BD46     		mov	sp, r7
 3614              		.cfi_def_cfa_register 13
 3615              		@ sp needed
 3616 000e 5DF8047B 		ldr	r7, [sp], #4
 3617              		.cfi_restore 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 102


 3618              		.cfi_def_cfa_offset 0
 3619 0012 7047     		bx	lr
 3620              		.cfi_endproc
 3621              	.LFE339:
 3623              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 3624              		.align	1
 3625              		.global	HAL_SD_GetCardCID
 3626              		.syntax unified
 3627              		.thumb
 3628              		.thumb_func
 3630              	HAL_SD_GetCardCID:
 3631              	.LFB340:
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
2078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Register a User SD Callback
2080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *        This parameter can be one of the following values:
2084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
2085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
2088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
2091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
2092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
2093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
2098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(pCallback == NULL)
2102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
2106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
2116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->TxCpltCallback = pCallback;
2117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->RxCpltCallback = pCallback;
2120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 103


2121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
2122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback = pCallback;
2123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->AbortCpltCallback = pCallback;
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf0CpltCallback = pCallback;
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf1CpltCallback = pCallback;
2133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf0CpltCallback = pCallback;
2136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf1CpltCallback = pCallback;
2139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
2161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 104


2178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
2188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
2191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *        This parameter can be one of the following values:
2192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
2193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
2194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
2196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
2198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
2200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
2205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
2217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
2220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
2222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback = HAL_SD_ErrorCallback;
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
2225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->AbortCpltCallback = HAL_SD_AbortCallback;
2226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuffer0CpltCallback;
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuffer1CpltCallback;
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 105


2235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuffer0CpltCallback;
2236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuffer1CpltCallback;
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
2243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
2261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Register a User SD Transceiver Callback
2289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 106


2292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterTransceiverCallback(SD_HandleTypeDef *hsd, pSD_TransceiverCallback
2295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(pCallback == NULL)
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
2303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = pCallback;
2311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Unregister a User SD Transceiver Callback
2327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterTransceiverCallback(SD_HandleTypeDef *hsd)
2332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SDEx_DriveTransceiver_1_8V_Callback;
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 107


2349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
2359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *  @brief   management functions
2363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *
2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @verbatim
2365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
2366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
2368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
2369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     operations and get the related information
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @endverbatim
2373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         the CID register.
2379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCID Pointer to a HAL_SD_CardCIDTypeDef structure that
2381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         contains all CID register parameters
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3632              		.loc 1 2385 1
 3633              		.cfi_startproc
 3634              		@ args = 0, pretend = 0, frame = 8
 3635              		@ frame_needed = 1, uses_anonymous_args = 0
 3636              		@ link register save eliminated.
 3637 0000 80B4     		push	{r7}
 3638              		.cfi_def_cfa_offset 4
 3639              		.cfi_offset 7, -4
 3640 0002 83B0     		sub	sp, sp, #12
 3641              		.cfi_def_cfa_offset 16
 3642 0004 00AF     		add	r7, sp, #0
 3643              		.cfi_def_cfa_register 7
 3644 0006 7860     		str	r0, [r7, #4]
 3645 0008 3960     		str	r1, [r7]
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 3646              		.loc 1 2386 45
 3647 000a 7B68     		ldr	r3, [r7, #4]
 3648 000c 1B6F     		ldr	r3, [r3, #112]
 3649              		.loc 1 2386 64
 3650 000e 1B0E     		lsrs	r3, r3, #24
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 108


 3651              		.loc 1 2386 26
 3652 0010 DAB2     		uxtb	r2, r3
 3653              		.loc 1 2386 24
 3654 0012 3B68     		ldr	r3, [r7]
 3655 0014 1A70     		strb	r2, [r3]
2387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
 3656              		.loc 1 2388 43
 3657 0016 7B68     		ldr	r3, [r7, #4]
 3658 0018 1B6F     		ldr	r3, [r3, #112]
 3659              		.loc 1 2388 62
 3660 001a 1B0A     		lsrs	r3, r3, #8
 3661              		.loc 1 2388 23
 3662 001c 9AB2     		uxth	r2, r3
 3663              		.loc 1 2388 21
 3664 001e 3B68     		ldr	r3, [r7]
 3665 0020 5A80     		strh	r2, [r3, #2]	@ movhi
2389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
 3666              		.loc 1 2390 32
 3667 0022 7B68     		ldr	r3, [r7, #4]
 3668 0024 1B6F     		ldr	r3, [r3, #112]
 3669              		.loc 1 2390 51
 3670 0026 1A06     		lsls	r2, r3, #24
 3671              		.loc 1 2390 71
 3672 0028 7B68     		ldr	r3, [r7, #4]
 3673 002a 5B6F     		ldr	r3, [r3, #116]
 3674              		.loc 1 2390 90
 3675 002c 1B0A     		lsrs	r3, r3, #8
 3676              		.loc 1 2390 59
 3677 002e 1A43     		orrs	r2, r2, r3
 3678              		.loc 1 2390 19
 3679 0030 3B68     		ldr	r3, [r7]
 3680 0032 5A60     		str	r2, [r3, #4]
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
 3681              		.loc 1 2392 39
 3682 0034 7B68     		ldr	r3, [r7, #4]
 3683 0036 5B6F     		ldr	r3, [r3, #116]
 3684              		.loc 1 2392 21
 3685 0038 DAB2     		uxtb	r2, r3
 3686              		.loc 1 2392 19
 3687 003a 3B68     		ldr	r3, [r7]
 3688 003c 1A72     		strb	r2, [r3, #8]
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
 3689              		.loc 1 2394 38
 3690 003e 7B68     		ldr	r3, [r7, #4]
 3691 0040 9B6F     		ldr	r3, [r3, #120]
 3692              		.loc 1 2394 57
 3693 0042 1B0E     		lsrs	r3, r3, #24
 3694              		.loc 1 2394 19
 3695 0044 DAB2     		uxtb	r2, r3
 3696              		.loc 1 2394 17
 3697 0046 3B68     		ldr	r3, [r7]
 3698 0048 5A72     		strb	r2, [r3, #9]
2395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 109


2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
 3699              		.loc 1 2396 29
 3700 004a 7B68     		ldr	r3, [r7, #4]
 3701 004c 9B6F     		ldr	r3, [r3, #120]
 3702              		.loc 1 2396 48
 3703 004e 1A02     		lsls	r2, r3, #8
 3704              		.loc 1 2396 67
 3705 0050 7B68     		ldr	r3, [r7, #4]
 3706 0052 DB6F     		ldr	r3, [r3, #124]
 3707              		.loc 1 2396 86
 3708 0054 1B0E     		lsrs	r3, r3, #24
 3709              		.loc 1 2396 55
 3710 0056 1A43     		orrs	r2, r2, r3
 3711              		.loc 1 2396 16
 3712 0058 3B68     		ldr	r3, [r7]
 3713 005a DA60     		str	r2, [r3, #12]
2397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
 3714              		.loc 1 2398 40
 3715 005c 7B68     		ldr	r3, [r7, #4]
 3716 005e DB6F     		ldr	r3, [r3, #124]
 3717              		.loc 1 2398 59
 3718 0060 1B0D     		lsrs	r3, r3, #20
 3719              		.loc 1 2398 21
 3720 0062 DBB2     		uxtb	r3, r3
 3721 0064 03F00F03 		and	r3, r3, #15
 3722 0068 DAB2     		uxtb	r2, r3
 3723              		.loc 1 2398 19
 3724 006a 3B68     		ldr	r3, [r7]
 3725 006c 1A74     		strb	r2, [r3, #16]
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
 3726              		.loc 1 2400 44
 3727 006e 7B68     		ldr	r3, [r7, #4]
 3728 0070 DB6F     		ldr	r3, [r3, #124]
 3729              		.loc 1 2400 63
 3730 0072 1B0A     		lsrs	r3, r3, #8
 3731              		.loc 1 2400 24
 3732 0074 9BB2     		uxth	r3, r3
 3733 0076 C3F30B03 		ubfx	r3, r3, #0, #12
 3734 007a 9AB2     		uxth	r2, r3
 3735              		.loc 1 2400 22
 3736 007c 3B68     		ldr	r3, [r7]
 3737 007e 5A82     		strh	r2, [r3, #18]	@ movhi
2401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
 3738              		.loc 1 2402 38
 3739 0080 7B68     		ldr	r3, [r7, #4]
 3740 0082 DB6F     		ldr	r3, [r3, #124]
 3741              		.loc 1 2402 57
 3742 0084 5B08     		lsrs	r3, r3, #1
 3743              		.loc 1 2402 19
 3744 0086 DBB2     		uxtb	r3, r3
 3745 0088 03F07F03 		and	r3, r3, #127
 3746 008c DAB2     		uxtb	r2, r3
 3747              		.loc 1 2402 17
 3748 008e 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 110


 3749 0090 1A75     		strb	r2, [r3, #20]
2403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->Reserved2 = 1U;
 3750              		.loc 1 2404 19
 3751 0092 3B68     		ldr	r3, [r7]
 3752 0094 0122     		movs	r2, #1
 3753 0096 5A75     		strb	r2, [r3, #21]
2405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 3754              		.loc 1 2406 10
 3755 0098 0023     		movs	r3, #0
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3756              		.loc 1 2407 1
 3757 009a 1846     		mov	r0, r3
 3758 009c 0C37     		adds	r7, r7, #12
 3759              		.cfi_def_cfa_offset 4
 3760 009e BD46     		mov	sp, r7
 3761              		.cfi_def_cfa_register 13
 3762              		@ sp needed
 3763 00a0 5DF8047B 		ldr	r7, [sp], #4
 3764              		.cfi_restore 7
 3765              		.cfi_def_cfa_offset 0
 3766 00a4 7047     		bx	lr
 3767              		.cfi_endproc
 3768              	.LFE340:
 3770              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 3771              		.align	1
 3772              		.global	HAL_SD_GetCardCSD
 3773              		.syntax unified
 3774              		.thumb
 3775              		.thumb_func
 3777              	HAL_SD_GetCardCSD:
 3778              	.LFB341:
2408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         the CSD register.
2412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCSD Pointer to a HAL_SD_CardCSDTypeDef structure that
2414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         contains all CSD register parameters
2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 3779              		.loc 1 2418 1
 3780              		.cfi_startproc
 3781              		@ args = 0, pretend = 0, frame = 8
 3782              		@ frame_needed = 1, uses_anonymous_args = 0
 3783              		@ link register save eliminated.
 3784 0000 80B4     		push	{r7}
 3785              		.cfi_def_cfa_offset 4
 3786              		.cfi_offset 7, -4
 3787 0002 83B0     		sub	sp, sp, #12
 3788              		.cfi_def_cfa_offset 16
 3789 0004 00AF     		add	r7, sp, #0
 3790              		.cfi_def_cfa_register 7
 3791 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 111


 3792 0008 3960     		str	r1, [r7]
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 3793              		.loc 1 2419 40
 3794 000a 7B68     		ldr	r3, [r7, #4]
 3795 000c 1B6E     		ldr	r3, [r3, #96]
 3796              		.loc 1 2419 59
 3797 000e 9B0F     		lsrs	r3, r3, #30
 3798              		.loc 1 2419 21
 3799 0010 DAB2     		uxtb	r2, r3
 3800              		.loc 1 2419 19
 3801 0012 3B68     		ldr	r3, [r7]
 3802 0014 1A70     		strb	r2, [r3]
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
 3803              		.loc 1 2421 45
 3804 0016 7B68     		ldr	r3, [r7, #4]
 3805 0018 1B6E     		ldr	r3, [r3, #96]
 3806              		.loc 1 2421 64
 3807 001a 9B0E     		lsrs	r3, r3, #26
 3808              		.loc 1 2421 26
 3809 001c DBB2     		uxtb	r3, r3
 3810 001e 03F00F03 		and	r3, r3, #15
 3811 0022 DAB2     		uxtb	r2, r3
 3812              		.loc 1 2421 24
 3813 0024 3B68     		ldr	r3, [r7]
 3814 0026 5A70     		strb	r2, [r3, #1]
2422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
 3815              		.loc 1 2423 40
 3816 0028 7B68     		ldr	r3, [r7, #4]
 3817 002a 1B6E     		ldr	r3, [r3, #96]
 3818              		.loc 1 2423 59
 3819 002c 1B0E     		lsrs	r3, r3, #24
 3820              		.loc 1 2423 21
 3821 002e DBB2     		uxtb	r3, r3
 3822 0030 03F00303 		and	r3, r3, #3
 3823 0034 DAB2     		uxtb	r2, r3
 3824              		.loc 1 2423 19
 3825 0036 3B68     		ldr	r3, [r7]
 3826 0038 9A70     		strb	r2, [r3, #2]
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
 3827              		.loc 1 2425 35
 3828 003a 7B68     		ldr	r3, [r7, #4]
 3829 003c 1B6E     		ldr	r3, [r3, #96]
 3830              		.loc 1 2425 54
 3831 003e 1B0C     		lsrs	r3, r3, #16
 3832              		.loc 1 2425 16
 3833 0040 DAB2     		uxtb	r2, r3
 3834              		.loc 1 2425 14
 3835 0042 3B68     		ldr	r3, [r7]
 3836 0044 DA70     		strb	r2, [r3, #3]
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
 3837              		.loc 1 2427 35
 3838 0046 7B68     		ldr	r3, [r7, #4]
 3839 0048 1B6E     		ldr	r3, [r3, #96]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 112


 3840              		.loc 1 2427 54
 3841 004a 1B0A     		lsrs	r3, r3, #8
 3842              		.loc 1 2427 16
 3843 004c DAB2     		uxtb	r2, r3
 3844              		.loc 1 2427 14
 3845 004e 3B68     		ldr	r3, [r7]
 3846 0050 1A71     		strb	r2, [r3, #4]
2428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
 3847              		.loc 1 2429 43
 3848 0052 7B68     		ldr	r3, [r7, #4]
 3849 0054 1B6E     		ldr	r3, [r3, #96]
 3850              		.loc 1 2429 25
 3851 0056 DAB2     		uxtb	r2, r3
 3852              		.loc 1 2429 23
 3853 0058 3B68     		ldr	r3, [r7]
 3854 005a 5A71     		strb	r2, [r3, #5]
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
 3855              		.loc 1 2431 47
 3856 005c 7B68     		ldr	r3, [r7, #4]
 3857 005e 5B6E     		ldr	r3, [r3, #100]
 3858              		.loc 1 2431 66
 3859 0060 1B0D     		lsrs	r3, r3, #20
 3860              		.loc 1 2431 27
 3861 0062 9AB2     		uxth	r2, r3
 3862              		.loc 1 2431 25
 3863 0064 3B68     		ldr	r3, [r7]
 3864 0066 DA80     		strh	r2, [r3, #6]	@ movhi
2432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
 3865              		.loc 1 2433 41
 3866 0068 7B68     		ldr	r3, [r7, #4]
 3867 006a 5B6E     		ldr	r3, [r3, #100]
 3868              		.loc 1 2433 60
 3869 006c 1B0C     		lsrs	r3, r3, #16
 3870              		.loc 1 2433 22
 3871 006e DBB2     		uxtb	r3, r3
 3872 0070 03F00F03 		and	r3, r3, #15
 3873 0074 DAB2     		uxtb	r2, r3
 3874              		.loc 1 2433 20
 3875 0076 3B68     		ldr	r3, [r7]
 3876 0078 1A72     		strb	r2, [r3, #8]
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
 3877              		.loc 1 2435 46
 3878 007a 7B68     		ldr	r3, [r7, #4]
 3879 007c 5B6E     		ldr	r3, [r3, #100]
 3880              		.loc 1 2435 65
 3881 007e DB0B     		lsrs	r3, r3, #15
 3882              		.loc 1 2435 27
 3883 0080 DBB2     		uxtb	r3, r3
 3884 0082 03F00103 		and	r3, r3, #1
 3885 0086 DAB2     		uxtb	r2, r3
 3886              		.loc 1 2435 25
 3887 0088 3B68     		ldr	r3, [r7]
 3888 008a 5A72     		strb	r2, [r3, #9]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 113


2436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
 3889              		.loc 1 2437 46
 3890 008c 7B68     		ldr	r3, [r7, #4]
 3891 008e 5B6E     		ldr	r3, [r3, #100]
 3892              		.loc 1 2437 65
 3893 0090 9B0B     		lsrs	r3, r3, #14
 3894              		.loc 1 2437 27
 3895 0092 DBB2     		uxtb	r3, r3
 3896 0094 03F00103 		and	r3, r3, #1
 3897 0098 DAB2     		uxtb	r2, r3
 3898              		.loc 1 2437 25
 3899 009a 3B68     		ldr	r3, [r7]
 3900 009c 9A72     		strb	r2, [r3, #10]
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
 3901              		.loc 1 2439 46
 3902 009e 7B68     		ldr	r3, [r7, #4]
 3903 00a0 5B6E     		ldr	r3, [r3, #100]
 3904              		.loc 1 2439 65
 3905 00a2 5B0B     		lsrs	r3, r3, #13
 3906              		.loc 1 2439 27
 3907 00a4 DBB2     		uxtb	r3, r3
 3908 00a6 03F00103 		and	r3, r3, #1
 3909 00aa DAB2     		uxtb	r2, r3
 3910              		.loc 1 2439 25
 3911 00ac 3B68     		ldr	r3, [r7]
 3912 00ae DA72     		strb	r2, [r3, #11]
2440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
 3913              		.loc 1 2441 38
 3914 00b0 7B68     		ldr	r3, [r7, #4]
 3915 00b2 5B6E     		ldr	r3, [r3, #100]
 3916              		.loc 1 2441 57
 3917 00b4 1B0B     		lsrs	r3, r3, #12
 3918              		.loc 1 2441 19
 3919 00b6 DBB2     		uxtb	r3, r3
 3920 00b8 03F00103 		and	r3, r3, #1
 3921 00bc DAB2     		uxtb	r2, r3
 3922              		.loc 1 2441 17
 3923 00be 3B68     		ldr	r3, [r7]
 3924 00c0 1A73     		strb	r2, [r3, #12]
2442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
 3925              		.loc 1 2443 19
 3926 00c2 3B68     		ldr	r3, [r7]
 3927 00c4 0022     		movs	r2, #0
 3928 00c6 5A73     		strb	r2, [r3, #13]
2444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType == CARD_SDSC)
 3929              		.loc 1 2445 17
 3930 00c8 7B68     		ldr	r3, [r7, #4]
 3931 00ca DB6B     		ldr	r3, [r3, #60]
 3932              		.loc 1 2445 5
 3933 00cc 002B     		cmp	r3, #0
 3934 00ce 63D1     		bne	.L175
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 114


2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
 3935              		.loc 1 2447 35
 3936 00d0 7B68     		ldr	r3, [r7, #4]
 3937 00d2 5B6E     		ldr	r3, [r3, #100]
 3938              		.loc 1 2447 54
 3939 00d4 9A00     		lsls	r2, r3, #2
 3940 00d6 40F6FC73 		movw	r3, #4092
 3941 00da 1340     		ands	r3, r3, r2
 3942              		.loc 1 2447 73
 3943 00dc 7A68     		ldr	r2, [r7, #4]
 3944 00de 926E     		ldr	r2, [r2, #104]
 3945              		.loc 1 2447 92
 3946 00e0 920F     		lsrs	r2, r2, #30
 3947              		.loc 1 2447 61
 3948 00e2 1A43     		orrs	r2, r2, r3
 3949              		.loc 1 2447 22
 3950 00e4 3B68     		ldr	r3, [r7]
 3951 00e6 1A61     		str	r2, [r3, #16]
2448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
 3952              		.loc 1 2449 51
 3953 00e8 7B68     		ldr	r3, [r7, #4]
 3954 00ea 9B6E     		ldr	r3, [r3, #104]
 3955              		.loc 1 2449 70
 3956 00ec DB0E     		lsrs	r3, r3, #27
 3957              		.loc 1 2449 32
 3958 00ee DBB2     		uxtb	r3, r3
 3959 00f0 03F00703 		and	r3, r3, #7
 3960 00f4 DAB2     		uxtb	r2, r3
 3961              		.loc 1 2449 30
 3962 00f6 3B68     		ldr	r3, [r7]
 3963 00f8 1A75     		strb	r2, [r3, #20]
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
 3964              		.loc 1 2451 51
 3965 00fa 7B68     		ldr	r3, [r7, #4]
 3966 00fc 9B6E     		ldr	r3, [r3, #104]
 3967              		.loc 1 2451 70
 3968 00fe 1B0E     		lsrs	r3, r3, #24
 3969              		.loc 1 2451 32
 3970 0100 DBB2     		uxtb	r3, r3
 3971 0102 03F00703 		and	r3, r3, #7
 3972 0106 DAB2     		uxtb	r2, r3
 3973              		.loc 1 2451 30
 3974 0108 3B68     		ldr	r3, [r7]
 3975 010a 5A75     		strb	r2, [r3, #21]
2452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
 3976              		.loc 1 2453 51
 3977 010c 7B68     		ldr	r3, [r7, #4]
 3978 010e 9B6E     		ldr	r3, [r3, #104]
 3979              		.loc 1 2453 70
 3980 0110 5B0D     		lsrs	r3, r3, #21
 3981              		.loc 1 2453 32
 3982 0112 DBB2     		uxtb	r3, r3
 3983 0114 03F00703 		and	r3, r3, #7
 3984 0118 DAB2     		uxtb	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 115


 3985              		.loc 1 2453 30
 3986 011a 3B68     		ldr	r3, [r7]
 3987 011c 9A75     		strb	r2, [r3, #22]
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
 3988              		.loc 1 2455 51
 3989 011e 7B68     		ldr	r3, [r7, #4]
 3990 0120 9B6E     		ldr	r3, [r3, #104]
 3991              		.loc 1 2455 70
 3992 0122 9B0C     		lsrs	r3, r3, #18
 3993              		.loc 1 2455 32
 3994 0124 DBB2     		uxtb	r3, r3
 3995 0126 03F00703 		and	r3, r3, #7
 3996 012a DAB2     		uxtb	r2, r3
 3997              		.loc 1 2455 30
 3998 012c 3B68     		ldr	r3, [r7]
 3999 012e DA75     		strb	r2, [r3, #23]
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
 4000              		.loc 1 2457 46
 4001 0130 7B68     		ldr	r3, [r7, #4]
 4002 0132 9B6E     		ldr	r3, [r3, #104]
 4003              		.loc 1 2457 65
 4004 0134 DB0B     		lsrs	r3, r3, #15
 4005              		.loc 1 2457 27
 4006 0136 DBB2     		uxtb	r3, r3
 4007 0138 03F00703 		and	r3, r3, #7
 4008 013c DAB2     		uxtb	r2, r3
 4009              		.loc 1 2457 25
 4010 013e 3B68     		ldr	r3, [r7]
 4011 0140 1A76     		strb	r2, [r3, #24]
2458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
 4012              		.loc 1 2459 34
 4013 0142 3B68     		ldr	r3, [r7]
 4014 0144 1B69     		ldr	r3, [r3, #16]
 4015              		.loc 1 2459 47
 4016 0146 5A1C     		adds	r2, r3, #1
 4017              		.loc 1 2459 27
 4018 0148 7B68     		ldr	r3, [r7, #4]
 4019 014a DA64     		str	r2, [r3, #76]
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4020              		.loc 1 2460 43
 4021 014c 3B68     		ldr	r3, [r7]
 4022 014e 1B7E     		ldrb	r3, [r3, #24]
 4023 0150 DBB2     		uxtb	r3, r3
 4024              		.loc 1 2460 59
 4025 0152 03F00703 		and	r3, r3, #7
 4026              		.loc 1 2460 68
 4027 0156 0233     		adds	r3, r3, #2
 4028              		.loc 1 2460 34
 4029 0158 0122     		movs	r2, #1
 4030 015a 02FA03F3 		lsl	r3, r2, r3
 4031              		.loc 1 2460 26
 4032 015e 7A68     		ldr	r2, [r7, #4]
 4033 0160 D26C     		ldr	r2, [r2, #76]
 4034 0162 03FB02F2 		mul	r2, r3, r2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 116


 4035 0166 7B68     		ldr	r3, [r7, #4]
 4036 0168 DA64     		str	r2, [r3, #76]
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4037              		.loc 1 2461 42
 4038 016a 3B68     		ldr	r3, [r7]
 4039 016c 1B7A     		ldrb	r3, [r3, #8]
 4040 016e DBB2     		uxtb	r3, r3
 4041              		.loc 1 2461 55
 4042 0170 03F00F03 		and	r3, r3, #15
 4043              		.loc 1 2461 34
 4044 0174 0122     		movs	r2, #1
 4045 0176 9A40     		lsls	r2, r2, r3
 4046              		.loc 1 2461 27
 4047 0178 7B68     		ldr	r3, [r7, #4]
 4048 017a 1A65     		str	r2, [r3, #80]
2462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr =  (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
 4049              		.loc 1 2463 44
 4050 017c 7B68     		ldr	r3, [r7, #4]
 4051 017e DB6C     		ldr	r3, [r3, #76]
 4052              		.loc 1 2463 70
 4053 0180 7A68     		ldr	r2, [r7, #4]
 4054 0182 126D     		ldr	r2, [r2, #80]
 4055              		.loc 1 2463 82
 4056 0184 520A     		lsrs	r2, r2, #9
 4057              		.loc 1 2463 55
 4058 0186 03FB02F2 		mul	r2, r3, r2
 4059              		.loc 1 2463 29
 4060 018a 7B68     		ldr	r3, [r7, #4]
 4061 018c 5A65     		str	r2, [r3, #84]
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4062              		.loc 1 2464 30
 4063 018e 7B68     		ldr	r3, [r7, #4]
 4064 0190 4FF40072 		mov	r2, #512
 4065 0194 9A65     		str	r2, [r3, #88]
 4066 0196 31E0     		b	.L176
 4067              	.L175:
2465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(hsd->SdCard.CardType == CARD_SDHC_SDXC)
 4068              		.loc 1 2466 22
 4069 0198 7B68     		ldr	r3, [r7, #4]
 4070 019a DB6B     		ldr	r3, [r3, #60]
 4071              		.loc 1 2466 10
 4072 019c 012B     		cmp	r3, #1
 4073 019e 1DD1     		bne	.L177
2467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Byte 7 */
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
 4074              		.loc 1 2469 35
 4075 01a0 7B68     		ldr	r3, [r7, #4]
 4076 01a2 5B6E     		ldr	r3, [r3, #100]
 4077              		.loc 1 2469 54
 4078 01a4 1B04     		lsls	r3, r3, #16
 4079 01a6 03F47C12 		and	r2, r3, #4128768
 4080              		.loc 1 2469 74
 4081 01aa 7B68     		ldr	r3, [r7, #4]
 4082 01ac 9B6E     		ldr	r3, [r3, #104]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 117


 4083              		.loc 1 2469 93
 4084 01ae 1B0C     		lsrs	r3, r3, #16
 4085              		.loc 1 2469 62
 4086 01b0 1A43     		orrs	r2, r2, r3
 4087              		.loc 1 2469 22
 4088 01b2 3B68     		ldr	r3, [r7]
 4089 01b4 1A61     		str	r2, [r3, #16]
2470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
 4090              		.loc 1 2471 34
 4091 01b6 3B68     		ldr	r3, [r7]
 4092 01b8 1B69     		ldr	r3, [r3, #16]
 4093              		.loc 1 2471 47
 4094 01ba 0133     		adds	r3, r3, #1
 4095              		.loc 1 2471 53
 4096 01bc 9A02     		lsls	r2, r3, #10
 4097              		.loc 1 2471 26
 4098 01be 7B68     		ldr	r3, [r7, #4]
 4099 01c0 DA64     		str	r2, [r3, #76]
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4100              		.loc 1 2472 42
 4101 01c2 7B68     		ldr	r3, [r7, #4]
 4102 01c4 DA6C     		ldr	r2, [r3, #76]
 4103              		.loc 1 2472 29
 4104 01c6 7B68     		ldr	r3, [r7, #4]
 4105 01c8 5A65     		str	r2, [r3, #84]
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4106              		.loc 1 2473 27
 4107 01ca 7B68     		ldr	r3, [r7, #4]
 4108 01cc 4FF40072 		mov	r2, #512
 4109 01d0 1A65     		str	r2, [r3, #80]
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4110              		.loc 1 2474 43
 4111 01d2 7B68     		ldr	r3, [r7, #4]
 4112 01d4 1A6D     		ldr	r2, [r3, #80]
 4113              		.loc 1 2474 30
 4114 01d6 7B68     		ldr	r3, [r7, #4]
 4115 01d8 9A65     		str	r2, [r3, #88]
 4116 01da 0FE0     		b	.L176
 4117              	.L177:
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4118              		.loc 1 2479 5
 4119 01dc 7B68     		ldr	r3, [r7, #4]
 4120 01de 1B68     		ldr	r3, [r3]
 4121 01e0 584A     		ldr	r2, .L179
 4122 01e2 9A63     		str	r2, [r3, #56]
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4123              		.loc 1 2480 20
 4124 01e4 7B68     		ldr	r3, [r7, #4]
 4125 01e6 9B6B     		ldr	r3, [r3, #56]
 4126 01e8 43F08052 		orr	r2, r3, #268435456
 4127 01ec 7B68     		ldr	r3, [r7, #4]
 4128 01ee 9A63     		str	r2, [r3, #56]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 118


2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4129              		.loc 1 2481 16
 4130 01f0 7B68     		ldr	r3, [r7, #4]
 4131 01f2 0122     		movs	r2, #1
 4132 01f4 83F83420 		strb	r2, [r3, #52]
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4133              		.loc 1 2482 12
 4134 01f8 0123     		movs	r3, #1
 4135 01fa 9DE0     		b	.L178
 4136              	.L176:
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
 4137              		.loc 1 2485 42
 4138 01fc 7B68     		ldr	r3, [r7, #4]
 4139 01fe 9B6E     		ldr	r3, [r3, #104]
 4140              		.loc 1 2485 61
 4141 0200 9B0B     		lsrs	r3, r3, #14
 4142              		.loc 1 2485 23
 4143 0202 DBB2     		uxtb	r3, r3
 4144 0204 03F00103 		and	r3, r3, #1
 4145 0208 DAB2     		uxtb	r2, r3
 4146              		.loc 1 2485 21
 4147 020a 3B68     		ldr	r3, [r7]
 4148 020c 5A76     		strb	r2, [r3, #25]
2486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
 4149              		.loc 1 2487 41
 4150 020e 7B68     		ldr	r3, [r7, #4]
 4151 0210 9B6E     		ldr	r3, [r3, #104]
 4152              		.loc 1 2487 60
 4153 0212 DB09     		lsrs	r3, r3, #7
 4154              		.loc 1 2487 22
 4155 0214 DBB2     		uxtb	r3, r3
 4156 0216 03F07F03 		and	r3, r3, #127
 4157 021a DAB2     		uxtb	r2, r3
 4158              		.loc 1 2487 20
 4159 021c 3B68     		ldr	r3, [r7]
 4160 021e 9A76     		strb	r2, [r3, #26]
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
 4161              		.loc 1 2489 45
 4162 0220 7B68     		ldr	r3, [r7, #4]
 4163 0222 9B6E     		ldr	r3, [r3, #104]
 4164              		.loc 1 2489 27
 4165 0224 DBB2     		uxtb	r3, r3
 4166 0226 03F07F03 		and	r3, r3, #127
 4167 022a DAB2     		uxtb	r2, r3
 4168              		.loc 1 2489 25
 4169 022c 3B68     		ldr	r3, [r7]
 4170 022e DA76     		strb	r2, [r3, #27]
2490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
 4171              		.loc 1 2491 48
 4172 0230 7B68     		ldr	r3, [r7, #4]
 4173 0232 DB6E     		ldr	r3, [r3, #108]
 4174              		.loc 1 2491 67
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 119


 4175 0234 DB0F     		lsrs	r3, r3, #31
 4176              		.loc 1 2491 29
 4177 0236 DAB2     		uxtb	r2, r3
 4178              		.loc 1 2491 27
 4179 0238 3B68     		ldr	r3, [r7]
 4180 023a 1A77     		strb	r2, [r3, #28]
2492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
 4181              		.loc 1 2493 41
 4182 023c 7B68     		ldr	r3, [r7, #4]
 4183 023e DB6E     		ldr	r3, [r3, #108]
 4184              		.loc 1 2493 60
 4185 0240 5B0F     		lsrs	r3, r3, #29
 4186              		.loc 1 2493 22
 4187 0242 DBB2     		uxtb	r3, r3
 4188 0244 03F00303 		and	r3, r3, #3
 4189 0248 DAB2     		uxtb	r2, r3
 4190              		.loc 1 2493 20
 4191 024a 3B68     		ldr	r3, [r7]
 4192 024c 5A77     		strb	r2, [r3, #29]
2494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
 4193              		.loc 1 2495 42
 4194 024e 7B68     		ldr	r3, [r7, #4]
 4195 0250 DB6E     		ldr	r3, [r3, #108]
 4196              		.loc 1 2495 61
 4197 0252 9B0E     		lsrs	r3, r3, #26
 4198              		.loc 1 2495 23
 4199 0254 DBB2     		uxtb	r3, r3
 4200 0256 03F00703 		and	r3, r3, #7
 4201 025a DAB2     		uxtb	r2, r3
 4202              		.loc 1 2495 21
 4203 025c 3B68     		ldr	r3, [r7]
 4204 025e 9A77     		strb	r2, [r3, #30]
2496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->MaxWrBlockLen= (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
 4205              		.loc 1 2497 43
 4206 0260 7B68     		ldr	r3, [r7, #4]
 4207 0262 DB6E     		ldr	r3, [r3, #108]
 4208              		.loc 1 2497 62
 4209 0264 9B0D     		lsrs	r3, r3, #22
 4210              		.loc 1 2497 24
 4211 0266 DBB2     		uxtb	r3, r3
 4212 0268 03F00F03 		and	r3, r3, #15
 4213 026c DAB2     		uxtb	r2, r3
 4214              		.loc 1 2497 22
 4215 026e 3B68     		ldr	r3, [r7]
 4216 0270 DA77     		strb	r2, [r3, #31]
2498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
 4217              		.loc 1 2499 50
 4218 0272 7B68     		ldr	r3, [r7, #4]
 4219 0274 DB6E     		ldr	r3, [r3, #108]
 4220              		.loc 1 2499 69
 4221 0276 5B0D     		lsrs	r3, r3, #21
 4222              		.loc 1 2499 31
 4223 0278 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 120


 4224 027a 03F00103 		and	r3, r3, #1
 4225 027e DAB2     		uxtb	r2, r3
 4226              		.loc 1 2499 29
 4227 0280 3B68     		ldr	r3, [r7]
 4228 0282 83F82020 		strb	r2, [r3, #32]
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved3 = 0;
 4229              		.loc 1 2501 19
 4230 0286 3B68     		ldr	r3, [r7]
 4231 0288 0022     		movs	r2, #0
 4232 028a 83F82120 		strb	r2, [r3, #33]
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
 4233              		.loc 1 2503 50
 4234 028e 7B68     		ldr	r3, [r7, #4]
 4235 0290 DB6E     		ldr	r3, [r3, #108]
 4236              		.loc 1 2503 69
 4237 0292 1B0C     		lsrs	r3, r3, #16
 4238              		.loc 1 2503 31
 4239 0294 DBB2     		uxtb	r3, r3
 4240 0296 03F00103 		and	r3, r3, #1
 4241 029a DAB2     		uxtb	r2, r3
 4242              		.loc 1 2503 29
 4243 029c 3B68     		ldr	r3, [r7]
 4244 029e 83F82220 		strb	r2, [r3, #34]
2504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
 4245              		.loc 1 2505 46
 4246 02a2 7B68     		ldr	r3, [r7, #4]
 4247 02a4 DB6E     		ldr	r3, [r3, #108]
 4248              		.loc 1 2505 65
 4249 02a6 DB0B     		lsrs	r3, r3, #15
 4250              		.loc 1 2505 27
 4251 02a8 DBB2     		uxtb	r3, r3
 4252 02aa 03F00103 		and	r3, r3, #1
 4253 02ae DAB2     		uxtb	r2, r3
 4254              		.loc 1 2505 25
 4255 02b0 3B68     		ldr	r3, [r7]
 4256 02b2 83F82320 		strb	r2, [r3, #35]
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
 4257              		.loc 1 2507 39
 4258 02b6 7B68     		ldr	r3, [r7, #4]
 4259 02b8 DB6E     		ldr	r3, [r3, #108]
 4260              		.loc 1 2507 58
 4261 02ba 9B0B     		lsrs	r3, r3, #14
 4262              		.loc 1 2507 20
 4263 02bc DBB2     		uxtb	r3, r3
 4264 02be 03F00103 		and	r3, r3, #1
 4265 02c2 DAB2     		uxtb	r2, r3
 4266              		.loc 1 2507 18
 4267 02c4 3B68     		ldr	r3, [r7]
 4268 02c6 83F82420 		strb	r2, [r3, #36]
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
 4269              		.loc 1 2509 44
 4270 02ca 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 121


 4271 02cc DB6E     		ldr	r3, [r3, #108]
 4272              		.loc 1 2509 63
 4273 02ce 5B0B     		lsrs	r3, r3, #13
 4274              		.loc 1 2509 25
 4275 02d0 DBB2     		uxtb	r3, r3
 4276 02d2 03F00103 		and	r3, r3, #1
 4277 02d6 DAB2     		uxtb	r2, r3
 4278              		.loc 1 2509 23
 4279 02d8 3B68     		ldr	r3, [r7]
 4280 02da 83F82520 		strb	r2, [r3, #37]
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
 4281              		.loc 1 2511 44
 4282 02de 7B68     		ldr	r3, [r7, #4]
 4283 02e0 DB6E     		ldr	r3, [r3, #108]
 4284              		.loc 1 2511 63
 4285 02e2 1B0B     		lsrs	r3, r3, #12
 4286              		.loc 1 2511 25
 4287 02e4 DBB2     		uxtb	r3, r3
 4288 02e6 03F00103 		and	r3, r3, #1
 4289 02ea DAB2     		uxtb	r2, r3
 4290              		.loc 1 2511 23
 4291 02ec 3B68     		ldr	r3, [r7]
 4292 02ee 83F82620 		strb	r2, [r3, #38]
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
 4293              		.loc 1 2513 41
 4294 02f2 7B68     		ldr	r3, [r7, #4]
 4295 02f4 DB6E     		ldr	r3, [r3, #108]
 4296              		.loc 1 2513 60
 4297 02f6 9B0A     		lsrs	r3, r3, #10
 4298              		.loc 1 2513 22
 4299 02f8 DBB2     		uxtb	r3, r3
 4300 02fa 03F00303 		and	r3, r3, #3
 4301 02fe DAB2     		uxtb	r2, r3
 4302              		.loc 1 2513 20
 4303 0300 3B68     		ldr	r3, [r7]
 4304 0302 83F82720 		strb	r2, [r3, #39]
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->ECC= (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
 4305              		.loc 1 2515 33
 4306 0306 7B68     		ldr	r3, [r7, #4]
 4307 0308 DB6E     		ldr	r3, [r3, #108]
 4308              		.loc 1 2515 52
 4309 030a 1B0A     		lsrs	r3, r3, #8
 4310              		.loc 1 2515 14
 4311 030c DBB2     		uxtb	r3, r3
 4312 030e 03F00303 		and	r3, r3, #3
 4313 0312 DAB2     		uxtb	r2, r3
 4314              		.loc 1 2515 12
 4315 0314 3B68     		ldr	r3, [r7]
 4316 0316 83F82820 		strb	r2, [r3, #40]
2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
 4317              		.loc 1 2517 38
 4318 031a 7B68     		ldr	r3, [r7, #4]
 4319 031c DB6E     		ldr	r3, [r3, #108]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 122


 4320              		.loc 1 2517 57
 4321 031e 5B08     		lsrs	r3, r3, #1
 4322              		.loc 1 2517 19
 4323 0320 DBB2     		uxtb	r3, r3
 4324 0322 03F07F03 		and	r3, r3, #127
 4325 0326 DAB2     		uxtb	r2, r3
 4326              		.loc 1 2517 17
 4327 0328 3B68     		ldr	r3, [r7]
 4328 032a 83F82920 		strb	r2, [r3, #41]
2518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved4 = 1;
 4329              		.loc 1 2519 19
 4330 032e 3B68     		ldr	r3, [r7]
 4331 0330 0122     		movs	r2, #1
 4332 0332 83F82A20 		strb	r2, [r3, #42]
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 4333              		.loc 1 2521 10
 4334 0336 0023     		movs	r3, #0
 4335              	.L178:
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4336              		.loc 1 2522 1
 4337 0338 1846     		mov	r0, r3
 4338 033a 0C37     		adds	r7, r7, #12
 4339              		.cfi_def_cfa_offset 4
 4340 033c BD46     		mov	sp, r7
 4341              		.cfi_def_cfa_register 13
 4342              		@ sp needed
 4343 033e 5DF8047B 		ldr	r7, [sp], #4
 4344              		.cfi_restore 7
 4345              		.cfi_def_cfa_offset 0
 4346 0342 7047     		bx	lr
 4347              	.L180:
 4348              		.align	2
 4349              	.L179:
 4350 0344 FF0FE01F 		.word	534777855
 4351              		.cfi_endproc
 4352              	.LFE341:
 4354              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 4355              		.align	1
 4356              		.global	HAL_SD_GetCardStatus
 4357              		.syntax unified
 4358              		.thumb
 4359              		.thumb_func
 4361              	HAL_SD_GetCardStatus:
 4362              	.LFB342:
2523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Gets the SD status info.
2526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pStatus Pointer to the HAL_SD_CardStatusTypeDef structure that
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         will contain the SD card status information
2529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 4363              		.loc 1 2532 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 123


 4364              		.cfi_startproc
 4365              		@ args = 0, pretend = 0, frame = 80
 4366              		@ frame_needed = 1, uses_anonymous_args = 0
 4367 0000 80B5     		push	{r7, lr}
 4368              		.cfi_def_cfa_offset 8
 4369              		.cfi_offset 7, -8
 4370              		.cfi_offset 14, -4
 4371 0002 94B0     		sub	sp, sp, #80
 4372              		.cfi_def_cfa_offset 88
 4373 0004 00AF     		add	r7, sp, #0
 4374              		.cfi_def_cfa_register 7
 4375 0006 7860     		str	r0, [r7, #4]
 4376 0008 3960     		str	r1, [r7]
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sd_status[16];
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 4377              		.loc 1 2535 21
 4378 000a 0023     		movs	r3, #0
 4379 000c 87F84F30 		strb	r3, [r7, #79]
2536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
 4380              		.loc 1 2537 16
 4381 0010 07F10803 		add	r3, r7, #8
 4382 0014 1946     		mov	r1, r3
 4383 0016 7868     		ldr	r0, [r7, #4]
 4384 0018 FFF7FEFF 		bl	SD_SendSDStatus
 4385 001c B864     		str	r0, [r7, #72]
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4386              		.loc 1 2538 5
 4387 001e BB6C     		ldr	r3, [r7, #72]
 4388 0020 002B     		cmp	r3, #0
 4389 0022 11D0     		beq	.L182
2539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4390              		.loc 1 2541 5
 4391 0024 7B68     		ldr	r3, [r7, #4]
 4392 0026 1B68     		ldr	r3, [r3]
 4393 0028 4F4A     		ldr	r2, .L186
 4394 002a 9A63     		str	r2, [r3, #56]
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4395              		.loc 1 2542 20
 4396 002c 7B68     		ldr	r3, [r7, #4]
 4397 002e 9A6B     		ldr	r2, [r3, #56]
 4398 0030 BB6C     		ldr	r3, [r7, #72]
 4399 0032 1A43     		orrs	r2, r2, r3
 4400 0034 7B68     		ldr	r3, [r7, #4]
 4401 0036 9A63     		str	r2, [r3, #56]
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4402              		.loc 1 2543 16
 4403 0038 7B68     		ldr	r3, [r7, #4]
 4404 003a 0122     		movs	r2, #1
 4405 003c 83F83420 		strb	r2, [r3, #52]
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 4406              		.loc 1 2544 12
 4407 0040 0123     		movs	r3, #1
 4408 0042 87F84F30 		strb	r3, [r7, #79]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 124


 4409 0046 70E0     		b	.L183
 4410              	.L182:
2545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
 4411              		.loc 1 2548 49
 4412 0048 BB68     		ldr	r3, [r7, #8]
 4413              		.loc 1 2548 62
 4414 004a 9B09     		lsrs	r3, r3, #6
 4415              		.loc 1 2548 29
 4416 004c DBB2     		uxtb	r3, r3
 4417 004e 03F00303 		and	r3, r3, #3
 4418 0052 DAB2     		uxtb	r2, r3
 4419              		.loc 1 2548 27
 4420 0054 3B68     		ldr	r3, [r7]
 4421 0056 1A70     		strb	r2, [r3]
2549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
 4422              		.loc 1 2550 48
 4423 0058 BB68     		ldr	r3, [r7, #8]
 4424              		.loc 1 2550 61
 4425 005a 5B09     		lsrs	r3, r3, #5
 4426              		.loc 1 2550 28
 4427 005c DBB2     		uxtb	r3, r3
 4428 005e 03F00103 		and	r3, r3, #1
 4429 0062 DAB2     		uxtb	r2, r3
 4430              		.loc 1 2550 26
 4431 0064 3B68     		ldr	r3, [r7]
 4432 0066 5A70     		strb	r2, [r3, #1]
2551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
 4433              		.loc 1 2552 47
 4434 0068 BB68     		ldr	r3, [r7, #8]
 4435              		.loc 1 2552 66
 4436 006a 1B0A     		lsrs	r3, r3, #8
 4437              		.loc 1 2552 25
 4438 006c 9BB2     		uxth	r3, r3
 4439 006e 23F0FF03 		bic	r3, r3, #255
 4440 0072 9AB2     		uxth	r2, r3
 4441              		.loc 1 2552 86
 4442 0074 BB68     		ldr	r3, [r7, #8]
 4443              		.loc 1 2552 105
 4444 0076 1B0E     		lsrs	r3, r3, #24
 4445              		.loc 1 2552 25
 4446 0078 9BB2     		uxth	r3, r3
 4447 007a 1343     		orrs	r3, r3, r2
 4448 007c 9AB2     		uxth	r2, r3
 4449              		.loc 1 2552 23
 4450 007e 3B68     		ldr	r3, [r7]
 4451 0080 5A80     		strh	r2, [r3, #2]	@ movhi
2553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
 4452              		.loc 1 2554 46
 4453 0082 FB68     		ldr	r3, [r7, #12]
 4454              		.loc 1 2554 59
 4455 0084 1A06     		lsls	r2, r3, #24
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 125


 4456              		.loc 1 2554 83
 4457 0086 FB68     		ldr	r3, [r7, #12]
 4458              		.loc 1 2554 98
 4459 0088 1B02     		lsls	r3, r3, #8
 4460 008a 03F47F03 		and	r3, r3, #16711680
 4461              		.loc 1 2554 70
 4462 008e 1A43     		orrs	r2, r2, r3
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 4463              		.loc 1 2555 46
 4464 0090 FB68     		ldr	r3, [r7, #12]
 4465              		.loc 1 2555 63
 4466 0092 1B0A     		lsrs	r3, r3, #8
 4467 0094 03F47F43 		and	r3, r3, #65280
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 4468              		.loc 1 2554 105
 4469 0098 1A43     		orrs	r2, r2, r3
 4470              		.loc 1 2555 83
 4471 009a FB68     		ldr	r3, [r7, #12]
 4472              		.loc 1 2555 102
 4473 009c 1B0E     		lsrs	r3, r3, #24
 4474              		.loc 1 2555 70
 4475 009e 1A43     		orrs	r2, r2, r3
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 4476              		.loc 1 2554 32
 4477 00a0 3B68     		ldr	r3, [r7]
 4478 00a2 5A60     		str	r2, [r3, #4]
2556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
 4479              		.loc 1 2557 46
 4480 00a4 3B69     		ldr	r3, [r7, #16]
 4481              		.loc 1 2557 27
 4482 00a6 DAB2     		uxtb	r2, r3
 4483              		.loc 1 2557 25
 4484 00a8 3B68     		ldr	r3, [r7]
 4485 00aa 1A72     		strb	r2, [r3, #8]
2558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
 4486              		.loc 1 2559 52
 4487 00ac 3B69     		ldr	r3, [r7, #16]
 4488              		.loc 1 2559 67
 4489 00ae 1B0A     		lsrs	r3, r3, #8
 4490              		.loc 1 2559 32
 4491 00b0 DAB2     		uxtb	r2, r3
 4492              		.loc 1 2559 30
 4493 00b2 3B68     		ldr	r3, [r7]
 4494 00b4 5A72     		strb	r2, [r3, #9]
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
 4495              		.loc 1 2561 55
 4496 00b6 3B69     		ldr	r3, [r7, #16]
 4497              		.loc 1 2561 72
 4498 00b8 1B0D     		lsrs	r3, r3, #20
 4499              		.loc 1 2561 35
 4500 00ba DBB2     		uxtb	r3, r3
 4501 00bc 03F00F03 		and	r3, r3, #15
 4502 00c0 DAB2     		uxtb	r2, r3
 4503              		.loc 1 2561 33
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 126


 4504 00c2 3B68     		ldr	r3, [r7]
 4505 00c4 9A72     		strb	r2, [r3, #10]
2562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
 4506              		.loc 1 2563 48
 4507 00c6 3B69     		ldr	r3, [r7, #16]
 4508              		.loc 1 2563 67
 4509 00c8 1B0C     		lsrs	r3, r3, #16
 4510              		.loc 1 2563 26
 4511 00ca 9BB2     		uxth	r3, r3
 4512 00cc 23F0FF03 		bic	r3, r3, #255
 4513 00d0 9AB2     		uxth	r2, r3
 4514              		.loc 1 2563 87
 4515 00d2 7B69     		ldr	r3, [r7, #20]
 4516              		.loc 1 2563 91
 4517 00d4 9BB2     		uxth	r3, r3
 4518 00d6 DBB2     		uxtb	r3, r3
 4519 00d8 9BB2     		uxth	r3, r3
 4520              		.loc 1 2563 26
 4521 00da 1343     		orrs	r3, r3, r2
 4522 00dc 9AB2     		uxth	r2, r3
 4523              		.loc 1 2563 24
 4524 00de 3B68     		ldr	r3, [r7]
 4525 00e0 9A81     		strh	r2, [r3, #12]	@ movhi
2564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
 4526              		.loc 1 2565 49
 4527 00e2 7B69     		ldr	r3, [r7, #20]
 4528              		.loc 1 2565 64
 4529 00e4 9B0A     		lsrs	r3, r3, #10
 4530              		.loc 1 2565 29
 4531 00e6 DBB2     		uxtb	r3, r3
 4532 00e8 03F03F03 		and	r3, r3, #63
 4533 00ec DAB2     		uxtb	r2, r3
 4534              		.loc 1 2565 27
 4535 00ee 3B68     		ldr	r3, [r7]
 4536 00f0 9A73     		strb	r2, [r3, #14]
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
 4537              		.loc 1 2567 48
 4538 00f2 7B69     		ldr	r3, [r7, #20]
 4539              		.loc 1 2567 63
 4540 00f4 1B0A     		lsrs	r3, r3, #8
 4541              		.loc 1 2567 28
 4542 00f6 DBB2     		uxtb	r3, r3
 4543 00f8 03F00303 		and	r3, r3, #3
 4544 00fc DAB2     		uxtb	r2, r3
 4545              		.loc 1 2567 26
 4546 00fe 3B68     		ldr	r3, [r7]
 4547 0100 DA73     		strb	r2, [r3, #15]
2568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->UhsSpeedGrade = (uint8_t)((sd_status[3] & 0x00F0U) >> 4U);
 4548              		.loc 1 2570 50
 4549 0102 7B69     		ldr	r3, [r7, #20]
 4550              		.loc 1 2570 65
 4551 0104 1B09     		lsrs	r3, r3, #4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 127


 4552              		.loc 1 2570 30
 4553 0106 DBB2     		uxtb	r3, r3
 4554 0108 03F00F03 		and	r3, r3, #15
 4555 010c DAB2     		uxtb	r2, r3
 4556              		.loc 1 2570 28
 4557 010e 3B68     		ldr	r3, [r7]
 4558 0110 1A74     		strb	r2, [r3, #16]
2571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 4559              		.loc 1 2571 57
 4560 0112 7B69     		ldr	r3, [r7, #20]
 4561              		.loc 1 2571 38
 4562 0114 DBB2     		uxtb	r3, r3
 4563 0116 03F00F03 		and	r3, r3, #15
 4564 011a DAB2     		uxtb	r2, r3
 4565              		.loc 1 2571 36
 4566 011c 3B68     		ldr	r3, [r7]
 4567 011e 5A74     		strb	r2, [r3, #17]
2572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 4568              		.loc 1 2572 52
 4569 0120 BB69     		ldr	r3, [r7, #24]
 4570              		.loc 1 2572 71
 4571 0122 1B0E     		lsrs	r3, r3, #24
 4572              		.loc 1 2572 32
 4573 0124 DAB2     		uxtb	r2, r3
 4574              		.loc 1 2572 30
 4575 0126 3B68     		ldr	r3, [r7]
 4576 0128 9A74     		strb	r2, [r3, #18]
 4577              	.L183:
2573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 4578              		.loc 1 2577 16
 4579 012a 7B68     		ldr	r3, [r7, #4]
 4580 012c 1B68     		ldr	r3, [r3]
 4581 012e 4FF40071 		mov	r1, #512
 4582 0132 1846     		mov	r0, r3
 4583 0134 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4584 0138 B864     		str	r0, [r7, #72]
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4585              		.loc 1 2578 5
 4586 013a BB6C     		ldr	r3, [r7, #72]
 4587 013c 002B     		cmp	r3, #0
 4588 013e 0DD0     		beq	.L184
2579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4589              		.loc 1 2581 5
 4590 0140 7B68     		ldr	r3, [r7, #4]
 4591 0142 1B68     		ldr	r3, [r3]
 4592 0144 084A     		ldr	r2, .L186
 4593 0146 9A63     		str	r2, [r3, #56]
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 4594              		.loc 1 2582 20
 4595 0148 7B68     		ldr	r3, [r7, #4]
 4596 014a BA6C     		ldr	r2, [r7, #72]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 128


 4597 014c 9A63     		str	r2, [r3, #56]
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4598              		.loc 1 2583 16
 4599 014e 7B68     		ldr	r3, [r7, #4]
 4600 0150 0122     		movs	r2, #1
 4601 0152 83F83420 		strb	r2, [r3, #52]
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 4602              		.loc 1 2584 12
 4603 0156 0123     		movs	r3, #1
 4604 0158 87F84F30 		strb	r3, [r7, #79]
 4605              	.L184:
2585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
 4606              		.loc 1 2587 10
 4607 015c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4608              		.loc 1 2588 1
 4609 0160 1846     		mov	r0, r3
 4610 0162 5037     		adds	r7, r7, #80
 4611              		.cfi_def_cfa_offset 8
 4612 0164 BD46     		mov	sp, r7
 4613              		.cfi_def_cfa_register 13
 4614              		@ sp needed
 4615 0166 80BD     		pop	{r7, pc}
 4616              	.L187:
 4617              		.align	2
 4618              	.L186:
 4619 0168 FF0FE01F 		.word	534777855
 4620              		.cfi_endproc
 4621              	.LFE342:
 4623              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 4624              		.align	1
 4625              		.global	HAL_SD_GetCardInfo
 4626              		.syntax unified
 4627              		.thumb
 4628              		.thumb_func
 4630              	HAL_SD_GetCardInfo:
 4631              	.LFB343:
2589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Gets the SD card info.
2592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCardInfo Pointer to the HAL_SD_CardInfoTypeDef structure that
2594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         will contain the SD card status information
2595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 4632              		.loc 1 2598 1
 4633              		.cfi_startproc
 4634              		@ args = 0, pretend = 0, frame = 8
 4635              		@ frame_needed = 1, uses_anonymous_args = 0
 4636              		@ link register save eliminated.
 4637 0000 80B4     		push	{r7}
 4638              		.cfi_def_cfa_offset 4
 4639              		.cfi_offset 7, -4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 129


 4640 0002 83B0     		sub	sp, sp, #12
 4641              		.cfi_def_cfa_offset 16
 4642 0004 00AF     		add	r7, sp, #0
 4643              		.cfi_def_cfa_register 7
 4644 0006 7860     		str	r0, [r7, #4]
 4645 0008 3960     		str	r1, [r7]
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 4646              		.loc 1 2599 51
 4647 000a 7B68     		ldr	r3, [r7, #4]
 4648 000c DA6B     		ldr	r2, [r3, #60]
 4649              		.loc 1 2599 27
 4650 000e 3B68     		ldr	r3, [r7]
 4651 0010 1A60     		str	r2, [r3]
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 4652              		.loc 1 2600 51
 4653 0012 7B68     		ldr	r3, [r7, #4]
 4654 0014 1A6C     		ldr	r2, [r3, #64]
 4655              		.loc 1 2600 27
 4656 0016 3B68     		ldr	r3, [r7]
 4657 0018 5A60     		str	r2, [r3, #4]
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 4658              		.loc 1 2601 51
 4659 001a 7B68     		ldr	r3, [r7, #4]
 4660 001c 5A6C     		ldr	r2, [r3, #68]
 4661              		.loc 1 2601 27
 4662 001e 3B68     		ldr	r3, [r7]
 4663 0020 9A60     		str	r2, [r3, #8]
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 4664              		.loc 1 2602 51
 4665 0022 7B68     		ldr	r3, [r7, #4]
 4666 0024 9A6C     		ldr	r2, [r3, #72]
 4667              		.loc 1 2602 27
 4668 0026 3B68     		ldr	r3, [r7]
 4669 0028 DA60     		str	r2, [r3, #12]
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 4670              		.loc 1 2603 51
 4671 002a 7B68     		ldr	r3, [r7, #4]
 4672 002c DA6C     		ldr	r2, [r3, #76]
 4673              		.loc 1 2603 27
 4674 002e 3B68     		ldr	r3, [r7]
 4675 0030 1A61     		str	r2, [r3, #16]
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 4676              		.loc 1 2604 51
 4677 0032 7B68     		ldr	r3, [r7, #4]
 4678 0034 1A6D     		ldr	r2, [r3, #80]
 4679              		.loc 1 2604 27
 4680 0036 3B68     		ldr	r3, [r7]
 4681 0038 5A61     		str	r2, [r3, #20]
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 4682              		.loc 1 2605 51
 4683 003a 7B68     		ldr	r3, [r7, #4]
 4684 003c 5A6D     		ldr	r2, [r3, #84]
 4685              		.loc 1 2605 27
 4686 003e 3B68     		ldr	r3, [r7]
 4687 0040 9A61     		str	r2, [r3, #24]
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 4688              		.loc 1 2606 51
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 130


 4689 0042 7B68     		ldr	r3, [r7, #4]
 4690 0044 9A6D     		ldr	r2, [r3, #88]
 4691              		.loc 1 2606 27
 4692 0046 3B68     		ldr	r3, [r7]
 4693 0048 DA61     		str	r2, [r3, #28]
2607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 4694              		.loc 1 2608 10
 4695 004a 0023     		movs	r3, #0
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4696              		.loc 1 2609 1
 4697 004c 1846     		mov	r0, r3
 4698 004e 0C37     		adds	r7, r7, #12
 4699              		.cfi_def_cfa_offset 4
 4700 0050 BD46     		mov	sp, r7
 4701              		.cfi_def_cfa_register 13
 4702              		@ sp needed
 4703 0052 5DF8047B 		ldr	r7, [sp], #4
 4704              		.cfi_restore 7
 4705              		.cfi_def_cfa_offset 0
 4706 0056 7047     		bx	lr
 4707              		.cfi_endproc
 4708              	.LFE343:
 4710              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 4711              		.align	1
 4712              		.global	HAL_SD_ConfigWideBusOperation
 4713              		.syntax unified
 4714              		.thumb
 4715              		.thumb_func
 4717              	HAL_SD_ConfigWideBusOperation:
 4718              	.LFB344:
2610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         card.
2614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  WideMode Specifies the SD card wide bus mode
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          This parameter can be one of the following values:
2617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 4719              		.loc 1 2623 1
 4720              		.cfi_startproc
 4721              		@ args = 0, pretend = 0, frame = 48
 4722              		@ frame_needed = 1, uses_anonymous_args = 0
 4723 0000 B0B5     		push	{r4, r5, r7, lr}
 4724              		.cfi_def_cfa_offset 16
 4725              		.cfi_offset 4, -16
 4726              		.cfi_offset 5, -12
 4727              		.cfi_offset 7, -8
 4728              		.cfi_offset 14, -4
 4729 0002 90B0     		sub	sp, sp, #64
 4730              		.cfi_def_cfa_offset 80
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 131


 4731 0004 04AF     		add	r7, sp, #16
 4732              		.cfi_def_cfa 7, 64
 4733 0006 7860     		str	r0, [r7, #4]
 4734 0008 3960     		str	r1, [r7]
2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sdmmc_clk;
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 4735              		.loc 1 2627 21
 4736 000a 0023     		movs	r3, #0
 4737 000c 87F82F30 		strb	r3, [r7, #47]
2628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 4738              		.loc 1 2633 14
 4739 0010 7B68     		ldr	r3, [r7, #4]
 4740 0012 0322     		movs	r2, #3
 4741 0014 83F83420 		strb	r2, [r3, #52]
2634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
 4742              		.loc 1 2635 17
 4743 0018 7B68     		ldr	r3, [r7, #4]
 4744 001a DB6B     		ldr	r3, [r3, #60]
 4745              		.loc 1 2635 5
 4746 001c 032B     		cmp	r3, #3
 4747 001e 2ED0     		beq	.L191
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(WideMode == SDMMC_BUS_WIDE_8B)
 4748              		.loc 1 2637 7
 4749 0020 3B68     		ldr	r3, [r7]
 4750 0022 B3F5004F 		cmp	r3, #32768
 4751 0026 06D1     		bne	.L192
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4752              		.loc 1 2639 22
 4753 0028 7B68     		ldr	r3, [r7, #4]
 4754 002a 9B6B     		ldr	r3, [r3, #56]
 4755 002c 43F08052 		orr	r2, r3, #268435456
 4756 0030 7B68     		ldr	r3, [r7, #4]
 4757 0032 9A63     		str	r2, [r3, #56]
 4758 0034 29E0     		b	.L193
 4759              	.L192:
2640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(WideMode == SDMMC_BUS_WIDE_4B)
 4760              		.loc 1 2641 12
 4761 0036 3B68     		ldr	r3, [r7]
 4762 0038 B3F5804F 		cmp	r3, #16384
 4763 003c 0AD1     		bne	.L194
2642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
 4764              		.loc 1 2643 20
 4765 003e 7868     		ldr	r0, [r7, #4]
 4766 0040 FFF7FEFF 		bl	SD_WideBus_Enable
 4767 0044 B862     		str	r0, [r7, #40]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 132


2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 4768              		.loc 1 2645 22
 4769 0046 7B68     		ldr	r3, [r7, #4]
 4770 0048 9A6B     		ldr	r2, [r3, #56]
 4771 004a BB6A     		ldr	r3, [r7, #40]
 4772 004c 1A43     		orrs	r2, r2, r3
 4773 004e 7B68     		ldr	r3, [r7, #4]
 4774 0050 9A63     		str	r2, [r3, #56]
 4775 0052 1AE0     		b	.L193
 4776              	.L194:
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(WideMode == SDMMC_BUS_WIDE_1B)
 4777              		.loc 1 2647 12
 4778 0054 3B68     		ldr	r3, [r7]
 4779 0056 002B     		cmp	r3, #0
 4780 0058 0AD1     		bne	.L195
2648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
 4781              		.loc 1 2649 20
 4782 005a 7868     		ldr	r0, [r7, #4]
 4783 005c FFF7FEFF 		bl	SD_WideBus_Disable
 4784 0060 B862     		str	r0, [r7, #40]
2650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 4785              		.loc 1 2651 22
 4786 0062 7B68     		ldr	r3, [r7, #4]
 4787 0064 9A6B     		ldr	r2, [r3, #56]
 4788 0066 BB6A     		ldr	r3, [r7, #40]
 4789 0068 1A43     		orrs	r2, r2, r3
 4790 006a 7B68     		ldr	r3, [r7, #4]
 4791 006c 9A63     		str	r2, [r3, #56]
 4792 006e 0CE0     		b	.L193
 4793              	.L195:
2652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
2654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 4794              		.loc 1 2656 22
 4795 0070 7B68     		ldr	r3, [r7, #4]
 4796 0072 9B6B     		ldr	r3, [r3, #56]
 4797 0074 43F00062 		orr	r2, r3, #134217728
 4798 0078 7B68     		ldr	r3, [r7, #4]
 4799 007a 9A63     		str	r2, [r3, #56]
 4800 007c 05E0     		b	.L193
 4801              	.L191:
2657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* MMC Card does not support this feature */
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4802              		.loc 1 2662 20
 4803 007e 7B68     		ldr	r3, [r7, #4]
 4804 0080 9B6B     		ldr	r3, [r3, #56]
 4805 0082 43F08052 		orr	r2, r3, #268435456
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 133


 4806 0086 7B68     		ldr	r3, [r7, #4]
 4807 0088 9A63     		str	r2, [r3, #56]
 4808              	.L193:
2663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
 4809              		.loc 1 2665 9
 4810 008a 7B68     		ldr	r3, [r7, #4]
 4811 008c 9B6B     		ldr	r3, [r3, #56]
 4812              		.loc 1 2665 5
 4813 008e 002B     		cmp	r3, #0
 4814 0090 07D0     		beq	.L196
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4815              		.loc 1 2668 5
 4816 0092 7B68     		ldr	r3, [r7, #4]
 4817 0094 1B68     		ldr	r3, [r3]
 4818 0096 604A     		ldr	r2, .L211
 4819 0098 9A63     		str	r2, [r3, #56]
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 4820              		.loc 1 2669 12
 4821 009a 0123     		movs	r3, #1
 4822 009c 87F82F30 		strb	r3, [r7, #47]
 4823 00a0 97E0     		b	.L197
 4824              	.L196:
2670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_clk = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC1);
 4825              		.loc 1 2673 17
 4826 00a2 4FF40020 		mov	r0, #524288
 4827 00a6 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 4828 00aa 7862     		str	r0, [r7, #36]
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 4829              		.loc 1 2674 8
 4830 00ac 7B6A     		ldr	r3, [r7, #36]
 4831 00ae 002B     		cmp	r3, #0
 4832 00b0 00F08680 		beq	.L198
2675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Configure the SDMMC peripheral */
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.ClockEdge           = hsd->Init.ClockEdge;
 4833              		.loc 1 2677 43
 4834 00b4 7B68     		ldr	r3, [r7, #4]
 4835 00b6 5B68     		ldr	r3, [r3, #4]
 4836              		.loc 1 2677 32
 4837 00b8 FB60     		str	r3, [r7, #12]
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.ClockBypass         = hsd->Init.ClockBypass;
2680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 4838              		.loc 1 2681 43
 4839 00ba 7B68     		ldr	r3, [r7, #4]
 4840 00bc 9B68     		ldr	r3, [r3, #8]
 4841              		.loc 1 2681 32
 4842 00be 3B61     		str	r3, [r7, #16]
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.BusWide             = WideMode;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 134


 4843              		.loc 1 2682 32
 4844 00c0 3B68     		ldr	r3, [r7]
 4845 00c2 7B61     		str	r3, [r7, #20]
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 4846              		.loc 1 2683 43
 4847 00c4 7B68     		ldr	r3, [r7, #4]
 4848 00c6 1B69     		ldr	r3, [r3, #16]
 4849              		.loc 1 2683 32
 4850 00c8 BB61     		str	r3, [r7, #24]
2684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Check if user Clock div < Normal speed 25Mhz, no change in Clockdiv */
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (hsd->Init.ClockDiv >= (sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ)))
 4851              		.loc 1 2687 20
 4852 00ca 7B68     		ldr	r3, [r7, #4]
 4853 00cc 5A69     		ldr	r2, [r3, #20]
 4854              		.loc 1 2687 44
 4855 00ce 7B6A     		ldr	r3, [r7, #36]
 4856 00d0 5249     		ldr	r1, .L211+4
 4857 00d2 A1FB0313 		umull	r1, r3, r1, r3
 4858 00d6 1B0E     		lsrs	r3, r3, #24
 4859              		.loc 1 2687 10
 4860 00d8 9A42     		cmp	r2, r3
 4861 00da 03D3     		bcc	.L199
2688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
 4862              		.loc 1 2689 34
 4863 00dc 7B68     		ldr	r3, [r7, #4]
 4864 00de 5B69     		ldr	r3, [r3, #20]
 4865              		.loc 1 2689 23
 4866 00e0 FB61     		str	r3, [r7, #28]
 4867 00e2 5AE0     		b	.L200
 4868              	.L199:
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
 4869              		.loc 1 2691 27
 4870 00e4 7B68     		ldr	r3, [r7, #4]
 4871 00e6 DB6D     		ldr	r3, [r3, #92]
 4872              		.loc 1 2691 15
 4873 00e8 B3F5007F 		cmp	r3, #512
 4874 00ec 03D1     		bne	.L201
2692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* UltraHigh speed SD card,user Clock div */
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
 4875              		.loc 1 2694 34
 4876 00ee 7B68     		ldr	r3, [r7, #4]
 4877 00f0 5B69     		ldr	r3, [r3, #20]
 4878              		.loc 1 2694 23
 4879 00f2 FB61     		str	r3, [r7, #28]
 4880 00f4 51E0     		b	.L200
 4881              	.L201:
2695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
 4882              		.loc 1 2696 27
 4883 00f6 7B68     		ldr	r3, [r7, #4]
 4884 00f8 DB6D     		ldr	r3, [r3, #92]
 4885              		.loc 1 2696 15
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 135


 4886 00fa B3F5807F 		cmp	r3, #256
 4887 00fe 26D1     		bne	.L202
2697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* High speed SD card, Max Frequency = 50Mhz */
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
 4888              		.loc 1 2699 22
 4889 0100 7B68     		ldr	r3, [r7, #4]
 4890 0102 5B69     		ldr	r3, [r3, #20]
 4891              		.loc 1 2699 12
 4892 0104 002B     		cmp	r3, #0
 4893 0106 0ED1     		bne	.L203
2700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (sdmmc_clk > SD_HIGH_SPEED_FREQ)
 4894              		.loc 1 2701 14
 4895 0108 7B6A     		ldr	r3, [r7, #36]
 4896 010a 454A     		ldr	r2, .L211+8
 4897 010c 9342     		cmp	r3, r2
 4898 010e 06D9     		bls	.L204
2702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
 4899              		.loc 1 2703 39
 4900 0110 7B6A     		ldr	r3, [r7, #36]
 4901 0112 424A     		ldr	r2, .L211+4
 4902 0114 A2FB0323 		umull	r2, r3, r2, r3
 4903 0118 5B0E     		lsrs	r3, r3, #25
 4904              		.loc 1 2703 27
 4905 011a FB61     		str	r3, [r7, #28]
 4906 011c 3DE0     		b	.L200
 4907              	.L204:
2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 4908              		.loc 1 2707 38
 4909 011e 7B68     		ldr	r3, [r7, #4]
 4910 0120 5B69     		ldr	r3, [r3, #20]
 4911              		.loc 1 2707 27
 4912 0122 FB61     		str	r3, [r7, #28]
 4913 0124 39E0     		b	.L200
 4914              	.L203:
2708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if ((sdmmc_clk/(2U * hsd->Init.ClockDiv)) > SD_HIGH_SPEED_FREQ)
 4915              		.loc 1 2712 41
 4916 0126 7B68     		ldr	r3, [r7, #4]
 4917 0128 5B69     		ldr	r3, [r3, #20]
 4918              		.loc 1 2712 30
 4919 012a 5B00     		lsls	r3, r3, #1
 4920              		.loc 1 2712 25
 4921 012c 7A6A     		ldr	r2, [r7, #36]
 4922 012e B2FBF3F3 		udiv	r3, r2, r3
 4923              		.loc 1 2712 14
 4924 0132 3B4A     		ldr	r2, .L211+8
 4925 0134 9342     		cmp	r3, r2
 4926 0136 06D9     		bls	.L205
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 136


2713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
 4927              		.loc 1 2714 39
 4928 0138 7B6A     		ldr	r3, [r7, #36]
 4929 013a 384A     		ldr	r2, .L211+4
 4930 013c A2FB0323 		umull	r2, r3, r2, r3
 4931 0140 5B0E     		lsrs	r3, r3, #25
 4932              		.loc 1 2714 27
 4933 0142 FB61     		str	r3, [r7, #28]
 4934 0144 29E0     		b	.L200
 4935              	.L205:
2715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 4936              		.loc 1 2718 38
 4937 0146 7B68     		ldr	r3, [r7, #4]
 4938 0148 5B69     		ldr	r3, [r3, #20]
 4939              		.loc 1 2718 27
 4940 014a FB61     		str	r3, [r7, #28]
 4941 014c 25E0     		b	.L200
 4942              	.L202:
2719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
2723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* No High speed SD card, Max Frequency = 25Mhz */
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
 4943              		.loc 1 2725 22
 4944 014e 7B68     		ldr	r3, [r7, #4]
 4945 0150 5B69     		ldr	r3, [r3, #20]
 4946              		.loc 1 2725 12
 4947 0152 002B     		cmp	r3, #0
 4948 0154 0ED1     		bne	.L206
2726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (sdmmc_clk > SD_NORMAL_SPEED_FREQ)
 4949              		.loc 1 2727 14
 4950 0156 7B6A     		ldr	r3, [r7, #36]
 4951 0158 324A     		ldr	r2, .L211+12
 4952 015a 9342     		cmp	r3, r2
 4953 015c 06D9     		bls	.L207
2728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
 4954              		.loc 1 2729 39
 4955 015e 7B6A     		ldr	r3, [r7, #36]
 4956 0160 2E4A     		ldr	r2, .L211+4
 4957 0162 A2FB0323 		umull	r2, r3, r2, r3
 4958 0166 1B0E     		lsrs	r3, r3, #24
 4959              		.loc 1 2729 27
 4960 0168 FB61     		str	r3, [r7, #28]
 4961 016a 16E0     		b	.L200
 4962              	.L207:
2730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 137


 4963              		.loc 1 2733 38
 4964 016c 7B68     		ldr	r3, [r7, #4]
 4965 016e 5B69     		ldr	r3, [r3, #20]
 4966              		.loc 1 2733 27
 4967 0170 FB61     		str	r3, [r7, #28]
 4968 0172 12E0     		b	.L200
 4969              	.L206:
2734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if ((sdmmc_clk/(2U * hsd->Init.ClockDiv)) > SD_NORMAL_SPEED_FREQ)
 4970              		.loc 1 2738 41
 4971 0174 7B68     		ldr	r3, [r7, #4]
 4972 0176 5B69     		ldr	r3, [r3, #20]
 4973              		.loc 1 2738 30
 4974 0178 5B00     		lsls	r3, r3, #1
 4975              		.loc 1 2738 25
 4976 017a 7A6A     		ldr	r2, [r7, #36]
 4977 017c B2FBF3F3 		udiv	r3, r2, r3
 4978              		.loc 1 2738 14
 4979 0180 284A     		ldr	r2, .L211+12
 4980 0182 9342     		cmp	r3, r2
 4981 0184 06D9     		bls	.L208
2739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
 4982              		.loc 1 2740 39
 4983 0186 7B6A     		ldr	r3, [r7, #36]
 4984 0188 244A     		ldr	r2, .L211+4
 4985 018a A2FB0323 		umull	r2, r3, r2, r3
 4986 018e 1B0E     		lsrs	r3, r3, #24
 4987              		.loc 1 2740 27
 4988 0190 FB61     		str	r3, [r7, #28]
 4989 0192 02E0     		b	.L200
 4990              	.L208:
2741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 4991              		.loc 1 2744 38
 4992 0194 7B68     		ldr	r3, [r7, #4]
 4993 0196 5B69     		ldr	r3, [r3, #20]
 4994              		.loc 1 2744 27
 4995 0198 FB61     		str	r3, [r7, #28]
 4996              	.L200:
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.Transceiver = hsd->Init.Transceiver;
 4997              		.loc 1 2749 35
 4998 019a 7B68     		ldr	r3, [r7, #4]
 4999 019c 9B69     		ldr	r3, [r3, #24]
 5000              		.loc 1 2749 24
 5001 019e 3B62     		str	r3, [r7, #32]
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if ((sdmmc_clk / (hsd->Init.ClockDiv + 2U)) > SD_NORMAL_SPEED_FREQ)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 138


2752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = ((sdmmc_clk / SD_NORMAL_SPEED_FREQ) - 2U);
2754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
2756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
2760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_Init(hsd->Instance, Init);
 5002              		.loc 1 2761 13
 5003 01a0 7B68     		ldr	r3, [r7, #4]
 5004 01a2 1D68     		ldr	r5, [r3]
 5005 01a4 6C46     		mov	r4, sp
 5006 01a6 07F11803 		add	r3, r7, #24
 5007 01aa 93E80700 		ldm	r3, {r0, r1, r2}
 5008 01ae 84E80700 		stm	r4, {r0, r1, r2}
 5009 01b2 07F10C03 		add	r3, r7, #12
 5010 01b6 0ECB     		ldm	r3, {r1, r2, r3}
 5011 01b8 2846     		mov	r0, r5
 5012 01ba FFF7FEFF 		bl	SDMMC_Init
 5013 01be 08E0     		b	.L197
 5014              	.L198:
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_ERROR_INVALID_PARAMETER;
 5015              		.loc 1 2765 22
 5016 01c0 7B68     		ldr	r3, [r7, #4]
 5017 01c2 9B6B     		ldr	r3, [r3, #56]
 5018 01c4 43F00062 		orr	r2, r3, #134217728
 5019 01c8 7B68     		ldr	r3, [r7, #4]
 5020 01ca 9A63     		str	r2, [r3, #56]
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status = HAL_ERROR;
 5021              		.loc 1 2766 14
 5022 01cc 0123     		movs	r3, #1
 5023 01ce 87F82F30 		strb	r3, [r7, #47]
 5024              	.L197:
2767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 5025              		.loc 1 2771 16
 5026 01d2 7B68     		ldr	r3, [r7, #4]
 5027 01d4 1B68     		ldr	r3, [r3]
 5028 01d6 4FF40071 		mov	r1, #512
 5029 01da 1846     		mov	r0, r3
 5030 01dc FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5031 01e0 B862     		str	r0, [r7, #40]
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5032              		.loc 1 2772 5
 5033 01e2 BB6A     		ldr	r3, [r7, #40]
 5034 01e4 002B     		cmp	r3, #0
 5035 01e6 0CD0     		beq	.L209
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 139


2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 5036              		.loc 1 2775 5
 5037 01e8 7B68     		ldr	r3, [r7, #4]
 5038 01ea 1B68     		ldr	r3, [r3]
 5039 01ec 0A4A     		ldr	r2, .L211
 5040 01ee 9A63     		str	r2, [r3, #56]
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5041              		.loc 1 2776 20
 5042 01f0 7B68     		ldr	r3, [r7, #4]
 5043 01f2 9A6B     		ldr	r2, [r3, #56]
 5044 01f4 BB6A     		ldr	r3, [r7, #40]
 5045 01f6 1A43     		orrs	r2, r2, r3
 5046 01f8 7B68     		ldr	r3, [r7, #4]
 5047 01fa 9A63     		str	r2, [r3, #56]
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5048              		.loc 1 2777 12
 5049 01fc 0123     		movs	r3, #1
 5050 01fe 87F82F30 		strb	r3, [r7, #47]
 5051              	.L209:
2778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5052              		.loc 1 2781 14
 5053 0202 7B68     		ldr	r3, [r7, #4]
 5054 0204 0122     		movs	r2, #1
 5055 0206 83F83420 		strb	r2, [r3, #52]
2782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
 5056              		.loc 1 2783 10
 5057 020a 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5058              		.loc 1 2784 1
 5059 020e 1846     		mov	r0, r3
 5060 0210 3037     		adds	r7, r7, #48
 5061              		.cfi_def_cfa_offset 16
 5062 0212 BD46     		mov	sp, r7
 5063              		.cfi_def_cfa_register 13
 5064              		@ sp needed
 5065 0214 B0BD     		pop	{r4, r5, r7, pc}
 5066              	.L212:
 5067 0216 00BF     		.align	2
 5068              	.L211:
 5069 0218 FF0FE01F 		.word	534777855
 5070 021c 893BE655 		.word	1441151881
 5071 0220 80F0FA02 		.word	50000000
 5072 0224 40787D01 		.word	25000000
 5073              		.cfi_endproc
 5074              	.LFE344:
 5076              		.section	.text.HAL_SD_ConfigSpeedBusOperation,"ax",%progbits
 5077              		.align	1
 5078              		.global	HAL_SD_ConfigSpeedBusOperation
 5079              		.syntax unified
 5080              		.thumb
 5081              		.thumb_func
 5083              	HAL_SD_ConfigSpeedBusOperation:
 5084              	.LFB345:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 140


2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Configure the speed bus mode
2789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to the SD handle
2790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  SpeedMode Specifies the SD card speed bus mode
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          This parameter can be one of the following values:
2792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed/SDR12 mode
2794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed/SDR25 mode
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_ULTRA: Ultra high speed mode
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigSpeedBusOperation(SD_HandleTypeDef *hsd, uint32_t SpeedMode)
2800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 5085              		.loc 1 2800 1
 5086              		.cfi_startproc
 5087              		@ args = 0, pretend = 0, frame = 24
 5088              		@ frame_needed = 1, uses_anonymous_args = 0
 5089 0000 80B5     		push	{r7, lr}
 5090              		.cfi_def_cfa_offset 8
 5091              		.cfi_offset 7, -8
 5092              		.cfi_offset 14, -4
 5093 0002 86B0     		sub	sp, sp, #24
 5094              		.cfi_def_cfa_offset 32
 5095 0004 00AF     		add	r7, sp, #0
 5096              		.cfi_def_cfa_register 7
 5097 0006 7860     		str	r0, [r7, #4]
 5098 0008 3960     		str	r1, [r7]
2801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart;
2802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
2803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5099              		.loc 1 2803 21
 5100 000a 0023     		movs	r3, #0
 5101 000c FB75     		strb	r3, [r7, #23]
2804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
2806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 5102              		.loc 1 2808 14
 5103 000e 7B68     		ldr	r3, [r7, #4]
 5104 0010 0322     		movs	r2, #3
 5105 0012 83F83420 		strb	r2, [r3, #52]
2809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
 5106              		.loc 1 2810 15
 5107 0016 7B68     		ldr	r3, [r7, #4]
 5108 0018 9B69     		ldr	r3, [r3, #24]
 5109              		.loc 1 2810 5
 5110 001a 012B     		cmp	r3, #1
 5111 001c 40F0D480 		bne	.L214
2811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (SpeedMode)
 5112              		.loc 1 2812 5
 5113 0020 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 141


 5114 0022 042B     		cmp	r3, #4
 5115 0024 00F2C780 		bhi	.L215
 5116 0028 01A2     		adr	r2, .L217
 5117 002a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5118 002e 00BF     		.p2align 2
 5119              	.L217:
 5120 0030 45000000 		.word	.L221+1
 5121 0034 7D020000 		.word	.L254+1
 5122 0038 69010000 		.word	.L219+1
 5123 003c C1000000 		.word	.L218+1
 5124 0040 15010000 		.word	.L216+1
 5125              		.p2align 1
 5126              	.L221:
2813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5127              		.loc 1 2816 25
 5128 0044 7B68     		ldr	r3, [r7, #4]
 5129 0046 DB6D     		ldr	r3, [r3, #92]
 5130              		.loc 1 2816 12
 5131 0048 B3F5007F 		cmp	r3, #512
 5132 004c 03D0     		beq	.L222
2817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5133              		.loc 1 2817 25 discriminator 1
 5134 004e 7B68     		ldr	r3, [r7, #4]
 5135 0050 DB6B     		ldr	r3, [r3, #60]
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5136              		.loc 1 2816 63 discriminator 1
 5137 0052 012B     		cmp	r3, #1
 5138 0054 1CD1     		bne	.L223
 5139              	.L222:
2818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->CLKCR |= 0x00100000U;
 5140              		.loc 1 2819 14
 5141 0056 7B68     		ldr	r3, [r7, #4]
 5142 0058 1B68     		ldr	r3, [r3]
 5143              		.loc 1 2819 32
 5144 005a 5A68     		ldr	r2, [r3, #4]
 5145              		.loc 1 2819 14
 5146 005c 7B68     		ldr	r3, [r7, #4]
 5147 005e 1B68     		ldr	r3, [r3]
 5148              		.loc 1 2819 32
 5149 0060 42F48012 		orr	r2, r2, #1048576
 5150 0064 5A60     		str	r2, [r3, #4]
2820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable Ultra High Speed */
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5151              		.loc 1 2821 15
 5152 0066 7868     		ldr	r0, [r7, #4]
 5153 0068 FFF7FEFF 		bl	SD_UltraHighSpeed
 5154 006c 0346     		mov	r3, r0
 5155              		.loc 1 2821 14
 5156 006e 002B     		cmp	r3, #0
 5157 0070 24D0     		beq	.L255
2822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5158              		.loc 1 2823 17
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 142


 5159 0072 7868     		ldr	r0, [r7, #4]
 5160 0074 FFF7FEFF 		bl	SD_HighSpeed
 5161 0078 0346     		mov	r3, r0
 5162              		.loc 1 2823 16
 5163 007a 002B     		cmp	r3, #0
 5164 007c 1ED0     		beq	.L255
2824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             {
2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****               hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5165              		.loc 1 2825 30
 5166 007e 7B68     		ldr	r3, [r7, #4]
 5167 0080 9B6B     		ldr	r3, [r3, #56]
 5168 0082 43F08052 		orr	r2, r3, #268435456
 5169 0086 7B68     		ldr	r3, [r7, #4]
 5170 0088 9A63     		str	r2, [r3, #56]
2826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****               status = HAL_ERROR;
 5171              		.loc 1 2826 22
 5172 008a 0123     		movs	r3, #1
 5173 008c FB75     		strb	r3, [r7, #23]
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 5174              		.loc 1 2821 14
 5175 008e 15E0     		b	.L255
 5176              	.L223:
2827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             }
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else if (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED)
 5177              		.loc 1 2830 29
 5178 0090 7B68     		ldr	r3, [r7, #4]
 5179 0092 DB6D     		ldr	r3, [r3, #92]
 5180              		.loc 1 2830 17
 5181 0094 B3F5807F 		cmp	r3, #256
 5182 0098 40F0F280 		bne	.L256
2831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5183              		.loc 1 2833 15
 5184 009c 7868     		ldr	r0, [r7, #4]
 5185 009e FFF7FEFF 		bl	SD_HighSpeed
 5186 00a2 0346     		mov	r3, r0
 5187              		.loc 1 2833 14
 5188 00a4 002B     		cmp	r3, #0
 5189 00a6 00F0EB80 		beq	.L256
2834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5190              		.loc 1 2835 28
 5191 00aa 7B68     		ldr	r3, [r7, #4]
 5192 00ac 9B6B     		ldr	r3, [r3, #56]
 5193 00ae 43F08052 		orr	r2, r3, #268435456
 5194 00b2 7B68     		ldr	r3, [r7, #4]
 5195 00b4 9A63     		str	r2, [r3, #56]
2836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
 5196              		.loc 1 2836 20
 5197 00b6 0123     		movs	r3, #1
 5198 00b8 FB75     		strb	r3, [r7, #23]
2837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 143


2840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5199              		.loc 1 2843 9
 5200 00ba E1E0     		b	.L256
 5201              	.L255:
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 5202              		.loc 1 2821 14
 5203 00bc 00BF     		nop
 5204              		.loc 1 2843 9
 5205 00be DFE0     		b	.L256
 5206              	.L218:
2844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA:
2847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5207              		.loc 1 2848 25
 5208 00c0 7B68     		ldr	r3, [r7, #4]
 5209 00c2 DB6D     		ldr	r3, [r3, #92]
 5210              		.loc 1 2848 12
 5211 00c4 B3F5007F 		cmp	r3, #512
 5212 00c8 03D0     		beq	.L227
2849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5213              		.loc 1 2849 25 discriminator 1
 5214 00ca 7B68     		ldr	r3, [r7, #4]
 5215 00cc DB6B     		ldr	r3, [r3, #60]
2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5216              		.loc 1 2848 63 discriminator 1
 5217 00ce 012B     		cmp	r3, #1
 5218 00d0 16D1     		bne	.L228
 5219              	.L227:
2850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->CLKCR |= 0x00100000U;
 5220              		.loc 1 2851 14
 5221 00d2 7B68     		ldr	r3, [r7, #4]
 5222 00d4 1B68     		ldr	r3, [r3]
 5223              		.loc 1 2851 32
 5224 00d6 5A68     		ldr	r2, [r3, #4]
 5225              		.loc 1 2851 14
 5226 00d8 7B68     		ldr	r3, [r7, #4]
 5227 00da 1B68     		ldr	r3, [r3]
 5228              		.loc 1 2851 32
 5229 00dc 42F48012 		orr	r2, r2, #1048576
 5230 00e0 5A60     		str	r2, [r3, #4]
2852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5231              		.loc 1 2853 15
 5232 00e2 7868     		ldr	r0, [r7, #4]
 5233 00e4 FFF7FEFF 		bl	SD_UltraHighSpeed
 5234 00e8 0346     		mov	r3, r0
 5235              		.loc 1 2853 14
 5236 00ea 002B     		cmp	r3, #0
 5237 00ec 11D0     		beq	.L230
2854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 144


 5238              		.loc 1 2855 28
 5239 00ee 7B68     		ldr	r3, [r7, #4]
 5240 00f0 9B6B     		ldr	r3, [r3, #56]
 5241 00f2 43F08052 		orr	r2, r3, #268435456
 5242 00f6 7B68     		ldr	r3, [r7, #4]
 5243 00f8 9A63     		str	r2, [r3, #56]
2856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
 5244              		.loc 1 2856 20
 5245 00fa 0123     		movs	r3, #1
 5246 00fc FB75     		strb	r3, [r7, #23]
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 5247              		.loc 1 2853 14
 5248 00fe 08E0     		b	.L230
 5249              	.L228:
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5250              		.loc 1 2861 26
 5251 0100 7B68     		ldr	r3, [r7, #4]
 5252 0102 9B6B     		ldr	r3, [r3, #56]
 5253 0104 43F08052 		orr	r2, r3, #268435456
 5254 0108 7B68     		ldr	r3, [r7, #4]
 5255 010a 9A63     		str	r2, [r3, #56]
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
 5256              		.loc 1 2862 18
 5257 010c 0123     		movs	r3, #1
 5258 010e FB75     		strb	r3, [r7, #23]
2863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5259              		.loc 1 2864 9
 5260 0110 BBE0     		b	.L239
 5261              	.L230:
 5262              		.loc 1 2864 9 is_stmt 0 discriminator 4
 5263 0112 BAE0     		b	.L239
 5264              	.L216:
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DDR:
2868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5265              		.loc 1 2869 25 is_stmt 1
 5266 0114 7B68     		ldr	r3, [r7, #4]
 5267 0116 DB6D     		ldr	r3, [r3, #92]
 5268              		.loc 1 2869 12
 5269 0118 B3F5007F 		cmp	r3, #512
 5270 011c 03D0     		beq	.L231
2870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5271              		.loc 1 2870 25 discriminator 1
 5272 011e 7B68     		ldr	r3, [r7, #4]
 5273 0120 DB6B     		ldr	r3, [r3, #60]
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5274              		.loc 1 2869 63 discriminator 1
 5275 0122 012B     		cmp	r3, #1
 5276 0124 16D1     		bne	.L232
 5277              	.L231:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 145


2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->CLKCR |= 0x00100000U;
 5278              		.loc 1 2872 14
 5279 0126 7B68     		ldr	r3, [r7, #4]
 5280 0128 1B68     		ldr	r3, [r3]
 5281              		.loc 1 2872 32
 5282 012a 5A68     		ldr	r2, [r3, #4]
 5283              		.loc 1 2872 14
 5284 012c 7B68     		ldr	r3, [r7, #4]
 5285 012e 1B68     		ldr	r3, [r3]
 5286              		.loc 1 2872 32
 5287 0130 42F48012 		orr	r2, r2, #1048576
 5288 0134 5A60     		str	r2, [r3, #4]
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable DDR Mode*/
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_DDR_Mode(hsd) != HAL_SD_ERROR_NONE)
 5289              		.loc 1 2874 15
 5290 0136 7868     		ldr	r0, [r7, #4]
 5291 0138 FFF7FEFF 		bl	SD_DDR_Mode
 5292 013c 0346     		mov	r3, r0
 5293              		.loc 1 2874 14
 5294 013e 002B     		cmp	r3, #0
 5295 0140 11D0     		beq	.L234
2875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5296              		.loc 1 2876 28
 5297 0142 7B68     		ldr	r3, [r7, #4]
 5298 0144 9B6B     		ldr	r3, [r3, #56]
 5299 0146 43F08052 		orr	r2, r3, #268435456
 5300 014a 7B68     		ldr	r3, [r7, #4]
 5301 014c 9A63     		str	r2, [r3, #56]
2877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
 5302              		.loc 1 2877 20
 5303 014e 0123     		movs	r3, #1
 5304 0150 FB75     		strb	r3, [r7, #23]
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 5305              		.loc 1 2874 14
 5306 0152 08E0     		b	.L234
 5307              	.L232:
2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5308              		.loc 1 2882 26
 5309 0154 7B68     		ldr	r3, [r7, #4]
 5310 0156 9B6B     		ldr	r3, [r3, #56]
 5311 0158 43F08052 		orr	r2, r3, #268435456
 5312 015c 7B68     		ldr	r3, [r7, #4]
 5313 015e 9A63     		str	r2, [r3, #56]
2883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
 5314              		.loc 1 2883 18
 5315 0160 0123     		movs	r3, #1
 5316 0162 FB75     		strb	r3, [r7, #23]
2884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5317              		.loc 1 2885 9
 5318 0164 91E0     		b	.L239
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 146


 5319              	.L234:
 5320              		.loc 1 2885 9 is_stmt 0 discriminator 6
 5321 0166 90E0     		b	.L239
 5322              	.L219:
2886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5323              		.loc 1 2890 25 is_stmt 1
 5324 0168 7B68     		ldr	r3, [r7, #4]
 5325 016a DB6D     		ldr	r3, [r3, #92]
 5326              		.loc 1 2890 12
 5327 016c B3F5007F 		cmp	r3, #512
 5328 0170 08D0     		beq	.L235
2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5329              		.loc 1 2891 25 discriminator 1
 5330 0172 7B68     		ldr	r3, [r7, #4]
 5331 0174 DB6D     		ldr	r3, [r3, #92]
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5332              		.loc 1 2890 63 discriminator 1
 5333 0176 B3F5807F 		cmp	r3, #256
 5334 017a 03D0     		beq	.L235
2892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5335              		.loc 1 2892 25
 5336 017c 7B68     		ldr	r3, [r7, #4]
 5337 017e DB6B     		ldr	r3, [r3, #60]
2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5338              		.loc 1 2891 57
 5339 0180 012B     		cmp	r3, #1
 5340 0182 0ED1     		bne	.L236
 5341              	.L235:
2893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5342              		.loc 1 2895 15
 5343 0184 7868     		ldr	r0, [r7, #4]
 5344 0186 FFF7FEFF 		bl	SD_HighSpeed
 5345 018a 0346     		mov	r3, r0
 5346              		.loc 1 2895 14
 5347 018c 002B     		cmp	r3, #0
 5348 018e 11D0     		beq	.L238
2896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5349              		.loc 1 2897 28
 5350 0190 7B68     		ldr	r3, [r7, #4]
 5351 0192 9B6B     		ldr	r3, [r3, #56]
 5352 0194 43F08052 		orr	r2, r3, #268435456
 5353 0198 7B68     		ldr	r3, [r7, #4]
 5354 019a 9A63     		str	r2, [r3, #56]
2898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
 5355              		.loc 1 2898 20
 5356 019c 0123     		movs	r3, #1
 5357 019e FB75     		strb	r3, [r7, #23]
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 5358              		.loc 1 2895 14
 5359 01a0 08E0     		b	.L238
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 147


 5360              	.L236:
2899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5361              		.loc 1 2903 26
 5362 01a2 7B68     		ldr	r3, [r7, #4]
 5363 01a4 9B6B     		ldr	r3, [r3, #56]
 5364 01a6 43F08052 		orr	r2, r3, #268435456
 5365 01aa 7B68     		ldr	r3, [r7, #4]
 5366 01ac 9A63     		str	r2, [r3, #56]
2904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
 5367              		.loc 1 2904 18
 5368 01ae 0123     		movs	r3, #1
 5369 01b0 FB75     		strb	r3, [r7, #23]
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5370              		.loc 1 2906 9
 5371 01b2 6AE0     		b	.L239
 5372              	.L238:
 5373              		.loc 1 2906 9 is_stmt 0 discriminator 8
 5374 01b4 69E0     		b	.L239
 5375              	.L215:
2907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       default:
2913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 5376              		.loc 1 2913 24 is_stmt 1
 5377 01b6 7B68     		ldr	r3, [r7, #4]
 5378 01b8 9B6B     		ldr	r3, [r3, #56]
 5379 01ba 43F00062 		orr	r2, r3, #134217728
 5380 01be 7B68     		ldr	r3, [r7, #4]
 5381 01c0 9A63     		str	r2, [r3, #56]
2914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         status = HAL_ERROR;
 5382              		.loc 1 2914 16
 5383 01c2 0123     		movs	r3, #1
 5384 01c4 FB75     		strb	r3, [r7, #23]
2915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5385              		.loc 1 2915 9
 5386 01c6 60E0     		b	.L239
 5387              	.L214:
2916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (SpeedMode)
 5388              		.loc 1 2920 5
 5389 01c8 3B68     		ldr	r3, [r7]
 5390 01ca 022B     		cmp	r3, #2
 5391 01cc 26D0     		beq	.L240
 5392 01ce 3B68     		ldr	r3, [r7]
 5393 01d0 022B     		cmp	r3, #2
 5394 01d2 4AD8     		bhi	.L241
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 148


 5395 01d4 3B68     		ldr	r3, [r7]
 5396 01d6 002B     		cmp	r3, #0
 5397 01d8 03D0     		beq	.L242
 5398 01da 3B68     		ldr	r3, [r7]
 5399 01dc 012B     		cmp	r3, #1
 5400 01de 51D0     		beq	.L257
 5401 01e0 43E0     		b	.L241
 5402              	.L242:
2921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5403              		.loc 1 2924 25
 5404 01e2 7B68     		ldr	r3, [r7, #4]
 5405 01e4 DB6D     		ldr	r3, [r3, #92]
 5406              		.loc 1 2924 12
 5407 01e6 B3F5007F 		cmp	r3, #512
 5408 01ea 08D0     		beq	.L244
2925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5409              		.loc 1 2925 25 discriminator 1
 5410 01ec 7B68     		ldr	r3, [r7, #4]
 5411 01ee DB6D     		ldr	r3, [r3, #92]
2924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5412              		.loc 1 2924 63 discriminator 1
 5413 01f0 B3F5807F 		cmp	r3, #256
 5414 01f4 03D0     		beq	.L244
2926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5415              		.loc 1 2926 25
 5416 01f6 7B68     		ldr	r3, [r7, #4]
 5417 01f8 DB6B     		ldr	r3, [r3, #60]
2925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5418              		.loc 1 2925 57
 5419 01fa 012B     		cmp	r3, #1
 5420 01fc 44D1     		bne	.L258
 5421              	.L244:
2927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5422              		.loc 1 2929 15
 5423 01fe 7868     		ldr	r0, [r7, #4]
 5424 0200 FFF7FEFF 		bl	SD_HighSpeed
 5425 0204 0346     		mov	r3, r0
 5426              		.loc 1 2929 14
 5427 0206 002B     		cmp	r3, #0
 5428 0208 3ED0     		beq	.L258
2930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5429              		.loc 1 2931 28
 5430 020a 7B68     		ldr	r3, [r7, #4]
 5431 020c 9B6B     		ldr	r3, [r3, #56]
 5432 020e 43F08052 		orr	r2, r3, #268435456
 5433 0212 7B68     		ldr	r3, [r7, #4]
 5434 0214 9A63     		str	r2, [r3, #56]
2932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
 5435              		.loc 1 2932 20
 5436 0216 0123     		movs	r3, #1
 5437 0218 FB75     		strb	r3, [r7, #23]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 149


2933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5438              		.loc 1 2939 9
 5439 021a 35E0     		b	.L258
 5440              	.L240:
2940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5441              		.loc 1 2944 25
 5442 021c 7B68     		ldr	r3, [r7, #4]
 5443 021e DB6D     		ldr	r3, [r3, #92]
 5444              		.loc 1 2944 12
 5445 0220 B3F5007F 		cmp	r3, #512
 5446 0224 08D0     		beq	.L246
2945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5447              		.loc 1 2945 25 discriminator 1
 5448 0226 7B68     		ldr	r3, [r7, #4]
 5449 0228 DB6D     		ldr	r3, [r3, #92]
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5450              		.loc 1 2944 63 discriminator 1
 5451 022a B3F5807F 		cmp	r3, #256
 5452 022e 03D0     		beq	.L246
2946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5453              		.loc 1 2946 25
 5454 0230 7B68     		ldr	r3, [r7, #4]
 5455 0232 DB6B     		ldr	r3, [r3, #60]
2945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5456              		.loc 1 2945 57
 5457 0234 012B     		cmp	r3, #1
 5458 0236 0ED1     		bne	.L247
 5459              	.L246:
2947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5460              		.loc 1 2949 15
 5461 0238 7868     		ldr	r0, [r7, #4]
 5462 023a FFF7FEFF 		bl	SD_HighSpeed
 5463 023e 0346     		mov	r3, r0
 5464              		.loc 1 2949 14
 5465 0240 002B     		cmp	r3, #0
 5466 0242 11D0     		beq	.L249
2950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5467              		.loc 1 2951 28
 5468 0244 7B68     		ldr	r3, [r7, #4]
 5469 0246 9B6B     		ldr	r3, [r3, #56]
 5470 0248 43F08052 		orr	r2, r3, #268435456
 5471 024c 7B68     		ldr	r3, [r7, #4]
 5472 024e 9A63     		str	r2, [r3, #56]
2952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 150


 5473              		.loc 1 2952 20
 5474 0250 0123     		movs	r3, #1
 5475 0252 FB75     		strb	r3, [r7, #23]
2949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 5476              		.loc 1 2949 14
 5477 0254 08E0     		b	.L249
 5478              	.L247:
2953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5479              		.loc 1 2957 26
 5480 0256 7B68     		ldr	r3, [r7, #4]
 5481 0258 9B6B     		ldr	r3, [r3, #56]
 5482 025a 43F08052 		orr	r2, r3, #268435456
 5483 025e 7B68     		ldr	r3, [r7, #4]
 5484 0260 9A63     		str	r2, [r3, #56]
2958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
 5485              		.loc 1 2958 18
 5486 0262 0123     		movs	r3, #1
 5487 0264 FB75     		strb	r3, [r7, #23]
2959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5488              		.loc 1 2960 9
 5489 0266 10E0     		b	.L239
 5490              	.L249:
 5491              		.loc 1 2960 9 is_stmt 0 discriminator 10
 5492 0268 0FE0     		b	.L239
 5493              	.L241:
2961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       default:
2968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 5494              		.loc 1 2968 24 is_stmt 1
 5495 026a 7B68     		ldr	r3, [r7, #4]
 5496 026c 9B6B     		ldr	r3, [r3, #56]
 5497 026e 43F00062 		orr	r2, r3, #134217728
 5498 0272 7B68     		ldr	r3, [r7, #4]
 5499 0274 9A63     		str	r2, [r3, #56]
2969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         status = HAL_ERROR;
 5500              		.loc 1 2969 16
 5501 0276 0123     		movs	r3, #1
 5502 0278 FB75     		strb	r3, [r7, #23]
2970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
 5503              		.loc 1 2970 9
 5504 027a 06E0     		b	.L239
 5505              	.L254:
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5506              		.loc 1 2910 9
 5507 027c 00BF     		nop
 5508 027e 04E0     		b	.L239
 5509              	.L256:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 151


2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5510              		.loc 1 2843 9
 5511 0280 00BF     		nop
 5512 0282 02E0     		b	.L239
 5513              	.L257:
2964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5514              		.loc 1 2964 9
 5515 0284 00BF     		nop
 5516 0286 00E0     		b	.L239
 5517              	.L258:
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5518              		.loc 1 2939 9
 5519 0288 00BF     		nop
 5520              	.L239:
2971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Verify that SD card is ready to use after Speed mode switch*/
2975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tickstart = HAL_GetTick();
 5521              		.loc 1 2975 15
 5522 028a FFF7FEFF 		bl	HAL_GetTick
 5523 028e 3861     		str	r0, [r7, #16]
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5524              		.loc 1 2976 9
 5525 0290 11E0     		b	.L250
 5526              	.L252:
2977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 5527              		.loc 1 2978 10
 5528 0292 FFF7FEFF 		bl	HAL_GetTick
 5529 0296 0246     		mov	r2, r0
 5530              		.loc 1 2978 24
 5531 0298 3B69     		ldr	r3, [r7, #16]
 5532 029a D31A     		subs	r3, r2, r3
 5533              		.loc 1 2978 8
 5534 029c B3F1FF3F 		cmp	r3, #-1
 5535 02a0 09D1     		bne	.L250
2979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 5536              		.loc 1 2980 22
 5537 02a2 7B68     		ldr	r3, [r7, #4]
 5538 02a4 4FF00042 		mov	r2, #-2147483648
 5539 02a8 9A63     		str	r2, [r3, #56]
2981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5540              		.loc 1 2981 18
 5541 02aa 7B68     		ldr	r3, [r7, #4]
 5542 02ac 0122     		movs	r2, #1
 5543 02ae 83F83420 		strb	r2, [r3, #52]
2982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_TIMEOUT;
 5544              		.loc 1 2982 14
 5545 02b2 0323     		movs	r3, #3
 5546 02b4 21E0     		b	.L251
 5547              	.L250:
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5548              		.loc 1 2976 11
 5549 02b6 7868     		ldr	r0, [r7, #4]
 5550 02b8 FFF7FEFF 		bl	HAL_SD_GetCardState
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 152


 5551 02bc 0346     		mov	r3, r0
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5552              		.loc 1 2976 36
 5553 02be 042B     		cmp	r3, #4
 5554 02c0 E7D1     		bne	.L252
2983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
2987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 5555              		.loc 1 2987 16
 5556 02c2 7B68     		ldr	r3, [r7, #4]
 5557 02c4 1B68     		ldr	r3, [r3]
 5558 02c6 4FF40071 		mov	r1, #512
 5559 02ca 1846     		mov	r0, r3
 5560 02cc FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5561 02d0 F860     		str	r0, [r7, #12]
2988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5562              		.loc 1 2988 5
 5563 02d2 FB68     		ldr	r3, [r7, #12]
 5564 02d4 002B     		cmp	r3, #0
 5565 02d6 0BD0     		beq	.L253
2989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 5566              		.loc 1 2991 5
 5567 02d8 7B68     		ldr	r3, [r7, #4]
 5568 02da 1B68     		ldr	r3, [r3]
 5569 02dc 094A     		ldr	r2, .L259
 5570 02de 9A63     		str	r2, [r3, #56]
2992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5571              		.loc 1 2992 20
 5572 02e0 7B68     		ldr	r3, [r7, #4]
 5573 02e2 9A6B     		ldr	r2, [r3, #56]
 5574 02e4 FB68     		ldr	r3, [r7, #12]
 5575 02e6 1A43     		orrs	r2, r2, r3
 5576 02e8 7B68     		ldr	r3, [r7, #4]
 5577 02ea 9A63     		str	r2, [r3, #56]
2993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5578              		.loc 1 2993 12
 5579 02ec 0123     		movs	r3, #1
 5580 02ee FB75     		strb	r3, [r7, #23]
 5581              	.L253:
2994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5582              		.loc 1 2997 14
 5583 02f0 7B68     		ldr	r3, [r7, #4]
 5584 02f2 0122     		movs	r2, #1
 5585 02f4 83F83420 		strb	r2, [r3, #52]
2998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
 5586              		.loc 1 2998 10
 5587 02f8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5588              	.L251:
2999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5589              		.loc 1 2999 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 153


 5590 02fa 1846     		mov	r0, r3
 5591 02fc 1837     		adds	r7, r7, #24
 5592              		.cfi_def_cfa_offset 8
 5593 02fe BD46     		mov	sp, r7
 5594              		.cfi_def_cfa_register 13
 5595              		@ sp needed
 5596 0300 80BD     		pop	{r7, pc}
 5597              	.L260:
 5598 0302 00BF     		.align	2
 5599              	.L259:
 5600 0304 FF0FE01F 		.word	534777855
 5601              		.cfi_endproc
 5602              	.LFE345:
 5604              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5605              		.align	1
 5606              		.global	HAL_SD_GetCardState
 5607              		.syntax unified
 5608              		.thumb
 5609              		.thumb_func
 5611              	HAL_SD_GetCardState:
 5612              	.LFB346:
3000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
3004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to SD handle
3005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval Card state
3006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 5613              		.loc 1 3008 1
 5614              		.cfi_startproc
 5615              		@ args = 0, pretend = 0, frame = 24
 5616              		@ frame_needed = 1, uses_anonymous_args = 0
 5617 0000 80B5     		push	{r7, lr}
 5618              		.cfi_def_cfa_offset 8
 5619              		.cfi_offset 7, -8
 5620              		.cfi_offset 14, -4
 5621 0002 86B0     		sub	sp, sp, #24
 5622              		.cfi_def_cfa_offset 32
 5623 0004 00AF     		add	r7, sp, #0
 5624              		.cfi_def_cfa_register 7
 5625 0006 7860     		str	r0, [r7, #4]
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t cardstate;
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t resp1 = 0;
 5626              		.loc 1 3011 12
 5627 0008 0023     		movs	r3, #0
 5628 000a FB60     		str	r3, [r7, #12]
3012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
 5629              		.loc 1 3013 16
 5630 000c 07F10C03 		add	r3, r7, #12
 5631 0010 1946     		mov	r1, r3
 5632 0012 7868     		ldr	r0, [r7, #4]
 5633 0014 FFF7FEFF 		bl	SD_SendStatus
 5634 0018 7861     		str	r0, [r7, #20]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 154


3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5635              		.loc 1 3014 5
 5636 001a 7B69     		ldr	r3, [r7, #20]
 5637 001c 002B     		cmp	r3, #0
 5638 001e 05D0     		beq	.L262
3015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5639              		.loc 1 3016 20
 5640 0020 7B68     		ldr	r3, [r7, #4]
 5641 0022 9A6B     		ldr	r2, [r3, #56]
 5642 0024 7B69     		ldr	r3, [r7, #20]
 5643 0026 1A43     		orrs	r2, r2, r3
 5644 0028 7B68     		ldr	r3, [r7, #4]
 5645 002a 9A63     		str	r2, [r3, #56]
 5646              	.L262:
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
 5647              		.loc 1 3019 23
 5648 002c FB68     		ldr	r3, [r7, #12]
 5649 002e 5B0A     		lsrs	r3, r3, #9
 5650              		.loc 1 3019 13
 5651 0030 03F00F03 		and	r3, r3, #15
 5652 0034 3B61     		str	r3, [r7, #16]
3020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
 5653              		.loc 1 3021 10
 5654 0036 3B69     		ldr	r3, [r7, #16]
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5655              		.loc 1 3022 1
 5656 0038 1846     		mov	r0, r3
 5657 003a 1837     		adds	r7, r7, #24
 5658              		.cfi_def_cfa_offset 8
 5659 003c BD46     		mov	sp, r7
 5660              		.cfi_def_cfa_register 13
 5661              		@ sp needed
 5662 003e 80BD     		pop	{r7, pc}
 5663              		.cfi_endproc
 5664              	.LFE346:
 5666              		.section	.text.HAL_SD_Abort,"ax",%progbits
 5667              		.align	1
 5668              		.global	HAL_SD_Abort
 5669              		.syntax unified
 5670              		.thumb
 5671              		.thumb_func
 5673              	HAL_SD_Abort:
 5674              	.LFB347:
3023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
3027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *                the configuration information for SD module.
3028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
3029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 5675              		.loc 1 3031 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 155


 5676              		.cfi_startproc
 5677              		@ args = 0, pretend = 0, frame = 16
 5678              		@ frame_needed = 1, uses_anonymous_args = 0
 5679 0000 80B5     		push	{r7, lr}
 5680              		.cfi_def_cfa_offset 8
 5681              		.cfi_offset 7, -8
 5682              		.cfi_offset 14, -4
 5683 0002 84B0     		sub	sp, sp, #16
 5684              		.cfi_def_cfa_offset 24
 5685 0004 00AF     		add	r7, sp, #0
 5686              		.cfi_def_cfa_register 7
 5687 0006 7860     		str	r0, [r7, #4]
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
3035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* DIsable All interrupts */
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
 5688              		.loc 1 3038 3
 5689 0008 7B68     		ldr	r3, [r7, #4]
 5690 000a 1B68     		ldr	r3, [r3]
 5691 000c DA6B     		ldr	r2, [r3, #60]
 5692 000e 7B68     		ldr	r3, [r7, #4]
 5693 0010 1B68     		ldr	r3, [r3]
 5694 0012 22F49D72 		bic	r2, r2, #314
 5695 0016 DA63     		str	r2, [r3, #60]
3039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                            SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 5696              		.loc 1 3042 3
 5697 0018 7B68     		ldr	r3, [r7, #4]
 5698 001a 1B68     		ldr	r3, [r3]
 5699 001c 144A     		ldr	r2, .L269
 5700 001e 9A63     		str	r2, [r3, #56]
3043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
3046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 5701              		.loc 1 3046 6
 5702 0020 7B68     		ldr	r3, [r7, #4]
 5703 0022 1B68     		ldr	r3, [r3]
 5704              		.loc 1 3046 27
 5705 0024 0022     		movs	r2, #0
 5706 0026 1A65     		str	r2, [r3, #80]
3047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDMMC_DCTRL_DTEN);
3049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
3051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable the SD DMA request */
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
3054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
3057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 156


3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmatx) != HAL_OK)
3059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
3061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
3065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmarx) != HAL_OK)
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
3069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5707              		.loc 1 3078 14
 5708 0028 7B68     		ldr	r3, [r7, #4]
 5709 002a 0122     		movs	r2, #1
 5710 002c 83F83420 		strb	r2, [r3, #52]
3079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the SD operation */
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5711              		.loc 1 3081 16
 5712 0030 7B68     		ldr	r3, [r7, #4]
 5713 0032 0022     		movs	r2, #0
 5714 0034 1A63     		str	r2, [r3, #48]
3082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
 5715              		.loc 1 3083 15
 5716 0036 7868     		ldr	r0, [r7, #4]
 5717 0038 FFF7FEFF 		bl	HAL_SD_GetCardState
 5718 003c F860     		str	r0, [r7, #12]
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5719              		.loc 1 3084 5
 5720 003e FB68     		ldr	r3, [r7, #12]
 5721 0040 062B     		cmp	r3, #6
 5722 0042 02D0     		beq	.L265
 5723              		.loc 1 3084 43 discriminator 1
 5724 0044 FB68     		ldr	r3, [r7, #12]
 5725 0046 052B     		cmp	r3, #5
 5726 0048 07D1     		bne	.L266
 5727              	.L265:
3085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
 5728              		.loc 1 3086 22
 5729 004a 7B68     		ldr	r3, [r7, #4]
 5730 004c 1B68     		ldr	r3, [r3]
 5731 004e 1846     		mov	r0, r3
 5732 0050 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5733 0054 0246     		mov	r2, r0
 5734              		.loc 1 3086 20
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 157


 5735 0056 7B68     		ldr	r3, [r7, #4]
 5736 0058 9A63     		str	r2, [r3, #56]
 5737              	.L266:
3087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
 5738              		.loc 1 3088 9
 5739 005a 7B68     		ldr	r3, [r7, #4]
 5740 005c 9B6B     		ldr	r3, [r3, #56]
 5741              		.loc 1 3088 5
 5742 005e 002B     		cmp	r3, #0
 5743 0060 01D0     		beq	.L267
3089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 5744              		.loc 1 3090 12
 5745 0062 0123     		movs	r3, #1
 5746 0064 00E0     		b	.L268
 5747              	.L267:
3091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 5748              		.loc 1 3092 10
 5749 0066 0023     		movs	r3, #0
 5750              	.L268:
3093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5751              		.loc 1 3093 1
 5752 0068 1846     		mov	r0, r3
 5753 006a 1037     		adds	r7, r7, #16
 5754              		.cfi_def_cfa_offset 8
 5755 006c BD46     		mov	sp, r7
 5756              		.cfi_def_cfa_register 13
 5757              		@ sp needed
 5758 006e 80BD     		pop	{r7, pc}
 5759              	.L270:
 5760              		.align	2
 5761              	.L269:
 5762 0070 3A0F0018 		.word	402657082
 5763              		.cfi_endproc
 5764              	.LFE347:
 5766              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 5767              		.align	1
 5768              		.global	HAL_SD_Abort_IT
 5769              		.syntax unified
 5770              		.thumb
 5771              		.thumb_func
 5773              	HAL_SD_Abort_IT:
 5774              	.LFB348:
3094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
3097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
3098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *                the configuration information for SD module.
3099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
3100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 5775              		.loc 1 3102 1
 5776              		.cfi_startproc
 5777              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 158


 5778              		@ frame_needed = 1, uses_anonymous_args = 0
 5779 0000 80B5     		push	{r7, lr}
 5780              		.cfi_def_cfa_offset 8
 5781              		.cfi_offset 7, -8
 5782              		.cfi_offset 14, -4
 5783 0002 84B0     		sub	sp, sp, #16
 5784              		.cfi_def_cfa_offset 24
 5785 0004 00AF     		add	r7, sp, #0
 5786              		.cfi_def_cfa_register 7
 5787 0006 7860     		str	r0, [r7, #4]
3103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
3106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Disable All interrupts */
3109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
 5788              		.loc 1 3109 3
 5789 0008 7B68     		ldr	r3, [r7, #4]
 5790 000a 1B68     		ldr	r3, [r3]
 5791 000c DA6B     		ldr	r2, [r3, #60]
 5792 000e 7B68     		ldr	r3, [r7, #4]
 5793 0010 1B68     		ldr	r3, [r3]
 5794 0012 22F49D72 		bic	r2, r2, #314
 5795 0016 DA63     		str	r2, [r3, #60]
3110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                            SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
3111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
3114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 5796              		.loc 1 3114 6
 5797 0018 7B68     		ldr	r3, [r7, #4]
 5798 001a 1B68     		ldr	r3, [r3]
 5799              		.loc 1 3114 27
 5800 001c 0022     		movs	r2, #0
 5801 001e 1A65     		str	r2, [r3, #80]
3115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 5802              		.loc 1 3117 3
 5803 0020 7B68     		ldr	r3, [r7, #4]
 5804 0022 1B68     		ldr	r3, [r3]
 5805 0024 124A     		ldr	r2, .L276
 5806 0026 9A63     		str	r2, [r3, #56]
3118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
 5807              		.loc 1 3119 15
 5808 0028 7868     		ldr	r0, [r7, #4]
 5809 002a FFF7FEFF 		bl	HAL_SD_GetCardState
 5810 002e F860     		str	r0, [r7, #12]
3120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5811              		.loc 1 3120 14
 5812 0030 7B68     		ldr	r3, [r7, #4]
 5813 0032 0122     		movs	r2, #1
 5814 0034 83F83420 		strb	r2, [r3, #52]
3121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 159


 5815              		.loc 1 3122 5
 5816 0038 FB68     		ldr	r3, [r7, #12]
 5817 003a 062B     		cmp	r3, #6
 5818 003c 02D0     		beq	.L272
 5819              		.loc 1 3122 43 discriminator 1
 5820 003e FB68     		ldr	r3, [r7, #12]
 5821 0040 052B     		cmp	r3, #5
 5822 0042 07D1     		bne	.L273
 5823              	.L272:
3123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
 5824              		.loc 1 3124 22
 5825 0044 7B68     		ldr	r3, [r7, #4]
 5826 0046 1B68     		ldr	r3, [r3]
 5827 0048 1846     		mov	r0, r3
 5828 004a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5829 004e 0246     		mov	r2, r0
 5830              		.loc 1 3124 20
 5831 0050 7B68     		ldr	r3, [r7, #4]
 5832 0052 9A63     		str	r2, [r3, #56]
 5833              	.L273:
3125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
 5834              		.loc 1 3127 9
 5835 0054 7B68     		ldr	r3, [r7, #4]
 5836 0056 9B6B     		ldr	r3, [r3, #56]
 5837              		.loc 1 3127 5
 5838 0058 002B     		cmp	r3, #0
 5839 005a 01D0     		beq	.L274
3128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 5840              		.loc 1 3129 12
 5841 005c 0123     		movs	r3, #1
 5842 005e 03E0     		b	.L275
 5843              	.L274:
3130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
 5844              		.loc 1 3136 5
 5845 0060 7868     		ldr	r0, [r7, #4]
 5846 0062 FFF7FEFF 		bl	HAL_SD_AbortCallback
3137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDMMC_DCTRL_DTEN);
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
3143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable the SD DMA request */
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
3146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 160


3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
3149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
3152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmatx = NULL;
3154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
3158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
3161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmarx = NULL;
3163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
3168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* No transfer ongoing on both DMA channels*/
3171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear All flags */
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
3182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
3184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
3186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->AbortCpltCallback(hsd);
3191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SD_AbortCallback(hsd);
3193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 5847              		.loc 1 3198 10
 5848 0066 0023     		movs	r3, #0
 5849              	.L275:
3199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5850              		.loc 1 3199 1
 5851 0068 1846     		mov	r0, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 161


 5852 006a 1037     		adds	r7, r7, #16
 5853              		.cfi_def_cfa_offset 8
 5854 006c BD46     		mov	sp, r7
 5855              		.cfi_def_cfa_register 13
 5856              		@ sp needed
 5857 006e 80BD     		pop	{r7, pc}
 5858              	.L277:
 5859              		.align	2
 5860              	.L276:
 5861 0070 3A0F0018 		.word	402657082
 5862              		.cfi_endproc
 5863              	.LFE348:
 5865              		.section	.text.SD_InitCard,"ax",%progbits
 5866              		.align	1
 5867              		.syntax unified
 5868              		.thumb
 5869              		.thumb_func
 5871              	SD_InitCard:
 5872              	.LFB349:
3200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
3203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
3207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
3210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
3211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
3212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD transmit process complete callback
3217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMATransmitCplt(DMA_HandleTypeDef *hdma)
3221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Enable DATAEND Interrupt */
3225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DATAEND));
3226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD receive process complete callback
3230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 162


3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send stop command in multiblock write */
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Context == (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA))
3240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
3245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
3247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Disable the DMA transfer for transmit request by setting the DMAEN bit
3254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   in the SD DCTRL register */
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
3256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear all the static flags */
3258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
3262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->RxCpltCallback(hsd);
3265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_RxCpltCallback(hsd);
3267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD communication error callback
3272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMAError(DMA_HandleTypeDef *hdma)
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
3280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   RxErrorCode = hsd->hdmarx->ErrorCode;
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   TxErrorCode = hsd->hdmatx->ErrorCode;
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
3284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear All flags */
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
3287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable All interrupts */
3289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
3290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
3291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_DMA;
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 163


3295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
3297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State= HAL_SD_STATE_READY;
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
3301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->ErrorCallback(hsd);
3305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_ErrorCallback(hsd);
3307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD Tx Abort callback
3312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMATxAbort(DMA_HandleTypeDef *hdma)
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
3332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
3343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
3345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD Rx Abort callback
3351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 164


3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMARxAbort(DMA_HandleTypeDef *hdma)
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
3368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
3371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
3388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the sd card.
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval SD Card error state
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 5873              		.loc 1 3395 1
 5874              		.cfi_startproc
 5875              		@ args = 0, pretend = 0, frame = 64
 5876              		@ frame_needed = 1, uses_anonymous_args = 0
 5877 0000 B0B5     		push	{r4, r5, r7, lr}
 5878              		.cfi_def_cfa_offset 16
 5879              		.cfi_offset 4, -16
 5880              		.cfi_offset 5, -12
 5881              		.cfi_offset 7, -8
 5882              		.cfi_offset 14, -4
 5883 0002 90B0     		sub	sp, sp, #64
 5884              		.cfi_def_cfa_offset 80
 5885 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 165


 5886              		.cfi_def_cfa_register 7
 5887 0006 7860     		str	r0, [r7, #4]
3396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
 5888              		.loc 1 3398 12
 5889 0008 0123     		movs	r3, #1
 5890 000a FB81     		strh	r3, [r7, #14]	@ movhi
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the power State */
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(SDMMC_GetPowerState(hsd->Instance) == 0U)
 5891              		.loc 1 3401 6
 5892 000c 7B68     		ldr	r3, [r7, #4]
 5893 000e 1B68     		ldr	r3, [r3]
 5894 0010 1846     		mov	r0, r3
 5895 0012 FFF7FEFF 		bl	SDMMC_GetPowerState
 5896 0016 0346     		mov	r3, r0
 5897              		.loc 1 3401 5
 5898 0018 002B     		cmp	r3, #0
 5899 001a 02D1     		bne	.L279
3402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Power off */
3404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 5900              		.loc 1 3404 12
 5901 001c 4FF08063 		mov	r3, #67108864
 5902 0020 A9E0     		b	.L288
 5903              	.L279:
3405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
 5904              		.loc 1 3407 17
 5905 0022 7B68     		ldr	r3, [r7, #4]
 5906 0024 DB6B     		ldr	r3, [r3, #60]
 5907              		.loc 1 3407 5
 5908 0026 032B     		cmp	r3, #3
 5909 0028 2ED0     		beq	.L281
3408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
 5910              		.loc 1 3410 18
 5911 002a 7B68     		ldr	r3, [r7, #4]
 5912 002c 1B68     		ldr	r3, [r3]
 5913 002e 1846     		mov	r0, r3
 5914 0030 FFF7FEFF 		bl	SDMMC_CmdSendCID
 5915 0034 F863     		str	r0, [r7, #60]
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 5916              		.loc 1 3411 7
 5917 0036 FB6B     		ldr	r3, [r7, #60]
 5918 0038 002B     		cmp	r3, #0
 5919 003a 01D0     		beq	.L282
3412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 5920              		.loc 1 3413 14
 5921 003c FB6B     		ldr	r3, [r7, #60]
 5922 003e 9AE0     		b	.L288
 5923              	.L282:
3414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 166


3415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Get Card identification number data */
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 5924              		.loc 1 3418 22
 5925 0040 7B68     		ldr	r3, [r7, #4]
 5926 0042 1B68     		ldr	r3, [r3]
 5927 0044 0021     		movs	r1, #0
 5928 0046 1846     		mov	r0, r3
 5929 0048 FFF7FEFF 		bl	SDMMC_GetResponse
 5930 004c 0246     		mov	r2, r0
 5931              		.loc 1 3418 20
 5932 004e 7B68     		ldr	r3, [r7, #4]
 5933 0050 1A67     		str	r2, [r3, #112]
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 5934              		.loc 1 3419 22
 5935 0052 7B68     		ldr	r3, [r7, #4]
 5936 0054 1B68     		ldr	r3, [r3]
 5937 0056 0421     		movs	r1, #4
 5938 0058 1846     		mov	r0, r3
 5939 005a FFF7FEFF 		bl	SDMMC_GetResponse
 5940 005e 0246     		mov	r2, r0
 5941              		.loc 1 3419 20
 5942 0060 7B68     		ldr	r3, [r7, #4]
 5943 0062 5A67     		str	r2, [r3, #116]
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 5944              		.loc 1 3420 22
 5945 0064 7B68     		ldr	r3, [r7, #4]
 5946 0066 1B68     		ldr	r3, [r3]
 5947 0068 0821     		movs	r1, #8
 5948 006a 1846     		mov	r0, r3
 5949 006c FFF7FEFF 		bl	SDMMC_GetResponse
 5950 0070 0246     		mov	r2, r0
 5951              		.loc 1 3420 20
 5952 0072 7B68     		ldr	r3, [r7, #4]
 5953 0074 9A67     		str	r2, [r3, #120]
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 5954              		.loc 1 3421 22
 5955 0076 7B68     		ldr	r3, [r7, #4]
 5956 0078 1B68     		ldr	r3, [r3]
 5957 007a 0C21     		movs	r1, #12
 5958 007c 1846     		mov	r0, r3
 5959 007e FFF7FEFF 		bl	SDMMC_GetResponse
 5960 0082 0246     		mov	r2, r0
 5961              		.loc 1 3421 20
 5962 0084 7B68     		ldr	r3, [r7, #4]
 5963 0086 DA67     		str	r2, [r3, #124]
 5964              	.L281:
3422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
 5965              		.loc 1 3425 17
 5966 0088 7B68     		ldr	r3, [r7, #4]
 5967 008a DB6B     		ldr	r3, [r3, #60]
 5968              		.loc 1 3425 5
 5969 008c 032B     		cmp	r3, #3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 167


 5970 008e 0DD0     		beq	.L283
3426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
3428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* SD Card publishes its RCA. */
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
 5971              		.loc 1 3429 18
 5972 0090 7B68     		ldr	r3, [r7, #4]
 5973 0092 1B68     		ldr	r3, [r3]
 5974 0094 07F10E02 		add	r2, r7, #14
 5975 0098 1146     		mov	r1, r2
 5976 009a 1846     		mov	r0, r3
 5977 009c FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 5978 00a0 F863     		str	r0, [r7, #60]
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 5979              		.loc 1 3430 7
 5980 00a2 FB6B     		ldr	r3, [r7, #60]
 5981 00a4 002B     		cmp	r3, #0
 5982 00a6 01D0     		beq	.L283
3431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 5983              		.loc 1 3432 14
 5984 00a8 FB6B     		ldr	r3, [r7, #60]
 5985 00aa 64E0     		b	.L288
 5986              	.L283:
3433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
 5987              		.loc 1 3435 17
 5988 00ac 7B68     		ldr	r3, [r7, #4]
 5989 00ae DB6B     		ldr	r3, [r3, #60]
 5990              		.loc 1 3435 5
 5991 00b0 032B     		cmp	r3, #3
 5992 00b2 36D0     		beq	.L284
3436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get the SD card RCA */
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
 5993              		.loc 1 3438 28
 5994 00b4 FB89     		ldrh	r3, [r7, #14]
 5995 00b6 1A46     		mov	r2, r3
 5996 00b8 7B68     		ldr	r3, [r7, #4]
 5997 00ba 9A64     		str	r2, [r3, #72]
3439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 5998              		.loc 1 3441 18
 5999 00bc 7B68     		ldr	r3, [r7, #4]
 6000 00be 1A68     		ldr	r2, [r3]
 6001              		.loc 1 3441 72
 6002 00c0 7B68     		ldr	r3, [r7, #4]
 6003 00c2 9B6C     		ldr	r3, [r3, #72]
 6004              		.loc 1 3441 84
 6005 00c4 1B04     		lsls	r3, r3, #16
 6006              		.loc 1 3441 18
 6007 00c6 1946     		mov	r1, r3
 6008 00c8 1046     		mov	r0, r2
 6009 00ca FFF7FEFF 		bl	SDMMC_CmdSendCSD
 6010 00ce F863     		str	r0, [r7, #60]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 168


3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6011              		.loc 1 3442 7
 6012 00d0 FB6B     		ldr	r3, [r7, #60]
 6013 00d2 002B     		cmp	r3, #0
 6014 00d4 01D0     		beq	.L285
3443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 6015              		.loc 1 3444 14
 6016 00d6 FB6B     		ldr	r3, [r7, #60]
 6017 00d8 4DE0     		b	.L288
 6018              	.L285:
3445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Get Card Specific Data */
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 6019              		.loc 1 3449 22
 6020 00da 7B68     		ldr	r3, [r7, #4]
 6021 00dc 1B68     		ldr	r3, [r3]
 6022 00de 0021     		movs	r1, #0
 6023 00e0 1846     		mov	r0, r3
 6024 00e2 FFF7FEFF 		bl	SDMMC_GetResponse
 6025 00e6 0246     		mov	r2, r0
 6026              		.loc 1 3449 20
 6027 00e8 7B68     		ldr	r3, [r7, #4]
 6028 00ea 1A66     		str	r2, [r3, #96]
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 6029              		.loc 1 3450 22
 6030 00ec 7B68     		ldr	r3, [r7, #4]
 6031 00ee 1B68     		ldr	r3, [r3]
 6032 00f0 0421     		movs	r1, #4
 6033 00f2 1846     		mov	r0, r3
 6034 00f4 FFF7FEFF 		bl	SDMMC_GetResponse
 6035 00f8 0246     		mov	r2, r0
 6036              		.loc 1 3450 20
 6037 00fa 7B68     		ldr	r3, [r7, #4]
 6038 00fc 5A66     		str	r2, [r3, #100]
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 6039              		.loc 1 3451 22
 6040 00fe 7B68     		ldr	r3, [r7, #4]
 6041 0100 1B68     		ldr	r3, [r3]
 6042 0102 0821     		movs	r1, #8
 6043 0104 1846     		mov	r0, r3
 6044 0106 FFF7FEFF 		bl	SDMMC_GetResponse
 6045 010a 0246     		mov	r2, r0
 6046              		.loc 1 3451 20
 6047 010c 7B68     		ldr	r3, [r7, #4]
 6048 010e 9A66     		str	r2, [r3, #104]
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 6049              		.loc 1 3452 22
 6050 0110 7B68     		ldr	r3, [r7, #4]
 6051 0112 1B68     		ldr	r3, [r3]
 6052 0114 0C21     		movs	r1, #12
 6053 0116 1846     		mov	r0, r3
 6054 0118 FFF7FEFF 		bl	SDMMC_GetResponse
 6055 011c 0246     		mov	r2, r0
 6056              		.loc 1 3452 20
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 169


 6057 011e 7B68     		ldr	r3, [r7, #4]
 6058 0120 DA66     		str	r2, [r3, #108]
 6059              	.L284:
3453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get the Card Class */
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->SdCard.Class = (SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2) >> 20U);
 6060              		.loc 1 3457 24
 6061 0122 7B68     		ldr	r3, [r7, #4]
 6062 0124 1B68     		ldr	r3, [r3]
 6063 0126 0421     		movs	r1, #4
 6064 0128 1846     		mov	r0, r3
 6065 012a FFF7FEFF 		bl	SDMMC_GetResponse
 6066 012e 0346     		mov	r3, r0
 6067              		.loc 1 3457 70
 6068 0130 1A0D     		lsrs	r2, r3, #20
 6069              		.loc 1 3457 21
 6070 0132 7B68     		ldr	r3, [r7, #4]
 6071 0134 5A64     		str	r2, [r3, #68]
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get CSD parameters */
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
 6072              		.loc 1 3460 7
 6073 0136 07F11003 		add	r3, r7, #16
 6074 013a 1946     		mov	r1, r3
 6075 013c 7868     		ldr	r0, [r7, #4]
 6076 013e FFF7FEFF 		bl	HAL_SD_GetCardCSD
 6077 0142 0346     		mov	r3, r0
 6078              		.loc 1 3460 6
 6079 0144 002B     		cmp	r3, #0
 6080 0146 02D0     		beq	.L286
3461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 6081              		.loc 1 3462 12
 6082 0148 4FF08053 		mov	r3, #268435456
 6083 014c 13E0     		b	.L288
 6084              	.L286:
3463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Select the Card */
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
 6085              		.loc 1 3466 16
 6086 014e 7B68     		ldr	r3, [r7, #4]
 6087 0150 1968     		ldr	r1, [r3]
 6088              		.loc 1 3466 82
 6089 0152 7B68     		ldr	r3, [r7, #4]
 6090 0154 9B6C     		ldr	r3, [r3, #72]
 6091              		.loc 1 3466 49
 6092 0156 1B04     		lsls	r3, r3, #16
 6093              		.loc 1 3466 16
 6094 0158 0022     		movs	r2, #0
 6095 015a 1C46     		mov	r4, r3
 6096 015c 1546     		mov	r5, r2
 6097 015e 2246     		mov	r2, r4
 6098 0160 2B46     		mov	r3, r5
 6099 0162 0846     		mov	r0, r1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 170


 6100 0164 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 6101 0168 F863     		str	r0, [r7, #60]
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6102              		.loc 1 3467 5
 6103 016a FB6B     		ldr	r3, [r7, #60]
 6104 016c 002B     		cmp	r3, #0
 6105 016e 01D0     		beq	.L287
3468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6106              		.loc 1 3469 12
 6107 0170 FB6B     		ldr	r3, [r7, #60]
 6108 0172 00E0     		b	.L288
 6109              	.L287:
3470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Configure SDMMC peripheral interface */
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, hsd->Init);
3475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
3476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* All cards are initialized */
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 6110              		.loc 1 3478 10
 6111 0174 0023     		movs	r3, #0
 6112              	.L288:
3479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6113              		.loc 1 3479 1 discriminator 1
 6114 0176 1846     		mov	r0, r3
 6115 0178 4037     		adds	r7, r7, #64
 6116              		.cfi_def_cfa_offset 16
 6117 017a BD46     		mov	sp, r7
 6118              		.cfi_def_cfa_register 13
 6119              		@ sp needed
 6120 017c B0BD     		pop	{r4, r5, r7, pc}
 6121              		.cfi_endproc
 6122              	.LFE349:
 6124              		.section	.text.SD_PowerON,"ax",%progbits
 6125              		.align	1
 6126              		.syntax unified
 6127              		.thumb
 6128              		.thumb_func
 6130              	SD_PowerON:
 6131              	.LFB350:
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
3483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         in the SD handle.
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
3489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 6132              		.loc 1 3489 1
 6133              		.cfi_startproc
 6134              		@ args = 0, pretend = 0, frame = 32
 6135              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 171


 6136 0000 80B5     		push	{r7, lr}
 6137              		.cfi_def_cfa_offset 8
 6138              		.cfi_offset 7, -8
 6139              		.cfi_offset 14, -4
 6140 0002 88B0     		sub	sp, sp, #32
 6141              		.cfi_def_cfa_offset 40
 6142 0004 00AF     		add	r7, sp, #0
 6143              		.cfi_def_cfa_register 7
 6144 0006 7860     		str	r0, [r7, #4]
3490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __IO uint32_t count = 0U;
 6145              		.loc 1 3490 17
 6146 0008 0023     		movs	r3, #0
 6147 000a FB60     		str	r3, [r7, #12]
3491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t response = 0U, validvoltage = 0U;
 6148              		.loc 1 3491 12
 6149 000c 0023     		movs	r3, #0
 6150 000e FB61     		str	r3, [r7, #28]
 6151              		.loc 1 3491 27
 6152 0010 0023     		movs	r3, #0
 6153 0012 BB61     		str	r3, [r7, #24]
3492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 6154              		.loc 1 3494 24
 6155 0014 FFF7FEFF 		bl	HAL_GetTick
 6156 0018 7861     		str	r0, [r7, #20]
3495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
3498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
 6157              		.loc 1 3498 16
 6158 001a 7B68     		ldr	r3, [r7, #4]
 6159 001c 1B68     		ldr	r3, [r3]
 6160 001e 1846     		mov	r0, r3
 6161 0020 FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 6162 0024 3861     		str	r0, [r7, #16]
3499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6163              		.loc 1 3499 5
 6164 0026 3B69     		ldr	r3, [r7, #16]
 6165 0028 002B     		cmp	r3, #0
 6166 002a 01D0     		beq	.L290
3500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6167              		.loc 1 3501 12
 6168 002c 3B69     		ldr	r3, [r7, #16]
 6169 002e EDE0     		b	.L291
 6170              	.L290:
3502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
 6171              		.loc 1 3505 16
 6172 0030 7B68     		ldr	r3, [r7, #4]
 6173 0032 1B68     		ldr	r3, [r3]
 6174 0034 1846     		mov	r0, r3
 6175 0036 FFF7FEFF 		bl	SDMMC_CmdOperCond
 6176 003a 3861     		str	r0, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 172


3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6177              		.loc 1 3506 5
 6178 003c 3B69     		ldr	r3, [r7, #16]
 6179 003e 002B     		cmp	r3, #0
 6180 0040 0DD0     		beq	.L292
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
 6181              		.loc 1 3508 29
 6182 0042 7B68     		ldr	r3, [r7, #4]
 6183 0044 0022     		movs	r2, #0
 6184 0046 1A64     		str	r2, [r3, #64]
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
 6185              		.loc 1 3510 18
 6186 0048 7B68     		ldr	r3, [r7, #4]
 6187 004a 1B68     		ldr	r3, [r3]
 6188 004c 1846     		mov	r0, r3
 6189 004e FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 6190 0052 3861     		str	r0, [r7, #16]
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6191              		.loc 1 3511 7
 6192 0054 3B69     		ldr	r3, [r7, #16]
 6193 0056 002B     		cmp	r3, #0
 6194 0058 04D0     		beq	.L293
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 6195              		.loc 1 3513 14
 6196 005a 3B69     		ldr	r3, [r7, #16]
 6197 005c D6E0     		b	.L291
 6198              	.L292:
3514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
 6199              		.loc 1 3519 29
 6200 005e 7B68     		ldr	r3, [r7, #4]
 6201 0060 0122     		movs	r2, #1
 6202 0062 1A64     		str	r2, [r3, #64]
 6203              	.L293:
3520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if( hsd->SdCard.CardVersion == CARD_V2_X)
 6204              		.loc 1 3522 18
 6205 0064 7B68     		ldr	r3, [r7, #4]
 6206 0066 1B6C     		ldr	r3, [r3, #64]
 6207              		.loc 1 3522 5
 6208 0068 012B     		cmp	r3, #1
 6209 006a 37D1     		bne	.L295
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
 6210              		.loc 1 3525 18
 6211 006c 7B68     		ldr	r3, [r7, #4]
 6212 006e 1B68     		ldr	r3, [r3]
 6213 0070 0021     		movs	r1, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 173


 6214 0072 1846     		mov	r0, r3
 6215 0074 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6216 0078 3861     		str	r0, [r7, #16]
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6217              		.loc 1 3526 7
 6218 007a 3B69     		ldr	r3, [r7, #16]
 6219 007c 002B     		cmp	r3, #0
 6220 007e 2DD0     		beq	.L295
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 6221              		.loc 1 3528 14
 6222 0080 4FF08053 		mov	r3, #268435456
 6223 0084 C2E0     		b	.L291
 6224              	.L301:
3529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* SD CARD */
3532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
3534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
 6225              		.loc 1 3536 18
 6226 0086 7B68     		ldr	r3, [r7, #4]
 6227 0088 1B68     		ldr	r3, [r3]
 6228 008a 0021     		movs	r1, #0
 6229 008c 1846     		mov	r0, r3
 6230 008e FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6231 0092 3861     		str	r0, [r7, #16]
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6232              		.loc 1 3537 7
 6233 0094 3B69     		ldr	r3, [r7, #16]
 6234 0096 002B     		cmp	r3, #0
 6235 0098 01D0     		beq	.L296
3538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 6236              		.loc 1 3539 14
 6237 009a 3B69     		ldr	r3, [r7, #16]
 6238 009c B6E0     		b	.L291
 6239              	.L296:
3540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD41 */
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
 6240              		.loc 1 3543 18
 6241 009e 7B68     		ldr	r3, [r7, #4]
 6242 00a0 1B68     		ldr	r3, [r3]
 6243 00a2 5C49     		ldr	r1, .L312
 6244 00a4 1846     		mov	r0, r3
 6245 00a6 FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 6246 00aa 3861     		str	r0, [r7, #16]
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6247              		.loc 1 3544 7
 6248 00ac 3B69     		ldr	r3, [r7, #16]
 6249 00ae 002B     		cmp	r3, #0
 6250 00b0 02D0     		beq	.L297
3545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 174


3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 6251              		.loc 1 3546 14
 6252 00b2 4FF08053 		mov	r3, #268435456
 6253 00b6 A9E0     		b	.L291
 6254              	.L297:
3547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get command response */
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     response = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 6255              		.loc 1 3550 16
 6256 00b8 7B68     		ldr	r3, [r7, #4]
 6257 00ba 1B68     		ldr	r3, [r3]
 6258 00bc 0021     		movs	r1, #0
 6259 00be 1846     		mov	r0, r3
 6260 00c0 FFF7FEFF 		bl	SDMMC_GetResponse
 6261 00c4 F861     		str	r0, [r7, #28]
3551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get operating voltage*/
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
 6262              		.loc 1 3553 32
 6263 00c6 FB69     		ldr	r3, [r7, #28]
 6264 00c8 DB0F     		lsrs	r3, r3, #31
 6265              		.loc 1 3553 52
 6266 00ca 012B     		cmp	r3, #1
 6267 00cc 01D1     		bne	.L298
 6268              		.loc 1 3553 52 is_stmt 0 discriminator 1
 6269 00ce 0123     		movs	r3, #1
 6270 00d0 00E0     		b	.L299
 6271              	.L298:
 6272              		.loc 1 3553 52 discriminator 2
 6273 00d2 0023     		movs	r3, #0
 6274              	.L299:
 6275              		.loc 1 3553 18 is_stmt 1 discriminator 4
 6276 00d4 BB61     		str	r3, [r7, #24]
3554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     count++;
 6277              		.loc 1 3555 10 discriminator 4
 6278 00d6 FB68     		ldr	r3, [r7, #12]
 6279 00d8 0133     		adds	r3, r3, #1
 6280 00da FB60     		str	r3, [r7, #12]
 6281              	.L295:
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6282              		.loc 1 3533 16
 6283 00dc FB68     		ldr	r3, [r7, #12]
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6284              		.loc 1 3533 40
 6285 00de 4FF6FE72 		movw	r2, #65534
 6286 00e2 9342     		cmp	r3, r2
 6287 00e4 02D8     		bhi	.L300
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6288              		.loc 1 3533 40 is_stmt 0 discriminator 1
 6289 00e6 BB69     		ldr	r3, [r7, #24]
 6290 00e8 002B     		cmp	r3, #0
 6291 00ea CCD0     		beq	.L301
 6292              	.L300:
3556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 175


3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(count >= SDMMC_MAX_VOLT_TRIAL)
 6293              		.loc 1 3558 12 is_stmt 1
 6294 00ec FB68     		ldr	r3, [r7, #12]
 6295              		.loc 1 3558 5
 6296 00ee 4FF6FE72 		movw	r2, #65534
 6297 00f2 9342     		cmp	r3, r2
 6298 00f4 02D9     		bls	.L302
3559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
 6299              		.loc 1 3560 12
 6300 00f6 4FF08073 		mov	r3, #16777216
 6301 00fa 87E0     		b	.L291
 6302              	.L302:
3561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
 6303              		.loc 1 3563 16
 6304 00fc FB69     		ldr	r3, [r7, #28]
 6305 00fe 03F08043 		and	r3, r3, #1073741824
 6306              		.loc 1 3563 5
 6307 0102 002B     		cmp	r3, #0
 6308 0104 7ED0     		beq	.L303
3564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
 6309              		.loc 1 3565 26
 6310 0106 7B68     		ldr	r3, [r7, #4]
 6311 0108 0122     		movs	r2, #1
 6312 010a DA63     		str	r2, [r3, #60]
3566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
 6313              		.loc 1 3567 17
 6314 010c 7B68     		ldr	r3, [r7, #4]
 6315 010e 9B69     		ldr	r3, [r3, #24]
 6316              		.loc 1 3567 7
 6317 0110 012B     		cmp	r3, #1
 6318 0112 7AD1     		bne	.L304
3568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((response & SD_SWITCH_1_8V_CAPACITY) == SD_SWITCH_1_8V_CAPACITY)
 6319              		.loc 1 3569 20
 6320 0114 FB69     		ldr	r3, [r7, #28]
 6321 0116 03F08073 		and	r3, r3, #16777216
 6322              		.loc 1 3569 9
 6323 011a 002B     		cmp	r3, #0
 6324 011c 75D0     		beq	.L304
3570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 6325              		.loc 1 3571 31
 6326 011e 7B68     		ldr	r3, [r7, #4]
 6327 0120 4FF40072 		mov	r2, #512
 6328 0124 DA65     		str	r2, [r3, #92]
3572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Start switching procedue */
3574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->POWER |= SDMMC_POWER_VSWITCHEN;
 6329              		.loc 1 3574 12
 6330 0126 7B68     		ldr	r3, [r7, #4]
 6331 0128 1B68     		ldr	r3, [r3]
 6332              		.loc 1 3574 30
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 176


 6333 012a 1A68     		ldr	r2, [r3]
 6334              		.loc 1 3574 12
 6335 012c 7B68     		ldr	r3, [r7, #4]
 6336 012e 1B68     		ldr	r3, [r3]
 6337              		.loc 1 3574 30
 6338 0130 42F00802 		orr	r2, r2, #8
 6339 0134 1A60     		str	r2, [r3]
3575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Send CMD11 to switch 1.8V mode */
3577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdVoltageSwitch(hsd->Instance);
 6340              		.loc 1 3577 22
 6341 0136 7B68     		ldr	r3, [r7, #4]
 6342 0138 1B68     		ldr	r3, [r3]
 6343 013a 1846     		mov	r0, r3
 6344 013c FFF7FEFF 		bl	SDMMC_CmdVoltageSwitch
 6345 0140 3861     		str	r0, [r7, #16]
3578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6346              		.loc 1 3578 11
 6347 0142 3B69     		ldr	r3, [r7, #16]
 6348 0144 002B     		cmp	r3, #0
 6349 0146 0CD0     		beq	.L306
3579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return errorstate;
 6350              		.loc 1 3580 18
 6351 0148 3B69     		ldr	r3, [r7, #16]
 6352 014a 5FE0     		b	.L291
 6353              	.L307:
3581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Check to CKSTOP */
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         while(( hsd->Instance->STA & SDMMC_FLAG_CKSTOP) != SDMMC_FLAG_CKSTOP)
3585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6354              		.loc 1 3586 15
 6355 014c FFF7FEFF 		bl	HAL_GetTick
 6356 0150 0246     		mov	r2, r0
 6357              		.loc 1 3586 29
 6358 0152 7B69     		ldr	r3, [r7, #20]
 6359 0154 D31A     		subs	r3, r2, r3
 6360              		.loc 1 3586 13
 6361 0156 B3F1FF3F 		cmp	r3, #-1
 6362 015a 02D1     		bne	.L306
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
3588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             return HAL_SD_ERROR_TIMEOUT;
 6363              		.loc 1 3588 20
 6364 015c 4FF00043 		mov	r3, #-2147483648
 6365 0160 54E0     		b	.L291
 6366              	.L306:
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6367              		.loc 1 3584 20
 6368 0162 7B68     		ldr	r3, [r7, #4]
 6369 0164 1B68     		ldr	r3, [r3]
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6370              		.loc 1 3584 30
 6371 0166 5B6B     		ldr	r3, [r3, #52]
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6372              		.loc 1 3584 36
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 177


 6373 0168 03F08063 		and	r3, r3, #67108864
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6374              		.loc 1 3584 57
 6375 016c B3F1806F 		cmp	r3, #67108864
 6376 0170 ECD1     		bne	.L307
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
3590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear CKSTOP Flag */
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->ICR = SDMMC_FLAG_CKSTOP;
 6377              		.loc 1 3593 12
 6378 0172 7B68     		ldr	r3, [r7, #4]
 6379 0174 1B68     		ldr	r3, [r3]
 6380              		.loc 1 3593 28
 6381 0176 4FF08062 		mov	r2, #67108864
 6382 017a 9A63     		str	r2, [r3, #56]
3594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Check to BusyD0 */
3596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(( hsd->Instance->STA & SDMMC_FLAG_BUSYD0) != SDMMC_FLAG_BUSYD0)
 6383              		.loc 1 3596 17
 6384 017c 7B68     		ldr	r3, [r7, #4]
 6385 017e 1B68     		ldr	r3, [r3]
 6386              		.loc 1 3596 27
 6387 0180 5B6B     		ldr	r3, [r3, #52]
 6388              		.loc 1 3596 33
 6389 0182 03F48013 		and	r3, r3, #1048576
 6390              		.loc 1 3596 11
 6391 0186 B3F5801F 		cmp	r3, #1048576
 6392 018a 02D0     		beq	.L308
3597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Error when activate Voltage Switch in SDMMC Peripheral */
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return SDMMC_ERROR_UNSUPPORTED_FEATURE;
 6393              		.loc 1 3599 18
 6394 018c 4FF08053 		mov	r3, #268435456
 6395 0190 3CE0     		b	.L291
 6396              	.L308:
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
3602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable Transceiver Switch PIN */
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->DriveTransceiver_1_8V_Callback(SET);
3606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SDEx_DriveTransceiver_1_8V_Callback(SET);
 6397              		.loc 1 3607 11
 6398 0192 0120     		movs	r0, #1
 6399 0194 FFF7FEFF 		bl	HAL_SDEx_DriveTransceiver_1_8V_Callback
3608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Switch ready */
3611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->POWER |= SDMMC_POWER_VSWITCH;
 6400              		.loc 1 3611 14
 6401 0198 7B68     		ldr	r3, [r7, #4]
 6402 019a 1B68     		ldr	r3, [r3]
 6403              		.loc 1 3611 32
 6404 019c 1A68     		ldr	r2, [r3]
 6405              		.loc 1 3611 14
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 178


 6406 019e 7B68     		ldr	r3, [r7, #4]
 6407 01a0 1B68     		ldr	r3, [r3]
 6408              		.loc 1 3611 32
 6409 01a2 42F00402 		orr	r2, r2, #4
 6410 01a6 1A60     		str	r2, [r3]
3612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Check VSWEND Flag */
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           while(( hsd->Instance->STA & SDMMC_FLAG_VSWEND) != SDMMC_FLAG_VSWEND)
 6411              		.loc 1 3614 16
 6412 01a8 0AE0     		b	.L309
 6413              	.L310:
3615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
3616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6414              		.loc 1 3616 17
 6415 01aa FFF7FEFF 		bl	HAL_GetTick
 6416 01ae 0246     		mov	r2, r0
 6417              		.loc 1 3616 31
 6418 01b0 7B69     		ldr	r3, [r7, #20]
 6419 01b2 D31A     		subs	r3, r2, r3
 6420              		.loc 1 3616 15
 6421 01b4 B3F1FF3F 		cmp	r3, #-1
 6422 01b8 02D1     		bne	.L309
3617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             {
3618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****               return HAL_SD_ERROR_TIMEOUT;
 6423              		.loc 1 3618 22
 6424 01ba 4FF00043 		mov	r3, #-2147483648
 6425 01be 25E0     		b	.L291
 6426              	.L309:
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 6427              		.loc 1 3614 22
 6428 01c0 7B68     		ldr	r3, [r7, #4]
 6429 01c2 1B68     		ldr	r3, [r3]
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 6430              		.loc 1 3614 32
 6431 01c4 5B6B     		ldr	r3, [r3, #52]
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 6432              		.loc 1 3614 38
 6433 01c6 03F00073 		and	r3, r3, #33554432
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
 6434              		.loc 1 3614 59
 6435 01ca B3F1007F 		cmp	r3, #33554432
 6436 01ce ECD1     		bne	.L310
3619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             }
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
3621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clear VSWEND Flag */
3623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->ICR = SDMMC_FLAG_VSWEND;
 6437              		.loc 1 3623 14
 6438 01d0 7B68     		ldr	r3, [r7, #4]
 6439 01d2 1B68     		ldr	r3, [r3]
 6440              		.loc 1 3623 30
 6441 01d4 4FF00072 		mov	r2, #33554432
 6442 01d8 9A63     		str	r2, [r3, #56]
3624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Check BusyD0 status */
3626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if(( hsd->Instance->STA & SDMMC_FLAG_BUSYD0) == SDMMC_FLAG_BUSYD0)
 6443              		.loc 1 3626 19
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 179


 6444 01da 7B68     		ldr	r3, [r7, #4]
 6445 01dc 1B68     		ldr	r3, [r3]
 6446              		.loc 1 3626 29
 6447 01de 5B6B     		ldr	r3, [r3, #52]
 6448              		.loc 1 3626 35
 6449 01e0 03F48013 		and	r3, r3, #1048576
 6450              		.loc 1 3626 13
 6451 01e4 B3F5801F 		cmp	r3, #1048576
 6452 01e8 02D1     		bne	.L311
3627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
3628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             /* Error when enabling 1.8V mode */
3629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             return HAL_SD_ERROR_INVALID_VOLTRANGE;
 6453              		.loc 1 3629 20
 6454 01ea 4FF08073 		mov	r3, #16777216
 6455 01ee 0DE0     		b	.L291
 6456              	.L311:
3630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
3631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Switch to 1.8V OK */
3632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Disable VSWITCH FLAG from SDMMC Peripheral */
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->POWER = 0x13U;
 6457              		.loc 1 3634 14
 6458 01f0 7B68     		ldr	r3, [r7, #4]
 6459 01f2 1B68     		ldr	r3, [r3]
 6460              		.loc 1 3634 32
 6461 01f4 1322     		movs	r2, #19
 6462 01f6 1A60     		str	r2, [r3]
3635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clean Status flags */
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->ICR = 0xFFFFFFFFU;
 6463              		.loc 1 3637 14
 6464 01f8 7B68     		ldr	r3, [r7, #4]
 6465 01fa 1B68     		ldr	r3, [r3]
 6466              		.loc 1 3637 30
 6467 01fc 4FF0FF32 		mov	r2, #-1
 6468 0200 9A63     		str	r2, [r3, #56]
 6469 0202 02E0     		b	.L304
 6470              	.L303:
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDSC;
 6471              		.loc 1 3645 26
 6472 0204 7B68     		ldr	r3, [r7, #4]
 6473 0206 0022     		movs	r2, #0
 6474 0208 DA63     		str	r2, [r3, #60]
 6475              	.L304:
3646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 6476              		.loc 1 3649 10
 6477 020a 0023     		movs	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 180


 6478              	.L291:
3650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6479              		.loc 1 3650 1
 6480 020c 1846     		mov	r0, r3
 6481 020e 2037     		adds	r7, r7, #32
 6482              		.cfi_def_cfa_offset 8
 6483 0210 BD46     		mov	sp, r7
 6484              		.cfi_def_cfa_register 13
 6485              		@ sp needed
 6486 0212 80BD     		pop	{r7, pc}
 6487              	.L313:
 6488              		.align	2
 6489              	.L312:
 6490 0214 000010C1 		.word	-1055916032
 6491              		.cfi_endproc
 6492              	.LFE350:
 6494              		.section	.text.SD_PowerOFF,"ax",%progbits
 6495              		.align	1
 6496              		.syntax unified
 6497              		.thumb
 6498              		.thumb_func
 6500              	SD_PowerOFF:
 6501              	.LFB351:
3651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Turns the SDMMC output signals off.
3654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 6502              		.loc 1 3658 1
 6503              		.cfi_startproc
 6504              		@ args = 0, pretend = 0, frame = 8
 6505              		@ frame_needed = 1, uses_anonymous_args = 0
 6506 0000 80B5     		push	{r7, lr}
 6507              		.cfi_def_cfa_offset 8
 6508              		.cfi_offset 7, -8
 6509              		.cfi_offset 14, -4
 6510 0002 82B0     		sub	sp, sp, #8
 6511              		.cfi_def_cfa_offset 16
 6512 0004 00AF     		add	r7, sp, #0
 6513              		.cfi_def_cfa_register 7
 6514 0006 7860     		str	r0, [r7, #4]
3659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Power State to OFF */
3660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_PowerState_OFF(hsd->Instance);
 6515              		.loc 1 3660 9
 6516 0008 7B68     		ldr	r3, [r7, #4]
 6517 000a 1B68     		ldr	r3, [r3]
 6518 000c 1846     		mov	r0, r3
 6519 000e FFF7FEFF 		bl	SDMMC_PowerState_OFF
3661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6520              		.loc 1 3661 1
 6521 0012 00BF     		nop
 6522 0014 0837     		adds	r7, r7, #8
 6523              		.cfi_def_cfa_offset 8
 6524 0016 BD46     		mov	sp, r7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 181


 6525              		.cfi_def_cfa_register 13
 6526              		@ sp needed
 6527 0018 80BD     		pop	{r7, pc}
 6528              		.cfi_endproc
 6529              	.LFE351:
 6531              		.section	.text.SD_SendSDStatus,"ax",%progbits
 6532              		.align	1
 6533              		.syntax unified
 6534              		.thumb
 6535              		.thumb_func
 6537              	SD_SendSDStatus:
 6538              	.LFB352:
3662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Send Status info command.
3665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to SD handle
3666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pSDstatus Pointer to the buffer that will contain the SD card status
3667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         SD Status register)
3668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 6539              		.loc 1 3671 1
 6540              		.cfi_startproc
 6541              		@ args = 0, pretend = 0, frame = 48
 6542              		@ frame_needed = 1, uses_anonymous_args = 0
 6543 0000 80B5     		push	{r7, lr}
 6544              		.cfi_def_cfa_offset 8
 6545              		.cfi_offset 7, -8
 6546              		.cfi_offset 14, -4
 6547 0002 8CB0     		sub	sp, sp, #48
 6548              		.cfi_def_cfa_offset 56
 6549 0004 00AF     		add	r7, sp, #0
 6550              		.cfi_def_cfa_register 7
 6551 0006 7860     		str	r0, [r7, #4]
 6552 0008 3960     		str	r1, [r7]
3672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 6553              		.loc 1 3674 24
 6554 000a FFF7FEFF 		bl	HAL_GetTick
 6555 000e 7862     		str	r0, [r7, #36]
3675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count;
3676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 6556              		.loc 1 3676 13
 6557 0010 3B68     		ldr	r3, [r7]
 6558 0012 BB62     		str	r3, [r7, #40]
3677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check SD response */
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 6559              		.loc 1 3679 7
 6560 0014 7B68     		ldr	r3, [r7, #4]
 6561 0016 1B68     		ldr	r3, [r3]
 6562 0018 0021     		movs	r1, #0
 6563 001a 1846     		mov	r0, r3
 6564 001c FFF7FEFF 		bl	SDMMC_GetResponse
 6565 0020 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 182


 6566              		.loc 1 3679 53
 6567 0022 03F00073 		and	r3, r3, #33554432
 6568              		.loc 1 3679 5
 6569 0026 B3F1007F 		cmp	r3, #33554432
 6570 002a 02D1     		bne	.L316
3680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 6571              		.loc 1 3681 12
 6572 002c 4FF40063 		mov	r3, #2048
 6573 0030 B0E0     		b	.L331
 6574              	.L316:
3682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 6575              		.loc 1 3685 16
 6576 0032 7B68     		ldr	r3, [r7, #4]
 6577 0034 1B68     		ldr	r3, [r3]
 6578 0036 4021     		movs	r1, #64
 6579 0038 1846     		mov	r0, r3
 6580 003a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 6581 003e 3862     		str	r0, [r7, #32]
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6582              		.loc 1 3686 5
 6583 0040 3B6A     		ldr	r3, [r7, #32]
 6584 0042 002B     		cmp	r3, #0
 6585 0044 05D0     		beq	.L318
3687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
 6586              		.loc 1 3688 20
 6587 0046 7B68     		ldr	r3, [r7, #4]
 6588 0048 9A6B     		ldr	r2, [r3, #56]
 6589 004a 7B68     		ldr	r3, [r7, #4]
 6590 004c 9A63     		str	r2, [r3, #56]
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6591              		.loc 1 3689 12
 6592 004e 3B6A     		ldr	r3, [r7, #32]
 6593 0050 A0E0     		b	.L331
 6594              	.L318:
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send CMD55 */
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 6595              		.loc 1 3693 16
 6596 0052 7B68     		ldr	r3, [r7, #4]
 6597 0054 1A68     		ldr	r2, [r3]
 6598              		.loc 1 3693 73
 6599 0056 7B68     		ldr	r3, [r7, #4]
 6600 0058 9B6C     		ldr	r3, [r3, #72]
 6601              		.loc 1 3693 85
 6602 005a 1B04     		lsls	r3, r3, #16
 6603              		.loc 1 3693 16
 6604 005c 1946     		mov	r1, r3
 6605 005e 1046     		mov	r0, r2
 6606 0060 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6607 0064 3862     		str	r0, [r7, #32]
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 183


 6608              		.loc 1 3694 5
 6609 0066 3B6A     		ldr	r3, [r7, #32]
 6610 0068 002B     		cmp	r3, #0
 6611 006a 05D0     		beq	.L319
3695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
 6612              		.loc 1 3696 20
 6613 006c 7B68     		ldr	r3, [r7, #4]
 6614 006e 9A6B     		ldr	r2, [r3, #56]
 6615 0070 7B68     		ldr	r3, [r7, #4]
 6616 0072 9A63     		str	r2, [r3, #56]
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6617              		.loc 1 3697 12
 6618 0074 3B6A     		ldr	r3, [r7, #32]
 6619 0076 8DE0     		b	.L331
 6620              	.L319:
3698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
 6621              		.loc 1 3701 24
 6622 0078 4FF0FF33 		mov	r3, #-1
 6623 007c BB60     		str	r3, [r7, #8]
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 64U;
 6624              		.loc 1 3702 24
 6625 007e 4023     		movs	r3, #64
 6626 0080 FB60     		str	r3, [r7, #12]
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 6627              		.loc 1 3703 24
 6628 0082 6023     		movs	r3, #96
 6629 0084 3B61     		str	r3, [r7, #16]
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 6630              		.loc 1 3704 24
 6631 0086 0223     		movs	r3, #2
 6632 0088 7B61     		str	r3, [r7, #20]
3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 6633              		.loc 1 3705 24
 6634 008a 0023     		movs	r3, #0
 6635 008c BB61     		str	r3, [r7, #24]
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 6636              		.loc 1 3706 24
 6637 008e 0123     		movs	r3, #1
 6638 0090 FB61     		str	r3, [r7, #28]
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 6639              		.loc 1 3707 9
 6640 0092 7B68     		ldr	r3, [r7, #4]
 6641 0094 1B68     		ldr	r3, [r3]
 6642 0096 07F10802 		add	r2, r7, #8
 6643 009a 1146     		mov	r1, r2
 6644 009c 1846     		mov	r0, r3
 6645 009e FFF7FEFF 		bl	SDMMC_ConfigData
3708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
 6646              		.loc 1 3710 16
 6647 00a2 7B68     		ldr	r3, [r7, #4]
 6648 00a4 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 184


 6649 00a6 1846     		mov	r0, r3
 6650 00a8 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 6651 00ac 3862     		str	r0, [r7, #32]
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6652              		.loc 1 3711 5
 6653 00ae 3B6A     		ldr	r3, [r7, #32]
 6654 00b0 002B     		cmp	r3, #0
 6655 00b2 2BD0     		beq	.L321
3712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
 6656              		.loc 1 3713 20
 6657 00b4 7B68     		ldr	r3, [r7, #4]
 6658 00b6 9A6B     		ldr	r2, [r3, #56]
 6659 00b8 7B68     		ldr	r3, [r7, #4]
 6660 00ba 9A63     		str	r2, [r3, #56]
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6661              		.loc 1 3714 12
 6662 00bc 3B6A     		ldr	r3, [r7, #32]
 6663 00be 69E0     		b	.L331
 6664              	.L325:
3715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get status data */
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 6665              		.loc 1 3724 8
 6666 00c0 7B68     		ldr	r3, [r7, #4]
 6667 00c2 1B68     		ldr	r3, [r3]
 6668 00c4 5B6B     		ldr	r3, [r3, #52]
 6669 00c6 03F40043 		and	r3, r3, #32768
 6670              		.loc 1 3724 7
 6671 00ca 002B     		cmp	r3, #0
 6672 00cc 13D0     		beq	.L322
3725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       for(count = 0U; count < 8U; count++)
 6673              		.loc 1 3726 17
 6674 00ce 0023     		movs	r3, #0
 6675 00d0 FB62     		str	r3, [r7, #44]
 6676              		.loc 1 3726 7
 6677 00d2 0DE0     		b	.L323
 6678              	.L324:
3727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         *pData = SDMMC_ReadFIFO(hsd->Instance);
 6679              		.loc 1 3728 18 discriminator 3
 6680 00d4 7B68     		ldr	r3, [r7, #4]
 6681 00d6 1B68     		ldr	r3, [r3]
 6682 00d8 1846     		mov	r0, r3
 6683 00da FFF7FEFF 		bl	SDMMC_ReadFIFO
 6684 00de 0246     		mov	r2, r0
 6685              		.loc 1 3728 16 discriminator 3
 6686 00e0 BB6A     		ldr	r3, [r7, #40]
 6687 00e2 1A60     		str	r2, [r3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 185


3729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         pData++;
 6688              		.loc 1 3729 14 discriminator 3
 6689 00e4 BB6A     		ldr	r3, [r7, #40]
 6690 00e6 0433     		adds	r3, r3, #4
 6691 00e8 BB62     		str	r3, [r7, #40]
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6692              		.loc 1 3726 40 discriminator 3
 6693 00ea FB6A     		ldr	r3, [r7, #44]
 6694 00ec 0133     		adds	r3, r3, #1
 6695 00ee FB62     		str	r3, [r7, #44]
 6696              	.L323:
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6697              		.loc 1 3726 29 discriminator 1
 6698 00f0 FB6A     		ldr	r3, [r7, #44]
 6699 00f2 072B     		cmp	r3, #7
 6700 00f4 EED9     		bls	.L324
 6701              	.L322:
3730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6702              		.loc 1 3733 9
 6703 00f6 FFF7FEFF 		bl	HAL_GetTick
 6704 00fa 0246     		mov	r2, r0
 6705              		.loc 1 3733 23
 6706 00fc 7B6A     		ldr	r3, [r7, #36]
 6707 00fe D31A     		subs	r3, r2, r3
 6708              		.loc 1 3733 7
 6709 0100 B3F1FF3F 		cmp	r3, #-1
 6710 0104 02D1     		bne	.L321
3734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
 6711              		.loc 1 3735 14
 6712 0106 4FF00043 		mov	r3, #-2147483648
 6713 010a 43E0     		b	.L331
 6714              	.L321:
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 6715              		.loc 1 3719 10
 6716 010c 7B68     		ldr	r3, [r7, #4]
 6717 010e 1B68     		ldr	r3, [r3]
 6718 0110 5B6B     		ldr	r3, [r3, #52]
 6719 0112 03F49573 		and	r3, r3, #298
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 6720              		.loc 1 3719 9
 6721 0116 002B     		cmp	r3, #0
 6722 0118 D2D0     		beq	.L325
3736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 6723              		.loc 1 3739 6
 6724 011a 7B68     		ldr	r3, [r7, #4]
 6725 011c 1B68     		ldr	r3, [r3]
 6726 011e 5B6B     		ldr	r3, [r3, #52]
 6727 0120 03F00803 		and	r3, r3, #8
 6728              		.loc 1 3739 5
 6729 0124 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 186


 6730 0126 01D0     		beq	.L326
3740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
 6731              		.loc 1 3741 12
 6732 0128 0823     		movs	r3, #8
 6733 012a 33E0     		b	.L331
 6734              	.L326:
3742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 6735              		.loc 1 3743 11
 6736 012c 7B68     		ldr	r3, [r7, #4]
 6737 012e 1B68     		ldr	r3, [r3]
 6738 0130 5B6B     		ldr	r3, [r3, #52]
 6739 0132 03F00203 		and	r3, r3, #2
 6740              		.loc 1 3743 10
 6741 0136 002B     		cmp	r3, #0
 6742 0138 01D0     		beq	.L327
3744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
 6743              		.loc 1 3745 12
 6744 013a 0223     		movs	r3, #2
 6745 013c 2AE0     		b	.L331
 6746              	.L327:
3746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 6747              		.loc 1 3747 11
 6748 013e 7B68     		ldr	r3, [r7, #4]
 6749 0140 1B68     		ldr	r3, [r3]
 6750 0142 5B6B     		ldr	r3, [r3, #52]
 6751 0144 03F02003 		and	r3, r3, #32
 6752              		.loc 1 3747 10
 6753 0148 002B     		cmp	r3, #0
 6754 014a 17D0     		beq	.L329
3748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
 6755              		.loc 1 3749 12
 6756 014c 2023     		movs	r3, #32
 6757 014e 21E0     		b	.L331
 6758              	.L330:
3750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Nothing to do */
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DPSMACT)))
3758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXDAVL)))
3760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *pData = SDMMC_ReadFIFO(hsd->Instance);
 6759              		.loc 1 3762 14
 6760 0150 7B68     		ldr	r3, [r7, #4]
 6761 0152 1B68     		ldr	r3, [r3]
 6762 0154 1846     		mov	r0, r3
 6763 0156 FFF7FEFF 		bl	SDMMC_ReadFIFO
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 187


 6764 015a 0246     		mov	r2, r0
 6765              		.loc 1 3762 12
 6766 015c BB6A     		ldr	r3, [r7, #40]
 6767 015e 1A60     		str	r2, [r3]
3763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pData++;
 6768              		.loc 1 3763 10
 6769 0160 BB6A     		ldr	r3, [r7, #40]
 6770 0162 0433     		adds	r3, r3, #4
 6771 0164 BB62     		str	r3, [r7, #40]
3764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6772              		.loc 1 3765 9
 6773 0166 FFF7FEFF 		bl	HAL_GetTick
 6774 016a 0246     		mov	r2, r0
 6775              		.loc 1 3765 23
 6776 016c 7B6A     		ldr	r3, [r7, #36]
 6777 016e D31A     		subs	r3, r2, r3
 6778              		.loc 1 3765 7
 6779 0170 B3F1FF3F 		cmp	r3, #-1
 6780 0174 02D1     		bne	.L329
3766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
 6781              		.loc 1 3767 14
 6782 0176 4FF00043 		mov	r3, #-2147483648
 6783 017a 0BE0     		b	.L331
 6784              	.L329:
3757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 6785              		.loc 1 3757 11
 6786 017c 7B68     		ldr	r3, [r7, #4]
 6787 017e 1B68     		ldr	r3, [r3]
 6788 0180 5B6B     		ldr	r3, [r3, #52]
 6789 0182 03F48053 		and	r3, r3, #4096
 6790 0186 002B     		cmp	r3, #0
 6791 0188 E2D1     		bne	.L330
3768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear all the static status flags*/
3772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 6792              		.loc 1 3772 3
 6793 018a 7B68     		ldr	r3, [r7, #4]
 6794 018c 1B68     		ldr	r3, [r3]
 6795 018e 034A     		ldr	r2, .L332
 6796 0190 9A63     		str	r2, [r3, #56]
3773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 6797              		.loc 1 3774 10
 6798 0192 0023     		movs	r3, #0
 6799              	.L331:
3775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6800              		.loc 1 3775 1 discriminator 1
 6801 0194 1846     		mov	r0, r3
 6802 0196 3037     		adds	r7, r7, #48
 6803              		.cfi_def_cfa_offset 8
 6804 0198 BD46     		mov	sp, r7
 6805              		.cfi_def_cfa_register 13
 6806              		@ sp needed
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 188


 6807 019a 80BD     		pop	{r7, pc}
 6808              	.L333:
 6809              		.align	2
 6810              	.L332:
 6811 019c 3A0F0018 		.word	402657082
 6812              		.cfi_endproc
 6813              	.LFE352:
 6815              		.section	.text.SD_SendStatus,"ax",%progbits
 6816              		.align	1
 6817              		.syntax unified
 6818              		.thumb
 6819              		.thumb_func
 6821              	SD_SendStatus:
 6822              	.LFB353:
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Returns the current card's status.
3779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCardStatus pointer to the buffer that will contain the SD card
3781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         status (Card Status register)
3782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 6823              		.loc 1 3785 1
 6824              		.cfi_startproc
 6825              		@ args = 0, pretend = 0, frame = 16
 6826              		@ frame_needed = 1, uses_anonymous_args = 0
 6827 0000 80B5     		push	{r7, lr}
 6828              		.cfi_def_cfa_offset 8
 6829              		.cfi_offset 7, -8
 6830              		.cfi_offset 14, -4
 6831 0002 84B0     		sub	sp, sp, #16
 6832              		.cfi_def_cfa_offset 24
 6833 0004 00AF     		add	r7, sp, #0
 6834              		.cfi_def_cfa_register 7
 6835 0006 7860     		str	r0, [r7, #4]
 6836 0008 3960     		str	r1, [r7]
3786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(pCardStatus == NULL)
 6837              		.loc 1 3788 5
 6838 000a 3B68     		ldr	r3, [r7]
 6839 000c 002B     		cmp	r3, #0
 6840 000e 02D1     		bne	.L335
3789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
 6841              		.loc 1 3790 12
 6842 0010 4FF00063 		mov	r3, #134217728
 6843 0014 18E0     		b	.L336
 6844              	.L335:
3791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send Status command */
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 6845              		.loc 1 3794 16
 6846 0016 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 189


 6847 0018 1A68     		ldr	r2, [r3]
 6848              		.loc 1 3794 73
 6849 001a 7B68     		ldr	r3, [r7, #4]
 6850 001c 9B6C     		ldr	r3, [r3, #72]
 6851              		.loc 1 3794 85
 6852 001e 1B04     		lsls	r3, r3, #16
 6853              		.loc 1 3794 16
 6854 0020 1946     		mov	r1, r3
 6855 0022 1046     		mov	r0, r2
 6856 0024 FFF7FEFF 		bl	SDMMC_CmdSendStatus
 6857 0028 F860     		str	r0, [r7, #12]
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6858              		.loc 1 3795 5
 6859 002a FB68     		ldr	r3, [r7, #12]
 6860 002c 002B     		cmp	r3, #0
 6861 002e 01D0     		beq	.L337
3796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6862              		.loc 1 3797 12
 6863 0030 FB68     		ldr	r3, [r7, #12]
 6864 0032 09E0     		b	.L336
 6865              	.L337:
3798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get SD card status */
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *pCardStatus = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 6866              		.loc 1 3801 18
 6867 0034 7B68     		ldr	r3, [r7, #4]
 6868 0036 1B68     		ldr	r3, [r3]
 6869 0038 0021     		movs	r1, #0
 6870 003a 1846     		mov	r0, r3
 6871 003c FFF7FEFF 		bl	SDMMC_GetResponse
 6872 0040 0246     		mov	r2, r0
 6873              		.loc 1 3801 16
 6874 0042 3B68     		ldr	r3, [r7]
 6875 0044 1A60     		str	r2, [r3]
3802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 6876              		.loc 1 3803 10
 6877 0046 0023     		movs	r3, #0
 6878              	.L336:
3804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6879              		.loc 1 3804 1
 6880 0048 1846     		mov	r0, r3
 6881 004a 1037     		adds	r7, r7, #16
 6882              		.cfi_def_cfa_offset 8
 6883 004c BD46     		mov	sp, r7
 6884              		.cfi_def_cfa_register 13
 6885              		@ sp needed
 6886 004e 80BD     		pop	{r7, pc}
 6887              		.cfi_endproc
 6888              	.LFE353:
 6890              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 6891              		.align	1
 6892              		.syntax unified
 6893              		.thumb
 6894              		.thumb_func
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 190


 6896              	SD_WideBus_Enable:
 6897              	.LFB354:
3805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Enables the SDMMC wide bus mode.
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to SD handle
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 6898              		.loc 1 3812 1
 6899              		.cfi_startproc
 6900              		@ args = 0, pretend = 0, frame = 24
 6901              		@ frame_needed = 1, uses_anonymous_args = 0
 6902 0000 80B5     		push	{r7, lr}
 6903              		.cfi_def_cfa_offset 8
 6904              		.cfi_offset 7, -8
 6905              		.cfi_offset 14, -4
 6906 0002 86B0     		sub	sp, sp, #24
 6907              		.cfi_def_cfa_offset 32
 6908 0004 00AF     		add	r7, sp, #0
 6909              		.cfi_def_cfa_register 7
 6910 0006 7860     		str	r0, [r7, #4]
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 6911              		.loc 1 3813 12
 6912 0008 0023     		movs	r3, #0
 6913 000a FB60     		str	r3, [r7, #12]
 6914 000c 0023     		movs	r3, #0
 6915 000e 3B61     		str	r3, [r7, #16]
3814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 6916              		.loc 1 3816 7
 6917 0010 7B68     		ldr	r3, [r7, #4]
 6918 0012 1B68     		ldr	r3, [r3]
 6919 0014 0021     		movs	r1, #0
 6920 0016 1846     		mov	r0, r3
 6921 0018 FFF7FEFF 		bl	SDMMC_GetResponse
 6922 001c 0346     		mov	r3, r0
 6923              		.loc 1 3816 53
 6924 001e 03F00073 		and	r3, r3, #33554432
 6925              		.loc 1 3816 5
 6926 0022 B3F1007F 		cmp	r3, #33554432
 6927 0026 02D1     		bne	.L339
3817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 6928              		.loc 1 3818 12
 6929 0028 4FF40063 		mov	r3, #2048
 6930 002c 2FE0     		b	.L345
 6931              	.L339:
3819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get SCR Register */
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
 6932              		.loc 1 3822 16
 6933 002e 07F10C03 		add	r3, r7, #12
 6934 0032 1946     		mov	r1, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 191


 6935 0034 7868     		ldr	r0, [r7, #4]
 6936 0036 FFF7FEFF 		bl	SD_FindSCR
 6937 003a 7861     		str	r0, [r7, #20]
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 6938              		.loc 1 3823 5
 6939 003c 7B69     		ldr	r3, [r7, #20]
 6940 003e 002B     		cmp	r3, #0
 6941 0040 01D0     		beq	.L341
3824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 6942              		.loc 1 3825 12
 6943 0042 7B69     		ldr	r3, [r7, #20]
 6944 0044 23E0     		b	.L345
 6945              	.L341:
3826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
 6946              		.loc 1 3829 10
 6947 0046 3B69     		ldr	r3, [r7, #16]
 6948              		.loc 1 3829 15
 6949 0048 03F48023 		and	r3, r3, #262144
 6950              		.loc 1 3829 5
 6951 004c 002B     		cmp	r3, #0
 6952 004e 1CD0     		beq	.L342
3830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 6953              		.loc 1 3832 18
 6954 0050 7B68     		ldr	r3, [r7, #4]
 6955 0052 1A68     		ldr	r2, [r3]
 6956              		.loc 1 3832 75
 6957 0054 7B68     		ldr	r3, [r7, #4]
 6958 0056 9B6C     		ldr	r3, [r3, #72]
 6959              		.loc 1 3832 87
 6960 0058 1B04     		lsls	r3, r3, #16
 6961              		.loc 1 3832 18
 6962 005a 1946     		mov	r1, r3
 6963 005c 1046     		mov	r0, r2
 6964 005e FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6965 0062 7861     		str	r0, [r7, #20]
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6966              		.loc 1 3833 7
 6967 0064 7B69     		ldr	r3, [r7, #20]
 6968 0066 002B     		cmp	r3, #0
 6969 0068 01D0     		beq	.L343
3834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 6970              		.loc 1 3835 14
 6971 006a 7B69     		ldr	r3, [r7, #20]
 6972 006c 0FE0     		b	.L345
 6973              	.L343:
3836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
 6974              		.loc 1 3839 18
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 192


 6975 006e 7B68     		ldr	r3, [r7, #4]
 6976 0070 1B68     		ldr	r3, [r3]
 6977 0072 0221     		movs	r1, #2
 6978 0074 1846     		mov	r0, r3
 6979 0076 FFF7FEFF 		bl	SDMMC_CmdBusWidth
 6980 007a 7861     		str	r0, [r7, #20]
3840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 6981              		.loc 1 3840 7
 6982 007c 7B69     		ldr	r3, [r7, #20]
 6983 007e 002B     		cmp	r3, #0
 6984 0080 01D0     		beq	.L344
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 6985              		.loc 1 3842 14
 6986 0082 7B69     		ldr	r3, [r7, #20]
 6987 0084 03E0     		b	.L345
 6988              	.L344:
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
 6989              		.loc 1 3845 12
 6990 0086 0023     		movs	r3, #0
 6991 0088 01E0     		b	.L345
 6992              	.L342:
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 6993              		.loc 1 3849 12
 6994 008a 4FF08063 		mov	r3, #67108864
 6995              	.L345:
3850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6996              		.loc 1 3851 1 discriminator 1
 6997 008e 1846     		mov	r0, r3
 6998 0090 1837     		adds	r7, r7, #24
 6999              		.cfi_def_cfa_offset 8
 7000 0092 BD46     		mov	sp, r7
 7001              		.cfi_def_cfa_register 13
 7002              		@ sp needed
 7003 0094 80BD     		pop	{r7, pc}
 7004              		.cfi_endproc
 7005              	.LFE354:
 7007              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 7008              		.align	1
 7009              		.syntax unified
 7010              		.thumb
 7011              		.thumb_func
 7013              	SD_WideBus_Disable:
 7014              	.LFB355:
3852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Disables the SDMMC wide bus mode.
3855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 193


3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 7015              		.loc 1 3859 1
 7016              		.cfi_startproc
 7017              		@ args = 0, pretend = 0, frame = 24
 7018              		@ frame_needed = 1, uses_anonymous_args = 0
 7019 0000 80B5     		push	{r7, lr}
 7020              		.cfi_def_cfa_offset 8
 7021              		.cfi_offset 7, -8
 7022              		.cfi_offset 14, -4
 7023 0002 86B0     		sub	sp, sp, #24
 7024              		.cfi_def_cfa_offset 32
 7025 0004 00AF     		add	r7, sp, #0
 7026              		.cfi_def_cfa_register 7
 7027 0006 7860     		str	r0, [r7, #4]
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 7028              		.loc 1 3860 12
 7029 0008 0023     		movs	r3, #0
 7030 000a FB60     		str	r3, [r7, #12]
 7031 000c 0023     		movs	r3, #0
 7032 000e 3B61     		str	r3, [r7, #16]
3861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 7033              		.loc 1 3863 7
 7034 0010 7B68     		ldr	r3, [r7, #4]
 7035 0012 1B68     		ldr	r3, [r3]
 7036 0014 0021     		movs	r1, #0
 7037 0016 1846     		mov	r0, r3
 7038 0018 FFF7FEFF 		bl	SDMMC_GetResponse
 7039 001c 0346     		mov	r3, r0
 7040              		.loc 1 3863 53
 7041 001e 03F00073 		and	r3, r3, #33554432
 7042              		.loc 1 3863 5
 7043 0022 B3F1007F 		cmp	r3, #33554432
 7044 0026 02D1     		bne	.L347
3864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 7045              		.loc 1 3865 12
 7046 0028 4FF40063 		mov	r3, #2048
 7047 002c 2FE0     		b	.L353
 7048              	.L347:
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get SCR Register */
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
 7049              		.loc 1 3869 16
 7050 002e 07F10C03 		add	r3, r7, #12
 7051 0032 1946     		mov	r1, r3
 7052 0034 7868     		ldr	r0, [r7, #4]
 7053 0036 FFF7FEFF 		bl	SD_FindSCR
 7054 003a 7861     		str	r0, [r7, #20]
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 7055              		.loc 1 3870 5
 7056 003c 7B69     		ldr	r3, [r7, #20]
 7057 003e 002B     		cmp	r3, #0
 7058 0040 01D0     		beq	.L349
3871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 194


3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 7059              		.loc 1 3872 12
 7060 0042 7B69     		ldr	r3, [r7, #20]
 7061 0044 23E0     		b	.L353
 7062              	.L349:
3873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
 7063              		.loc 1 3876 10
 7064 0046 3B69     		ldr	r3, [r7, #16]
 7065              		.loc 1 3876 15
 7066 0048 03F48033 		and	r3, r3, #65536
 7067              		.loc 1 3876 5
 7068 004c 002B     		cmp	r3, #0
 7069 004e 1CD0     		beq	.L350
3877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 7070              		.loc 1 3879 18
 7071 0050 7B68     		ldr	r3, [r7, #4]
 7072 0052 1A68     		ldr	r2, [r3]
 7073              		.loc 1 3879 75
 7074 0054 7B68     		ldr	r3, [r7, #4]
 7075 0056 9B6C     		ldr	r3, [r3, #72]
 7076              		.loc 1 3879 87
 7077 0058 1B04     		lsls	r3, r3, #16
 7078              		.loc 1 3879 18
 7079 005a 1946     		mov	r1, r3
 7080 005c 1046     		mov	r0, r2
 7081 005e FFF7FEFF 		bl	SDMMC_CmdAppCommand
 7082 0062 7861     		str	r0, [r7, #20]
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 7083              		.loc 1 3880 7
 7084 0064 7B69     		ldr	r3, [r7, #20]
 7085 0066 002B     		cmp	r3, #0
 7086 0068 01D0     		beq	.L351
3881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 7087              		.loc 1 3882 14
 7088 006a 7B69     		ldr	r3, [r7, #20]
 7089 006c 0FE0     		b	.L353
 7090              	.L351:
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
 7091              		.loc 1 3886 18
 7092 006e 7B68     		ldr	r3, [r7, #4]
 7093 0070 1B68     		ldr	r3, [r3]
 7094 0072 0021     		movs	r1, #0
 7095 0074 1846     		mov	r0, r3
 7096 0076 FFF7FEFF 		bl	SDMMC_CmdBusWidth
 7097 007a 7861     		str	r0, [r7, #20]
3887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 7098              		.loc 1 3887 7
 7099 007c 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 195


 7100 007e 002B     		cmp	r3, #0
 7101 0080 01D0     		beq	.L352
3888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 7102              		.loc 1 3889 14
 7103 0082 7B69     		ldr	r3, [r7, #20]
 7104 0084 03E0     		b	.L353
 7105              	.L352:
3890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
 7106              		.loc 1 3892 12
 7107 0086 0023     		movs	r3, #0
 7108 0088 01E0     		b	.L353
 7109              	.L350:
3893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 7110              		.loc 1 3896 12
 7111 008a 4FF08063 		mov	r3, #67108864
 7112              	.L353:
3897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 7113              		.loc 1 3898 1 discriminator 1
 7114 008e 1846     		mov	r0, r3
 7115 0090 1837     		adds	r7, r7, #24
 7116              		.cfi_def_cfa_offset 8
 7117 0092 BD46     		mov	sp, r7
 7118              		.cfi_def_cfa_register 13
 7119              		@ sp needed
 7120 0094 80BD     		pop	{r7, pc}
 7121              		.cfi_endproc
 7122              	.LFE355:
 7124              		.section	.text.SD_FindSCR,"ax",%progbits
 7125              		.align	1
 7126              		.syntax unified
 7127              		.thumb
 7128              		.thumb_func
 7130              	SD_FindSCR:
 7131              	.LFB356:
3899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pSCR pointer to the buffer that will contain the SCR value
3905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 7132              		.loc 1 3908 1
 7133              		.cfi_startproc
 7134              		@ args = 0, pretend = 0, frame = 56
 7135              		@ frame_needed = 1, uses_anonymous_args = 0
 7136 0000 80B5     		push	{r7, lr}
 7137              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 196


 7138              		.cfi_offset 7, -8
 7139              		.cfi_offset 14, -4
 7140 0002 8EB0     		sub	sp, sp, #56
 7141              		.cfi_def_cfa_offset 64
 7142 0004 00AF     		add	r7, sp, #0
 7143              		.cfi_def_cfa_register 7
 7144 0006 7860     		str	r0, [r7, #4]
 7145 0008 3960     		str	r1, [r7]
3909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 7146              		.loc 1 3911 24
 7147 000a FFF7FEFF 		bl	HAL_GetTick
 7148 000e 3863     		str	r0, [r7, #48]
3912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t index = 0U;
 7149              		.loc 1 3912 12
 7150 0010 0023     		movs	r3, #0
 7151 0012 7B63     		str	r3, [r7, #52]
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
 7152              		.loc 1 3913 12
 7153 0014 0023     		movs	r3, #0
 7154 0016 BB60     		str	r3, [r7, #8]
 7155 0018 0023     		movs	r3, #0
 7156 001a FB60     		str	r3, [r7, #12]
3914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *scr = pSCR;
 7157              		.loc 1 3914 13
 7158 001c 3B68     		ldr	r3, [r7]
 7159 001e FB62     		str	r3, [r7, #44]
3915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
 7160              		.loc 1 3917 16
 7161 0020 7B68     		ldr	r3, [r7, #4]
 7162 0022 1B68     		ldr	r3, [r3]
 7163 0024 0821     		movs	r1, #8
 7164 0026 1846     		mov	r0, r3
 7165 0028 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 7166 002c B862     		str	r0, [r7, #40]
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 7167              		.loc 1 3918 5
 7168 002e BB6A     		ldr	r3, [r7, #40]
 7169 0030 002B     		cmp	r3, #0
 7170 0032 01D0     		beq	.L355
3919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 7171              		.loc 1 3920 12
 7172 0034 BB6A     		ldr	r3, [r7, #40]
 7173 0036 ADE0     		b	.L365
 7174              	.L355:
3921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
 7175              		.loc 1 3924 16
 7176 0038 7B68     		ldr	r3, [r7, #4]
 7177 003a 1A68     		ldr	r2, [r3]
 7178              		.loc 1 3924 74
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 197


 7179 003c 7B68     		ldr	r3, [r7, #4]
 7180 003e 9B6C     		ldr	r3, [r3, #72]
 7181              		.loc 1 3924 87
 7182 0040 1B04     		lsls	r3, r3, #16
 7183              		.loc 1 3924 16
 7184 0042 1946     		mov	r1, r3
 7185 0044 1046     		mov	r0, r2
 7186 0046 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 7187 004a B862     		str	r0, [r7, #40]
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 7188              		.loc 1 3925 5
 7189 004c BB6A     		ldr	r3, [r7, #40]
 7190 004e 002B     		cmp	r3, #0
 7191 0050 01D0     		beq	.L357
3926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 7192              		.loc 1 3927 12
 7193 0052 BB6A     		ldr	r3, [r7, #40]
 7194 0054 9EE0     		b	.L365
 7195              	.L357:
3928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
 7196              		.loc 1 3930 24
 7197 0056 4FF0FF33 		mov	r3, #-1
 7198 005a 3B61     		str	r3, [r7, #16]
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 8U;
 7199              		.loc 1 3931 24
 7200 005c 0823     		movs	r3, #8
 7201 005e 7B61     		str	r3, [r7, #20]
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 7202              		.loc 1 3932 24
 7203 0060 3023     		movs	r3, #48
 7204 0062 BB61     		str	r3, [r7, #24]
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 7205              		.loc 1 3933 24
 7206 0064 0223     		movs	r3, #2
 7207 0066 FB61     		str	r3, [r7, #28]
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 7208              		.loc 1 3934 24
 7209 0068 0023     		movs	r3, #0
 7210 006a 3B62     		str	r3, [r7, #32]
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 7211              		.loc 1 3935 24
 7212 006c 0123     		movs	r3, #1
 7213 006e 7B62     		str	r3, [r7, #36]
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 7214              		.loc 1 3936 9
 7215 0070 7B68     		ldr	r3, [r7, #4]
 7216 0072 1B68     		ldr	r3, [r3]
 7217 0074 07F11002 		add	r2, r7, #16
 7218 0078 1146     		mov	r1, r2
 7219 007a 1846     		mov	r0, r3
 7220 007c FFF7FEFF 		bl	SDMMC_ConfigData
3937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 198


 7221              		.loc 1 3939 16
 7222 0080 7B68     		ldr	r3, [r7, #4]
 7223 0082 1B68     		ldr	r3, [r3]
 7224 0084 1846     		mov	r0, r3
 7225 0086 FFF7FEFF 		bl	SDMMC_CmdSendSCR
 7226 008a B862     		str	r0, [r7, #40]
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 7227              		.loc 1 3940 5
 7228 008c BB6A     		ldr	r3, [r7, #40]
 7229 008e 002B     		cmp	r3, #0
 7230 0090 27D0     		beq	.L359
3941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 7231              		.loc 1 3942 12
 7232 0092 BB6A     		ldr	r3, [r7, #40]
 7233 0094 7EE0     		b	.L365
 7234              	.L361:
3943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOE)) && (index == 0U))
 7235              		.loc 1 3948 10
 7236 0096 7B68     		ldr	r3, [r7, #4]
 7237 0098 1B68     		ldr	r3, [r3]
 7238 009a 5B6B     		ldr	r3, [r3, #52]
 7239 009c 03F40023 		and	r3, r3, #524288
 7240              		.loc 1 3948 7
 7241 00a0 002B     		cmp	r3, #0
 7242 00a2 13D1     		bne	.L360
 7243              		.loc 1 3948 54 discriminator 1
 7244 00a4 7B6B     		ldr	r3, [r7, #52]
 7245 00a6 002B     		cmp	r3, #0
 7246 00a8 10D1     		bne	.L360
3949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempscr[0] = SDMMC_ReadFIFO(hsd->Instance);
 7247              		.loc 1 3950 20
 7248 00aa 7B68     		ldr	r3, [r7, #4]
 7249 00ac 1B68     		ldr	r3, [r3]
 7250 00ae 1846     		mov	r0, r3
 7251 00b0 FFF7FEFF 		bl	SDMMC_ReadFIFO
 7252 00b4 0346     		mov	r3, r0
 7253              		.loc 1 3950 18
 7254 00b6 BB60     		str	r3, [r7, #8]
3951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 7255              		.loc 1 3951 20
 7256 00b8 7B68     		ldr	r3, [r7, #4]
 7257 00ba 1B68     		ldr	r3, [r3]
 7258 00bc 1846     		mov	r0, r3
 7259 00be FFF7FEFF 		bl	SDMMC_ReadFIFO
 7260 00c2 0346     		mov	r3, r0
 7261              		.loc 1 3951 18
 7262 00c4 FB60     		str	r3, [r7, #12]
3952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
 7263              		.loc 1 3952 12
 7264 00c6 7B6B     		ldr	r3, [r7, #52]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 199


 7265 00c8 0133     		adds	r3, r3, #1
 7266 00ca 7B63     		str	r3, [r7, #52]
 7267              	.L360:
3953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 7268              		.loc 1 3956 9
 7269 00cc FFF7FEFF 		bl	HAL_GetTick
 7270 00d0 0246     		mov	r2, r0
 7271              		.loc 1 3956 23
 7272 00d2 3B6B     		ldr	r3, [r7, #48]
 7273 00d4 D31A     		subs	r3, r2, r3
 7274              		.loc 1 3956 7
 7275 00d6 B3F1FF3F 		cmp	r3, #-1
 7276 00da 02D1     		bne	.L359
3957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
 7277              		.loc 1 3958 14
 7278 00dc 4FF00043 		mov	r3, #-2147483648
 7279 00e0 58E0     		b	.L365
 7280              	.L359:
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 7281              		.loc 1 3946 10
 7282 00e2 7B68     		ldr	r3, [r7, #4]
 7283 00e4 1B68     		ldr	r3, [r3]
 7284 00e6 5A6B     		ldr	r2, [r3, #52]
 7285 00e8 40F22A53 		movw	r3, #1322
 7286 00ec 1340     		ands	r3, r3, r2
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 7287              		.loc 1 3946 9
 7288 00ee 002B     		cmp	r3, #0
 7289 00f0 D1D0     		beq	.L361
3959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXDAVL))
3965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *(tempscr + index) = SDMMC_ReadFIFO(hsd->Instance);
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
3968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 7290              		.loc 1 3977 6
 7291 00f2 7B68     		ldr	r3, [r7, #4]
 7292 00f4 1B68     		ldr	r3, [r3]
 7293 00f6 5B6B     		ldr	r3, [r3, #52]
 7294 00f8 03F00803 		and	r3, r3, #8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 200


 7295              		.loc 1 3977 5
 7296 00fc 002B     		cmp	r3, #0
 7297 00fe 05D0     		beq	.L362
3978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 7298              		.loc 1 3979 5
 7299 0100 7B68     		ldr	r3, [r7, #4]
 7300 0102 1B68     		ldr	r3, [r3]
 7301 0104 0822     		movs	r2, #8
 7302 0106 9A63     		str	r2, [r3, #56]
3980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
 7303              		.loc 1 3981 12
 7304 0108 0823     		movs	r3, #8
 7305 010a 43E0     		b	.L365
 7306              	.L362:
3982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 7307              		.loc 1 3983 11
 7308 010c 7B68     		ldr	r3, [r7, #4]
 7309 010e 1B68     		ldr	r3, [r3]
 7310 0110 5B6B     		ldr	r3, [r3, #52]
 7311 0112 03F00203 		and	r3, r3, #2
 7312              		.loc 1 3983 10
 7313 0116 002B     		cmp	r3, #0
 7314 0118 05D0     		beq	.L363
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 7315              		.loc 1 3985 5
 7316 011a 7B68     		ldr	r3, [r7, #4]
 7317 011c 1B68     		ldr	r3, [r3]
 7318 011e 0222     		movs	r2, #2
 7319 0120 9A63     		str	r2, [r3, #56]
3986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
 7320              		.loc 1 3987 12
 7321 0122 0223     		movs	r3, #2
 7322 0124 36E0     		b	.L365
 7323              	.L363:
3988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 7324              		.loc 1 3989 11
 7325 0126 7B68     		ldr	r3, [r7, #4]
 7326 0128 1B68     		ldr	r3, [r3]
 7327 012a 5B6B     		ldr	r3, [r3, #52]
 7328 012c 03F02003 		and	r3, r3, #32
 7329              		.loc 1 3989 10
 7330 0130 002B     		cmp	r3, #0
 7331 0132 05D0     		beq	.L364
3990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 7332              		.loc 1 3991 5
 7333 0134 7B68     		ldr	r3, [r7, #4]
 7334 0136 1B68     		ldr	r3, [r3]
 7335 0138 2022     		movs	r2, #32
 7336 013a 9A63     		str	r2, [r3, #56]
3992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 201


3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
 7337              		.loc 1 3993 12
 7338 013c 2023     		movs	r3, #32
 7339 013e 29E0     		b	.L365
 7340              	.L364:
3994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* No error flag set */
3998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
3999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 7341              		.loc 1 3999 5
 7342 0140 7B68     		ldr	r3, [r7, #4]
 7343 0142 1B68     		ldr	r3, [r3]
 7344 0144 154A     		ldr	r2, .L366
 7345 0146 9A63     		str	r2, [r3, #56]
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) |\
 7346              		.loc 1 4001 22
 7347 0148 FB68     		ldr	r3, [r7, #12]
 7348              		.loc 1 4001 44
 7349 014a 1A06     		lsls	r2, r3, #24
 7350              		.loc 1 4001 63
 7351 014c FB68     		ldr	r3, [r7, #12]
 7352              		.loc 1 4001 86
 7353 014e 1B02     		lsls	r3, r3, #8
 7354 0150 03F47F03 		and	r3, r3, #16711680
 7355              		.loc 1 4001 52
 7356 0154 1A43     		orrs	r2, r2, r3
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 7357              		.loc 1 4002 22
 7358 0156 FB68     		ldr	r3, [r7, #12]
 7359              		.loc 1 4002 46
 7360 0158 1B0A     		lsrs	r3, r3, #8
 7361 015a 03F47F43 		and	r3, r3, #65280
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 7362              		.loc 1 4001 92
 7363 015e 1A43     		orrs	r2, r2, r3
 7364              		.loc 1 4002 63
 7365 0160 FB68     		ldr	r3, [r7, #12]
 7366              		.loc 1 4002 87
 7367 0162 1B0E     		lsrs	r3, r3, #24
 7368              		.loc 1 4002 52
 7369 0164 1A43     		orrs	r2, r2, r3
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 7370              		.loc 1 4001 10
 7371 0166 FB6A     		ldr	r3, [r7, #44]
 7372 0168 1A60     		str	r2, [r3]
4003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     scr++;
 7373              		.loc 1 4003 8
 7374 016a FB6A     		ldr	r3, [r7, #44]
 7375 016c 0433     		adds	r3, r3, #4
 7376 016e FB62     		str	r3, [r7, #44]
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
 7377              		.loc 1 4004 22
 7378 0170 BB68     		ldr	r3, [r7, #8]
 7379              		.loc 1 4004 44
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 202


 7380 0172 1A06     		lsls	r2, r3, #24
 7381              		.loc 1 4004 63
 7382 0174 BB68     		ldr	r3, [r7, #8]
 7383              		.loc 1 4004 86
 7384 0176 1B02     		lsls	r3, r3, #8
 7385 0178 03F47F03 		and	r3, r3, #16711680
 7386              		.loc 1 4004 52
 7387 017c 1A43     		orrs	r2, r2, r3
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 7388              		.loc 1 4005 22
 7389 017e BB68     		ldr	r3, [r7, #8]
 7390              		.loc 1 4005 46
 7391 0180 1B0A     		lsrs	r3, r3, #8
 7392 0182 03F47F43 		and	r3, r3, #65280
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
 7393              		.loc 1 4004 92
 7394 0186 1A43     		orrs	r2, r2, r3
 7395              		.loc 1 4005 63
 7396 0188 BB68     		ldr	r3, [r7, #8]
 7397              		.loc 1 4005 87
 7398 018a 1B0E     		lsrs	r3, r3, #24
 7399              		.loc 1 4005 52
 7400 018c 1A43     		orrs	r2, r2, r3
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
 7401              		.loc 1 4004 10
 7402 018e FB6A     		ldr	r3, [r7, #44]
 7403 0190 1A60     		str	r2, [r3]
4006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 7404              		.loc 1 4009 10
 7405 0192 0023     		movs	r3, #0
 7406              	.L365:
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 7407              		.loc 1 4010 1 discriminator 1
 7408 0194 1846     		mov	r0, r3
 7409 0196 3837     		adds	r7, r7, #56
 7410              		.cfi_def_cfa_offset 8
 7411 0198 BD46     		mov	sp, r7
 7412              		.cfi_def_cfa_register 13
 7413              		@ sp needed
 7414 019a 80BD     		pop	{r7, pc}
 7415              	.L367:
 7416              		.align	2
 7417              	.L366:
 7418 019c 3A0F0018 		.word	402657082
 7419              		.cfi_endproc
 7420              	.LFE356:
 7422              		.section	.text.SD_Read_IT,"ax",%progbits
 7423              		.align	1
 7424              		.syntax unified
 7425              		.thumb
 7426              		.thumb_func
 7428              	SD_Read_IT:
 7429              	.LFB357:
4011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 203


4012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
4014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
4015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *              the configuration information.
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
4017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
4019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 7430              		.loc 1 4019 1
 7431              		.cfi_startproc
 7432              		@ args = 0, pretend = 0, frame = 24
 7433              		@ frame_needed = 1, uses_anonymous_args = 0
 7434 0000 80B5     		push	{r7, lr}
 7435              		.cfi_def_cfa_offset 8
 7436              		.cfi_offset 7, -8
 7437              		.cfi_offset 14, -4
 7438 0002 86B0     		sub	sp, sp, #24
 7439              		.cfi_def_cfa_offset 32
 7440 0004 00AF     		add	r7, sp, #0
 7441              		.cfi_def_cfa_register 7
 7442 0006 7860     		str	r0, [r7, #4]
4020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
4021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t* tmp;
4022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 7443              		.loc 1 4023 7
 7444 0008 7B68     		ldr	r3, [r7, #4]
 7445 000a 9B6A     		ldr	r3, [r3, #40]
 7446 000c FB60     		str	r3, [r7, #12]
4024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   dataremaining = hsd->RxXferSize;
 7447              		.loc 1 4024 17
 7448 000e 7B68     		ldr	r3, [r7, #4]
 7449 0010 DB6A     		ldr	r3, [r3, #44]
 7450 0012 3B61     		str	r3, [r7, #16]
4025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (dataremaining > 0U)
 7451              		.loc 1 4026 6
 7452 0014 3B69     		ldr	r3, [r7, #16]
 7453 0016 002B     		cmp	r3, #0
 7454 0018 3FD0     		beq	.L372
4027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Read data from SDMMC Rx FIFO */
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
 7455              		.loc 1 4029 15
 7456 001a 0023     		movs	r3, #0
 7457 001c 7B61     		str	r3, [r7, #20]
 7458              		.loc 1 4029 5
 7459 001e 33E0     		b	.L370
 7460              	.L371:
4030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
 7461              		.loc 1 4031 14 discriminator 3
 7462 0020 7B68     		ldr	r3, [r7, #4]
 7463 0022 1B68     		ldr	r3, [r3]
 7464 0024 1846     		mov	r0, r3
 7465 0026 FFF7FEFF 		bl	SDMMC_ReadFIFO
 7466 002a B860     		str	r0, [r7, #8]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 204


4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 7467              		.loc 1 4032 14 discriminator 3
 7468 002c BB68     		ldr	r3, [r7, #8]
 7469 002e DAB2     		uxtb	r2, r3
 7470              		.loc 1 4032 12 discriminator 3
 7471 0030 FB68     		ldr	r3, [r7, #12]
 7472 0032 1A70     		strb	r2, [r3]
4033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7473              		.loc 1 4033 10 discriminator 3
 7474 0034 FB68     		ldr	r3, [r7, #12]
 7475 0036 0133     		adds	r3, r3, #1
 7476 0038 FB60     		str	r3, [r7, #12]
4034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7477              		.loc 1 4034 20 discriminator 3
 7478 003a 3B69     		ldr	r3, [r7, #16]
 7479 003c 013B     		subs	r3, r3, #1
 7480 003e 3B61     		str	r3, [r7, #16]
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 7481              		.loc 1 4035 30 discriminator 3
 7482 0040 BB68     		ldr	r3, [r7, #8]
 7483 0042 1B0A     		lsrs	r3, r3, #8
 7484              		.loc 1 4035 14 discriminator 3
 7485 0044 DAB2     		uxtb	r2, r3
 7486              		.loc 1 4035 12 discriminator 3
 7487 0046 FB68     		ldr	r3, [r7, #12]
 7488 0048 1A70     		strb	r2, [r3]
4036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7489              		.loc 1 4036 10 discriminator 3
 7490 004a FB68     		ldr	r3, [r7, #12]
 7491 004c 0133     		adds	r3, r3, #1
 7492 004e FB60     		str	r3, [r7, #12]
4037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7493              		.loc 1 4037 20 discriminator 3
 7494 0050 3B69     		ldr	r3, [r7, #16]
 7495 0052 013B     		subs	r3, r3, #1
 7496 0054 3B61     		str	r3, [r7, #16]
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 7497              		.loc 1 4038 30 discriminator 3
 7498 0056 BB68     		ldr	r3, [r7, #8]
 7499 0058 1B0C     		lsrs	r3, r3, #16
 7500              		.loc 1 4038 14 discriminator 3
 7501 005a DAB2     		uxtb	r2, r3
 7502              		.loc 1 4038 12 discriminator 3
 7503 005c FB68     		ldr	r3, [r7, #12]
 7504 005e 1A70     		strb	r2, [r3]
4039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7505              		.loc 1 4039 10 discriminator 3
 7506 0060 FB68     		ldr	r3, [r7, #12]
 7507 0062 0133     		adds	r3, r3, #1
 7508 0064 FB60     		str	r3, [r7, #12]
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7509              		.loc 1 4040 20 discriminator 3
 7510 0066 3B69     		ldr	r3, [r7, #16]
 7511 0068 013B     		subs	r3, r3, #1
 7512 006a 3B61     		str	r3, [r7, #16]
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 7513              		.loc 1 4041 30 discriminator 3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 205


 7514 006c BB68     		ldr	r3, [r7, #8]
 7515 006e 1B0E     		lsrs	r3, r3, #24
 7516              		.loc 1 4041 14 discriminator 3
 7517 0070 DAB2     		uxtb	r2, r3
 7518              		.loc 1 4041 12 discriminator 3
 7519 0072 FB68     		ldr	r3, [r7, #12]
 7520 0074 1A70     		strb	r2, [r3]
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7521              		.loc 1 4042 10 discriminator 3
 7522 0076 FB68     		ldr	r3, [r7, #12]
 7523 0078 0133     		adds	r3, r3, #1
 7524 007a FB60     		str	r3, [r7, #12]
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7525              		.loc 1 4043 20 discriminator 3
 7526 007c 3B69     		ldr	r3, [r7, #16]
 7527 007e 013B     		subs	r3, r3, #1
 7528 0080 3B61     		str	r3, [r7, #16]
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 7529              		.loc 1 4029 38 discriminator 3
 7530 0082 7B69     		ldr	r3, [r7, #20]
 7531 0084 0133     		adds	r3, r3, #1
 7532 0086 7B61     		str	r3, [r7, #20]
 7533              	.L370:
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 7534              		.loc 1 4029 27 discriminator 1
 7535 0088 7B69     		ldr	r3, [r7, #20]
 7536 008a 072B     		cmp	r3, #7
 7537 008c C8D9     		bls	.L371
4044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
 7538              		.loc 1 4046 21
 7539 008e 7B68     		ldr	r3, [r7, #4]
 7540 0090 FA68     		ldr	r2, [r7, #12]
 7541 0092 9A62     		str	r2, [r3, #40]
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 7542              		.loc 1 4047 21
 7543 0094 7B68     		ldr	r3, [r7, #4]
 7544 0096 3A69     		ldr	r2, [r7, #16]
 7545 0098 DA62     		str	r2, [r3, #44]
 7546              	.L372:
4048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 7547              		.loc 1 4049 1
 7548 009a 00BF     		nop
 7549 009c 1837     		adds	r7, r7, #24
 7550              		.cfi_def_cfa_offset 8
 7551 009e BD46     		mov	sp, r7
 7552              		.cfi_def_cfa_register 13
 7553              		@ sp needed
 7554 00a0 80BD     		pop	{r7, pc}
 7555              		.cfi_endproc
 7556              	.LFE357:
 7558              		.section	.text.SD_Write_IT,"ax",%progbits
 7559              		.align	1
 7560              		.syntax unified
 7561              		.thumb
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 206


 7562              		.thumb_func
 7564              	SD_Write_IT:
 7565              	.LFB358:
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
4054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *              the configuration information.
4055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
4058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 7566              		.loc 1 4058 1
 7567              		.cfi_startproc
 7568              		@ args = 0, pretend = 0, frame = 24
 7569              		@ frame_needed = 1, uses_anonymous_args = 0
 7570 0000 80B5     		push	{r7, lr}
 7571              		.cfi_def_cfa_offset 8
 7572              		.cfi_offset 7, -8
 7573              		.cfi_offset 14, -4
 7574 0002 86B0     		sub	sp, sp, #24
 7575              		.cfi_def_cfa_offset 32
 7576 0004 00AF     		add	r7, sp, #0
 7577              		.cfi_def_cfa_register 7
 7578 0006 7860     		str	r0, [r7, #4]
4059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t* tmp;
4061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 7579              		.loc 1 4062 7
 7580 0008 7B68     		ldr	r3, [r7, #4]
 7581 000a 1B6A     		ldr	r3, [r3, #32]
 7582 000c FB60     		str	r3, [r7, #12]
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   dataremaining = hsd->TxXferSize;
 7583              		.loc 1 4063 17
 7584 000e 7B68     		ldr	r3, [r7, #4]
 7585 0010 5B6A     		ldr	r3, [r3, #36]
 7586 0012 3B61     		str	r3, [r7, #16]
4064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (dataremaining > 0U)
 7587              		.loc 1 4065 6
 7588 0014 3B69     		ldr	r3, [r7, #16]
 7589 0016 002B     		cmp	r3, #0
 7590 0018 43D0     		beq	.L377
4066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write data to SDMMC Tx FIFO */
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
 7591              		.loc 1 4068 15
 7592 001a 0023     		movs	r3, #0
 7593 001c 7B61     		str	r3, [r7, #20]
 7594              		.loc 1 4068 5
 7595 001e 37E0     		b	.L375
 7596              	.L376:
4069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data = (uint32_t)(*tmp);
 7597              		.loc 1 4070 25 discriminator 3
 7598 0020 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 207


 7599 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7600              		.loc 1 4070 12 discriminator 3
 7601 0024 BB60     		str	r3, [r7, #8]
4071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7602              		.loc 1 4071 10 discriminator 3
 7603 0026 FB68     		ldr	r3, [r7, #12]
 7604 0028 0133     		adds	r3, r3, #1
 7605 002a FB60     		str	r3, [r7, #12]
4072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7606              		.loc 1 4072 20 discriminator 3
 7607 002c 3B69     		ldr	r3, [r7, #16]
 7608 002e 013B     		subs	r3, r3, #1
 7609 0030 3B61     		str	r3, [r7, #16]
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 7610              		.loc 1 4073 27 discriminator 3
 7611 0032 FB68     		ldr	r3, [r7, #12]
 7612 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7613              		.loc 1 4073 33 discriminator 3
 7614 0036 1A02     		lsls	r2, r3, #8
 7615              		.loc 1 4073 12 discriminator 3
 7616 0038 BB68     		ldr	r3, [r7, #8]
 7617 003a 1343     		orrs	r3, r3, r2
 7618 003c BB60     		str	r3, [r7, #8]
4074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7619              		.loc 1 4074 10 discriminator 3
 7620 003e FB68     		ldr	r3, [r7, #12]
 7621 0040 0133     		adds	r3, r3, #1
 7622 0042 FB60     		str	r3, [r7, #12]
4075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7623              		.loc 1 4075 20 discriminator 3
 7624 0044 3B69     		ldr	r3, [r7, #16]
 7625 0046 013B     		subs	r3, r3, #1
 7626 0048 3B61     		str	r3, [r7, #16]
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 7627              		.loc 1 4076 27 discriminator 3
 7628 004a FB68     		ldr	r3, [r7, #12]
 7629 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7630              		.loc 1 4076 33 discriminator 3
 7631 004e 1A04     		lsls	r2, r3, #16
 7632              		.loc 1 4076 12 discriminator 3
 7633 0050 BB68     		ldr	r3, [r7, #8]
 7634 0052 1343     		orrs	r3, r3, r2
 7635 0054 BB60     		str	r3, [r7, #8]
4077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7636              		.loc 1 4077 10 discriminator 3
 7637 0056 FB68     		ldr	r3, [r7, #12]
 7638 0058 0133     		adds	r3, r3, #1
 7639 005a FB60     		str	r3, [r7, #12]
4078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7640              		.loc 1 4078 20 discriminator 3
 7641 005c 3B69     		ldr	r3, [r7, #16]
 7642 005e 013B     		subs	r3, r3, #1
 7643 0060 3B61     		str	r3, [r7, #16]
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 7644              		.loc 1 4079 27 discriminator 3
 7645 0062 FB68     		ldr	r3, [r7, #12]
 7646 0064 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 208


 7647              		.loc 1 4079 33 discriminator 3
 7648 0066 1A06     		lsls	r2, r3, #24
 7649              		.loc 1 4079 12 discriminator 3
 7650 0068 BB68     		ldr	r3, [r7, #8]
 7651 006a 1343     		orrs	r3, r3, r2
 7652 006c BB60     		str	r3, [r7, #8]
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 7653              		.loc 1 4080 10 discriminator 3
 7654 006e FB68     		ldr	r3, [r7, #12]
 7655 0070 0133     		adds	r3, r3, #1
 7656 0072 FB60     		str	r3, [r7, #12]
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 7657              		.loc 1 4081 20 discriminator 3
 7658 0074 3B69     		ldr	r3, [r7, #16]
 7659 0076 013B     		subs	r3, r3, #1
 7660 0078 3B61     		str	r3, [r7, #16]
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 7661              		.loc 1 4082 13 discriminator 3
 7662 007a 7B68     		ldr	r3, [r7, #4]
 7663 007c 1B68     		ldr	r3, [r3]
 7664 007e 07F10802 		add	r2, r7, #8
 7665 0082 1146     		mov	r1, r2
 7666 0084 1846     		mov	r0, r3
 7667 0086 FFF7FEFF 		bl	SDMMC_WriteFIFO
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 7668              		.loc 1 4068 38 discriminator 3
 7669 008a 7B69     		ldr	r3, [r7, #20]
 7670 008c 0133     		adds	r3, r3, #1
 7671 008e 7B61     		str	r3, [r7, #20]
 7672              	.L375:
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 7673              		.loc 1 4068 27 discriminator 1
 7674 0090 7B69     		ldr	r3, [r7, #20]
 7675 0092 072B     		cmp	r3, #7
 7676 0094 C4D9     		bls	.L376
4083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
 7677              		.loc 1 4085 21
 7678 0096 7B68     		ldr	r3, [r7, #4]
 7679 0098 FA68     		ldr	r2, [r7, #12]
 7680 009a 1A62     		str	r2, [r3, #32]
4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 7681              		.loc 1 4086 21
 7682 009c 7B68     		ldr	r3, [r7, #4]
 7683 009e 3A69     		ldr	r2, [r7, #16]
 7684 00a0 5A62     		str	r2, [r3, #36]
 7685              	.L377:
4087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 7686              		.loc 1 4088 1
 7687 00a2 00BF     		nop
 7688 00a4 1837     		adds	r7, r7, #24
 7689              		.cfi_def_cfa_offset 8
 7690 00a6 BD46     		mov	sp, r7
 7691              		.cfi_def_cfa_register 13
 7692              		@ sp needed
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 209


 7693 00a8 80BD     		pop	{r7, pc}
 7694              		.cfi_endproc
 7695              	.LFE358:
 7697              		.section	.text.SD_HighSpeed,"ax",%progbits
 7698              		.align	1
 7699              		.global	SD_HighSpeed
 7700              		.syntax unified
 7701              		.thumb
 7702              		.thumb_func
 7704              	SD_HighSpeed:
 7705              	.LFB359:
4089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
4091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
4093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         This API must be used after "Transfer State"
4094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
4095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
4096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd SD handle
4097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval SD Card error state
4098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** uint32_t SD_HighSpeed(SD_HandleTypeDef *hsd)
4100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 7706              		.loc 1 4100 1
 7707              		.cfi_startproc
 7708              		@ args = 0, pretend = 0, frame = 112
 7709              		@ frame_needed = 1, uses_anonymous_args = 0
 7710 0000 90B5     		push	{r4, r7, lr}
 7711              		.cfi_def_cfa_offset 12
 7712              		.cfi_offset 4, -12
 7713              		.cfi_offset 7, -8
 7714              		.cfi_offset 14, -4
 7715 0002 9DB0     		sub	sp, sp, #116
 7716              		.cfi_def_cfa_offset 128
 7717 0004 00AF     		add	r7, sp, #0
 7718              		.cfi_def_cfa_register 7
 7719 0006 7860     		str	r0, [r7, #4]
4101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 7720              		.loc 1 4101 12
 7721 0008 0023     		movs	r3, #0
 7722 000a FB66     		str	r3, [r7, #108]
4102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
4103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 7723              		.loc 1 4103 12
 7724 000c 07F10803 		add	r3, r7, #8
 7725 0010 4022     		movs	r2, #64
 7726 0012 0021     		movs	r1, #0
 7727 0014 1846     		mov	r0, r3
 7728 0016 FFF7FEFF 		bl	memset
4104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, loop = 0 ;
 7729              		.loc 1 4104 19
 7730 001a 0023     		movs	r3, #0
 7731 001c 7B66     		str	r3, [r7, #100]
4105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 7732              		.loc 1 4105 22
 7733 001e FFF7FEFF 		bl	HAL_GetTick
 7734 0022 3866     		str	r0, [r7, #96]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 210


4106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 7735              		.loc 1 4107 17
 7736 0024 7B68     		ldr	r3, [r7, #4]
 7737 0026 DB6D     		ldr	r3, [r3, #92]
 7738              		.loc 1 4107 5
 7739 0028 002B     		cmp	r3, #0
 7740 002a 02D1     		bne	.L379
4108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      /* Standard Speed Card <= 12.5Mhz  */
4110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 7741              		.loc 1 4110 13
 7742 002c 4FF08063 		mov	r3, #67108864
 7743 0030 AEE0     		b	.L392
 7744              	.L379:
4111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
 7745              		.loc 1 4113 17
 7746 0032 7B68     		ldr	r3, [r7, #4]
 7747 0034 DB6D     		ldr	r3, [r3, #92]
 7748              		.loc 1 4113 5
 7749 0036 B3F5807F 		cmp	r3, #256
 7750 003a 40F0A880 		bne	.L381
4114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize the Data control register */
4116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
 7751              		.loc 1 4116 8
 7752 003e 7B68     		ldr	r3, [r7, #4]
 7753 0040 1B68     		ldr	r3, [r3]
 7754              		.loc 1 4116 26
 7755 0042 0022     		movs	r2, #0
 7756 0044 DA62     		str	r2, [r3, #44]
4117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 7757              		.loc 1 4117 18
 7758 0046 7B68     		ldr	r3, [r7, #4]
 7759 0048 1B68     		ldr	r3, [r3]
 7760 004a 4021     		movs	r1, #64
 7761 004c 1846     		mov	r0, r3
 7762 004e FFF7FEFF 		bl	SDMMC_CmdBlockLength
 7763 0052 F866     		str	r0, [r7, #108]
4118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 7764              		.loc 1 4119 8
 7765 0054 FB6E     		ldr	r3, [r7, #108]
 7766 0056 002B     		cmp	r3, #0
 7767 0058 01D0     		beq	.L382
4120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 7768              		.loc 1 4121 14
 7769 005a FB6E     		ldr	r3, [r7, #108]
 7770 005c 98E0     		b	.L392
 7771              	.L382:
4122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
4125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 211


 7772              		.loc 1 4125 43
 7773 005e 4FF0FF33 		mov	r3, #-1
 7774 0062 BB64     		str	r3, [r7, #72]
4126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 7775              		.loc 1 4126 43
 7776 0064 4023     		movs	r3, #64
 7777 0066 FB64     		str	r3, [r7, #76]
4127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 7778              		.loc 1 4127 43
 7779 0068 6023     		movs	r3, #96
 7780 006a 3B65     		str	r3, [r7, #80]
4128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 7781              		.loc 1 4128 43
 7782 006c 0223     		movs	r3, #2
 7783 006e 7B65     		str	r3, [r7, #84]
4129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 7784              		.loc 1 4129 43
 7785 0070 0023     		movs	r3, #0
 7786 0072 BB65     		str	r3, [r7, #88]
4130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 7787              		.loc 1 4130 43
 7788 0074 0123     		movs	r3, #1
 7789 0076 FB65     		str	r3, [r7, #92]
4131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
 7790              		.loc 1 4132 11
 7791 0078 7B68     		ldr	r3, [r7, #4]
 7792 007a 1B68     		ldr	r3, [r3]
 7793 007c 07F14802 		add	r2, r7, #72
 7794 0080 1146     		mov	r1, r2
 7795 0082 1846     		mov	r0, r3
 7796 0084 FFF7FEFF 		bl	SDMMC_ConfigData
4133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance,SDMMC_SDR25_SWITCH_PATTERN);
 7797              		.loc 1 4134 18
 7798 0088 7B68     		ldr	r3, [r7, #4]
 7799 008a 1B68     		ldr	r3, [r3]
 7800 008c 4249     		ldr	r1, .L393
 7801 008e 1846     		mov	r0, r3
 7802 0090 FFF7FEFF 		bl	SDMMC_CmdSwitch
 7803 0094 F866     		str	r0, [r7, #108]
4135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 7804              		.loc 1 4135 7
 7805 0096 FB6E     		ldr	r3, [r7, #108]
 7806 0098 002B     		cmp	r3, #0
 7807 009a 36D0     		beq	.L384
4136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 7808              		.loc 1 4137 14
 7809 009c FB6E     		ldr	r3, [r7, #108]
 7810 009e 77E0     		b	.L392
 7811              	.L388:
4138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 212


 7812              		.loc 1 4142 11
 7813 00a0 7B68     		ldr	r3, [r7, #4]
 7814 00a2 1B68     		ldr	r3, [r3]
 7815 00a4 5B6B     		ldr	r3, [r3, #52]
 7816 00a6 03F40043 		and	r3, r3, #32768
 7817              		.loc 1 4142 10
 7818 00aa 002B     		cmp	r3, #0
 7819 00ac 1AD0     		beq	.L385
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 7820              		.loc 1 4144 20
 7821 00ae 0023     		movs	r3, #0
 7822 00b0 BB66     		str	r3, [r7, #104]
 7823              		.loc 1 4144 9
 7824 00b2 11E0     		b	.L386
 7825              	.L387:
4145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
4146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_hs[(8U*loop)+count]  = SDMMC_ReadFIFO(hsd->Instance);
 7826              		.loc 1 4146 37 discriminator 3
 7827 00b4 7B68     		ldr	r3, [r7, #4]
 7828 00b6 1968     		ldr	r1, [r3]
 7829              		.loc 1 4146 20 discriminator 3
 7830 00b8 7B6E     		ldr	r3, [r7, #100]
 7831 00ba DA00     		lsls	r2, r3, #3
 7832              		.loc 1 4146 26 discriminator 3
 7833 00bc BB6E     		ldr	r3, [r7, #104]
 7834 00be D418     		adds	r4, r2, r3
 7835              		.loc 1 4146 37 discriminator 3
 7836 00c0 0846     		mov	r0, r1
 7837 00c2 FFF7FEFF 		bl	SDMMC_ReadFIFO
 7838 00c6 0246     		mov	r2, r0
 7839              		.loc 1 4146 35 discriminator 3
 7840 00c8 A300     		lsls	r3, r4, #2
 7841 00ca 7033     		adds	r3, r3, #112
 7842 00cc 3B44     		add	r3, r3, r7
 7843 00ce 43F8682C 		str	r2, [r3, #-104]
4144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 7844              		.loc 1 4144 43 discriminator 3
 7845 00d2 BB6E     		ldr	r3, [r7, #104]
 7846 00d4 0133     		adds	r3, r3, #1
 7847 00d6 BB66     		str	r3, [r7, #104]
 7848              	.L386:
4144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 7849              		.loc 1 4144 32 discriminator 1
 7850 00d8 BB6E     		ldr	r3, [r7, #104]
 7851 00da 072B     		cmp	r3, #7
 7852 00dc EAD9     		bls	.L387
4147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
4148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         loop ++;
 7853              		.loc 1 4148 14
 7854 00de 7B6E     		ldr	r3, [r7, #100]
 7855 00e0 0133     		adds	r3, r3, #1
 7856 00e2 7B66     		str	r3, [r7, #100]
 7857              	.L385:
4149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((HAL_GetTick()-Timeout) >=  SDMMC_DATATIMEOUT)
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 213


 7858              		.loc 1 4151 11
 7859 00e4 FFF7FEFF 		bl	HAL_GetTick
 7860 00e8 0246     		mov	r2, r0
 7861              		.loc 1 4151 24
 7862 00ea 3B6E     		ldr	r3, [r7, #96]
 7863 00ec D31A     		subs	r3, r2, r3
 7864              		.loc 1 4151 9
 7865 00ee B3F1FF3F 		cmp	r3, #-1
 7866 00f2 0AD1     		bne	.L384
4152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 7867              		.loc 1 4153 24
 7868 00f4 7B68     		ldr	r3, [r7, #4]
 7869 00f6 4FF00042 		mov	r2, #-2147483648
 7870 00fa 9A63     		str	r2, [r3, #56]
4154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 7871              		.loc 1 4154 19
 7872 00fc 7B68     		ldr	r3, [r7, #4]
 7873 00fe 0122     		movs	r2, #1
 7874 0100 83F83420 		strb	r2, [r3, #52]
4155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 7875              		.loc 1 4155 16
 7876 0104 4FF00043 		mov	r3, #-2147483648
 7877 0108 42E0     		b	.L392
 7878              	.L384:
4140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 7879              		.loc 1 4140 12
 7880 010a 7B68     		ldr	r3, [r7, #4]
 7881 010c 1B68     		ldr	r3, [r3]
 7882 010e 5A6B     		ldr	r2, [r3, #52]
 7883 0110 40F22A53 		movw	r3, #1322
 7884 0114 1340     		ands	r3, r3, r2
4140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 7885              		.loc 1 4140 11
 7886 0116 002B     		cmp	r3, #0
 7887 0118 C2D0     		beq	.L388
4156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 7888              		.loc 1 4159 9
 7889 011a 7B68     		ldr	r3, [r7, #4]
 7890 011c 1B68     		ldr	r3, [r3]
 7891 011e 5B6B     		ldr	r3, [r3, #52]
 7892 0120 03F00803 		and	r3, r3, #8
 7893              		.loc 1 4159 8
 7894 0124 002B     		cmp	r3, #0
 7895 0126 05D0     		beq	.L389
4160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 7896              		.loc 1 4161 7
 7897 0128 7B68     		ldr	r3, [r7, #4]
 7898 012a 1B68     		ldr	r3, [r3]
 7899 012c 0822     		movs	r2, #8
 7900 012e 9A63     		str	r2, [r3, #56]
4162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 214


 7901              		.loc 1 4163 14
 7902 0130 FB6E     		ldr	r3, [r7, #108]
 7903 0132 2DE0     		b	.L392
 7904              	.L389:
4164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 7905              		.loc 1 4165 14
 7906 0134 7B68     		ldr	r3, [r7, #4]
 7907 0136 1B68     		ldr	r3, [r3]
 7908 0138 5B6B     		ldr	r3, [r3, #52]
 7909 013a 03F00203 		and	r3, r3, #2
 7910              		.loc 1 4165 13
 7911 013e 002B     		cmp	r3, #0
 7912 0140 07D0     		beq	.L390
4166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 7913              		.loc 1 4167 7
 7914 0142 7B68     		ldr	r3, [r7, #4]
 7915 0144 1B68     		ldr	r3, [r3]
 7916 0146 0222     		movs	r2, #2
 7917 0148 9A63     		str	r2, [r3, #56]
4168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
 7918              		.loc 1 4169 18
 7919 014a 0223     		movs	r3, #2
 7920 014c FB66     		str	r3, [r7, #108]
4170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 7921              		.loc 1 4171 14
 7922 014e FB6E     		ldr	r3, [r7, #108]
 7923 0150 1EE0     		b	.L392
 7924              	.L390:
4172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 7925              		.loc 1 4173 14
 7926 0152 7B68     		ldr	r3, [r7, #4]
 7927 0154 1B68     		ldr	r3, [r3]
 7928 0156 5B6B     		ldr	r3, [r3, #52]
 7929 0158 03F02003 		and	r3, r3, #32
 7930              		.loc 1 4173 13
 7931 015c 002B     		cmp	r3, #0
 7932 015e 07D0     		beq	.L391
4174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 7933              		.loc 1 4175 7
 7934 0160 7B68     		ldr	r3, [r7, #4]
 7935 0162 1B68     		ldr	r3, [r3]
 7936 0164 2022     		movs	r2, #32
 7937 0166 9A63     		str	r2, [r3, #56]
4176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
 7938              		.loc 1 4177 18
 7939 0168 2023     		movs	r3, #32
 7940 016a FB66     		str	r3, [r7, #108]
4178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 7941              		.loc 1 4179 14
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 215


 7942 016c FB6E     		ldr	r3, [r7, #108]
 7943 016e 0FE0     		b	.L392
 7944              	.L391:
4180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
4182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* No error flag set */
4184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
4187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 7945              		.loc 1 4187 5
 7946 0170 7B68     		ldr	r3, [r7, #4]
 7947 0172 1B68     		ldr	r3, [r3]
 7948 0174 094A     		ldr	r2, .L393+4
 7949 0176 9A63     		str	r2, [r3, #56]
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
4190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if ((((uint8_t*)SD_hs)[13] & 2U) != 2U)
 7950              		.loc 1 4190 27
 7951 0178 07F10803 		add	r3, r7, #8
 7952 017c 0D33     		adds	r3, r3, #13
 7953 017e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7954              		.loc 1 4190 32
 7955 0180 03F00203 		and	r3, r3, #2
 7956              		.loc 1 4190 8
 7957 0184 002B     		cmp	r3, #0
 7958 0186 02D1     		bne	.L381
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 7959              		.loc 1 4192 18
 7960 0188 4FF08053 		mov	r3, #268435456
 7961 018c FB66     		str	r3, [r7, #108]
 7962              	.L381:
4193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return errorstate;
 7963              		.loc 1 4197 10
 7964 018e FB6E     		ldr	r3, [r7, #108]
 7965              	.L392:
4198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 7966              		.loc 1 4198 1 discriminator 1
 7967 0190 1846     		mov	r0, r3
 7968 0192 7437     		adds	r7, r7, #116
 7969              		.cfi_def_cfa_offset 12
 7970 0194 BD46     		mov	sp, r7
 7971              		.cfi_def_cfa_register 13
 7972              		@ sp needed
 7973 0196 90BD     		pop	{r4, r7, pc}
 7974              	.L394:
 7975              		.align	2
 7976              	.L393:
 7977 0198 01FFFF80 		.word	-2130706687
 7978 019c 3A0F0018 		.word	402657082
 7979              		.cfi_endproc
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 216


 7980              	.LFE359:
 7982              		.section	.text.SD_UltraHighSpeed,"ax",%progbits
 7983              		.align	1
 7984              		.syntax unified
 7985              		.thumb
 7986              		.thumb_func
 7988              	SD_UltraHighSpeed:
 7989              	.LFB360:
4199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Switches the SD card to Ultra High Speed mode.
4202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         This API must be used after "Transfer State"
4203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
4204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
4205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd SD handle
4206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval SD Card error state
4207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd)
4209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 7990              		.loc 1 4209 1
 7991              		.cfi_startproc
 7992              		@ args = 0, pretend = 0, frame = 112
 7993              		@ frame_needed = 1, uses_anonymous_args = 0
 7994 0000 90B5     		push	{r4, r7, lr}
 7995              		.cfi_def_cfa_offset 12
 7996              		.cfi_offset 4, -12
 7997              		.cfi_offset 7, -8
 7998              		.cfi_offset 14, -4
 7999 0002 9DB0     		sub	sp, sp, #116
 8000              		.cfi_def_cfa_offset 128
 8001 0004 00AF     		add	r7, sp, #0
 8002              		.cfi_def_cfa_register 7
 8003 0006 7860     		str	r0, [r7, #4]
4210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 8004              		.loc 1 4210 12
 8005 0008 0023     		movs	r3, #0
 8006 000a FB66     		str	r3, [r7, #108]
4211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
4212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 8007              		.loc 1 4212 12
 8008 000c 07F10803 		add	r3, r7, #8
 8009 0010 4022     		movs	r2, #64
 8010 0012 0021     		movs	r1, #0
 8011 0014 1846     		mov	r0, r3
 8012 0016 FFF7FEFF 		bl	memset
4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, loop = 0 ;
 8013              		.loc 1 4213 19
 8014 001a 0023     		movs	r3, #0
 8015 001c 7B66     		str	r3, [r7, #100]
4214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 8016              		.loc 1 4214 22
 8017 001e FFF7FEFF 		bl	HAL_GetTick
 8018 0022 3866     		str	r0, [r7, #96]
4215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 8019              		.loc 1 4216 17
 8020 0024 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 217


 8021 0026 DB6D     		ldr	r3, [r3, #92]
 8022              		.loc 1 4216 5
 8023 0028 002B     		cmp	r3, #0
 8024 002a 02D1     		bne	.L396
4217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      /* Standard Speed Card <= 12.5Mhz  */
4219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 8025              		.loc 1 4219 13
 8026 002c 4FF08063 		mov	r3, #67108864
 8027 0030 B7E0     		b	.L410
 8028              	.L396:
4220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED) &&
 8029              		.loc 1 4222 18
 8030 0032 7B68     		ldr	r3, [r7, #4]
 8031 0034 DB6D     		ldr	r3, [r3, #92]
 8032              		.loc 1 4222 5
 8033 0036 B3F5007F 		cmp	r3, #512
 8034 003a 40F0B180 		bne	.L398
4223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      (hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE))
 8035              		.loc 1 4223 16 discriminator 1
 8036 003e 7B68     		ldr	r3, [r7, #4]
 8037 0040 9B69     		ldr	r3, [r3, #24]
4222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      (hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE))
 8038              		.loc 1 4222 55 discriminator 1
 8039 0042 012B     		cmp	r3, #1
 8040 0044 40F0AC80 		bne	.L398
4224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize the Data control register */
4226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
 8041              		.loc 1 4226 8
 8042 0048 7B68     		ldr	r3, [r7, #4]
 8043 004a 1B68     		ldr	r3, [r3]
 8044              		.loc 1 4226 26
 8045 004c 0022     		movs	r2, #0
 8046 004e DA62     		str	r2, [r3, #44]
4227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 8047              		.loc 1 4227 18
 8048 0050 7B68     		ldr	r3, [r7, #4]
 8049 0052 1B68     		ldr	r3, [r3]
 8050 0054 4021     		movs	r1, #64
 8051 0056 1846     		mov	r0, r3
 8052 0058 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 8053 005c F866     		str	r0, [r7, #108]
4228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8054              		.loc 1 4229 8
 8055 005e FB6E     		ldr	r3, [r7, #108]
 8056 0060 002B     		cmp	r3, #0
 8057 0062 01D0     		beq	.L399
4230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8058              		.loc 1 4231 14
 8059 0064 FB6E     		ldr	r3, [r7, #108]
 8060 0066 9CE0     		b	.L410
 8061              	.L399:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 218


4232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
4235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
 8062              		.loc 1 4235 43
 8063 0068 4FF0FF33 		mov	r3, #-1
 8064 006c BB64     		str	r3, [r7, #72]
4236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 8065              		.loc 1 4236 43
 8066 006e 4023     		movs	r3, #64
 8067 0070 FB64     		str	r3, [r7, #76]
4237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 8068              		.loc 1 4237 43
 8069 0072 6023     		movs	r3, #96
 8070 0074 3B65     		str	r3, [r7, #80]
4238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 8071              		.loc 1 4238 43
 8072 0076 0223     		movs	r3, #2
 8073 0078 7B65     		str	r3, [r7, #84]
4239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 8074              		.loc 1 4239 43
 8075 007a 0023     		movs	r3, #0
 8076 007c BB65     		str	r3, [r7, #88]
4240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 8077              		.loc 1 4240 43
 8078 007e 0123     		movs	r3, #1
 8079 0080 FB65     		str	r3, [r7, #92]
4241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
 8080              		.loc 1 4242 11
 8081 0082 7B68     		ldr	r3, [r7, #4]
 8082 0084 1B68     		ldr	r3, [r3]
 8083 0086 07F14802 		add	r2, r7, #72
 8084 008a 1146     		mov	r1, r2
 8085 008c 1846     		mov	r0, r3
 8086 008e FFF7FEFF 		bl	SDMMC_ConfigData
4243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_SDR104_SWITCH_PATTERN);
 8087              		.loc 1 4244 18
 8088 0092 7B68     		ldr	r3, [r7, #4]
 8089 0094 1B68     		ldr	r3, [r3]
 8090 0096 4549     		ldr	r1, .L411
 8091 0098 1846     		mov	r0, r3
 8092 009a FFF7FEFF 		bl	SDMMC_CmdSwitch
 8093 009e F866     		str	r0, [r7, #108]
4245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 8094              		.loc 1 4245 7
 8095 00a0 FB6E     		ldr	r3, [r7, #108]
 8096 00a2 002B     		cmp	r3, #0
 8097 00a4 36D0     		beq	.L401
4246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8098              		.loc 1 4247 14
 8099 00a6 FB6E     		ldr	r3, [r7, #108]
 8100 00a8 7BE0     		b	.L410
 8101              	.L405:
4248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 219


4249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
4251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 8102              		.loc 1 4252 11
 8103 00aa 7B68     		ldr	r3, [r7, #4]
 8104 00ac 1B68     		ldr	r3, [r3]
 8105 00ae 5B6B     		ldr	r3, [r3, #52]
 8106 00b0 03F40043 		and	r3, r3, #32768
 8107              		.loc 1 4252 10
 8108 00b4 002B     		cmp	r3, #0
 8109 00b6 1AD0     		beq	.L402
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 8110              		.loc 1 4254 20
 8111 00b8 0023     		movs	r3, #0
 8112 00ba BB66     		str	r3, [r7, #104]
 8113              		.loc 1 4254 9
 8114 00bc 11E0     		b	.L403
 8115              	.L404:
4255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
4256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_hs[(8U*loop)+count]  = SDMMC_ReadFIFO(hsd->Instance);
 8116              		.loc 1 4256 37 discriminator 3
 8117 00be 7B68     		ldr	r3, [r7, #4]
 8118 00c0 1968     		ldr	r1, [r3]
 8119              		.loc 1 4256 20 discriminator 3
 8120 00c2 7B6E     		ldr	r3, [r7, #100]
 8121 00c4 DA00     		lsls	r2, r3, #3
 8122              		.loc 1 4256 26 discriminator 3
 8123 00c6 BB6E     		ldr	r3, [r7, #104]
 8124 00c8 D418     		adds	r4, r2, r3
 8125              		.loc 1 4256 37 discriminator 3
 8126 00ca 0846     		mov	r0, r1
 8127 00cc FFF7FEFF 		bl	SDMMC_ReadFIFO
 8128 00d0 0246     		mov	r2, r0
 8129              		.loc 1 4256 35 discriminator 3
 8130 00d2 A300     		lsls	r3, r4, #2
 8131 00d4 7033     		adds	r3, r3, #112
 8132 00d6 3B44     		add	r3, r3, r7
 8133 00d8 43F8682C 		str	r2, [r3, #-104]
4254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 8134              		.loc 1 4254 43 discriminator 3
 8135 00dc BB6E     		ldr	r3, [r7, #104]
 8136 00de 0133     		adds	r3, r3, #1
 8137 00e0 BB66     		str	r3, [r7, #104]
 8138              	.L403:
4254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 8139              		.loc 1 4254 32 discriminator 1
 8140 00e2 BB6E     		ldr	r3, [r7, #104]
 8141 00e4 072B     		cmp	r3, #7
 8142 00e6 EAD9     		bls	.L404
4257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
4258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         loop ++;
 8143              		.loc 1 4258 14
 8144 00e8 7B6E     		ldr	r3, [r7, #100]
 8145 00ea 0133     		adds	r3, r3, #1
 8146 00ec 7B66     		str	r3, [r7, #100]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 220


 8147              	.L402:
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((HAL_GetTick()-Timeout) >=  SDMMC_DATATIMEOUT)
 8148              		.loc 1 4261 11
 8149 00ee FFF7FEFF 		bl	HAL_GetTick
 8150 00f2 0246     		mov	r2, r0
 8151              		.loc 1 4261 24
 8152 00f4 3B6E     		ldr	r3, [r7, #96]
 8153 00f6 D31A     		subs	r3, r2, r3
 8154              		.loc 1 4261 9
 8155 00f8 B3F1FF3F 		cmp	r3, #-1
 8156 00fc 0AD1     		bne	.L401
4262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 8157              		.loc 1 4263 24
 8158 00fe 7B68     		ldr	r3, [r7, #4]
 8159 0100 4FF00042 		mov	r2, #-2147483648
 8160 0104 9A63     		str	r2, [r3, #56]
4264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 8161              		.loc 1 4264 19
 8162 0106 7B68     		ldr	r3, [r7, #4]
 8163 0108 0122     		movs	r2, #1
 8164 010a 83F83420 		strb	r2, [r3, #52]
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 8165              		.loc 1 4265 16
 8166 010e 4FF00043 		mov	r3, #-2147483648
 8167 0112 46E0     		b	.L410
 8168              	.L401:
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 8169              		.loc 1 4250 12
 8170 0114 7B68     		ldr	r3, [r7, #4]
 8171 0116 1B68     		ldr	r3, [r3]
 8172 0118 5A6B     		ldr	r2, [r3, #52]
 8173 011a 40F22A53 		movw	r3, #1322
 8174 011e 1340     		ands	r3, r3, r2
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 8175              		.loc 1 4250 11
 8176 0120 002B     		cmp	r3, #0
 8177 0122 C2D0     		beq	.L405
4266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 8178              		.loc 1 4269 9
 8179 0124 7B68     		ldr	r3, [r7, #4]
 8180 0126 1B68     		ldr	r3, [r3]
 8181 0128 5B6B     		ldr	r3, [r3, #52]
 8182 012a 03F00803 		and	r3, r3, #8
 8183              		.loc 1 4269 8
 8184 012e 002B     		cmp	r3, #0
 8185 0130 05D0     		beq	.L406
4270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 8186              		.loc 1 4271 7
 8187 0132 7B68     		ldr	r3, [r7, #4]
 8188 0134 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 221


 8189 0136 0822     		movs	r2, #8
 8190 0138 9A63     		str	r2, [r3, #56]
4272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8191              		.loc 1 4273 14
 8192 013a FB6E     		ldr	r3, [r7, #108]
 8193 013c 31E0     		b	.L410
 8194              	.L406:
4274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 8195              		.loc 1 4275 14
 8196 013e 7B68     		ldr	r3, [r7, #4]
 8197 0140 1B68     		ldr	r3, [r3]
 8198 0142 5B6B     		ldr	r3, [r3, #52]
 8199 0144 03F00203 		and	r3, r3, #2
 8200              		.loc 1 4275 13
 8201 0148 002B     		cmp	r3, #0
 8202 014a 07D0     		beq	.L407
4276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 8203              		.loc 1 4277 7
 8204 014c 7B68     		ldr	r3, [r7, #4]
 8205 014e 1B68     		ldr	r3, [r3]
 8206 0150 0222     		movs	r2, #2
 8207 0152 9A63     		str	r2, [r3, #56]
4278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
 8208              		.loc 1 4279 18
 8209 0154 0223     		movs	r3, #2
 8210 0156 FB66     		str	r3, [r7, #108]
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8211              		.loc 1 4281 14
 8212 0158 FB6E     		ldr	r3, [r7, #108]
 8213 015a 22E0     		b	.L410
 8214              	.L407:
4282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 8215              		.loc 1 4283 14
 8216 015c 7B68     		ldr	r3, [r7, #4]
 8217 015e 1B68     		ldr	r3, [r3]
 8218 0160 5B6B     		ldr	r3, [r3, #52]
 8219 0162 03F02003 		and	r3, r3, #32
 8220              		.loc 1 4283 13
 8221 0166 002B     		cmp	r3, #0
 8222 0168 07D0     		beq	.L408
4284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 8223              		.loc 1 4285 7
 8224 016a 7B68     		ldr	r3, [r7, #4]
 8225 016c 1B68     		ldr	r3, [r3]
 8226 016e 2022     		movs	r2, #32
 8227 0170 9A63     		str	r2, [r3, #56]
4286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
 8228              		.loc 1 4287 18
 8229 0172 2023     		movs	r3, #32
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 222


 8230 0174 FB66     		str	r3, [r7, #108]
4288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8231              		.loc 1 4289 14
 8232 0176 FB6E     		ldr	r3, [r7, #108]
 8233 0178 13E0     		b	.L410
 8234              	.L408:
4290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
4292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* No error flag set */
4294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
4297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 8235              		.loc 1 4297 5
 8236 017a 7B68     		ldr	r3, [r7, #4]
 8237 017c 1B68     		ldr	r3, [r3]
 8238 017e 0C4A     		ldr	r2, .L411+4
 8239 0180 9A63     		str	r2, [r3, #56]
4298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
4300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if ((((uint8_t*)SD_hs)[13] & 2U) != 2U)
 8240              		.loc 1 4300 27
 8241 0182 07F10803 		add	r3, r7, #8
 8242 0186 0D33     		adds	r3, r3, #13
 8243 0188 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8244              		.loc 1 4300 32
 8245 018a 03F00203 		and	r3, r3, #2
 8246              		.loc 1 4300 8
 8247 018e 002B     		cmp	r3, #0
 8248 0190 03D1     		bne	.L409
4301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 8249              		.loc 1 4302 18
 8250 0192 4FF08053 		mov	r3, #268435456
 8251 0196 FB66     		str	r3, [r7, #108]
 8252 0198 02E0     		b	.L398
 8253              	.L409:
4303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
4305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
4307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
4308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
4309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SDEx_DriveTransceiver_1_8V_Callback(SET);
 8254              		.loc 1 4309 7
 8255 019a 0120     		movs	r0, #1
 8256 019c FFF7FEFF 		bl	HAL_SDEx_DriveTransceiver_1_8V_Callback
 8257              	.L398:
4310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
4311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
4312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
4313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* SDMMC_FB_CLK tuned feedback clock selected as receive clock, for SDR104 */
4314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX,SDMMC_CLKCR_SELCLKRX_1);
4315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
4316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 223


4317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
4318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
4320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return errorstate;
 8258              		.loc 1 4323 10
 8259 01a0 FB6E     		ldr	r3, [r7, #108]
 8260              	.L410:
4324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 8261              		.loc 1 4324 1 discriminator 1
 8262 01a2 1846     		mov	r0, r3
 8263 01a4 7437     		adds	r7, r7, #116
 8264              		.cfi_def_cfa_offset 12
 8265 01a6 BD46     		mov	sp, r7
 8266              		.cfi_def_cfa_register 13
 8267              		@ sp needed
 8268 01a8 90BD     		pop	{r4, r7, pc}
 8269              	.L412:
 8270 01aa 00BF     		.align	2
 8271              	.L411:
 8272 01ac 031FFF80 		.word	-2130764029
 8273 01b0 3A0F0018 		.word	402657082
 8274              		.cfi_endproc
 8275              	.LFE360:
 8277              		.section	.text.SD_DDR_Mode,"ax",%progbits
 8278              		.align	1
 8279              		.syntax unified
 8280              		.thumb
 8281              		.thumb_func
 8283              	SD_DDR_Mode:
 8284              	.LFB361:
4325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Switches the SD card to Double Data Rate (DDR) mode.
4328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         This API must be used after "Transfer State"
4329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
4330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock less than 50MHz
4331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd SD handle
4332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval SD Card error state
4333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd)
4335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 8285              		.loc 1 4335 1
 8286              		.cfi_startproc
 8287              		@ args = 0, pretend = 0, frame = 112
 8288              		@ frame_needed = 1, uses_anonymous_args = 0
 8289 0000 90B5     		push	{r4, r7, lr}
 8290              		.cfi_def_cfa_offset 12
 8291              		.cfi_offset 4, -12
 8292              		.cfi_offset 7, -8
 8293              		.cfi_offset 14, -4
 8294 0002 9DB0     		sub	sp, sp, #116
 8295              		.cfi_def_cfa_offset 128
 8296 0004 00AF     		add	r7, sp, #0
 8297              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 224


 8298 0006 7860     		str	r0, [r7, #4]
4336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 8299              		.loc 1 4336 12
 8300 0008 0023     		movs	r3, #0
 8301 000a FB66     		str	r3, [r7, #108]
4337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
4338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 8302              		.loc 1 4338 12
 8303 000c 07F10803 		add	r3, r7, #8
 8304 0010 4022     		movs	r2, #64
 8305 0012 0021     		movs	r1, #0
 8306 0014 1846     		mov	r0, r3
 8307 0016 FFF7FEFF 		bl	memset
4339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, loop = 0 ;
 8308              		.loc 1 4339 19
 8309 001a 0023     		movs	r3, #0
 8310 001c 7B66     		str	r3, [r7, #100]
4340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 8311              		.loc 1 4340 22
 8312 001e FFF7FEFF 		bl	HAL_GetTick
 8313 0022 3866     		str	r0, [r7, #96]
4341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 8314              		.loc 1 4342 17
 8315 0024 7B68     		ldr	r3, [r7, #4]
 8316 0026 DB6D     		ldr	r3, [r3, #92]
 8317              		.loc 1 4342 5
 8318 0028 002B     		cmp	r3, #0
 8319 002a 02D1     		bne	.L414
4343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      /* Standard Speed Card <= 12.5Mhz  */
4345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 8320              		.loc 1 4345 13
 8321 002c 4FF08063 		mov	r3, #67108864
 8322 0030 B7E0     		b	.L428
 8323              	.L414:
4346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED) &&
 8324              		.loc 1 4348 18
 8325 0032 7B68     		ldr	r3, [r7, #4]
 8326 0034 DB6D     		ldr	r3, [r3, #92]
 8327              		.loc 1 4348 5
 8328 0036 B3F5007F 		cmp	r3, #512
 8329 003a 40F0B180 		bne	.L416
4349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      (hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE))
 8330              		.loc 1 4349 16 discriminator 1
 8331 003e 7B68     		ldr	r3, [r7, #4]
 8332 0040 9B69     		ldr	r3, [r3, #24]
4348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      (hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE))
 8333              		.loc 1 4348 55 discriminator 1
 8334 0042 012B     		cmp	r3, #1
 8335 0044 40F0AC80 		bne	.L416
4350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize the Data control register */
4352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
 8336              		.loc 1 4352 8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 225


 8337 0048 7B68     		ldr	r3, [r7, #4]
 8338 004a 1B68     		ldr	r3, [r3]
 8339              		.loc 1 4352 26
 8340 004c 0022     		movs	r2, #0
 8341 004e DA62     		str	r2, [r3, #44]
4353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 8342              		.loc 1 4353 18
 8343 0050 7B68     		ldr	r3, [r7, #4]
 8344 0052 1B68     		ldr	r3, [r3]
 8345 0054 4021     		movs	r1, #64
 8346 0056 1846     		mov	r0, r3
 8347 0058 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 8348 005c F866     		str	r0, [r7, #108]
4354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8349              		.loc 1 4355 8
 8350 005e FB6E     		ldr	r3, [r7, #108]
 8351 0060 002B     		cmp	r3, #0
 8352 0062 01D0     		beq	.L417
4356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8353              		.loc 1 4357 14
 8354 0064 FB6E     		ldr	r3, [r7, #108]
 8355 0066 9CE0     		b	.L428
 8356              	.L417:
4358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
4361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
 8357              		.loc 1 4361 43
 8358 0068 4FF0FF33 		mov	r3, #-1
 8359 006c BB64     		str	r3, [r7, #72]
4362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 8360              		.loc 1 4362 43
 8361 006e 4023     		movs	r3, #64
 8362 0070 FB64     		str	r3, [r7, #76]
4363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 8363              		.loc 1 4363 43
 8364 0072 6023     		movs	r3, #96
 8365 0074 3B65     		str	r3, [r7, #80]
4364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 8366              		.loc 1 4364 43
 8367 0076 0223     		movs	r3, #2
 8368 0078 7B65     		str	r3, [r7, #84]
4365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 8369              		.loc 1 4365 43
 8370 007a 0023     		movs	r3, #0
 8371 007c BB65     		str	r3, [r7, #88]
4366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 8372              		.loc 1 4366 43
 8373 007e 0123     		movs	r3, #1
 8374 0080 FB65     		str	r3, [r7, #92]
4367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
 8375              		.loc 1 4368 11
 8376 0082 7B68     		ldr	r3, [r7, #4]
 8377 0084 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 226


 8378 0086 07F14802 		add	r2, r7, #72
 8379 008a 1146     		mov	r1, r2
 8380 008c 1846     		mov	r0, r3
 8381 008e FFF7FEFF 		bl	SDMMC_ConfigData
4369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_DDR50_SWITCH_PATTERN);
 8382              		.loc 1 4370 18
 8383 0092 7B68     		ldr	r3, [r7, #4]
 8384 0094 1B68     		ldr	r3, [r3]
 8385 0096 4549     		ldr	r1, .L429
 8386 0098 1846     		mov	r0, r3
 8387 009a FFF7FEFF 		bl	SDMMC_CmdSwitch
 8388 009e F866     		str	r0, [r7, #108]
4371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 8389              		.loc 1 4371 7
 8390 00a0 FB6E     		ldr	r3, [r7, #108]
 8391 00a2 002B     		cmp	r3, #0
 8392 00a4 36D0     		beq	.L419
4372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8393              		.loc 1 4373 14
 8394 00a6 FB6E     		ldr	r3, [r7, #108]
 8395 00a8 7BE0     		b	.L428
 8396              	.L423:
4374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
4377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 8397              		.loc 1 4378 11
 8398 00aa 7B68     		ldr	r3, [r7, #4]
 8399 00ac 1B68     		ldr	r3, [r3]
 8400 00ae 5B6B     		ldr	r3, [r3, #52]
 8401 00b0 03F40043 		and	r3, r3, #32768
 8402              		.loc 1 4378 10
 8403 00b4 002B     		cmp	r3, #0
 8404 00b6 1AD0     		beq	.L420
4379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 8405              		.loc 1 4380 20
 8406 00b8 0023     		movs	r3, #0
 8407 00ba BB66     		str	r3, [r7, #104]
 8408              		.loc 1 4380 9
 8409 00bc 11E0     		b	.L421
 8410              	.L422:
4381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
4382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_hs[(8U*loop)+count]  = SDMMC_ReadFIFO(hsd->Instance);
 8411              		.loc 1 4382 37 discriminator 3
 8412 00be 7B68     		ldr	r3, [r7, #4]
 8413 00c0 1968     		ldr	r1, [r3]
 8414              		.loc 1 4382 20 discriminator 3
 8415 00c2 7B6E     		ldr	r3, [r7, #100]
 8416 00c4 DA00     		lsls	r2, r3, #3
 8417              		.loc 1 4382 26 discriminator 3
 8418 00c6 BB6E     		ldr	r3, [r7, #104]
 8419 00c8 D418     		adds	r4, r2, r3
 8420              		.loc 1 4382 37 discriminator 3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 227


 8421 00ca 0846     		mov	r0, r1
 8422 00cc FFF7FEFF 		bl	SDMMC_ReadFIFO
 8423 00d0 0246     		mov	r2, r0
 8424              		.loc 1 4382 35 discriminator 3
 8425 00d2 A300     		lsls	r3, r4, #2
 8426 00d4 7033     		adds	r3, r3, #112
 8427 00d6 3B44     		add	r3, r3, r7
 8428 00d8 43F8682C 		str	r2, [r3, #-104]
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 8429              		.loc 1 4380 43 discriminator 3
 8430 00dc BB6E     		ldr	r3, [r7, #104]
 8431 00de 0133     		adds	r3, r3, #1
 8432 00e0 BB66     		str	r3, [r7, #104]
 8433              	.L421:
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 8434              		.loc 1 4380 32 discriminator 1
 8435 00e2 BB6E     		ldr	r3, [r7, #104]
 8436 00e4 072B     		cmp	r3, #7
 8437 00e6 EAD9     		bls	.L422
4383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
4384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         loop ++;
 8438              		.loc 1 4384 14
 8439 00e8 7B6E     		ldr	r3, [r7, #100]
 8440 00ea 0133     		adds	r3, r3, #1
 8441 00ec 7B66     		str	r3, [r7, #100]
 8442              	.L420:
4385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((HAL_GetTick()-Timeout) >=  SDMMC_DATATIMEOUT)
 8443              		.loc 1 4387 11
 8444 00ee FFF7FEFF 		bl	HAL_GetTick
 8445 00f2 0246     		mov	r2, r0
 8446              		.loc 1 4387 24
 8447 00f4 3B6E     		ldr	r3, [r7, #96]
 8448 00f6 D31A     		subs	r3, r2, r3
 8449              		.loc 1 4387 9
 8450 00f8 B3F1FF3F 		cmp	r3, #-1
 8451 00fc 0AD1     		bne	.L419
4388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 8452              		.loc 1 4389 24
 8453 00fe 7B68     		ldr	r3, [r7, #4]
 8454 0100 4FF00042 		mov	r2, #-2147483648
 8455 0104 9A63     		str	r2, [r3, #56]
4390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 8456              		.loc 1 4390 19
 8457 0106 7B68     		ldr	r3, [r7, #4]
 8458 0108 0122     		movs	r2, #1
 8459 010a 83F83420 		strb	r2, [r3, #52]
4391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 8460              		.loc 1 4391 16
 8461 010e 4FF00043 		mov	r3, #-2147483648
 8462 0112 46E0     		b	.L428
 8463              	.L419:
4376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 8464              		.loc 1 4376 12
 8465 0114 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 228


 8466 0116 1B68     		ldr	r3, [r3]
 8467 0118 5A6B     		ldr	r2, [r3, #52]
 8468 011a 40F22A53 		movw	r3, #1322
 8469 011e 1340     		ands	r3, r3, r2
4376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 8470              		.loc 1 4376 11
 8471 0120 002B     		cmp	r3, #0
 8472 0122 C2D0     		beq	.L423
4392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 8473              		.loc 1 4395 9
 8474 0124 7B68     		ldr	r3, [r7, #4]
 8475 0126 1B68     		ldr	r3, [r3]
 8476 0128 5B6B     		ldr	r3, [r3, #52]
 8477 012a 03F00803 		and	r3, r3, #8
 8478              		.loc 1 4395 8
 8479 012e 002B     		cmp	r3, #0
 8480 0130 05D0     		beq	.L424
4396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 8481              		.loc 1 4397 7
 8482 0132 7B68     		ldr	r3, [r7, #4]
 8483 0134 1B68     		ldr	r3, [r3]
 8484 0136 0822     		movs	r2, #8
 8485 0138 9A63     		str	r2, [r3, #56]
4398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8486              		.loc 1 4399 14
 8487 013a FB6E     		ldr	r3, [r7, #108]
 8488 013c 31E0     		b	.L428
 8489              	.L424:
4400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 8490              		.loc 1 4401 14
 8491 013e 7B68     		ldr	r3, [r7, #4]
 8492 0140 1B68     		ldr	r3, [r3]
 8493 0142 5B6B     		ldr	r3, [r3, #52]
 8494 0144 03F00203 		and	r3, r3, #2
 8495              		.loc 1 4401 13
 8496 0148 002B     		cmp	r3, #0
 8497 014a 07D0     		beq	.L425
4402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 8498              		.loc 1 4403 7
 8499 014c 7B68     		ldr	r3, [r7, #4]
 8500 014e 1B68     		ldr	r3, [r3]
 8501 0150 0222     		movs	r2, #2
 8502 0152 9A63     		str	r2, [r3, #56]
4404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
 8503              		.loc 1 4405 18
 8504 0154 0223     		movs	r3, #2
 8505 0156 FB66     		str	r3, [r7, #108]
4406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 229


 8506              		.loc 1 4407 14
 8507 0158 FB6E     		ldr	r3, [r7, #108]
 8508 015a 22E0     		b	.L428
 8509              	.L425:
4408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 8510              		.loc 1 4409 14
 8511 015c 7B68     		ldr	r3, [r7, #4]
 8512 015e 1B68     		ldr	r3, [r3]
 8513 0160 5B6B     		ldr	r3, [r3, #52]
 8514 0162 03F02003 		and	r3, r3, #32
 8515              		.loc 1 4409 13
 8516 0166 002B     		cmp	r3, #0
 8517 0168 07D0     		beq	.L426
4410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 8518              		.loc 1 4411 7
 8519 016a 7B68     		ldr	r3, [r7, #4]
 8520 016c 1B68     		ldr	r3, [r3]
 8521 016e 2022     		movs	r2, #32
 8522 0170 9A63     		str	r2, [r3, #56]
4412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
 8523              		.loc 1 4413 18
 8524 0172 2023     		movs	r3, #32
 8525 0174 FB66     		str	r3, [r7, #108]
4414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
 8526              		.loc 1 4415 14
 8527 0176 FB6E     		ldr	r3, [r7, #108]
 8528 0178 13E0     		b	.L428
 8529              	.L426:
4416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
4418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* No error flag set */
4420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
4423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 8530              		.loc 1 4423 5
 8531 017a 7B68     		ldr	r3, [r7, #4]
 8532 017c 1B68     		ldr	r3, [r3]
 8533 017e 0C4A     		ldr	r2, .L429+4
 8534 0180 9A63     		str	r2, [r3, #56]
4424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Test if the switch mode  is ok */
4426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if ((((uint8_t*)SD_hs)[13] & 2U) != 2U)
 8535              		.loc 1 4426 27
 8536 0182 07F10803 		add	r3, r7, #8
 8537 0186 0D33     		adds	r3, r3, #13
 8538 0188 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8539              		.loc 1 4426 32
 8540 018a 03F00203 		and	r3, r3, #2
 8541              		.loc 1 4426 8
 8542 018e 002B     		cmp	r3, #0
 8543 0190 03D1     		bne	.L427
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 230


4427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 8544              		.loc 1 4428 18
 8545 0192 4FF08053 		mov	r3, #268435456
 8546 0196 FB66     		str	r3, [r7, #108]
 8547 0198 02E0     		b	.L416
 8548              	.L427:
4429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
4431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
4433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
4434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
4435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SDEx_DriveTransceiver_1_8V_Callback(SET);
 8549              		.loc 1 4435 7
 8550 019a 0120     		movs	r0, #1
 8551 019c FFF7FEFF 		bl	HAL_SDEx_DriveTransceiver_1_8V_Callback
 8552              	.L416:
4436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
4437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
4438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
4439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* SDMMC_FB_CLK tuned feedback clock selected as receive clock, for SDR104 */
4440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX,SDMMC_CLKCR_SELCLKRX_1);
4441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
4442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
4443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
4444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
4445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
4446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return errorstate;
 8553              		.loc 1 4449 10
 8554 01a0 FB6E     		ldr	r3, [r7, #108]
 8555              	.L428:
4450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 8556              		.loc 1 4450 1 discriminator 1
 8557 01a2 1846     		mov	r0, r3
 8558 01a4 7437     		adds	r7, r7, #116
 8559              		.cfi_def_cfa_offset 12
 8560 01a6 BD46     		mov	sp, r7
 8561              		.cfi_def_cfa_register 13
 8562              		@ sp needed
 8563 01a8 90BD     		pop	{r4, r7, pc}
 8564              	.L430:
 8565 01aa 00BF     		.align	2
 8566              	.L429:
 8567 01ac 04FFFF80 		.word	-2130706684
 8568 01b0 3A0F0018 		.word	402657082
 8569              		.cfi_endproc
 8570              	.LFE361:
 8572              		.text
 8573              	.Letext0:
 8574              		.file 2 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 8575              		.file 3 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 8576              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4p5xx.h"
 8577              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 231


 8578              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 8579              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_sdmmc.h"
 8580              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_sd.h"
 8581              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_sd_ex.h"
 8582              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 8583              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc_ex.h"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 232


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32l4xx_hal_sd.c
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:20     .text.HAL_SD_Init:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:26     .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:514    .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:226    .text.HAL_SD_InitCard:0000000000000000 HAL_SD_InitCard
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4361   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4717   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 HAL_SD_ConfigWideBusOperation
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5611   .text.HAL_SD_GetCardState:0000000000000000 HAL_SD_GetCardState
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:220    .text.HAL_SD_InitCard:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6130   .text.SD_PowerON:0000000000000000 SD_PowerON
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5871   .text.SD_InitCard:0000000000000000 SD_InitCard
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:429    .text.HAL_SD_InitCard:0000000000000138 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:436    .text.HAL_SD_DeInit:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:442    .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6500   .text.SD_PowerOFF:0000000000000000 SD_PowerOFF
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:550    .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:508    .text.HAL_SD_MspInit:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:544    .text.HAL_SD_MspDeInit:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:580    .text.HAL_SD_ReadBlocks:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:586    .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1105   .text.HAL_SD_ReadBlocks:000000000000031c $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1111   .text.HAL_SD_WriteBlocks:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1117   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1640   .text.HAL_SD_WriteBlocks:0000000000000324 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1646   .text.HAL_SD_ReadBlocks_IT:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1652   .text.HAL_SD_ReadBlocks_IT:0000000000000000 HAL_SD_ReadBlocks_IT
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1868   .text.HAL_SD_ReadBlocks_IT:0000000000000140 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1873   .text.HAL_SD_WriteBlocks_IT:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:1879   .text.HAL_SD_WriteBlocks_IT:0000000000000000 HAL_SD_WriteBlocks_IT
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2095   .text.HAL_SD_WriteBlocks_IT:0000000000000140 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2100   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2106   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2334   .text.HAL_SD_ReadBlocks_DMA:000000000000014c $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2339   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2345   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2573   .text.HAL_SD_WriteBlocks_DMA:000000000000014c $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2578   .text.HAL_SD_Erase:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2584   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2848   .text.HAL_SD_Erase:0000000000000194 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2853   .text.HAL_SD_IRQHandler:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:2859   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7428   .text.SD_Read_IT:0000000000000000 SD_Read_IT
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3558   .text.HAL_SD_ErrorCallback:0000000000000000 HAL_SD_ErrorCallback
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3522   .text.HAL_SD_RxCpltCallback:0000000000000000 HAL_SD_RxCpltCallback
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3486   .text.HAL_SD_TxCpltCallback:0000000000000000 HAL_SD_TxCpltCallback
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7564   .text.SD_Write_IT:0000000000000000 SD_Write_IT
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3330   .text.HAL_SD_IRQHandler:0000000000000304 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3333   .text.HAL_SD_IRQHandler:0000000000000308 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3401   .text.HAL_SD_GetState:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3407   .text.HAL_SD_GetState:0000000000000000 HAL_SD_GetState
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3441   .text.HAL_SD_GetError:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3447   .text.HAL_SD_GetError:0000000000000000 HAL_SD_GetError
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3480   .text.HAL_SD_TxCpltCallback:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3516   .text.HAL_SD_RxCpltCallback:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3552   .text.HAL_SD_ErrorCallback:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3588   .text.HAL_SD_AbortCallback:0000000000000000 $t
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 233


C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3594   .text.HAL_SD_AbortCallback:0000000000000000 HAL_SD_AbortCallback
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3624   .text.HAL_SD_GetCardCID:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3630   .text.HAL_SD_GetCardCID:0000000000000000 HAL_SD_GetCardCID
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3771   .text.HAL_SD_GetCardCSD:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:3777   .text.HAL_SD_GetCardCSD:0000000000000000 HAL_SD_GetCardCSD
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4350   .text.HAL_SD_GetCardCSD:0000000000000344 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4355   .text.HAL_SD_GetCardStatus:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6537   .text.SD_SendSDStatus:0000000000000000 SD_SendSDStatus
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4619   .text.HAL_SD_GetCardStatus:0000000000000168 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4624   .text.HAL_SD_GetCardInfo:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4630   .text.HAL_SD_GetCardInfo:0000000000000000 HAL_SD_GetCardInfo
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:4711   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6896   .text.SD_WideBus_Enable:0000000000000000 SD_WideBus_Enable
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7013   .text.SD_WideBus_Disable:0000000000000000 SD_WideBus_Disable
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5069   .text.HAL_SD_ConfigWideBusOperation:0000000000000218 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5077   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5083   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000000 HAL_SD_ConfigSpeedBusOperation
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5120   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000030 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5125   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000044 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7988   .text.SD_UltraHighSpeed:0000000000000000 SD_UltraHighSpeed
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7704   .text.SD_HighSpeed:0000000000000000 SD_HighSpeed
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:8283   .text.SD_DDR_Mode:0000000000000000 SD_DDR_Mode
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5600   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000304 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5605   .text.HAL_SD_GetCardState:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6821   .text.SD_SendStatus:0000000000000000 SD_SendStatus
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5667   .text.HAL_SD_Abort:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5673   .text.HAL_SD_Abort:0000000000000000 HAL_SD_Abort
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5762   .text.HAL_SD_Abort:0000000000000070 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5767   .text.HAL_SD_Abort_IT:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5773   .text.HAL_SD_Abort_IT:0000000000000000 HAL_SD_Abort_IT
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5861   .text.HAL_SD_Abort_IT:0000000000000070 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:5866   .text.SD_InitCard:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6125   .text.SD_PowerON:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6490   .text.SD_PowerON:0000000000000214 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6495   .text.SD_PowerOFF:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6532   .text.SD_SendSDStatus:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6811   .text.SD_SendSDStatus:000000000000019c $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6816   .text.SD_SendStatus:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:6891   .text.SD_WideBus_Enable:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7130   .text.SD_FindSCR:0000000000000000 SD_FindSCR
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7008   .text.SD_WideBus_Disable:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7125   .text.SD_FindSCR:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7418   .text.SD_FindSCR:000000000000019c $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7423   .text.SD_Read_IT:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7559   .text.SD_Write_IT:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7698   .text.SD_HighSpeed:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7977   .text.SD_HighSpeed:0000000000000198 $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:7983   .text.SD_UltraHighSpeed:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:8272   .text.SD_UltraHighSpeed:00000000000001ac $d
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:8278   .text.SD_DDR_Mode:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s:8567   .text.SD_DDR_Mode:00000000000001ac $d

UNDEFINED SYMBOLS
HAL_GetTick
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_Init
SDMMC_PowerState_ON
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\cciehgEG.s 			page 234


HAL_Delay
SDMMC_CmdBlockLength
HAL_SDEx_DriveTransceiver_1_8V_Callback
SDMMC_ConfigData
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_ReadFIFO
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
SDMMC_WriteFIFO
SDMMC_GetResponse
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
HAL_SDEx_Write_DMADoubleBuffer1CpltCallback
HAL_SDEx_Read_DMADoubleBuffer1CpltCallback
HAL_SDEx_Write_DMADoubleBuffer0CpltCallback
HAL_SDEx_Read_DMADoubleBuffer0CpltCallback
SDMMC_GetPowerState
SDMMC_CmdSendCID
SDMMC_CmdSetRelAdd
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDMMC_CmdVoltageSwitch
SDMMC_PowerState_OFF
SDMMC_CmdStatusRegister
SDMMC_CmdSendStatus
SDMMC_CmdBusWidth
SDMMC_CmdSendSCR
memset
SDMMC_CmdSwitch
