ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"diskio.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.bss.msg_buffer,"aw",%nobits
  20              		.align	2
  23              	msg_buffer:
  24 0000 00000000 		.space	30
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25              		.section	.bss.RxBuf,"aw",%nobits
  26              		.align	2
  29              	RxBuf:
  30 0000 00000000 		.space	20
  30      00000000 
  30      00000000 
  30      00000000 
  30      00000000 
  31              		.section	.text.disk_status,"ax",%progbits
  32              		.align	1
  33              		.global	disk_status
  34              		.syntax unified
  35              		.thumb
  36              		.thumb_func
  38              	disk_status:
  39              	.LFB321:
  40              		.file 1 "Middlewares/Third_Party/FatFs/src/diskio.c"
   1:Middlewares/Third_Party/FatFs/src/diskio.c **** /*-----------------------------------------------------------------------*/
   2:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Low level disk I/O module skeleton for FatFs     (C)ChaN, 2017        */
   3:Middlewares/Third_Party/FatFs/src/diskio.c **** /*                                                                       */
   4:Middlewares/Third_Party/FatFs/src/diskio.c **** /*   Portions COPYRIGHT 2017 STMicroelectronics                          */
   5:Middlewares/Third_Party/FatFs/src/diskio.c **** /*   Portions Copyright (C) 2017, ChaN, all right reserved               */
   6:Middlewares/Third_Party/FatFs/src/diskio.c **** /*-----------------------------------------------------------------------*/
   7:Middlewares/Third_Party/FatFs/src/diskio.c **** /* If a working storage control module is available, it should be        */
   8:Middlewares/Third_Party/FatFs/src/diskio.c **** /* attached to the FatFs via a glue function rather than modifying it.   */
   9:Middlewares/Third_Party/FatFs/src/diskio.c **** /* This is an example of glue functions to attach various existing      */
  10:Middlewares/Third_Party/FatFs/src/diskio.c **** /* storage control modules to the FatFs module with a defined API.       */
  11:Middlewares/Third_Party/FatFs/src/diskio.c **** /*-----------------------------------------------------------------------*/
  12:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  13:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Includes ------------------------------------------------------------------*/
  14:Middlewares/Third_Party/FatFs/src/diskio.c **** #include "diskio.h"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 2


  15:Middlewares/Third_Party/FatFs/src/diskio.c **** #include "ff_gen_drv.h"
  16:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  17:Middlewares/Third_Party/FatFs/src/diskio.c **** #if defined ( __GNUC__ )
  18:Middlewares/Third_Party/FatFs/src/diskio.c **** #ifndef __weak
  19:Middlewares/Third_Party/FatFs/src/diskio.c **** #define __weak __attribute__((weak))
  20:Middlewares/Third_Party/FatFs/src/diskio.c **** #endif
  21:Middlewares/Third_Party/FatFs/src/diskio.c **** #endif
  22:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  23:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Private typedef -----------------------------------------------------------*/
  24:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Private define ------------------------------------------------------------*/
  25:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Private variables ---------------------------------------------------------*/
  26:Middlewares/Third_Party/FatFs/src/diskio.c **** extern Disk_drvTypeDef  disk;
  27:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  28:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Private function prototypes -----------------------------------------------*/
  29:Middlewares/Third_Party/FatFs/src/diskio.c **** /* Private functions ---------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  31:Middlewares/Third_Party/FatFs/src/diskio.c **** /**
  32:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @brief  Gets Disk Status
  33:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  34:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @retval DSTATUS: Operation status
  35:Middlewares/Third_Party/FatFs/src/diskio.c ****   */
  36:Middlewares/Third_Party/FatFs/src/diskio.c **** DSTATUS disk_status (
  37:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE pdrv		/* Physical drive number to identify the drive */
  38:Middlewares/Third_Party/FatFs/src/diskio.c **** )
  39:Middlewares/Third_Party/FatFs/src/diskio.c **** {
  41              		.loc 1 39 1
  42              		.cfi_startproc
  43              		@ args = 0, pretend = 0, frame = 16
  44              		@ frame_needed = 1, uses_anonymous_args = 0
  45 0000 80B5     		push	{r7, lr}
  46              		.cfi_def_cfa_offset 8
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49 0002 84B0     		sub	sp, sp, #16
  50              		.cfi_def_cfa_offset 24
  51 0004 00AF     		add	r7, sp, #0
  52              		.cfi_def_cfa_register 7
  53 0006 0346     		mov	r3, r0
  54 0008 FB71     		strb	r3, [r7, #7]
  40:Middlewares/Third_Party/FatFs/src/diskio.c ****   DSTATUS stat;
  41:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  42:Middlewares/Third_Party/FatFs/src/diskio.c ****   stat = disk.drv[pdrv]->disk_status(disk.lun[pdrv]);
  55              		.loc 1 42 18
  56 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  57 000c 084A     		ldr	r2, .L3
  58 000e 9B00     		lsls	r3, r3, #2
  59 0010 1344     		add	r3, r3, r2
  60 0012 5B68     		ldr	r3, [r3, #4]
  61              		.loc 1 42 24
  62 0014 5B68     		ldr	r3, [r3, #4]
  63              		.loc 1 42 10
  64 0016 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
  65 0018 0549     		ldr	r1, .L3
  66 001a 0A44     		add	r2, r2, r1
  67 001c 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
  68 001e 1046     		mov	r0, r2
  69 0020 9847     		blx	r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 3


  70              	.LVL0:
  71 0022 0346     		mov	r3, r0
  72 0024 FB73     		strb	r3, [r7, #15]
  43:Middlewares/Third_Party/FatFs/src/diskio.c ****   return stat;
  73              		.loc 1 43 10
  74 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  44:Middlewares/Third_Party/FatFs/src/diskio.c **** }
  75              		.loc 1 44 1
  76 0028 1846     		mov	r0, r3
  77 002a 1037     		adds	r7, r7, #16
  78              		.cfi_def_cfa_offset 8
  79 002c BD46     		mov	sp, r7
  80              		.cfi_def_cfa_register 13
  81              		@ sp needed
  82 002e 80BD     		pop	{r7, pc}
  83              	.L4:
  84              		.align	2
  85              	.L3:
  86 0030 00000000 		.word	disk
  87              		.cfi_endproc
  88              	.LFE321:
  90              		.section	.text.disk_initialize,"ax",%progbits
  91              		.align	1
  92              		.global	disk_initialize
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  97              	disk_initialize:
  98              	.LFB322:
  45:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  46:Middlewares/Third_Party/FatFs/src/diskio.c **** /**
  47:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @brief  Initializes a Drive
  48:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  49:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @retval DSTATUS: Operation status
  50:Middlewares/Third_Party/FatFs/src/diskio.c ****   */
  51:Middlewares/Third_Party/FatFs/src/diskio.c **** DSTATUS disk_initialize (
  52:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE pdrv				/* Physical drive nmuber to identify the drive */
  53:Middlewares/Third_Party/FatFs/src/diskio.c **** )
  54:Middlewares/Third_Party/FatFs/src/diskio.c **** {
  99              		.loc 1 54 1
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 16
 102              		@ frame_needed = 1, uses_anonymous_args = 0
 103 0000 80B5     		push	{r7, lr}
 104              		.cfi_def_cfa_offset 8
 105              		.cfi_offset 7, -8
 106              		.cfi_offset 14, -4
 107 0002 84B0     		sub	sp, sp, #16
 108              		.cfi_def_cfa_offset 24
 109 0004 00AF     		add	r7, sp, #0
 110              		.cfi_def_cfa_register 7
 111 0006 0346     		mov	r3, r0
 112 0008 FB71     		strb	r3, [r7, #7]
  55:Middlewares/Third_Party/FatFs/src/diskio.c ****   DSTATUS stat = RES_OK;
 113              		.loc 1 55 11
 114 000a 0023     		movs	r3, #0
 115 000c FB73     		strb	r3, [r7, #15]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 4


  56:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  57:Middlewares/Third_Party/FatFs/src/diskio.c ****   if(disk.is_initialized[pdrv] == 0)
 116              		.loc 1 57 25
 117 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 118 0010 0D4A     		ldr	r2, .L8
 119 0012 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 120              		.loc 1 57 5
 121 0014 002B     		cmp	r3, #0
 122 0016 11D1     		bne	.L6
  58:Middlewares/Third_Party/FatFs/src/diskio.c ****   {
  59:Middlewares/Third_Party/FatFs/src/diskio.c ****     disk.is_initialized[pdrv] = 1;
 123              		.loc 1 59 24
 124 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 125              		.loc 1 59 31
 126 001a 0B4A     		ldr	r2, .L8
 127 001c 0121     		movs	r1, #1
 128 001e D154     		strb	r1, [r2, r3]
  60:Middlewares/Third_Party/FatFs/src/diskio.c ****     stat = disk.drv[pdrv]->disk_initialize(disk.lun[pdrv]);
 129              		.loc 1 60 20
 130 0020 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 131 0022 094A     		ldr	r2, .L8
 132 0024 9B00     		lsls	r3, r3, #2
 133 0026 1344     		add	r3, r3, r2
 134 0028 5B68     		ldr	r3, [r3, #4]
 135              		.loc 1 60 26
 136 002a 1B68     		ldr	r3, [r3]
 137              		.loc 1 60 12
 138 002c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 139 002e 0649     		ldr	r1, .L8
 140 0030 0A44     		add	r2, r2, r1
 141 0032 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 142 0034 1046     		mov	r0, r2
 143 0036 9847     		blx	r3
 144              	.LVL1:
 145 0038 0346     		mov	r3, r0
 146 003a FB73     		strb	r3, [r7, #15]
 147              	.L6:
  61:Middlewares/Third_Party/FatFs/src/diskio.c ****   }
  62:Middlewares/Third_Party/FatFs/src/diskio.c ****   return stat;
 148              		.loc 1 62 10
 149 003c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  63:Middlewares/Third_Party/FatFs/src/diskio.c **** }
 150              		.loc 1 63 1
 151 003e 1846     		mov	r0, r3
 152 0040 1037     		adds	r7, r7, #16
 153              		.cfi_def_cfa_offset 8
 154 0042 BD46     		mov	sp, r7
 155              		.cfi_def_cfa_register 13
 156              		@ sp needed
 157 0044 80BD     		pop	{r7, pc}
 158              	.L9:
 159 0046 00BF     		.align	2
 160              	.L8:
 161 0048 00000000 		.word	disk
 162              		.cfi_endproc
 163              	.LFE322:
 165              		.section	.text.disk_read,"ax",%progbits
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 5


 166              		.align	1
 167              		.global	disk_read
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 172              	disk_read:
 173              	.LFB323:
  64:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  65:Middlewares/Third_Party/FatFs/src/diskio.c **** /**
  66:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @brief  Reads Sector(s)
  67:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  68:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  *buff: Data buffer to store read data
  69:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  sector: Sector address (LBA)
  70:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  count: Number of sectors to read (1..128)
  71:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @retval DRESULT: Operation result
  72:Middlewares/Third_Party/FatFs/src/diskio.c ****   */
  73:Middlewares/Third_Party/FatFs/src/diskio.c **** DRESULT disk_read (
  74:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE pdrv,		/* Physical drive nmuber to identify the drive */
  75:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE *buff,		/* Data buffer to store read data */
  76:Middlewares/Third_Party/FatFs/src/diskio.c **** 	DWORD sector,	        /* Sector address in LBA */
  77:Middlewares/Third_Party/FatFs/src/diskio.c **** 	UINT count		/* Number of sectors to read */
  78:Middlewares/Third_Party/FatFs/src/diskio.c **** )
  79:Middlewares/Third_Party/FatFs/src/diskio.c **** {
 174              		.loc 1 79 1
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 24
 177              		@ frame_needed = 1, uses_anonymous_args = 0
 178 0000 90B5     		push	{r4, r7, lr}
 179              		.cfi_def_cfa_offset 12
 180              		.cfi_offset 4, -12
 181              		.cfi_offset 7, -8
 182              		.cfi_offset 14, -4
 183 0002 87B0     		sub	sp, sp, #28
 184              		.cfi_def_cfa_offset 40
 185 0004 00AF     		add	r7, sp, #0
 186              		.cfi_def_cfa_register 7
 187 0006 B960     		str	r1, [r7, #8]
 188 0008 7A60     		str	r2, [r7, #4]
 189 000a 3B60     		str	r3, [r7]
 190 000c 0346     		mov	r3, r0
 191 000e FB73     		strb	r3, [r7, #15]
  80:Middlewares/Third_Party/FatFs/src/diskio.c ****   DRESULT res;
  81:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  82:Middlewares/Third_Party/FatFs/src/diskio.c ****   res = disk.drv[pdrv]->disk_read(disk.lun[pdrv], buff, sector, count);
 192              		.loc 1 82 17
 193 0010 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 194 0012 0A4A     		ldr	r2, .L12
 195 0014 9B00     		lsls	r3, r3, #2
 196 0016 1344     		add	r3, r3, r2
 197 0018 5B68     		ldr	r3, [r3, #4]
 198              		.loc 1 82 23
 199 001a 9C68     		ldr	r4, [r3, #8]
 200              		.loc 1 82 9
 201 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 202 001e 074A     		ldr	r2, .L12
 203 0020 1344     		add	r3, r3, r2
 204 0022 187A     		ldrb	r0, [r3, #8]	@ zero_extendqisi2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 6


 205 0024 3B68     		ldr	r3, [r7]
 206 0026 7A68     		ldr	r2, [r7, #4]
 207 0028 B968     		ldr	r1, [r7, #8]
 208 002a A047     		blx	r4
 209              	.LVL2:
 210 002c 0346     		mov	r3, r0
 211 002e FB75     		strb	r3, [r7, #23]
  83:Middlewares/Third_Party/FatFs/src/diskio.c ****   return res;
 212              		.loc 1 83 10
 213 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  84:Middlewares/Third_Party/FatFs/src/diskio.c **** }
 214              		.loc 1 84 1
 215 0032 1846     		mov	r0, r3
 216 0034 1C37     		adds	r7, r7, #28
 217              		.cfi_def_cfa_offset 12
 218 0036 BD46     		mov	sp, r7
 219              		.cfi_def_cfa_register 13
 220              		@ sp needed
 221 0038 90BD     		pop	{r4, r7, pc}
 222              	.L13:
 223 003a 00BF     		.align	2
 224              	.L12:
 225 003c 00000000 		.word	disk
 226              		.cfi_endproc
 227              	.LFE323:
 229              		.section	.text.disk_write,"ax",%progbits
 230              		.align	1
 231              		.global	disk_write
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 236              	disk_write:
 237              	.LFB324:
  85:Middlewares/Third_Party/FatFs/src/diskio.c **** 
  86:Middlewares/Third_Party/FatFs/src/diskio.c **** /**
  87:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @brief  Writes Sector(s)
  88:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  89:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  *buff: Data to be written
  90:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  sector: Sector address (LBA)
  91:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  count: Number of sectors to write (1..128)
  92:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @retval DRESULT: Operation result
  93:Middlewares/Third_Party/FatFs/src/diskio.c ****   */
  94:Middlewares/Third_Party/FatFs/src/diskio.c **** #if _USE_WRITE == 1
  95:Middlewares/Third_Party/FatFs/src/diskio.c **** DRESULT disk_write (
  96:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE pdrv,		/* Physical drive nmuber to identify the drive */
  97:Middlewares/Third_Party/FatFs/src/diskio.c **** 	const BYTE *buff,	/* Data to be written */
  98:Middlewares/Third_Party/FatFs/src/diskio.c **** 	DWORD sector,		/* Sector address in LBA */
  99:Middlewares/Third_Party/FatFs/src/diskio.c **** 	UINT count        	/* Number of sectors to write */
 100:Middlewares/Third_Party/FatFs/src/diskio.c **** )
 101:Middlewares/Third_Party/FatFs/src/diskio.c **** {
 238              		.loc 1 101 1
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 24
 241              		@ frame_needed = 1, uses_anonymous_args = 0
 242 0000 90B5     		push	{r4, r7, lr}
 243              		.cfi_def_cfa_offset 12
 244              		.cfi_offset 4, -12
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 7


 245              		.cfi_offset 7, -8
 246              		.cfi_offset 14, -4
 247 0002 87B0     		sub	sp, sp, #28
 248              		.cfi_def_cfa_offset 40
 249 0004 00AF     		add	r7, sp, #0
 250              		.cfi_def_cfa_register 7
 251 0006 B960     		str	r1, [r7, #8]
 252 0008 7A60     		str	r2, [r7, #4]
 253 000a 3B60     		str	r3, [r7]
 254 000c 0346     		mov	r3, r0
 255 000e FB73     		strb	r3, [r7, #15]
 102:Middlewares/Third_Party/FatFs/src/diskio.c ****   DRESULT res;
 103:Middlewares/Third_Party/FatFs/src/diskio.c **** 
 104:Middlewares/Third_Party/FatFs/src/diskio.c ****   res = disk.drv[pdrv]->disk_write(disk.lun[pdrv], buff, sector, count);
 256              		.loc 1 104 17
 257 0010 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 258 0012 0A4A     		ldr	r2, .L16
 259 0014 9B00     		lsls	r3, r3, #2
 260 0016 1344     		add	r3, r3, r2
 261 0018 5B68     		ldr	r3, [r3, #4]
 262              		.loc 1 104 23
 263 001a DC68     		ldr	r4, [r3, #12]
 264              		.loc 1 104 9
 265 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 266 001e 074A     		ldr	r2, .L16
 267 0020 1344     		add	r3, r3, r2
 268 0022 187A     		ldrb	r0, [r3, #8]	@ zero_extendqisi2
 269 0024 3B68     		ldr	r3, [r7]
 270 0026 7A68     		ldr	r2, [r7, #4]
 271 0028 B968     		ldr	r1, [r7, #8]
 272 002a A047     		blx	r4
 273              	.LVL3:
 274 002c 0346     		mov	r3, r0
 275 002e FB75     		strb	r3, [r7, #23]
 105:Middlewares/Third_Party/FatFs/src/diskio.c ****   return res;
 276              		.loc 1 105 10
 277 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 106:Middlewares/Third_Party/FatFs/src/diskio.c **** }
 278              		.loc 1 106 1
 279 0032 1846     		mov	r0, r3
 280 0034 1C37     		adds	r7, r7, #28
 281              		.cfi_def_cfa_offset 12
 282 0036 BD46     		mov	sp, r7
 283              		.cfi_def_cfa_register 13
 284              		@ sp needed
 285 0038 90BD     		pop	{r4, r7, pc}
 286              	.L17:
 287 003a 00BF     		.align	2
 288              	.L16:
 289 003c 00000000 		.word	disk
 290              		.cfi_endproc
 291              	.LFE324:
 293              		.section	.text.disk_ioctl,"ax",%progbits
 294              		.align	1
 295              		.global	disk_ioctl
 296              		.syntax unified
 297              		.thumb
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 8


 298              		.thumb_func
 300              	disk_ioctl:
 301              	.LFB325:
 107:Middlewares/Third_Party/FatFs/src/diskio.c **** #endif /* _USE_WRITE == 1 */
 108:Middlewares/Third_Party/FatFs/src/diskio.c **** 
 109:Middlewares/Third_Party/FatFs/src/diskio.c **** /**
 110:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @brief  I/O control operation
 111:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
 112:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  cmd: Control code
 113:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  *buff: Buffer to send/receive control data
 114:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @retval DRESULT: Operation result
 115:Middlewares/Third_Party/FatFs/src/diskio.c ****   */
 116:Middlewares/Third_Party/FatFs/src/diskio.c **** #if _USE_IOCTL == 1
 117:Middlewares/Third_Party/FatFs/src/diskio.c **** DRESULT disk_ioctl (
 118:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE pdrv,		/* Physical drive nmuber (0..) */
 119:Middlewares/Third_Party/FatFs/src/diskio.c **** 	BYTE cmd,		/* Control code */
 120:Middlewares/Third_Party/FatFs/src/diskio.c **** 	void *buff		/* Buffer to send/receive control data */
 121:Middlewares/Third_Party/FatFs/src/diskio.c **** )
 122:Middlewares/Third_Party/FatFs/src/diskio.c **** {
 302              		.loc 1 122 1
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 16
 305              		@ frame_needed = 1, uses_anonymous_args = 0
 306 0000 80B5     		push	{r7, lr}
 307              		.cfi_def_cfa_offset 8
 308              		.cfi_offset 7, -8
 309              		.cfi_offset 14, -4
 310 0002 84B0     		sub	sp, sp, #16
 311              		.cfi_def_cfa_offset 24
 312 0004 00AF     		add	r7, sp, #0
 313              		.cfi_def_cfa_register 7
 314 0006 0346     		mov	r3, r0
 315 0008 3A60     		str	r2, [r7]
 316 000a FB71     		strb	r3, [r7, #7]
 317 000c 0B46     		mov	r3, r1
 318 000e BB71     		strb	r3, [r7, #6]
 123:Middlewares/Third_Party/FatFs/src/diskio.c ****   DRESULT res;
 124:Middlewares/Third_Party/FatFs/src/diskio.c **** 
 125:Middlewares/Third_Party/FatFs/src/diskio.c ****   res = disk.drv[pdrv]->disk_ioctl(disk.lun[pdrv], cmd, buff);
 319              		.loc 1 125 17
 320 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 321 0012 094A     		ldr	r2, .L20
 322 0014 9B00     		lsls	r3, r3, #2
 323 0016 1344     		add	r3, r3, r2
 324 0018 5B68     		ldr	r3, [r3, #4]
 325              		.loc 1 125 23
 326 001a 1B69     		ldr	r3, [r3, #16]
 327              		.loc 1 125 9
 328 001c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 329 001e 0649     		ldr	r1, .L20
 330 0020 0A44     		add	r2, r2, r1
 331 0022 107A     		ldrb	r0, [r2, #8]	@ zero_extendqisi2
 332 0024 B979     		ldrb	r1, [r7, #6]	@ zero_extendqisi2
 333 0026 3A68     		ldr	r2, [r7]
 334 0028 9847     		blx	r3
 335              	.LVL4:
 336 002a 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 9


 337 002c FB73     		strb	r3, [r7, #15]
 126:Middlewares/Third_Party/FatFs/src/diskio.c ****   return res;
 338              		.loc 1 126 10
 339 002e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 127:Middlewares/Third_Party/FatFs/src/diskio.c **** }
 340              		.loc 1 127 1
 341 0030 1846     		mov	r0, r3
 342 0032 1037     		adds	r7, r7, #16
 343              		.cfi_def_cfa_offset 8
 344 0034 BD46     		mov	sp, r7
 345              		.cfi_def_cfa_register 13
 346              		@ sp needed
 347 0036 80BD     		pop	{r7, pc}
 348              	.L21:
 349              		.align	2
 350              	.L20:
 351 0038 00000000 		.word	disk
 352              		.cfi_endproc
 353              	.LFE325:
 355              		.section	.text.get_fattime,"ax",%progbits
 356              		.align	1
 357              		.weak	get_fattime
 358              		.syntax unified
 359              		.thumb
 360              		.thumb_func
 362              	get_fattime:
 363              	.LFB326:
 128:Middlewares/Third_Party/FatFs/src/diskio.c **** #endif /* _USE_IOCTL == 1 */
 129:Middlewares/Third_Party/FatFs/src/diskio.c **** 
 130:Middlewares/Third_Party/FatFs/src/diskio.c **** /**
 131:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @brief  Gets Time from RTC
 132:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @param  None
 133:Middlewares/Third_Party/FatFs/src/diskio.c ****   * @retval Time in DWORD
 134:Middlewares/Third_Party/FatFs/src/diskio.c ****   */
 135:Middlewares/Third_Party/FatFs/src/diskio.c **** __weak DWORD get_fattime (void)
 136:Middlewares/Third_Party/FatFs/src/diskio.c **** {
 364              		.loc 1 136 1
 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 0
 367              		@ frame_needed = 1, uses_anonymous_args = 0
 368              		@ link register save eliminated.
 369 0000 80B4     		push	{r7}
 370              		.cfi_def_cfa_offset 4
 371              		.cfi_offset 7, -4
 372 0002 00AF     		add	r7, sp, #0
 373              		.cfi_def_cfa_register 7
 137:Middlewares/Third_Party/FatFs/src/diskio.c ****   return 0;
 374              		.loc 1 137 10
 375 0004 0023     		movs	r3, #0
 138:Middlewares/Third_Party/FatFs/src/diskio.c **** }
 376              		.loc 1 138 1
 377 0006 1846     		mov	r0, r3
 378 0008 BD46     		mov	sp, r7
 379              		.cfi_def_cfa_register 13
 380              		@ sp needed
 381 000a 5DF8047B 		ldr	r7, [sp], #4
 382              		.cfi_restore 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 10


 383              		.cfi_def_cfa_offset 0
 384 000e 7047     		bx	lr
 385              		.cfi_endproc
 386              	.LFE326:
 388              		.text
 389              	.Letext0:
 390              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 391              		.file 3 "Middlewares/Third_Party/FatFs/src/diskio.h"
 392              		.file 4 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 393              		.file 5 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 394              		.file 6 "Core/Inc/main.h"
 395              		.file 7 "Middlewares/Third_Party/FatFs/src/ff_gen_drv.h"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 diskio.c
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:20     .bss.msg_buffer:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:23     .bss.msg_buffer:0000000000000000 msg_buffer
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:26     .bss.RxBuf:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:29     .bss.RxBuf:0000000000000000 RxBuf
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:32     .text.disk_status:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:38     .text.disk_status:0000000000000000 disk_status
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:86     .text.disk_status:0000000000000030 $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:91     .text.disk_initialize:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:97     .text.disk_initialize:0000000000000000 disk_initialize
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:161    .text.disk_initialize:0000000000000048 $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:166    .text.disk_read:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:172    .text.disk_read:0000000000000000 disk_read
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:225    .text.disk_read:000000000000003c $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:230    .text.disk_write:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:236    .text.disk_write:0000000000000000 disk_write
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:289    .text.disk_write:000000000000003c $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:294    .text.disk_ioctl:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:300    .text.disk_ioctl:0000000000000000 disk_ioctl
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:351    .text.disk_ioctl:0000000000000038 $d
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:356    .text.get_fattime:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccVSIkR9.s:362    .text.get_fattime:0000000000000000 get_fattime

UNDEFINED SYMBOLS
disk
