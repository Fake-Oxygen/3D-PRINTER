ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Functions.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.bss.msg_buffer,"aw",%nobits
  20              		.align	2
  23              	msg_buffer:
  24 0000 00000000 		.space	30
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25              		.section	.bss.RxBuf,"aw",%nobits
  26              		.align	2
  29              	RxBuf:
  30 0000 00000000 		.space	20
  30      00000000 
  30      00000000 
  30      00000000 
  30      00000000 
  31              		.section	.text.SelectDriver,"ax",%progbits
  32              		.align	1
  33              		.global	SelectDriver
  34              		.syntax unified
  35              		.thumb
  36              		.thumb_func
  38              	SelectDriver:
  39              	.LFB321:
  40              		.file 1 "Core/Src/Functions.c"
   1:Core/Src/Functions.c **** #include "Functions.h"
   2:Core/Src/Functions.c **** 
   3:Core/Src/Functions.c **** void SelectDriver(uint16_t axis)
   4:Core/Src/Functions.c **** {
  41              		.loc 1 4 1
  42              		.cfi_startproc
  43              		@ args = 0, pretend = 0, frame = 8
  44              		@ frame_needed = 1, uses_anonymous_args = 0
  45 0000 80B5     		push	{r7, lr}
  46              		.cfi_def_cfa_offset 8
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49 0002 82B0     		sub	sp, sp, #8
  50              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 2


  51 0004 00AF     		add	r7, sp, #0
  52              		.cfi_def_cfa_register 7
  53 0006 0346     		mov	r3, r0
  54 0008 FB80     		strh	r3, [r7, #6]	@ movhi
   5:Core/Src/Functions.c ****     switch (axis)
  55              		.loc 1 5 5
  56 000a FB88     		ldrh	r3, [r7, #6]
  57 000c 032B     		cmp	r3, #3
  58 000e 37D8     		bhi	.L8
  59 0010 01A2     		adr	r2, .L4
  60 0012 52F823F0 		ldr	pc, [r2, r3, lsl #2]
  61 0016 00BF     		.p2align 2
  62              	.L4:
  63 0018 29000000 		.word	.L7+1
  64 001c 3F000000 		.word	.L6+1
  65 0020 55000000 		.word	.L5+1
  66 0024 6B000000 		.word	.L3+1
  67              		.p2align 1
  68              	.L7:
   6:Core/Src/Functions.c ****     {
   7:Core/Src/Functions.c ****     case X_AXIS:
   8:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 0);
  69              		.loc 1 8 9
  70 0028 0022     		movs	r2, #0
  71 002a 4021     		movs	r1, #64
  72 002c 1648     		ldr	r0, .L10
  73 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
   9:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 0);
  74              		.loc 1 9 9
  75 0032 0022     		movs	r2, #0
  76 0034 8021     		movs	r1, #128
  77 0036 1448     		ldr	r0, .L10
  78 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
  10:Core/Src/Functions.c ****         break;
  79              		.loc 1 10 9
  80 003c 20E0     		b	.L2
  81              	.L6:
  11:Core/Src/Functions.c ****     case Y_AXIS:
  12:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 1);
  82              		.loc 1 12 9
  83 003e 0122     		movs	r2, #1
  84 0040 4021     		movs	r1, #64
  85 0042 1148     		ldr	r0, .L10
  86 0044 FFF7FEFF 		bl	HAL_GPIO_WritePin
  13:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 0);
  87              		.loc 1 13 9
  88 0048 0022     		movs	r2, #0
  89 004a 8021     		movs	r1, #128
  90 004c 0E48     		ldr	r0, .L10
  91 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
  14:Core/Src/Functions.c ****         break;
  92              		.loc 1 14 9
  93 0052 15E0     		b	.L2
  94              	.L5:
  15:Core/Src/Functions.c ****     case E_AXIS:
  16:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 0);
  95              		.loc 1 16 9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 3


  96 0054 0022     		movs	r2, #0
  97 0056 4021     		movs	r1, #64
  98 0058 0B48     		ldr	r0, .L10
  99 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
  17:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 1);
 100              		.loc 1 17 9
 101 005e 0122     		movs	r2, #1
 102 0060 8021     		movs	r1, #128
 103 0062 0948     		ldr	r0, .L10
 104 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
  18:Core/Src/Functions.c ****         break;
 105              		.loc 1 18 9
 106 0068 0AE0     		b	.L2
 107              	.L3:
  19:Core/Src/Functions.c ****     case Z_AXIS:
  20:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 1);
 108              		.loc 1 20 9
 109 006a 0122     		movs	r2, #1
 110 006c 4021     		movs	r1, #64
 111 006e 0648     		ldr	r0, .L10
 112 0070 FFF7FEFF 		bl	HAL_GPIO_WritePin
  21:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 1);
 113              		.loc 1 21 9
 114 0074 0122     		movs	r2, #1
 115 0076 8021     		movs	r1, #128
 116 0078 0348     		ldr	r0, .L10
 117 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
  22:Core/Src/Functions.c ****         break;
 118              		.loc 1 22 9
 119 007e 00BF     		nop
 120              	.L2:
 121              	.L8:
  23:Core/Src/Functions.c ****     }
  24:Core/Src/Functions.c **** }
 122              		.loc 1 24 1
 123 0080 00BF     		nop
 124 0082 0837     		adds	r7, r7, #8
 125              		.cfi_def_cfa_offset 8
 126 0084 BD46     		mov	sp, r7
 127              		.cfi_def_cfa_register 13
 128              		@ sp needed
 129 0086 80BD     		pop	{r7, pc}
 130              	.L11:
 131              		.align	2
 132              	.L10:
 133 0088 00140048 		.word	1207964672
 134              		.cfi_endproc
 135              	.LFE321:
 137              		.global	__aeabi_i2d
 138              		.global	__aeabi_dmul
 139              		.global	__aeabi_dsub
 140              		.global	__aeabi_ddiv
 141              		.global	__aeabi_dadd
 142              		.section	.text.GetTemperature,"ax",%progbits
 143              		.align	1
 144              		.global	GetTemperature
 145              		.syntax unified
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 4


 146              		.thumb
 147              		.thumb_func
 149              	GetTemperature:
 150              	.LFB322:
  25:Core/Src/Functions.c **** 
  26:Core/Src/Functions.c **** double GetTemperature(uint16_t adc, uint16_t value)
  27:Core/Src/Functions.c **** {
 151              		.loc 1 27 1
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 24
 154              		@ frame_needed = 1, uses_anonymous_args = 0
 155 0000 B0B5     		push	{r4, r5, r7, lr}
 156              		.cfi_def_cfa_offset 16
 157              		.cfi_offset 4, -16
 158              		.cfi_offset 5, -12
 159              		.cfi_offset 7, -8
 160              		.cfi_offset 14, -4
 161 0002 86B0     		sub	sp, sp, #24
 162              		.cfi_def_cfa_offset 40
 163 0004 00AF     		add	r7, sp, #0
 164              		.cfi_def_cfa_register 7
 165 0006 0346     		mov	r3, r0
 166 0008 0A46     		mov	r2, r1
 167 000a FB80     		strh	r3, [r7, #6]	@ movhi
 168 000c 1346     		mov	r3, r2	@ movhi
 169 000e BB80     		strh	r3, [r7, #4]	@ movhi
  28:Core/Src/Functions.c ****     double resistance, val;
  29:Core/Src/Functions.c ****     switch (adc)
 170              		.loc 1 29 5
 171 0010 FB88     		ldrh	r3, [r7, #6]
 172 0012 012B     		cmp	r3, #1
 173 0014 02D0     		beq	.L13
 174 0016 022B     		cmp	r3, #2
 175 0018 6FD0     		beq	.L14
 176 001a 93E0     		b	.L17
 177              	.L13:
  30:Core/Src/Functions.c ****     {
  31:Core/Src/Functions.c ****     case ADC_HOT_END:
  32:Core/Src/Functions.c ****         val = (ADC_VOLTAGE / ADC_SAMPLING) * value;
 178              		.loc 1 32 44
 179 001c BB88     		ldrh	r3, [r7, #4]
 180 001e 1846     		mov	r0, r3
 181 0020 FFF7FEFF 		bl	__aeabi_i2d
 182              		.loc 1 32 13
 183 0024 50A3     		adr	r3, .L18+16
 184 0026 D3E90023 		ldrd	r2, [r3]
 185 002a FFF7FEFF 		bl	__aeabi_dmul
 186 002e 0246     		mov	r2, r0
 187 0030 0B46     		mov	r3, r1
 188 0032 C7E90423 		strd	r2, [r7, #16]
  33:Core/Src/Functions.c ****         resistance = val / ((ADC_VOLTAGE - val) / HOT_END_RESISTANCE);
 189              		.loc 1 33 42
 190 0036 D7E90423 		ldrd	r2, [r7, #16]
 191 003a 53A1     		adr	r1, .L18+48
 192 003c D1E90001 		ldrd	r0, [r1]
 193 0040 FFF7FEFF 		bl	__aeabi_dsub
 194 0044 0246     		mov	r2, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 5


 195 0046 0B46     		mov	r3, r1
 196 0048 1046     		mov	r0, r2
 197 004a 1946     		mov	r1, r3
 198              		.loc 1 33 49
 199 004c 50A3     		adr	r3, .L18+56
 200 004e D3E90023 		ldrd	r2, [r3]
 201 0052 FFF7FEFF 		bl	__aeabi_ddiv
 202 0056 0246     		mov	r2, r0
 203 0058 0B46     		mov	r3, r1
 204              		.loc 1 33 20
 205 005a D7E90401 		ldrd	r0, [r7, #16]
 206 005e FFF7FEFF 		bl	__aeabi_ddiv
 207 0062 0246     		mov	r2, r0
 208 0064 0B46     		mov	r3, r1
 209 0066 C7E90223 		strd	r2, [r7, #8]
  34:Core/Src/Functions.c ****         return 1 / (HOT_END_THERM_A + HOT_END_THERM_B * log(resistance) + HOT_END_THERM_C * pow(log
 210              		.loc 1 34 57
 211 006a 97ED020B 		vldr.64	d0, [r7, #8]
 212 006e FFF7FEFF 		bl	log
 213 0072 51EC100B 		vmov	r0, r1, d0
 214              		.loc 1 34 55
 215 0076 48A3     		adr	r3, .L18+64
 216 0078 D3E90023 		ldrd	r2, [r3]
 217 007c FFF7FEFF 		bl	__aeabi_dmul
 218 0080 0246     		mov	r2, r0
 219 0082 0B46     		mov	r3, r1
 220 0084 1046     		mov	r0, r2
 221 0086 1946     		mov	r1, r3
 222              		.loc 1 34 37
 223 0088 45A3     		adr	r3, .L18+72
 224 008a D3E90023 		ldrd	r2, [r3]
 225 008e FFF7FEFF 		bl	__aeabi_dadd
 226 0092 0246     		mov	r2, r0
 227 0094 0B46     		mov	r3, r1
 228 0096 1446     		mov	r4, r2
 229 0098 1D46     		mov	r5, r3
 230              		.loc 1 34 93
 231 009a 97ED020B 		vldr.64	d0, [r7, #8]
 232 009e FFF7FEFF 		bl	log
 233 00a2 B0EE407A 		vmov.f32	s14, s0
 234 00a6 F0EE607A 		vmov.f32	s15, s1
 235 00aa 9FED2B1B 		vldr.64	d1, .L18
 236 00ae B0EE470A 		vmov.f32	s0, s14
 237 00b2 F0EE670A 		vmov.f32	s1, s15
 238 00b6 FFF7FEFF 		bl	pow
 239 00ba 51EC100B 		vmov	r0, r1, d0
 240              		.loc 1 34 91
 241 00be 3AA3     		adr	r3, .L18+80
 242 00c0 D3E90023 		ldrd	r2, [r3]
 243 00c4 FFF7FEFF 		bl	__aeabi_dmul
 244 00c8 0246     		mov	r2, r0
 245 00ca 0B46     		mov	r3, r1
 246              		.loc 1 34 73
 247 00cc 2046     		mov	r0, r4
 248 00ce 2946     		mov	r1, r5
 249 00d0 FFF7FEFF 		bl	__aeabi_dadd
 250 00d4 0246     		mov	r2, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 6


 251 00d6 0B46     		mov	r3, r1
 252              		.loc 1 34 18
 253 00d8 4FF00000 		mov	r0, #0
 254 00dc 2849     		ldr	r1, .L18+40
 255 00de FFF7FEFF 		bl	__aeabi_ddiv
 256 00e2 0246     		mov	r2, r0
 257 00e4 0B46     		mov	r3, r1
 258 00e6 1046     		mov	r0, r2
 259 00e8 1946     		mov	r1, r3
 260              		.loc 1 34 118
 261 00ea 1DA3     		adr	r3, .L18+8
 262 00ec D3E90023 		ldrd	r2, [r3]
 263 00f0 FFF7FEFF 		bl	__aeabi_dsub
 264 00f4 0246     		mov	r2, r0
 265 00f6 0B46     		mov	r3, r1
 266 00f8 25E0     		b	.L16
 267              	.L14:
  35:Core/Src/Functions.c ****         break;
  36:Core/Src/Functions.c ****     case ADC_STM_TEMP:
  37:Core/Src/Functions.c ****         return ((V30 - (ADC_VOLTAGE / ADC_SAMPLING * value)) / AVG_SLOPE + 30);
 268              		.loc 1 37 52
 269 00fa BB88     		ldrh	r3, [r7, #4]
 270 00fc 1846     		mov	r0, r3
 271 00fe FFF7FEFF 		bl	__aeabi_i2d
 272 0102 19A3     		adr	r3, .L18+16
 273 0104 D3E90023 		ldrd	r2, [r3]
 274 0108 FFF7FEFF 		bl	__aeabi_dmul
 275 010c 0246     		mov	r2, r0
 276 010e 0B46     		mov	r3, r1
 277              		.loc 1 37 22
 278 0110 17A1     		adr	r1, .L18+24
 279 0112 D1E90001 		ldrd	r0, [r1]
 280 0116 FFF7FEFF 		bl	__aeabi_dsub
 281 011a 0246     		mov	r2, r0
 282 011c 0B46     		mov	r3, r1
 283 011e 1046     		mov	r0, r2
 284 0120 1946     		mov	r1, r3
 285              		.loc 1 37 62
 286 0122 15A3     		adr	r3, .L18+32
 287 0124 D3E90023 		ldrd	r2, [r3]
 288 0128 FFF7FEFF 		bl	__aeabi_ddiv
 289 012c 0246     		mov	r2, r0
 290 012e 0B46     		mov	r3, r1
 291 0130 1046     		mov	r0, r2
 292 0132 1946     		mov	r1, r3
 293              		.loc 1 37 74
 294 0134 4FF00002 		mov	r2, #0
 295 0138 124B     		ldr	r3, .L18+44
 296 013a FFF7FEFF 		bl	__aeabi_dadd
 297 013e 0246     		mov	r2, r0
 298 0140 0B46     		mov	r3, r1
 299 0142 00E0     		b	.L16
 300              	.L17:
  38:Core/Src/Functions.c ****         break;
  39:Core/Src/Functions.c ****     }
  40:Core/Src/Functions.c **** }
 301              		.loc 1 40 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 7


 302 0144 01E0     		b	.L12
 303              	.L16:
 304 0146 43EC172B 		vmov	d7, r2, r3
 305              	.L12:
 306 014a B0EE470A 		vmov.f32	s0, s14
 307 014e F0EE670A 		vmov.f32	s1, s15
 308 0152 1837     		adds	r7, r7, #24
 309              		.cfi_def_cfa_offset 16
 310 0154 BD46     		mov	sp, r7
 311              		.cfi_def_cfa_register 13
 312              		@ sp needed
 313 0156 B0BD     		pop	{r4, r5, r7, pc}
 314              	.L19:
 315              		.align	3
 316              	.L18:
 317 0158 00000000 		.word	0
 318 015c 00000840 		.word	1074266112
 319 0160 66666666 		.word	1717986918
 320 0164 66127140 		.word	1081152102
 321 0168 66666666 		.word	1717986918
 322 016c 66660A3F 		.word	1057646182
 323 0170 52B81E85 		.word	-2061584302
 324 0174 EB51E83F 		.word	1072189931
 325 0178 7B14AE47 		.word	1202590843
 326 017c E17A643F 		.word	1063549665
 327 0180 0000F03F 		.word	1072693248
 328 0184 00003E40 		.word	1077805056
 329 0188 66666666 		.word	1717986918
 330 018c 66660A40 		.word	1074423398
 331 0190 00000000 		.word	0
 332 0194 0088C340 		.word	1086556160
 333 0198 0395F1EF 		.word	-269380349
 334 019c 332E2C3F 		.word	1059860019
 335 01a0 D7F7E120 		.word	551679959
 336 01a4 21CA473F 		.word	1061669409
 337 01a8 B905B0A0 		.word	-1599076935
 338 01ac E7517C3E 		.word	1048334823
 339              		.cfi_endproc
 340              	.LFE322:
 342              		.section	.text.SetHeating,"ax",%progbits
 343              		.align	1
 344              		.global	SetHeating
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 349              	SetHeating:
 350              	.LFB323:
  41:Core/Src/Functions.c **** 
  42:Core/Src/Functions.c **** void SetHeating(uint16_t heater, uint16_t power)
  43:Core/Src/Functions.c **** {
 351              		.loc 1 43 1
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 8
 354              		@ frame_needed = 1, uses_anonymous_args = 0
 355              		@ link register save eliminated.
 356 0000 80B4     		push	{r7}
 357              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 8


 358              		.cfi_offset 7, -4
 359 0002 83B0     		sub	sp, sp, #12
 360              		.cfi_def_cfa_offset 16
 361 0004 00AF     		add	r7, sp, #0
 362              		.cfi_def_cfa_register 7
 363 0006 0346     		mov	r3, r0
 364 0008 0A46     		mov	r2, r1
 365 000a FB80     		strh	r3, [r7, #6]	@ movhi
 366 000c 1346     		mov	r3, r2	@ movhi
 367 000e BB80     		strh	r3, [r7, #4]	@ movhi
  44:Core/Src/Functions.c ****     switch (heater)
 368              		.loc 1 44 5
 369 0010 FB88     		ldrh	r3, [r7, #6]
 370 0012 002B     		cmp	r3, #0
 371 0014 03D1     		bne	.L22
  45:Core/Src/Functions.c ****     {
  46:Core/Src/Functions.c ****     case HOT_END:
  47:Core/Src/Functions.c ****         TIM3->CCR2 = power;
 372              		.loc 1 47 13
 373 0016 054A     		ldr	r2, .L23
 374              		.loc 1 47 20
 375 0018 BB88     		ldrh	r3, [r7, #4]
 376 001a 9363     		str	r3, [r2, #56]
  48:Core/Src/Functions.c ****         break;
 377              		.loc 1 48 9
 378 001c 00BF     		nop
 379              	.L22:
  49:Core/Src/Functions.c ****     }
  50:Core/Src/Functions.c **** }
 380              		.loc 1 50 1
 381 001e 00BF     		nop
 382 0020 0C37     		adds	r7, r7, #12
 383              		.cfi_def_cfa_offset 4
 384 0022 BD46     		mov	sp, r7
 385              		.cfi_def_cfa_register 13
 386              		@ sp needed
 387 0024 5DF8047B 		ldr	r7, [sp], #4
 388              		.cfi_restore 7
 389              		.cfi_def_cfa_offset 0
 390 0028 7047     		bx	lr
 391              	.L24:
 392 002a 00BF     		.align	2
 393              	.L23:
 394 002c 00040040 		.word	1073742848
 395              		.cfi_endproc
 396              	.LFE323:
 398              		.section	.text.SetFanSpeed,"ax",%progbits
 399              		.align	1
 400              		.global	SetFanSpeed
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 405              	SetFanSpeed:
 406              	.LFB324:
  51:Core/Src/Functions.c **** 
  52:Core/Src/Functions.c **** void SetFanSpeed(uint16_t fan, uint16_t speed)
  53:Core/Src/Functions.c **** {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 9


 407              		.loc 1 53 1
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 8
 410              		@ frame_needed = 1, uses_anonymous_args = 0
 411              		@ link register save eliminated.
 412 0000 80B4     		push	{r7}
 413              		.cfi_def_cfa_offset 4
 414              		.cfi_offset 7, -4
 415 0002 83B0     		sub	sp, sp, #12
 416              		.cfi_def_cfa_offset 16
 417 0004 00AF     		add	r7, sp, #0
 418              		.cfi_def_cfa_register 7
 419 0006 0346     		mov	r3, r0
 420 0008 0A46     		mov	r2, r1
 421 000a FB80     		strh	r3, [r7, #6]	@ movhi
 422 000c 1346     		mov	r3, r2	@ movhi
 423 000e BB80     		strh	r3, [r7, #4]	@ movhi
  54:Core/Src/Functions.c ****     switch (fan)
 424              		.loc 1 54 5
 425 0010 FB88     		ldrh	r3, [r7, #6]
 426 0012 002B     		cmp	r3, #0
 427 0014 03D1     		bne	.L27
  55:Core/Src/Functions.c ****     {
  56:Core/Src/Functions.c ****     case HOT_END_FAN:
  57:Core/Src/Functions.c ****         TIM3->CCR3 = speed;
 428              		.loc 1 57 13
 429 0016 054A     		ldr	r2, .L28
 430              		.loc 1 57 20
 431 0018 BB88     		ldrh	r3, [r7, #4]
 432 001a D363     		str	r3, [r2, #60]
  58:Core/Src/Functions.c ****         break;
 433              		.loc 1 58 9
 434 001c 00BF     		nop
 435              	.L27:
  59:Core/Src/Functions.c ****     }
  60:Core/Src/Functions.c **** }
 436              		.loc 1 60 1
 437 001e 00BF     		nop
 438 0020 0C37     		adds	r7, r7, #12
 439              		.cfi_def_cfa_offset 4
 440 0022 BD46     		mov	sp, r7
 441              		.cfi_def_cfa_register 13
 442              		@ sp needed
 443 0024 5DF8047B 		ldr	r7, [sp], #4
 444              		.cfi_restore 7
 445              		.cfi_def_cfa_offset 0
 446 0028 7047     		bx	lr
 447              	.L29:
 448 002a 00BF     		.align	2
 449              	.L28:
 450 002c 00040040 		.word	1073742848
 451              		.cfi_endproc
 452              	.LFE324:
 454              		.global	__aeabi_dcmpgt
 455              		.global	__aeabi_d2uiz
 456              		.global	__aeabi_dcmplt
 457              		.global	__aeabi_ui2d
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 10


 458              		.section	.text.MoveXY,"ax",%progbits
 459              		.align	1
 460              		.global	MoveXY
 461              		.syntax unified
 462              		.thumb
 463              		.thumb_func
 465              	MoveXY:
 466              	.LFB325:
  61:Core/Src/Functions.c **** 
  62:Core/Src/Functions.c **** void MoveXY(double dir_x, double dir_y) {
 467              		.loc 1 62 41
 468              		.cfi_startproc
 469              		@ args = 0, pretend = 0, frame = 72
 470              		@ frame_needed = 1, uses_anonymous_args = 0
 471 0000 2DE9B043 		push	{r4, r5, r7, r8, r9, lr}
 472              		.cfi_def_cfa_offset 24
 473              		.cfi_offset 4, -24
 474              		.cfi_offset 5, -20
 475              		.cfi_offset 7, -16
 476              		.cfi_offset 8, -12
 477              		.cfi_offset 9, -8
 478              		.cfi_offset 14, -4
 479 0004 92B0     		sub	sp, sp, #72
 480              		.cfi_def_cfa_offset 96
 481 0006 00AF     		add	r7, sp, #0
 482              		.cfi_def_cfa_register 7
 483 0008 87ED040B 		vstr.64	d0, [r7, #16]
 484 000c 87ED021B 		vstr.64	d1, [r7, #8]
  63:Core/Src/Functions.c ****     double engine_dir_B = dir_x * SQRT_2_BY_2 - dir_y * SQRT_2_BY_2; // engine B (image Y)
 485              		.loc 1 63 33
 486 0010 B4A3     		adr	r3, .L67+60
 487 0012 D3E90023 		ldrd	r2, [r3]
 488 0016 D7E90401 		ldrd	r0, [r7, #16]
 489 001a FFF7FEFF 		bl	__aeabi_dmul
 490 001e 0246     		mov	r2, r0
 491 0020 0B46     		mov	r3, r1
 492 0022 9046     		mov	r8, r2
 493 0024 9946     		mov	r9, r3
 494              		.loc 1 63 55
 495 0026 AFA3     		adr	r3, .L67+60
 496 0028 D3E90023 		ldrd	r2, [r3]
 497 002c D7E90201 		ldrd	r0, [r7, #8]
 498 0030 FFF7FEFF 		bl	__aeabi_dmul
 499 0034 0246     		mov	r2, r0
 500 0036 0B46     		mov	r3, r1
 501              		.loc 1 63 12
 502 0038 4046     		mov	r0, r8
 503 003a 4946     		mov	r1, r9
 504 003c FFF7FEFF 		bl	__aeabi_dsub
 505 0040 0246     		mov	r2, r0
 506 0042 0B46     		mov	r3, r1
 507 0044 C7E91023 		strd	r2, [r7, #64]
  64:Core/Src/Functions.c ****     double engine_dir_A = dir_x * SQRT_2_BY_2 + dir_y * SQRT_2_BY_2; // engine A (image X)
 508              		.loc 1 64 33
 509 0048 A6A3     		adr	r3, .L67+60
 510 004a D3E90023 		ldrd	r2, [r3]
 511 004e D7E90401 		ldrd	r0, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 11


 512 0052 FFF7FEFF 		bl	__aeabi_dmul
 513 0056 0246     		mov	r2, r0
 514 0058 0B46     		mov	r3, r1
 515 005a 9046     		mov	r8, r2
 516 005c 9946     		mov	r9, r3
 517              		.loc 1 64 55
 518 005e A1A3     		adr	r3, .L67+60
 519 0060 D3E90023 		ldrd	r2, [r3]
 520 0064 D7E90201 		ldrd	r0, [r7, #8]
 521 0068 FFF7FEFF 		bl	__aeabi_dmul
 522 006c 0246     		mov	r2, r0
 523 006e 0B46     		mov	r3, r1
 524              		.loc 1 64 12
 525 0070 4046     		mov	r0, r8
 526 0072 4946     		mov	r1, r9
 527 0074 FFF7FEFF 		bl	__aeabi_dadd
 528 0078 0246     		mov	r2, r0
 529 007a 0B46     		mov	r3, r1
 530 007c C7E90E23 		strd	r2, [r7, #56]
  65:Core/Src/Functions.c **** 
  66:Core/Src/Functions.c ****     double feed_rate_A = fabs(F * engine_dir_A); // F = feed rate
 531              		.loc 1 66 33
 532 0080 914B     		ldr	r3, .L67+32
 533 0082 1B88     		ldrh	r3, [r3]
 534 0084 1846     		mov	r0, r3
 535 0086 FFF7FEFF 		bl	__aeabi_i2d
 536 008a D7E90E23 		ldrd	r2, [r7, #56]
 537 008e FFF7FEFF 		bl	__aeabi_dmul
 538 0092 0246     		mov	r2, r0
 539 0094 0B46     		mov	r3, r1
 540              		.loc 1 66 12
 541 0096 1146     		mov	r1, r2
 542 0098 3963     		str	r1, [r7, #48]
 543 009a 23F00043 		bic	r3, r3, #-2147483648
 544 009e 7B63     		str	r3, [r7, #52]
  67:Core/Src/Functions.c ****     double feed_rate_B = fabs(F * engine_dir_B);
 545              		.loc 1 67 33
 546 00a0 894B     		ldr	r3, .L67+32
 547 00a2 1B88     		ldrh	r3, [r3]
 548 00a4 1846     		mov	r0, r3
 549 00a6 FFF7FEFF 		bl	__aeabi_i2d
 550 00aa D7E91023 		ldrd	r2, [r7, #64]
 551 00ae FFF7FEFF 		bl	__aeabi_dmul
 552 00b2 0246     		mov	r2, r0
 553 00b4 0B46     		mov	r3, r1
 554              		.loc 1 67 12
 555 00b6 1146     		mov	r1, r2
 556 00b8 B962     		str	r1, [r7, #40]
 557 00ba 23F00043 		bic	r3, r3, #-2147483648
 558 00be FB62     		str	r3, [r7, #44]
  68:Core/Src/Functions.c **** 
  69:Core/Src/Functions.c ****     if(feed_rate_A > 0) {
 559              		.loc 1 69 7
 560 00c0 4FF00002 		mov	r2, #0
 561 00c4 4FF00003 		mov	r3, #0
 562 00c8 D7E90C01 		ldrd	r0, [r7, #48]
 563 00cc FFF7FEFF 		bl	__aeabi_dcmpgt
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 12


 564 00d0 0346     		mov	r3, r0
 565 00d2 002B     		cmp	r3, #0
 566 00d4 7BD0     		beq	.L31
 567              	.LBB2:
  70:Core/Src/Functions.c ****         uint32_t speed_A = (double)1 / (double)feed_rate_A * (double)60 * XY_MM_PER_REV / XY_STEPS_
 568              		.loc 1 70 38
 569 00d6 D7E90C23 		ldrd	r2, [r7, #48]
 570 00da 4FF00000 		mov	r0, #0
 571 00de 7B49     		ldr	r1, .L67+36
 572 00e0 FFF7FEFF 		bl	__aeabi_ddiv
 573 00e4 0246     		mov	r2, r0
 574 00e6 0B46     		mov	r3, r1
 575 00e8 1046     		mov	r0, r2
 576 00ea 1946     		mov	r1, r3
 577              		.loc 1 70 60
 578 00ec 4FF00002 		mov	r2, #0
 579 00f0 774B     		ldr	r3, .L67+40
 580 00f2 FFF7FEFF 		bl	__aeabi_dmul
 581 00f6 0246     		mov	r2, r0
 582 00f8 0B46     		mov	r3, r1
 583 00fa 1046     		mov	r0, r2
 584 00fc 1946     		mov	r1, r3
 585              		.loc 1 70 73
 586 00fe 6AA3     		adr	r3, .L67
 587 0100 D3E90023 		ldrd	r2, [r3]
 588 0104 FFF7FEFF 		bl	__aeabi_dmul
 589 0108 0246     		mov	r2, r0
 590 010a 0B46     		mov	r3, r1
 591 010c 1046     		mov	r0, r2
 592 010e 1946     		mov	r1, r3
 593              		.loc 1 70 89
 594 0110 67A3     		adr	r3, .L67+8
 595 0112 D3E90023 		ldrd	r2, [r3]
 596 0116 FFF7FEFF 		bl	__aeabi_ddiv
 597 011a 0246     		mov	r2, r0
 598 011c 0B46     		mov	r3, r1
 599 011e 1046     		mov	r0, r2
 600 0120 1946     		mov	r1, r3
 601              		.loc 1 70 108
 602 0122 65A3     		adr	r3, .L67+16
 603 0124 D3E90023 		ldrd	r2, [r3]
 604 0128 FFF7FEFF 		bl	__aeabi_dmul
 605 012c 0246     		mov	r2, r0
 606 012e 0B46     		mov	r3, r1
 607              		.loc 1 70 18
 608 0130 1046     		mov	r0, r2
 609 0132 1946     		mov	r1, r3
 610 0134 FFF7FEFF 		bl	__aeabi_d2uiz
 611 0138 0346     		mov	r3, r0
 612 013a 7B62     		str	r3, [r7, #36]
  71:Core/Src/Functions.c **** 
  72:Core/Src/Functions.c ****         if(GetTicks() - last_tick_A >= speed_A && fabs(engine_dir_A) > ENGINE_MIN_SPEED) {
 613              		.loc 1 72 12
 614 013c FFF7FEFF 		bl	GetTicks
 615 0140 0346     		mov	r3, r0
 616 0142 1A46     		mov	r2, r3
 617              		.loc 1 72 23
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 13


 618 0144 634B     		ldr	r3, .L67+44
 619 0146 1B68     		ldr	r3, [r3]
 620 0148 D31A     		subs	r3, r2, r3
 621              		.loc 1 72 11
 622 014a 7A6A     		ldr	r2, [r7, #36]
 623 014c 9A42     		cmp	r2, r3
 624 014e 3ED8     		bhi	.L31
 625              		.loc 1 72 51 discriminator 1
 626 0150 BB6B     		ldr	r3, [r7, #56]
 627 0152 3B60     		str	r3, [r7]
 628 0154 FB6B     		ldr	r3, [r7, #60]
 629 0156 23F00043 		bic	r3, r3, #-2147483648
 630 015a 7B60     		str	r3, [r7, #4]
 631              		.loc 1 72 48 discriminator 1
 632 015c 58A3     		adr	r3, .L67+24
 633 015e D3E90023 		ldrd	r2, [r3]
 634 0162 D7E90001 		ldrd	r0, [r7]
 635 0166 FFF7FEFF 		bl	__aeabi_dcmpgt
 636 016a 0346     		mov	r3, r0
 637 016c 002B     		cmp	r3, #0
 638 016e 2ED0     		beq	.L31
  73:Core/Src/Functions.c ****             // isRunning = true;
  74:Core/Src/Functions.c ****             if(engine_dir_A > 0) {
 639              		.loc 1 74 15
 640 0170 4FF00002 		mov	r2, #0
 641 0174 4FF00003 		mov	r3, #0
 642 0178 D7E90E01 		ldrd	r0, [r7, #56]
 643 017c FFF7FEFF 		bl	__aeabi_dcmpgt
 644 0180 0346     		mov	r3, r0
 645 0182 002B     		cmp	r3, #0
 646 0184 09D0     		beq	.L62
  75:Core/Src/Functions.c ****                 CHANGE_MOTOR_DIR(X_AXIS_DIR, COUNTERCLOCKWISE);
 647              		.loc 1 75 17
 648 0186 0122     		movs	r2, #1
 649 0188 0221     		movs	r1, #2
 650 018a 5348     		ldr	r0, .L67+48
 651 018c FFF7FEFF 		bl	HAL_GPIO_WritePin
  76:Core/Src/Functions.c ****                 MAKE_MOTOR_STEP(X_AXIS_STEP);
 652              		.loc 1 76 17
 653 0190 4021     		movs	r1, #64
 654 0192 5248     		ldr	r0, .L67+52
 655 0194 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 656 0198 13E0     		b	.L36
 657              	.L62:
  77:Core/Src/Functions.c ****             } else if(engine_dir_A < 0) {
 658              		.loc 1 77 22
 659 019a 4FF00002 		mov	r2, #0
 660 019e 4FF00003 		mov	r3, #0
 661 01a2 D7E90E01 		ldrd	r0, [r7, #56]
 662 01a6 FFF7FEFF 		bl	__aeabi_dcmplt
 663 01aa 0346     		mov	r3, r0
 664 01ac 002B     		cmp	r3, #0
 665 01ae 08D0     		beq	.L36
  78:Core/Src/Functions.c ****                 CHANGE_MOTOR_DIR(X_AXIS_DIR, CLOCKWISE);
 666              		.loc 1 78 17
 667 01b0 0022     		movs	r2, #0
 668 01b2 0221     		movs	r1, #2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 14


 669 01b4 4848     		ldr	r0, .L67+48
 670 01b6 FFF7FEFF 		bl	HAL_GPIO_WritePin
  79:Core/Src/Functions.c ****                 MAKE_MOTOR_STEP(X_AXIS_STEP);
 671              		.loc 1 79 17
 672 01ba 4021     		movs	r1, #64
 673 01bc 4748     		ldr	r0, .L67+52
 674 01be FFF7FEFF 		bl	HAL_GPIO_TogglePin
 675              	.L36:
  80:Core/Src/Functions.c ****             }
  81:Core/Src/Functions.c ****             last_tick_A = GetTicks();
 676              		.loc 1 81 27
 677 01c2 FFF7FEFF 		bl	GetTicks
 678 01c6 0346     		mov	r3, r0
 679 01c8 1A46     		mov	r2, r3
 680              		.loc 1 81 25
 681 01ca 424B     		ldr	r3, .L67+44
 682 01cc 1A60     		str	r2, [r3]
 683              	.L31:
 684              	.LBE2:
  82:Core/Src/Functions.c ****         }
  83:Core/Src/Functions.c ****     }
  84:Core/Src/Functions.c **** 
  85:Core/Src/Functions.c ****     if(feed_rate_B > 0) {
 685              		.loc 1 85 7
 686 01ce 4FF00002 		mov	r2, #0
 687 01d2 4FF00003 		mov	r3, #0
 688 01d6 D7E90A01 		ldrd	r0, [r7, #40]
 689 01da FFF7FEFF 		bl	__aeabi_dcmpgt
 690 01de 0346     		mov	r3, r0
 691 01e0 002B     		cmp	r3, #0
 692 01e2 00F09E80 		beq	.L38
 693              	.LBB3:
  86:Core/Src/Functions.c ****         uint32_t speed_B = (double)1 / (double)feed_rate_B * (double)60 * XY_MM_PER_REV / XY_STEPS_
 694              		.loc 1 86 38
 695 01e6 D7E90A23 		ldrd	r2, [r7, #40]
 696 01ea 4FF00000 		mov	r0, #0
 697 01ee 3749     		ldr	r1, .L67+36
 698 01f0 FFF7FEFF 		bl	__aeabi_ddiv
 699 01f4 0246     		mov	r2, r0
 700 01f6 0B46     		mov	r3, r1
 701 01f8 1046     		mov	r0, r2
 702 01fa 1946     		mov	r1, r3
 703              		.loc 1 86 60
 704 01fc 4FF00002 		mov	r2, #0
 705 0200 334B     		ldr	r3, .L67+40
 706 0202 FFF7FEFF 		bl	__aeabi_dmul
 707 0206 0246     		mov	r2, r0
 708 0208 0B46     		mov	r3, r1
 709 020a 1046     		mov	r0, r2
 710 020c 1946     		mov	r1, r3
 711              		.loc 1 86 73
 712 020e 26A3     		adr	r3, .L67
 713 0210 D3E90023 		ldrd	r2, [r3]
 714 0214 FFF7FEFF 		bl	__aeabi_dmul
 715 0218 0246     		mov	r2, r0
 716 021a 0B46     		mov	r3, r1
 717 021c 1046     		mov	r0, r2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 15


 718 021e 1946     		mov	r1, r3
 719              		.loc 1 86 89
 720 0220 23A3     		adr	r3, .L67+8
 721 0222 D3E90023 		ldrd	r2, [r3]
 722 0226 FFF7FEFF 		bl	__aeabi_ddiv
 723 022a 0246     		mov	r2, r0
 724 022c 0B46     		mov	r3, r1
 725 022e 1046     		mov	r0, r2
 726 0230 1946     		mov	r1, r3
 727              		.loc 1 86 108
 728 0232 21A3     		adr	r3, .L67+16
 729 0234 D3E90023 		ldrd	r2, [r3]
 730 0238 FFF7FEFF 		bl	__aeabi_dmul
 731 023c 0246     		mov	r2, r0
 732 023e 0B46     		mov	r3, r1
 733              		.loc 1 86 18
 734 0240 1046     		mov	r0, r2
 735 0242 1946     		mov	r1, r3
 736 0244 FFF7FEFF 		bl	__aeabi_d2uiz
 737 0248 0346     		mov	r3, r0
 738 024a 3B62     		str	r3, [r7, #32]
  87:Core/Src/Functions.c **** 
  88:Core/Src/Functions.c ****         if(GetTicks() - last_tick_B >= speed_B && fabs(engine_dir_B) > ENGINE_MIN_SPEED) {
 739              		.loc 1 88 12
 740 024c FFF7FEFF 		bl	GetTicks
 741 0250 0346     		mov	r3, r0
 742 0252 1A46     		mov	r2, r3
 743              		.loc 1 88 23
 744 0254 224B     		ldr	r3, .L67+56
 745 0256 1B68     		ldr	r3, [r3]
 746 0258 D31A     		subs	r3, r2, r3
 747              		.loc 1 88 11
 748 025a 3A6A     		ldr	r2, [r7, #32]
 749 025c 9A42     		cmp	r2, r3
 750 025e 60D8     		bhi	.L38
 751              		.loc 1 88 51 discriminator 1
 752 0260 3C6C     		ldr	r4, [r7, #64]
 753 0262 7B6C     		ldr	r3, [r7, #68]
 754 0264 23F00045 		bic	r5, r3, #-2147483648
 755              		.loc 1 88 48 discriminator 1
 756 0268 15A3     		adr	r3, .L67+24
 757 026a D3E90023 		ldrd	r2, [r3]
 758 026e 2046     		mov	r0, r4
 759 0270 2946     		mov	r1, r5
 760 0272 FFF7FEFF 		bl	__aeabi_dcmpgt
 761 0276 0346     		mov	r3, r0
 762 0278 002B     		cmp	r3, #0
 763 027a 52D0     		beq	.L38
  89:Core/Src/Functions.c ****             // isRunning = true;
  90:Core/Src/Functions.c ****             if(engine_dir_B > 0) {
 764              		.loc 1 90 15
 765 027c 4FF00002 		mov	r2, #0
 766 0280 4FF00003 		mov	r3, #0
 767 0284 D7E91001 		ldrd	r0, [r7, #64]
 768 0288 FFF7FEFF 		bl	__aeabi_dcmpgt
 769 028c 0346     		mov	r3, r0
 770 028e 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 16


 771 0290 2CD0     		beq	.L63
  91:Core/Src/Functions.c ****                 CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
 772              		.loc 1 91 17
 773 0292 0122     		movs	r2, #1
 774 0294 0421     		movs	r1, #4
 775 0296 1048     		ldr	r0, .L67+48
 776 0298 FFF7FEFF 		bl	HAL_GPIO_WritePin
  92:Core/Src/Functions.c ****                 MAKE_MOTOR_STEP(Y_AXIS_STEP);
 777              		.loc 1 92 17
 778 029c 8021     		movs	r1, #128
 779 029e 4FF09040 		mov	r0, #1207959552
 780 02a2 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 781 02a6 36E0     		b	.L43
 782              	.L68:
 783              		.align	3
 784              	.L67:
 785 02a8 00000020 		.word	536870912
 786 02ac 5C475140 		.word	1079068508
 787 02b0 00000000 		.word	0
 788 02b4 0064B940 		.word	1085891584
 789 02b8 00000000 		.word	0
 790 02bc 80842E41 		.word	1093567616
 791 02c0 FCA9F1D2 		.word	-755914244
 792 02c4 4D62503F 		.word	1062232653
 793 02c8 00000000 		.word	F
 794 02cc 0000F03F 		.word	1072693248
 795 02d0 00004E40 		.word	1078853632
 796 02d4 00000000 		.word	last_tick_A
 797 02d8 00140048 		.word	1207964672
 798 02dc 00080048 		.word	1207961600
 799 02e0 00000000 		.word	last_tick_B
 800 02e4 CD3B7F66 		.word	1719614413
 801 02e8 9EA0E63F 		.word	1072079006
 802              	.L63:
  93:Core/Src/Functions.c ****             } else if(engine_dir_B < 0) {
 803              		.loc 1 93 22
 804 02ec 4FF00002 		mov	r2, #0
 805 02f0 4FF00003 		mov	r3, #0
 806 02f4 D7E91001 		ldrd	r0, [r7, #64]
 807 02f8 FFF7FEFF 		bl	__aeabi_dcmplt
 808 02fc 0346     		mov	r3, r0
 809 02fe 002B     		cmp	r3, #0
 810 0300 09D0     		beq	.L43
  94:Core/Src/Functions.c ****                 CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
 811              		.loc 1 94 17
 812 0302 0022     		movs	r2, #0
 813 0304 0421     		movs	r1, #4
 814 0306 8E48     		ldr	r0, .L69+24
 815 0308 FFF7FEFF 		bl	HAL_GPIO_WritePin
  95:Core/Src/Functions.c ****                 MAKE_MOTOR_STEP(Y_AXIS_STEP);
 816              		.loc 1 95 17
 817 030c 8021     		movs	r1, #128
 818 030e 4FF09040 		mov	r0, #1207959552
 819 0312 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 820              	.L43:
  96:Core/Src/Functions.c ****             }
  97:Core/Src/Functions.c ****             last_tick_B = GetTicks();
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 17


 821              		.loc 1 97 27
 822 0316 FFF7FEFF 		bl	GetTicks
 823 031a 0346     		mov	r3, r0
 824 031c 1A46     		mov	r2, r3
 825              		.loc 1 97 25
 826 031e 894B     		ldr	r3, .L69+28
 827 0320 1A60     		str	r2, [r3]
 828              	.L38:
 829              	.LBE3:
  98:Core/Src/Functions.c ****         }
  99:Core/Src/Functions.c ****     }
 100:Core/Src/Functions.c **** 
 101:Core/Src/Functions.c ****     if(F > 0) {
 830              		.loc 1 101 10
 831 0322 894B     		ldr	r3, .L69+32
 832 0324 1B88     		ldrh	r3, [r3]
 833              		.loc 1 101 7
 834 0326 002B     		cmp	r3, #0
 835 0328 00F0F980 		beq	.L66
 836              	.LBB4:
 102:Core/Src/Functions.c ****         uint32_t speed_AB = (double)1 / (double)F * (double)60 * XY_MM_PER_REV / XY_STEPS_PER_REV *
 837              		.loc 1 102 41
 838 032c 864B     		ldr	r3, .L69+32
 839 032e 1B88     		ldrh	r3, [r3]
 840 0330 1846     		mov	r0, r3
 841 0332 FFF7FEFF 		bl	__aeabi_ui2d
 842 0336 0246     		mov	r2, r0
 843 0338 0B46     		mov	r3, r1
 844              		.loc 1 102 39
 845 033a 4FF00000 		mov	r0, #0
 846 033e 8349     		ldr	r1, .L69+36
 847 0340 FFF7FEFF 		bl	__aeabi_ddiv
 848 0344 0246     		mov	r2, r0
 849 0346 0B46     		mov	r3, r1
 850 0348 1046     		mov	r0, r2
 851 034a 1946     		mov	r1, r3
 852              		.loc 1 102 51
 853 034c 4FF00002 		mov	r2, #0
 854 0350 7F4B     		ldr	r3, .L69+40
 855 0352 FFF7FEFF 		bl	__aeabi_dmul
 856 0356 0246     		mov	r2, r0
 857 0358 0B46     		mov	r3, r1
 858 035a 1046     		mov	r0, r2
 859 035c 1946     		mov	r1, r3
 860              		.loc 1 102 64
 861 035e 72A3     		adr	r3, .L69
 862 0360 D3E90023 		ldrd	r2, [r3]
 863 0364 FFF7FEFF 		bl	__aeabi_dmul
 864 0368 0246     		mov	r2, r0
 865 036a 0B46     		mov	r3, r1
 866 036c 1046     		mov	r0, r2
 867 036e 1946     		mov	r1, r3
 868              		.loc 1 102 80
 869 0370 6FA3     		adr	r3, .L69+8
 870 0372 D3E90023 		ldrd	r2, [r3]
 871 0376 FFF7FEFF 		bl	__aeabi_ddiv
 872 037a 0246     		mov	r2, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 18


 873 037c 0B46     		mov	r3, r1
 874 037e 1046     		mov	r0, r2
 875 0380 1946     		mov	r1, r3
 876              		.loc 1 102 99
 877 0382 6DA3     		adr	r3, .L69+16
 878 0384 D3E90023 		ldrd	r2, [r3]
 879 0388 FFF7FEFF 		bl	__aeabi_dmul
 880 038c 0246     		mov	r2, r0
 881 038e 0B46     		mov	r3, r1
 882              		.loc 1 102 18
 883 0390 1046     		mov	r0, r2
 884 0392 1946     		mov	r1, r3
 885 0394 FFF7FEFF 		bl	__aeabi_d2uiz
 886 0398 0346     		mov	r3, r0
 887 039a FB61     		str	r3, [r7, #28]
 103:Core/Src/Functions.c ****         if(GetTicks() - last_tick_AB >= speed_AB) {
 888              		.loc 1 103 12
 889 039c FFF7FEFF 		bl	GetTicks
 890 03a0 0346     		mov	r3, r0
 891 03a2 1A46     		mov	r2, r3
 892              		.loc 1 103 23
 893 03a4 6B4B     		ldr	r3, .L69+44
 894 03a6 1B68     		ldr	r3, [r3]
 895 03a8 D31A     		subs	r3, r2, r3
 896              		.loc 1 103 11
 897 03aa FA69     		ldr	r2, [r7, #28]
 898 03ac 9A42     		cmp	r2, r3
 899 03ae 00F2B680 		bhi	.L66
 104:Core/Src/Functions.c ****             //dirs have to sum up to 1 or -1
 105:Core/Src/Functions.c ****             //1-smaller diff/larger dif
 106:Core/Src/Functions.c ****             if(dir_x > 0) {
 900              		.loc 1 106 15
 901 03b2 4FF00002 		mov	r2, #0
 902 03b6 4FF00003 		mov	r3, #0
 903 03ba D7E90401 		ldrd	r0, [r7, #16]
 904 03be FFF7FEFF 		bl	__aeabi_dcmpgt
 905 03c2 0346     		mov	r3, r0
 906 03c4 002B     		cmp	r3, #0
 907 03c6 26D0     		beq	.L64
 107:Core/Src/Functions.c ****                 Cur_X += dir_x * dir_x * XY_MM_PER_REV / XY_STEPS_PER_REV;
 908              		.loc 1 107 32
 909 03c8 D7E90423 		ldrd	r2, [r7, #16]
 910 03cc D7E90401 		ldrd	r0, [r7, #16]
 911 03d0 FFF7FEFF 		bl	__aeabi_dmul
 912 03d4 0246     		mov	r2, r0
 913 03d6 0B46     		mov	r3, r1
 914 03d8 1046     		mov	r0, r2
 915 03da 1946     		mov	r1, r3
 916              		.loc 1 107 40
 917 03dc 52A3     		adr	r3, .L69
 918 03de D3E90023 		ldrd	r2, [r3]
 919 03e2 FFF7FEFF 		bl	__aeabi_dmul
 920 03e6 0246     		mov	r2, r0
 921 03e8 0B46     		mov	r3, r1
 922 03ea 1046     		mov	r0, r2
 923 03ec 1946     		mov	r1, r3
 924              		.loc 1 107 56
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 19


 925 03ee 50A3     		adr	r3, .L69+8
 926 03f0 D3E90023 		ldrd	r2, [r3]
 927 03f4 FFF7FEFF 		bl	__aeabi_ddiv
 928 03f8 0246     		mov	r2, r0
 929 03fa 0B46     		mov	r3, r1
 930 03fc 1046     		mov	r0, r2
 931 03fe 1946     		mov	r1, r3
 932              		.loc 1 107 23
 933 0400 554B     		ldr	r3, .L69+48
 934 0402 D3E90023 		ldrd	r2, [r3]
 935 0406 FFF7FEFF 		bl	__aeabi_dadd
 936 040a 0246     		mov	r2, r0
 937 040c 0B46     		mov	r3, r1
 938 040e 5249     		ldr	r1, .L69+48
 939 0410 C1E90023 		strd	r2, [r1]
 940 0414 25E0     		b	.L48
 941              	.L64:
 108:Core/Src/Functions.c ****             }
 109:Core/Src/Functions.c ****             else {
 110:Core/Src/Functions.c ****                 Cur_X -= dir_x * dir_x * XY_MM_PER_REV / XY_STEPS_PER_REV;
 942              		.loc 1 110 23
 943 0416 504B     		ldr	r3, .L69+48
 944 0418 D3E90045 		ldrd	r4, [r3]
 945              		.loc 1 110 32
 946 041c D7E90423 		ldrd	r2, [r7, #16]
 947 0420 D7E90401 		ldrd	r0, [r7, #16]
 948 0424 FFF7FEFF 		bl	__aeabi_dmul
 949 0428 0246     		mov	r2, r0
 950 042a 0B46     		mov	r3, r1
 951 042c 1046     		mov	r0, r2
 952 042e 1946     		mov	r1, r3
 953              		.loc 1 110 40
 954 0430 3DA3     		adr	r3, .L69
 955 0432 D3E90023 		ldrd	r2, [r3]
 956 0436 FFF7FEFF 		bl	__aeabi_dmul
 957 043a 0246     		mov	r2, r0
 958 043c 0B46     		mov	r3, r1
 959 043e 1046     		mov	r0, r2
 960 0440 1946     		mov	r1, r3
 961              		.loc 1 110 56
 962 0442 3BA3     		adr	r3, .L69+8
 963 0444 D3E90023 		ldrd	r2, [r3]
 964 0448 FFF7FEFF 		bl	__aeabi_ddiv
 965 044c 0246     		mov	r2, r0
 966 044e 0B46     		mov	r3, r1
 967              		.loc 1 110 23
 968 0450 2046     		mov	r0, r4
 969 0452 2946     		mov	r1, r5
 970 0454 FFF7FEFF 		bl	__aeabi_dsub
 971 0458 0246     		mov	r2, r0
 972 045a 0B46     		mov	r3, r1
 973 045c 3E49     		ldr	r1, .L69+48
 974 045e C1E90023 		strd	r2, [r1]
 975              	.L48:
 111:Core/Src/Functions.c ****             }
 112:Core/Src/Functions.c ****             if(dir_y > 0) {
 976              		.loc 1 112 15
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 20


 977 0462 4FF00002 		mov	r2, #0
 978 0466 4FF00003 		mov	r3, #0
 979 046a D7E90201 		ldrd	r0, [r7, #8]
 980 046e FFF7FEFF 		bl	__aeabi_dcmpgt
 981 0472 0346     		mov	r3, r0
 982 0474 002B     		cmp	r3, #0
 983 0476 26D0     		beq	.L65
 113:Core/Src/Functions.c ****                 Cur_Y += dir_y * dir_y * XY_MM_PER_REV / XY_STEPS_PER_REV;
 984              		.loc 1 113 32
 985 0478 D7E90223 		ldrd	r2, [r7, #8]
 986 047c D7E90201 		ldrd	r0, [r7, #8]
 987 0480 FFF7FEFF 		bl	__aeabi_dmul
 988 0484 0246     		mov	r2, r0
 989 0486 0B46     		mov	r3, r1
 990 0488 1046     		mov	r0, r2
 991 048a 1946     		mov	r1, r3
 992              		.loc 1 113 40
 993 048c 26A3     		adr	r3, .L69
 994 048e D3E90023 		ldrd	r2, [r3]
 995 0492 FFF7FEFF 		bl	__aeabi_dmul
 996 0496 0246     		mov	r2, r0
 997 0498 0B46     		mov	r3, r1
 998 049a 1046     		mov	r0, r2
 999 049c 1946     		mov	r1, r3
 1000              		.loc 1 113 56
 1001 049e 24A3     		adr	r3, .L69+8
 1002 04a0 D3E90023 		ldrd	r2, [r3]
 1003 04a4 FFF7FEFF 		bl	__aeabi_ddiv
 1004 04a8 0246     		mov	r2, r0
 1005 04aa 0B46     		mov	r3, r1
 1006 04ac 1046     		mov	r0, r2
 1007 04ae 1946     		mov	r1, r3
 1008              		.loc 1 113 23
 1009 04b0 2A4B     		ldr	r3, .L69+52
 1010 04b2 D3E90023 		ldrd	r2, [r3]
 1011 04b6 FFF7FEFF 		bl	__aeabi_dadd
 1012 04ba 0246     		mov	r2, r0
 1013 04bc 0B46     		mov	r3, r1
 1014 04be 2749     		ldr	r1, .L69+52
 1015 04c0 C1E90023 		strd	r2, [r1]
 1016 04c4 25E0     		b	.L51
 1017              	.L65:
 114:Core/Src/Functions.c ****             }
 115:Core/Src/Functions.c ****             else {
 116:Core/Src/Functions.c ****                 Cur_Y -= dir_y * dir_y * XY_MM_PER_REV / XY_STEPS_PER_REV;
 1018              		.loc 1 116 23
 1019 04c6 254B     		ldr	r3, .L69+52
 1020 04c8 D3E90045 		ldrd	r4, [r3]
 1021              		.loc 1 116 32
 1022 04cc D7E90223 		ldrd	r2, [r7, #8]
 1023 04d0 D7E90201 		ldrd	r0, [r7, #8]
 1024 04d4 FFF7FEFF 		bl	__aeabi_dmul
 1025 04d8 0246     		mov	r2, r0
 1026 04da 0B46     		mov	r3, r1
 1027 04dc 1046     		mov	r0, r2
 1028 04de 1946     		mov	r1, r3
 1029              		.loc 1 116 40
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 21


 1030 04e0 11A3     		adr	r3, .L69
 1031 04e2 D3E90023 		ldrd	r2, [r3]
 1032 04e6 FFF7FEFF 		bl	__aeabi_dmul
 1033 04ea 0246     		mov	r2, r0
 1034 04ec 0B46     		mov	r3, r1
 1035 04ee 1046     		mov	r0, r2
 1036 04f0 1946     		mov	r1, r3
 1037              		.loc 1 116 56
 1038 04f2 0FA3     		adr	r3, .L69+8
 1039 04f4 D3E90023 		ldrd	r2, [r3]
 1040 04f8 FFF7FEFF 		bl	__aeabi_ddiv
 1041 04fc 0246     		mov	r2, r0
 1042 04fe 0B46     		mov	r3, r1
 1043              		.loc 1 116 23
 1044 0500 2046     		mov	r0, r4
 1045 0502 2946     		mov	r1, r5
 1046 0504 FFF7FEFF 		bl	__aeabi_dsub
 1047 0508 0246     		mov	r2, r0
 1048 050a 0B46     		mov	r3, r1
 1049 050c 1349     		ldr	r1, .L69+52
 1050 050e C1E90023 		strd	r2, [r1]
 1051              	.L51:
 117:Core/Src/Functions.c ****             }
 118:Core/Src/Functions.c ****             
 119:Core/Src/Functions.c ****             last_tick_AB = GetTicks();
 1052              		.loc 1 119 28
 1053 0512 FFF7FEFF 		bl	GetTicks
 1054 0516 0346     		mov	r3, r0
 1055 0518 1A46     		mov	r2, r3
 1056              		.loc 1 119 26
 1057 051a 0E4B     		ldr	r3, .L69+44
 1058 051c 1A60     		str	r2, [r3]
 1059              	.L66:
 1060              	.LBE4:
 120:Core/Src/Functions.c ****         }
 121:Core/Src/Functions.c ****     }
 122:Core/Src/Functions.c **** 
 123:Core/Src/Functions.c ****     // isRunning = false;
 124:Core/Src/Functions.c **** }
 1061              		.loc 1 124 1
 1062 051e 00BF     		nop
 1063 0520 4837     		adds	r7, r7, #72
 1064              		.cfi_def_cfa_offset 24
 1065 0522 BD46     		mov	sp, r7
 1066              		.cfi_def_cfa_register 13
 1067              		@ sp needed
 1068 0524 BDE8B083 		pop	{r4, r5, r7, r8, r9, pc}
 1069              	.L70:
 1070              		.align	3
 1071              	.L69:
 1072 0528 00000020 		.word	536870912
 1073 052c 5C475140 		.word	1079068508
 1074 0530 00000000 		.word	0
 1075 0534 0064B940 		.word	1085891584
 1076 0538 00000000 		.word	0
 1077 053c 80842E41 		.word	1093567616
 1078 0540 00140048 		.word	1207964672
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 22


 1079 0544 00000000 		.word	last_tick_B
 1080 0548 00000000 		.word	F
 1081 054c 0000F03F 		.word	1072693248
 1082 0550 00004E40 		.word	1078853632
 1083 0554 00000000 		.word	last_tick_AB
 1084 0558 00000000 		.word	Cur_X
 1085 055c 00000000 		.word	Cur_Y
 1086              		.cfi_endproc
 1087              	.LFE325:
 1089              		.global	__aeabi_dcmpge
 1090              		.global	__aeabi_dcmple
 1091              		.section	.text.Move,"ax",%progbits
 1092              		.align	1
 1093              		.global	Move
 1094              		.syntax unified
 1095              		.thumb
 1096              		.thumb_func
 1098              	Move:
 1099              	.LFB326:
 125:Core/Src/Functions.c **** 
 126:Core/Src/Functions.c **** void Move(double dif, uint32_t last_time, uint16_t axis, uint16_t speed)
 127:Core/Src/Functions.c **** {
 1100              		.loc 1 127 1
 1101              		.cfi_startproc
 1102              		@ args = 0, pretend = 0, frame = 16
 1103              		@ frame_needed = 1, uses_anonymous_args = 0
 1104 0000 80B5     		push	{r7, lr}
 1105              		.cfi_def_cfa_offset 8
 1106              		.cfi_offset 7, -8
 1107              		.cfi_offset 14, -4
 1108 0002 84B0     		sub	sp, sp, #16
 1109              		.cfi_def_cfa_offset 24
 1110 0004 00AF     		add	r7, sp, #0
 1111              		.cfi_def_cfa_register 7
 1112 0006 87ED020B 		vstr.64	d0, [r7, #8]
 1113 000a 7860     		str	r0, [r7, #4]
 1114 000c 0B46     		mov	r3, r1
 1115 000e 7B80     		strh	r3, [r7, #2]	@ movhi
 1116 0010 1346     		mov	r3, r2	@ movhi
 1117 0012 3B80     		strh	r3, [r7]	@ movhi
 128:Core/Src/Functions.c ****     if (dif >= OFFSET_P || dif <= OFFSET_N)
 1118              		.loc 1 128 8
 1119 0014 CAA3     		adr	r3, .L100+72
 1120 0016 D3E90023 		ldrd	r2, [r3]
 1121 001a D7E90201 		ldrd	r0, [r7, #8]
 1122 001e FFF7FEFF 		bl	__aeabi_dcmpge
 1123 0022 0346     		mov	r3, r0
 1124 0024 002B     		cmp	r3, #0
 1125 0026 0AD1     		bne	.L72
 1126              		.loc 1 128 25 discriminator 1
 1127 0028 C7A3     		adr	r3, .L100+80
 1128 002a D3E90023 		ldrd	r2, [r3]
 1129 002e D7E90201 		ldrd	r0, [r7, #8]
 1130 0032 FFF7FEFF 		bl	__aeabi_dcmple
 1131 0036 0346     		mov	r3, r0
 1132 0038 002B     		cmp	r3, #0
 1133 003a 00F05181 		beq	.L93
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 23


 1134              	.L72:
 129:Core/Src/Functions.c ****     {
 130:Core/Src/Functions.c ****         if (GetTicks() - last_time >= speed && speed > 0)
 1135              		.loc 1 130 13
 1136 003e FFF7FEFF 		bl	GetTicks
 1137 0042 0346     		mov	r3, r0
 1138 0044 1A46     		mov	r2, r3
 1139              		.loc 1 130 24
 1140 0046 7B68     		ldr	r3, [r7, #4]
 1141 0048 D21A     		subs	r2, r2, r3
 1142              		.loc 1 130 36
 1143 004a 3B88     		ldrh	r3, [r7]
 1144              		.loc 1 130 12
 1145 004c 9A42     		cmp	r2, r3
 1146 004e C0F04B81 		bcc	.L95
 1147              		.loc 1 130 45 discriminator 1
 1148 0052 3B88     		ldrh	r3, [r7]
 1149 0054 002B     		cmp	r3, #0
 1150 0056 00F04781 		beq	.L95
 131:Core/Src/Functions.c ****         {
 132:Core/Src/Functions.c ****             isRunning = true;
 1151              		.loc 1 132 23
 1152 005a AD4B     		ldr	r3, .L100+24
 1153 005c 0122     		movs	r2, #1
 1154 005e 1A70     		strb	r2, [r3]
 133:Core/Src/Functions.c ****             if (dif < 0)
 1155              		.loc 1 133 16
 1156 0060 4FF00002 		mov	r2, #0
 1157 0064 4FF00003 		mov	r3, #0
 1158 0068 D7E90201 		ldrd	r0, [r7, #8]
 1159 006c FFF7FEFF 		bl	__aeabi_dcmplt
 1160 0070 0346     		mov	r3, r0
 1161 0072 002B     		cmp	r3, #0
 1162 0074 00F09980 		beq	.L94
 134:Core/Src/Functions.c ****             {
 135:Core/Src/Functions.c ****                 switch (axis)
 1163              		.loc 1 135 17
 1164 0078 7B88     		ldrh	r3, [r7, #2]
 1165 007a 032B     		cmp	r3, #3
 1166 007c 00F22C81 		bhi	.L96
 1167 0080 01A2     		adr	r2, .L80
 1168 0082 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1169 0086 00BF     		.p2align 2
 1170              	.L80:
 1171 0088 0F010000 		.word	.L83+1
 1172 008c 5D010000 		.word	.L82+1
 1173 0090 99000000 		.word	.L81+1
 1174 0094 D3000000 		.word	.L79+1
 1175              		.p2align 1
 1176              	.L81:
 136:Core/Src/Functions.c ****                 {
 137:Core/Src/Functions.c ****                 case E_AXIS:
 138:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(E_AXIS_DIR, COUNTERCLOCKWISE);
 1177              		.loc 1 138 21
 1178 0098 0122     		movs	r2, #1
 1179 009a 0821     		movs	r1, #8
 1180 009c 9D48     		ldr	r0, .L100+28
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 24


 1181 009e FFF7FEFF 		bl	HAL_GPIO_WritePin
 139:Core/Src/Functions.c ****                     Cur_E -= E_MM_PER_REV / STEPS_PER_REV;
 1182              		.loc 1 139 27
 1183 00a2 9D4B     		ldr	r3, .L100+32
 1184 00a4 D3E90001 		ldrd	r0, [r3]
 1185 00a8 93A3     		adr	r3, .L100
 1186 00aa D3E90023 		ldrd	r2, [r3]
 1187 00ae FFF7FEFF 		bl	__aeabi_dsub
 1188 00b2 0246     		mov	r2, r0
 1189 00b4 0B46     		mov	r3, r1
 1190 00b6 9849     		ldr	r1, .L100+32
 1191 00b8 C1E90023 		strd	r2, [r1]
 140:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(E_AXIS_STEP);
 1192              		.loc 1 140 21
 1193 00bc 0121     		movs	r1, #1
 1194 00be 9748     		ldr	r0, .L100+36
 1195 00c0 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 141:Core/Src/Functions.c ****                     last_time_E = GetTicks();
 1196              		.loc 1 141 35
 1197 00c4 FFF7FEFF 		bl	GetTicks
 1198 00c8 0346     		mov	r3, r0
 1199 00ca 1A46     		mov	r2, r3
 1200              		.loc 1 141 33
 1201 00cc 944B     		ldr	r3, .L100+40
 1202 00ce 1A60     		str	r2, [r3]
 142:Core/Src/Functions.c ****                     break;
 1203              		.loc 1 142 21
 1204 00d0 05E1     		b	.L75
 1205              	.L79:
 143:Core/Src/Functions.c ****                 case Z_AXIS:
 144:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Z_AXIS_DIR, CLOCKWISE);
 1206              		.loc 1 144 21
 1207 00d2 0022     		movs	r2, #0
 1208 00d4 4FF48071 		mov	r1, #256
 1209 00d8 8E48     		ldr	r0, .L100+28
 1210 00da FFF7FEFF 		bl	HAL_GPIO_WritePin
 145:Core/Src/Functions.c ****                     Cur_Z -= Z_MM_PER_REV / STEPS_PER_REV;
 1211              		.loc 1 145 27
 1212 00de 914B     		ldr	r3, .L100+44
 1213 00e0 D3E90001 		ldrd	r0, [r3]
 1214 00e4 86A3     		adr	r3, .L100+8
 1215 00e6 D3E90023 		ldrd	r2, [r3]
 1216 00ea FFF7FEFF 		bl	__aeabi_dsub
 1217 00ee 0246     		mov	r2, r0
 1218 00f0 0B46     		mov	r3, r1
 1219 00f2 8C49     		ldr	r1, .L100+44
 1220 00f4 C1E90023 		strd	r2, [r1]
 146:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Z_AXIS_STEP);
 1221              		.loc 1 146 21
 1222 00f8 0221     		movs	r1, #2
 1223 00fa 8848     		ldr	r0, .L100+36
 1224 00fc FFF7FEFF 		bl	HAL_GPIO_TogglePin
 147:Core/Src/Functions.c ****                     last_time_Z = GetTicks();
 1225              		.loc 1 147 35
 1226 0100 FFF7FEFF 		bl	GetTicks
 1227 0104 0346     		mov	r3, r0
 1228 0106 1A46     		mov	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 25


 1229              		.loc 1 147 33
 1230 0108 874B     		ldr	r3, .L100+48
 1231 010a 1A60     		str	r2, [r3]
 148:Core/Src/Functions.c ****                     break;
 1232              		.loc 1 148 21
 1233 010c E7E0     		b	.L75
 1234              	.L83:
 149:Core/Src/Functions.c ****                 case X_AXIS:
 150:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, CLOCKWISE);
 1235              		.loc 1 150 21
 1236 010e 0022     		movs	r2, #0
 1237 0110 0221     		movs	r1, #2
 1238 0112 8048     		ldr	r0, .L100+28
 1239 0114 FFF7FEFF 		bl	HAL_GPIO_WritePin
 151:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
 1240              		.loc 1 151 21
 1241 0118 0022     		movs	r2, #0
 1242 011a 0421     		movs	r1, #4
 1243 011c 7D48     		ldr	r0, .L100+28
 1244 011e FFF7FEFF 		bl	HAL_GPIO_WritePin
 152:Core/Src/Functions.c ****                     Cur_X -= XY_MM_PER_REV / XY_STEPS_PER_REV;
 1245              		.loc 1 152 27
 1246 0122 824B     		ldr	r3, .L100+52
 1247 0124 D3E90001 		ldrd	r0, [r3]
 1248 0128 77A3     		adr	r3, .L100+16
 1249 012a D3E90023 		ldrd	r2, [r3]
 1250 012e FFF7FEFF 		bl	__aeabi_dsub
 1251 0132 0246     		mov	r2, r0
 1252 0134 0B46     		mov	r3, r1
 1253 0136 7D49     		ldr	r1, .L100+52
 1254 0138 C1E90023 		strd	r2, [r1]
 153:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 1255              		.loc 1 153 21
 1256 013c 4021     		movs	r1, #64
 1257 013e 7C48     		ldr	r0, .L100+56
 1258 0140 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 154:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 1259              		.loc 1 154 21
 1260 0144 8021     		movs	r1, #128
 1261 0146 4FF09040 		mov	r0, #1207959552
 1262 014a FFF7FEFF 		bl	HAL_GPIO_TogglePin
 155:Core/Src/Functions.c ****                     last_time_X = GetTicks();
 1263              		.loc 1 155 35
 1264 014e FFF7FEFF 		bl	GetTicks
 1265 0152 0346     		mov	r3, r0
 1266 0154 1A46     		mov	r2, r3
 1267              		.loc 1 155 33
 1268 0156 774B     		ldr	r3, .L100+60
 1269 0158 1A60     		str	r2, [r3]
 156:Core/Src/Functions.c ****                     break;
 1270              		.loc 1 156 21
 1271 015a C0E0     		b	.L75
 1272              	.L82:
 157:Core/Src/Functions.c ****                 case Y_AXIS:
 158:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, CLOCKWISE);
 1273              		.loc 1 158 21
 1274 015c 0022     		movs	r2, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 26


 1275 015e 0221     		movs	r1, #2
 1276 0160 6C48     		ldr	r0, .L100+28
 1277 0162 FFF7FEFF 		bl	HAL_GPIO_WritePin
 159:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
 1278              		.loc 1 159 21
 1279 0166 0122     		movs	r2, #1
 1280 0168 0421     		movs	r1, #4
 1281 016a 6A48     		ldr	r0, .L100+28
 1282 016c FFF7FEFF 		bl	HAL_GPIO_WritePin
 160:Core/Src/Functions.c ****                     Cur_Y -= XY_MM_PER_REV / XY_STEPS_PER_REV;
 1283              		.loc 1 160 27
 1284 0170 714B     		ldr	r3, .L100+64
 1285 0172 D3E90001 		ldrd	r0, [r3]
 1286 0176 64A3     		adr	r3, .L100+16
 1287 0178 D3E90023 		ldrd	r2, [r3]
 1288 017c FFF7FEFF 		bl	__aeabi_dsub
 1289 0180 0246     		mov	r2, r0
 1290 0182 0B46     		mov	r3, r1
 1291 0184 6C49     		ldr	r1, .L100+64
 1292 0186 C1E90023 		strd	r2, [r1]
 161:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 1293              		.loc 1 161 21
 1294 018a 4021     		movs	r1, #64
 1295 018c 6848     		ldr	r0, .L100+56
 1296 018e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 162:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 1297              		.loc 1 162 21
 1298 0192 8021     		movs	r1, #128
 1299 0194 4FF09040 		mov	r0, #1207959552
 1300 0198 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 163:Core/Src/Functions.c ****                     last_time_Y = GetTicks();
 1301              		.loc 1 163 35
 1302 019c FFF7FEFF 		bl	GetTicks
 1303 01a0 0346     		mov	r3, r0
 1304 01a2 1A46     		mov	r2, r3
 1305              		.loc 1 163 33
 1306 01a4 654B     		ldr	r3, .L100+68
 1307 01a6 1A60     		str	r2, [r3]
 164:Core/Src/Functions.c ****                     break;
 1308              		.loc 1 164 21
 1309 01a8 99E0     		b	.L75
 1310              	.L94:
 165:Core/Src/Functions.c ****                 default:
 166:Core/Src/Functions.c ****                     break;
 167:Core/Src/Functions.c ****                 }
 168:Core/Src/Functions.c ****             }
 169:Core/Src/Functions.c ****             else
 170:Core/Src/Functions.c ****             {
 171:Core/Src/Functions.c ****                 switch (axis)
 1311              		.loc 1 171 17
 1312 01aa 7B88     		ldrh	r3, [r7, #2]
 1313 01ac 032B     		cmp	r3, #3
 1314 01ae 00F29580 		bhi	.L97
 1315 01b2 01A2     		adr	r2, .L87
 1316 01b4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1317              		.p2align 2
 1318              	.L87:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 27


 1319 01b8 3D020000 		.word	.L90+1
 1320 01bc 8B020000 		.word	.L89+1
 1321 01c0 C9010000 		.word	.L88+1
 1322 01c4 03020000 		.word	.L86+1
 1323              		.p2align 1
 1324              	.L88:
 172:Core/Src/Functions.c ****                 {
 173:Core/Src/Functions.c ****                 case E_AXIS:
 174:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(E_AXIS_DIR, CLOCKWISE);
 1325              		.loc 1 174 21
 1326 01c8 0022     		movs	r2, #0
 1327 01ca 0821     		movs	r1, #8
 1328 01cc 5148     		ldr	r0, .L100+28
 1329 01ce FFF7FEFF 		bl	HAL_GPIO_WritePin
 175:Core/Src/Functions.c ****                     Cur_E += E_MM_PER_REV / STEPS_PER_REV;
 1330              		.loc 1 175 27
 1331 01d2 514B     		ldr	r3, .L100+32
 1332 01d4 D3E90001 		ldrd	r0, [r3]
 1333 01d8 47A3     		adr	r3, .L100
 1334 01da D3E90023 		ldrd	r2, [r3]
 1335 01de FFF7FEFF 		bl	__aeabi_dadd
 1336 01e2 0246     		mov	r2, r0
 1337 01e4 0B46     		mov	r3, r1
 1338 01e6 4C49     		ldr	r1, .L100+32
 1339 01e8 C1E90023 		strd	r2, [r1]
 176:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(E_AXIS_STEP);
 1340              		.loc 1 176 21
 1341 01ec 0121     		movs	r1, #1
 1342 01ee 4B48     		ldr	r0, .L100+36
 1343 01f0 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 177:Core/Src/Functions.c ****                     last_time_E = GetTicks();
 1344              		.loc 1 177 35
 1345 01f4 FFF7FEFF 		bl	GetTicks
 1346 01f8 0346     		mov	r3, r0
 1347 01fa 1A46     		mov	r2, r3
 1348              		.loc 1 177 33
 1349 01fc 484B     		ldr	r3, .L100+40
 1350 01fe 1A60     		str	r2, [r3]
 178:Core/Src/Functions.c ****                     break;
 1351              		.loc 1 178 21
 1352 0200 6DE0     		b	.L75
 1353              	.L86:
 179:Core/Src/Functions.c ****                 case Z_AXIS:
 180:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Z_AXIS_DIR, COUNTERCLOCKWISE);
 1354              		.loc 1 180 21
 1355 0202 0122     		movs	r2, #1
 1356 0204 4FF48071 		mov	r1, #256
 1357 0208 4248     		ldr	r0, .L100+28
 1358 020a FFF7FEFF 		bl	HAL_GPIO_WritePin
 181:Core/Src/Functions.c ****                     Cur_Z += Z_MM_PER_REV / STEPS_PER_REV;
 1359              		.loc 1 181 27
 1360 020e 454B     		ldr	r3, .L100+44
 1361 0210 D3E90001 		ldrd	r0, [r3]
 1362 0214 3AA3     		adr	r3, .L100+8
 1363 0216 D3E90023 		ldrd	r2, [r3]
 1364 021a FFF7FEFF 		bl	__aeabi_dadd
 1365 021e 0246     		mov	r2, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 28


 1366 0220 0B46     		mov	r3, r1
 1367 0222 4049     		ldr	r1, .L100+44
 1368 0224 C1E90023 		strd	r2, [r1]
 182:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Z_AXIS_STEP);
 1369              		.loc 1 182 21
 1370 0228 0221     		movs	r1, #2
 1371 022a 3C48     		ldr	r0, .L100+36
 1372 022c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 183:Core/Src/Functions.c ****                     last_time_Z = GetTicks();
 1373              		.loc 1 183 35
 1374 0230 FFF7FEFF 		bl	GetTicks
 1375 0234 0346     		mov	r3, r0
 1376 0236 1A46     		mov	r2, r3
 1377              		.loc 1 183 33
 1378 0238 3B4B     		ldr	r3, .L100+48
 1379 023a 1A60     		str	r2, [r3]
 1380              	.L90:
 184:Core/Src/Functions.c ****                 case X_AXIS:
 185:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, COUNTERCLOCKWISE);
 1381              		.loc 1 185 21
 1382 023c 0122     		movs	r2, #1
 1383 023e 0221     		movs	r1, #2
 1384 0240 3448     		ldr	r0, .L100+28
 1385 0242 FFF7FEFF 		bl	HAL_GPIO_WritePin
 186:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
 1386              		.loc 1 186 21
 1387 0246 0122     		movs	r2, #1
 1388 0248 0421     		movs	r1, #4
 1389 024a 3248     		ldr	r0, .L100+28
 1390 024c FFF7FEFF 		bl	HAL_GPIO_WritePin
 187:Core/Src/Functions.c ****                     Cur_X += XY_MM_PER_REV / XY_STEPS_PER_REV;
 1391              		.loc 1 187 27
 1392 0250 364B     		ldr	r3, .L100+52
 1393 0252 D3E90001 		ldrd	r0, [r3]
 1394 0256 2CA3     		adr	r3, .L100+16
 1395 0258 D3E90023 		ldrd	r2, [r3]
 1396 025c FFF7FEFF 		bl	__aeabi_dadd
 1397 0260 0246     		mov	r2, r0
 1398 0262 0B46     		mov	r3, r1
 1399 0264 3149     		ldr	r1, .L100+52
 1400 0266 C1E90023 		strd	r2, [r1]
 188:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 1401              		.loc 1 188 21
 1402 026a 4021     		movs	r1, #64
 1403 026c 3048     		ldr	r0, .L100+56
 1404 026e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 189:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 1405              		.loc 1 189 21
 1406 0272 8021     		movs	r1, #128
 1407 0274 4FF09040 		mov	r0, #1207959552
 1408 0278 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 190:Core/Src/Functions.c ****                     last_time_X = GetTicks();
 1409              		.loc 1 190 35
 1410 027c FFF7FEFF 		bl	GetTicks
 1411 0280 0346     		mov	r3, r0
 1412 0282 1A46     		mov	r2, r3
 1413              		.loc 1 190 33
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 29


 1414 0284 2B4B     		ldr	r3, .L100+60
 1415 0286 1A60     		str	r2, [r3]
 191:Core/Src/Functions.c ****                     break;
 1416              		.loc 1 191 21
 1417 0288 29E0     		b	.L75
 1418              	.L89:
 192:Core/Src/Functions.c ****                 case Y_AXIS:
 193:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, COUNTERCLOCKWISE);
 1419              		.loc 1 193 21
 1420 028a 0122     		movs	r2, #1
 1421 028c 0221     		movs	r1, #2
 1422 028e 2148     		ldr	r0, .L100+28
 1423 0290 FFF7FEFF 		bl	HAL_GPIO_WritePin
 194:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
 1424              		.loc 1 194 21
 1425 0294 0022     		movs	r2, #0
 1426 0296 0421     		movs	r1, #4
 1427 0298 1E48     		ldr	r0, .L100+28
 1428 029a FFF7FEFF 		bl	HAL_GPIO_WritePin
 195:Core/Src/Functions.c ****                     Cur_Y += XY_MM_PER_REV / XY_STEPS_PER_REV;
 1429              		.loc 1 195 27
 1430 029e 264B     		ldr	r3, .L100+64
 1431 02a0 D3E90001 		ldrd	r0, [r3]
 1432 02a4 18A3     		adr	r3, .L100+16
 1433 02a6 D3E90023 		ldrd	r2, [r3]
 1434 02aa FFF7FEFF 		bl	__aeabi_dadd
 1435 02ae 0246     		mov	r2, r0
 1436 02b0 0B46     		mov	r3, r1
 1437 02b2 2149     		ldr	r1, .L100+64
 1438 02b4 C1E90023 		strd	r2, [r1]
 196:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 1439              		.loc 1 196 21
 1440 02b8 4021     		movs	r1, #64
 1441 02ba 1D48     		ldr	r0, .L100+56
 1442 02bc FFF7FEFF 		bl	HAL_GPIO_TogglePin
 197:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 1443              		.loc 1 197 21
 1444 02c0 8021     		movs	r1, #128
 1445 02c2 4FF09040 		mov	r0, #1207959552
 1446 02c6 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 198:Core/Src/Functions.c ****                     last_time_Y = GetTicks();
 1447              		.loc 1 198 35
 1448 02ca FFF7FEFF 		bl	GetTicks
 1449 02ce 0346     		mov	r3, r0
 1450 02d0 1A46     		mov	r2, r3
 1451              		.loc 1 198 33
 1452 02d2 1A4B     		ldr	r3, .L100+68
 1453 02d4 1A60     		str	r2, [r3]
 199:Core/Src/Functions.c ****                     break;
 1454              		.loc 1 199 21
 1455 02d6 02E0     		b	.L75
 1456              	.L96:
 166:Core/Src/Functions.c ****                 }
 1457              		.loc 1 166 21
 1458 02d8 00BF     		nop
 1459 02da 05E0     		b	.L95
 1460              	.L97:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 30


 200:Core/Src/Functions.c ****                 default:
 201:Core/Src/Functions.c ****                     break;
 1461              		.loc 1 201 21
 1462 02dc 00BF     		nop
 1463              	.L75:
 130:Core/Src/Functions.c ****         {
 1464              		.loc 1 130 12 discriminator 1
 1465 02de 03E0     		b	.L95
 1466              	.L93:
 202:Core/Src/Functions.c ****                 }
 203:Core/Src/Functions.c ****             }
 204:Core/Src/Functions.c **** 
 205:Core/Src/Functions.c ****             // DelayMicrosecond(speed);
 206:Core/Src/Functions.c ****         }
 207:Core/Src/Functions.c ****     }
 208:Core/Src/Functions.c ****     else
 209:Core/Src/Functions.c ****     {
 210:Core/Src/Functions.c ****         isRunning = false;
 1467              		.loc 1 210 19
 1468 02e0 0B4B     		ldr	r3, .L100+24
 1469 02e2 0022     		movs	r2, #0
 1470 02e4 1A70     		strb	r2, [r3]
 211:Core/Src/Functions.c ****     }
 212:Core/Src/Functions.c **** }
 1471              		.loc 1 212 1
 1472 02e6 00E0     		b	.L99
 1473              	.L95:
 130:Core/Src/Functions.c ****         {
 1474              		.loc 1 130 12
 1475 02e8 00BF     		nop
 1476              	.L99:
 1477              		.loc 1 212 1
 1478 02ea 00BF     		nop
 1479 02ec 1037     		adds	r7, r7, #16
 1480              		.cfi_def_cfa_offset 8
 1481 02ee BD46     		mov	sp, r7
 1482              		.cfi_def_cfa_register 13
 1483              		@ sp needed
 1484 02f0 80BD     		pop	{r7, pc}
 1485              	.L101:
 1486 02f2 00BFAFF3 		.align	3
 1486      0080
 1487              	.L100:
 1488 02f8 000000A0 		.word	-1610612736
 1489 02fc D091533F 		.word	1062441424
 1490 0300 00000040 		.word	1073741824
 1491 0304 2D3A3B3F 		.word	1060846125
 1492 0308 00000060 		.word	1610612736
 1493 030c CBC6853F 		.word	1065731787
 1494 0310 00000000 		.word	isRunning
 1495 0314 00140048 		.word	1207964672
 1496 0318 00000000 		.word	Cur_E
 1497 031c 00040048 		.word	1207960576
 1498 0320 00000000 		.word	last_time_E
 1499 0324 00000000 		.word	Cur_Z
 1500 0328 00000000 		.word	last_time_Z
 1501 032c 00000000 		.word	Cur_X
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 31


 1502 0330 00080048 		.word	1207961600
 1503 0334 00000000 		.word	last_time_X
 1504 0338 00000000 		.word	Cur_Y
 1505 033c 00000000 		.word	last_time_Y
 1506 0340 FA7E6ABC 		.word	-1133871366
 1507 0344 7493883F 		.word	1065915252
 1508 0348 FA7E6ABC 		.word	-1133871366
 1509 034c 749388BF 		.word	-1081568396
 1510              		.cfi_endproc
 1511              	.LFE326:
 1513              		.section	.text.MoveAndWait,"ax",%progbits
 1514              		.align	1
 1515              		.global	MoveAndWait
 1516              		.syntax unified
 1517              		.thumb
 1518              		.thumb_func
 1520              	MoveAndWait:
 1521              	.LFB327:
 213:Core/Src/Functions.c **** 
 214:Core/Src/Functions.c **** void MoveAndWait(uint16_t state, uint16_t speed, uint16_t axis, uint16_t dir_X, uint16_t dir_Y)
 215:Core/Src/Functions.c **** {
 1522              		.loc 1 215 1
 1523              		.cfi_startproc
 1524              		@ args = 4, pretend = 0, frame = 8
 1525              		@ frame_needed = 1, uses_anonymous_args = 0
 1526 0000 90B5     		push	{r4, r7, lr}
 1527              		.cfi_def_cfa_offset 12
 1528              		.cfi_offset 4, -12
 1529              		.cfi_offset 7, -8
 1530              		.cfi_offset 14, -4
 1531 0002 83B0     		sub	sp, sp, #12
 1532              		.cfi_def_cfa_offset 24
 1533 0004 00AF     		add	r7, sp, #0
 1534              		.cfi_def_cfa_register 7
 1535 0006 0446     		mov	r4, r0
 1536 0008 0846     		mov	r0, r1
 1537 000a 1146     		mov	r1, r2
 1538 000c 1A46     		mov	r2, r3
 1539 000e 2346     		mov	r3, r4	@ movhi
 1540 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 1541 0012 0346     		mov	r3, r0	@ movhi
 1542 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 1543 0016 0B46     		mov	r3, r1	@ movhi
 1544 0018 7B80     		strh	r3, [r7, #2]	@ movhi
 1545 001a 1346     		mov	r3, r2	@ movhi
 1546 001c 3B80     		strh	r3, [r7]	@ movhi
 216:Core/Src/Functions.c ****     switch (axis)
 1547              		.loc 1 216 5
 1548 001e 7B88     		ldrh	r3, [r7, #2]
 1549 0020 002B     		cmp	r3, #0
 1550 0022 02D0     		beq	.L103
 1551 0024 012B     		cmp	r3, #1
 1552 0026 26D0     		beq	.L104
 217:Core/Src/Functions.c ****     {
 218:Core/Src/Functions.c ****     case X_AXIS:
 219:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(X_AXIS_DIR, dir_X);
 220:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(Y_AXIS_DIR, dir_Y);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 32


 221:Core/Src/Functions.c ****         while (READ_PIN(X_STOP_PIN) != state)
 222:Core/Src/Functions.c ****         {
 223:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(X_AXIS_STEP);
 224:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(Y_AXIS_STEP);
 225:Core/Src/Functions.c ****             DelayMicrosecond(speed);
 226:Core/Src/Functions.c ****         }
 227:Core/Src/Functions.c ****         break;
 228:Core/Src/Functions.c ****     case Y_AXIS:
 229:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(X_AXIS_DIR, dir_X);
 230:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(Y_AXIS_DIR, dir_Y);
 231:Core/Src/Functions.c ****         while (READ_PIN(Y_STOP_PIN) != state)
 232:Core/Src/Functions.c ****         {
 233:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(X_AXIS_STEP);
 234:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(Y_AXIS_STEP);
 235:Core/Src/Functions.c ****             DelayMicrosecond(speed);
 236:Core/Src/Functions.c ****         }
 237:Core/Src/Functions.c ****         break;
 238:Core/Src/Functions.c ****     }
 239:Core/Src/Functions.c **** }
 1553              		.loc 1 239 1
 1554 0028 4BE0     		b	.L110
 1555              	.L103:
 219:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(Y_AXIS_DIR, dir_Y);
 1556              		.loc 1 219 9
 1557 002a 3B88     		ldrh	r3, [r7]	@ movhi
 1558 002c DBB2     		uxtb	r3, r3
 1559 002e 1A46     		mov	r2, r3
 1560 0030 0221     		movs	r1, #2
 1561 0032 2648     		ldr	r0, .L111
 1562 0034 FFF7FEFF 		bl	HAL_GPIO_WritePin
 220:Core/Src/Functions.c ****         while (READ_PIN(X_STOP_PIN) != state)
 1563              		.loc 1 220 9
 1564 0038 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 1565 003a DBB2     		uxtb	r3, r3
 1566 003c 1A46     		mov	r2, r3
 1567 003e 0421     		movs	r1, #4
 1568 0040 2248     		ldr	r0, .L111
 1569 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 221:Core/Src/Functions.c ****         {
 1570              		.loc 1 221 15
 1571 0046 0CE0     		b	.L106
 1572              	.L107:
 223:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(Y_AXIS_STEP);
 1573              		.loc 1 223 13
 1574 0048 4021     		movs	r1, #64
 1575 004a 2148     		ldr	r0, .L111+4
 1576 004c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 224:Core/Src/Functions.c ****             DelayMicrosecond(speed);
 1577              		.loc 1 224 13
 1578 0050 8021     		movs	r1, #128
 1579 0052 4FF09040 		mov	r0, #1207959552
 1580 0056 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 225:Core/Src/Functions.c ****         }
 1581              		.loc 1 225 13
 1582 005a BB88     		ldrh	r3, [r7, #4]
 1583 005c 1846     		mov	r0, r3
 1584 005e FFF7FEFF 		bl	DelayMicrosecond
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 33


 1585              	.L106:
 221:Core/Src/Functions.c ****         {
 1586              		.loc 1 221 16
 1587 0062 1021     		movs	r1, #16
 1588 0064 1948     		ldr	r0, .L111
 1589 0066 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1590 006a 0346     		mov	r3, r0
 1591 006c 9BB2     		uxth	r3, r3
 221:Core/Src/Functions.c ****         {
 1592              		.loc 1 221 37
 1593 006e FA88     		ldrh	r2, [r7, #6]
 1594 0070 9A42     		cmp	r2, r3
 1595 0072 E9D1     		bne	.L107
 227:Core/Src/Functions.c ****     case Y_AXIS:
 1596              		.loc 1 227 9
 1597 0074 25E0     		b	.L105
 1598              	.L104:
 229:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(Y_AXIS_DIR, dir_Y);
 1599              		.loc 1 229 9
 1600 0076 3B88     		ldrh	r3, [r7]	@ movhi
 1601 0078 DBB2     		uxtb	r3, r3
 1602 007a 1A46     		mov	r2, r3
 1603 007c 0221     		movs	r1, #2
 1604 007e 1348     		ldr	r0, .L111
 1605 0080 FFF7FEFF 		bl	HAL_GPIO_WritePin
 230:Core/Src/Functions.c ****         while (READ_PIN(Y_STOP_PIN) != state)
 1606              		.loc 1 230 9
 1607 0084 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 1608 0086 DBB2     		uxtb	r3, r3
 1609 0088 1A46     		mov	r2, r3
 1610 008a 0421     		movs	r1, #4
 1611 008c 0F48     		ldr	r0, .L111
 1612 008e FFF7FEFF 		bl	HAL_GPIO_WritePin
 231:Core/Src/Functions.c ****         {
 1613              		.loc 1 231 15
 1614 0092 0CE0     		b	.L108
 1615              	.L109:
 233:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(Y_AXIS_STEP);
 1616              		.loc 1 233 13
 1617 0094 4021     		movs	r1, #64
 1618 0096 0E48     		ldr	r0, .L111+4
 1619 0098 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 234:Core/Src/Functions.c ****             DelayMicrosecond(speed);
 1620              		.loc 1 234 13
 1621 009c 8021     		movs	r1, #128
 1622 009e 4FF09040 		mov	r0, #1207959552
 1623 00a2 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 235:Core/Src/Functions.c ****         }
 1624              		.loc 1 235 13
 1625 00a6 BB88     		ldrh	r3, [r7, #4]
 1626 00a8 1846     		mov	r0, r3
 1627 00aa FFF7FEFF 		bl	DelayMicrosecond
 1628              	.L108:
 231:Core/Src/Functions.c ****         {
 1629              		.loc 1 231 16
 1630 00ae 2021     		movs	r1, #32
 1631 00b0 0648     		ldr	r0, .L111
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 34


 1632 00b2 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1633 00b6 0346     		mov	r3, r0
 1634 00b8 9BB2     		uxth	r3, r3
 231:Core/Src/Functions.c ****         {
 1635              		.loc 1 231 37
 1636 00ba FA88     		ldrh	r2, [r7, #6]
 1637 00bc 9A42     		cmp	r2, r3
 1638 00be E9D1     		bne	.L109
 237:Core/Src/Functions.c ****     }
 1639              		.loc 1 237 9
 1640 00c0 00BF     		nop
 1641              	.L105:
 1642              	.L110:
 1643              		.loc 1 239 1
 1644 00c2 00BF     		nop
 1645 00c4 0C37     		adds	r7, r7, #12
 1646              		.cfi_def_cfa_offset 12
 1647 00c6 BD46     		mov	sp, r7
 1648              		.cfi_def_cfa_register 13
 1649              		@ sp needed
 1650 00c8 90BD     		pop	{r4, r7, pc}
 1651              	.L112:
 1652 00ca 00BF     		.align	2
 1653              	.L111:
 1654 00cc 00140048 		.word	1207964672
 1655 00d0 00080048 		.word	1207961600
 1656              		.cfi_endproc
 1657              	.LFE327:
 1659              		.text
 1660              	.Letext0:
 1661              		.file 2 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 1662              		.file 3 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 1663              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4p5xx.h"
 1664              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 1665              		.file 6 "Core/Inc/GCodes.h"
 1666              		.file 7 "Core/Inc/main.h"
 1667              		.file 8 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 1668              		.file 9 "Core/Inc/Parser.h"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 35


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Functions.c
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:20     .bss.msg_buffer:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:23     .bss.msg_buffer:0000000000000000 msg_buffer
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:26     .bss.RxBuf:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:29     .bss.RxBuf:0000000000000000 RxBuf
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:32     .text.SelectDriver:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:38     .text.SelectDriver:0000000000000000 SelectDriver
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:63     .text.SelectDriver:0000000000000018 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:67     .text.SelectDriver:0000000000000028 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:133    .text.SelectDriver:0000000000000088 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:143    .text.GetTemperature:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:149    .text.GetTemperature:0000000000000000 GetTemperature
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:317    .text.GetTemperature:0000000000000158 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:343    .text.SetHeating:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:349    .text.SetHeating:0000000000000000 SetHeating
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:394    .text.SetHeating:000000000000002c $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:399    .text.SetFanSpeed:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:405    .text.SetFanSpeed:0000000000000000 SetFanSpeed
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:450    .text.SetFanSpeed:000000000000002c $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:459    .text.MoveXY:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:465    .text.MoveXY:0000000000000000 MoveXY
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:785    .text.MoveXY:00000000000002a8 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:804    .text.MoveXY:00000000000002ec $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1072   .text.MoveXY:0000000000000528 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1092   .text.Move:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1098   .text.Move:0000000000000000 Move
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1171   .text.Move:0000000000000088 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1175   .text.Move:0000000000000098 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1319   .text.Move:00000000000001b8 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1323   .text.Move:00000000000001c8 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1488   .text.Move:00000000000002f8 $d
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1514   .text.MoveAndWait:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1520   .text.MoveAndWait:0000000000000000 MoveAndWait
C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s:1654   .text.MoveAndWait:00000000000000cc $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
__aeabi_i2d
__aeabi_dmul
__aeabi_dsub
__aeabi_ddiv
__aeabi_dadd
log
pow
__aeabi_dcmpgt
__aeabi_d2uiz
__aeabi_dcmplt
__aeabi_ui2d
GetTicks
HAL_GPIO_TogglePin
F
last_tick_A
last_tick_B
last_tick_AB
Cur_X
Cur_Y
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccCT9qHG.s 			page 36


__aeabi_dcmpge
__aeabi_dcmple
isRunning
Cur_E
last_time_E
Cur_Z
last_time_Z
last_time_X
last_time_Y
DelayMicrosecond
HAL_GPIO_ReadPin
