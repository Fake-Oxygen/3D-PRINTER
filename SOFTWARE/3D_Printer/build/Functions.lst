ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Functions.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.bss.msg_buffer,"aw",%nobits
  20              		.align	2
  23              	msg_buffer:
  24 0000 00000000 		.space	30
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25              		.section	.bss.RxBuf,"aw",%nobits
  26              		.align	2
  29              	RxBuf:
  30 0000 00000000 		.space	20
  30      00000000 
  30      00000000 
  30      00000000 
  30      00000000 
  31              		.section	.text.SelectDriver,"ax",%progbits
  32              		.align	1
  33              		.global	SelectDriver
  34              		.syntax unified
  35              		.thumb
  36              		.thumb_func
  38              	SelectDriver:
  39              	.LFB321:
  40              		.file 1 "Core/Src/Functions.c"
   1:Core/Src/Functions.c **** #include "Functions.h"
   2:Core/Src/Functions.c **** 
   3:Core/Src/Functions.c **** void SelectDriver(uint16_t axis)
   4:Core/Src/Functions.c **** {
  41              		.loc 1 4 1
  42              		.cfi_startproc
  43              		@ args = 0, pretend = 0, frame = 8
  44              		@ frame_needed = 1, uses_anonymous_args = 0
  45 0000 80B5     		push	{r7, lr}
  46              		.cfi_def_cfa_offset 8
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49 0002 82B0     		sub	sp, sp, #8
  50              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 2


  51 0004 00AF     		add	r7, sp, #0
  52              		.cfi_def_cfa_register 7
  53 0006 0346     		mov	r3, r0
  54 0008 FB80     		strh	r3, [r7, #6]	@ movhi
   5:Core/Src/Functions.c ****     switch (axis)
  55              		.loc 1 5 5
  56 000a FB88     		ldrh	r3, [r7, #6]
  57 000c 032B     		cmp	r3, #3
  58 000e 37D8     		bhi	.L8
  59 0010 01A2     		adr	r2, .L4
  60 0012 52F823F0 		ldr	pc, [r2, r3, lsl #2]
  61 0016 00BF     		.p2align 2
  62              	.L4:
  63 0018 29000000 		.word	.L7+1
  64 001c 3F000000 		.word	.L6+1
  65 0020 55000000 		.word	.L5+1
  66 0024 6B000000 		.word	.L3+1
  67              		.p2align 1
  68              	.L7:
   6:Core/Src/Functions.c ****     {
   7:Core/Src/Functions.c ****     case X_AXIS:
   8:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 0);
  69              		.loc 1 8 9
  70 0028 0022     		movs	r2, #0
  71 002a 4021     		movs	r1, #64
  72 002c 1648     		ldr	r0, .L10
  73 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
   9:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 0);
  74              		.loc 1 9 9
  75 0032 0022     		movs	r2, #0
  76 0034 8021     		movs	r1, #128
  77 0036 1448     		ldr	r0, .L10
  78 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
  10:Core/Src/Functions.c ****         break;
  79              		.loc 1 10 9
  80 003c 20E0     		b	.L2
  81              	.L6:
  11:Core/Src/Functions.c ****     case Y_AXIS:
  12:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 1);
  82              		.loc 1 12 9
  83 003e 0122     		movs	r2, #1
  84 0040 4021     		movs	r1, #64
  85 0042 1148     		ldr	r0, .L10
  86 0044 FFF7FEFF 		bl	HAL_GPIO_WritePin
  13:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 0);
  87              		.loc 1 13 9
  88 0048 0022     		movs	r2, #0
  89 004a 8021     		movs	r1, #128
  90 004c 0E48     		ldr	r0, .L10
  91 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
  14:Core/Src/Functions.c ****         break;
  92              		.loc 1 14 9
  93 0052 15E0     		b	.L2
  94              	.L5:
  15:Core/Src/Functions.c ****     case E_AXIS:
  16:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 0);
  95              		.loc 1 16 9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 3


  96 0054 0022     		movs	r2, #0
  97 0056 4021     		movs	r1, #64
  98 0058 0B48     		ldr	r0, .L10
  99 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
  17:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 1);
 100              		.loc 1 17 9
 101 005e 0122     		movs	r2, #1
 102 0060 8021     		movs	r1, #128
 103 0062 0948     		ldr	r0, .L10
 104 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
  18:Core/Src/Functions.c ****         break;
 105              		.loc 1 18 9
 106 0068 0AE0     		b	.L2
 107              	.L3:
  19:Core/Src/Functions.c ****     case Z_AXIS:
  20:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_A, 1);
 108              		.loc 1 20 9
 109 006a 0122     		movs	r2, #1
 110 006c 4021     		movs	r1, #64
 111 006e 0648     		ldr	r0, .L10
 112 0070 FFF7FEFF 		bl	HAL_GPIO_WritePin
  21:Core/Src/Functions.c ****         WRITE_PIN(MPLX_PIN_B, 1);
 113              		.loc 1 21 9
 114 0074 0122     		movs	r2, #1
 115 0076 8021     		movs	r1, #128
 116 0078 0348     		ldr	r0, .L10
 117 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
  22:Core/Src/Functions.c ****         break;
 118              		.loc 1 22 9
 119 007e 00BF     		nop
 120              	.L2:
 121              	.L8:
  23:Core/Src/Functions.c ****     }
  24:Core/Src/Functions.c **** }
 122              		.loc 1 24 1
 123 0080 00BF     		nop
 124 0082 0837     		adds	r7, r7, #8
 125              		.cfi_def_cfa_offset 8
 126 0084 BD46     		mov	sp, r7
 127              		.cfi_def_cfa_register 13
 128              		@ sp needed
 129 0086 80BD     		pop	{r7, pc}
 130              	.L11:
 131              		.align	2
 132              	.L10:
 133 0088 00140048 		.word	1207964672
 134              		.cfi_endproc
 135              	.LFE321:
 137              		.global	__aeabi_i2d
 138              		.global	__aeabi_dmul
 139              		.global	__aeabi_dsub
 140              		.global	__aeabi_ddiv
 141              		.global	__aeabi_dadd
 142              		.section	.text.GetTemperature,"ax",%progbits
 143              		.align	1
 144              		.global	GetTemperature
 145              		.syntax unified
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 4


 146              		.thumb
 147              		.thumb_func
 149              	GetTemperature:
 150              	.LFB322:
  25:Core/Src/Functions.c **** 
  26:Core/Src/Functions.c **** double GetTemperature(uint16_t adc, uint16_t value)
  27:Core/Src/Functions.c **** {
 151              		.loc 1 27 1
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 24
 154              		@ frame_needed = 1, uses_anonymous_args = 0
 155 0000 B0B5     		push	{r4, r5, r7, lr}
 156              		.cfi_def_cfa_offset 16
 157              		.cfi_offset 4, -16
 158              		.cfi_offset 5, -12
 159              		.cfi_offset 7, -8
 160              		.cfi_offset 14, -4
 161 0002 86B0     		sub	sp, sp, #24
 162              		.cfi_def_cfa_offset 40
 163 0004 00AF     		add	r7, sp, #0
 164              		.cfi_def_cfa_register 7
 165 0006 0346     		mov	r3, r0
 166 0008 0A46     		mov	r2, r1
 167 000a FB80     		strh	r3, [r7, #6]	@ movhi
 168 000c 1346     		mov	r3, r2	@ movhi
 169 000e BB80     		strh	r3, [r7, #4]	@ movhi
  28:Core/Src/Functions.c ****     double resistance, val;
  29:Core/Src/Functions.c ****     switch (adc)
 170              		.loc 1 29 5
 171 0010 FB88     		ldrh	r3, [r7, #6]
 172 0012 012B     		cmp	r3, #1
 173 0014 02D0     		beq	.L13
 174 0016 022B     		cmp	r3, #2
 175 0018 6FD0     		beq	.L14
 176 001a 93E0     		b	.L17
 177              	.L13:
  30:Core/Src/Functions.c ****     {
  31:Core/Src/Functions.c ****     case ADC_HOT_END:
  32:Core/Src/Functions.c ****         val = (ADC_VOLTAGE / ADC_SAMPLING) * value;
 178              		.loc 1 32 44
 179 001c BB88     		ldrh	r3, [r7, #4]
 180 001e 1846     		mov	r0, r3
 181 0020 FFF7FEFF 		bl	__aeabi_i2d
 182              		.loc 1 32 13
 183 0024 50A3     		adr	r3, .L18+16
 184 0026 D3E90023 		ldrd	r2, [r3]
 185 002a FFF7FEFF 		bl	__aeabi_dmul
 186 002e 0246     		mov	r2, r0
 187 0030 0B46     		mov	r3, r1
 188 0032 C7E90423 		strd	r2, [r7, #16]
  33:Core/Src/Functions.c ****         resistance = val / ((ADC_VOLTAGE - val) / HOT_END_RESISTANCE);
 189              		.loc 1 33 42
 190 0036 D7E90423 		ldrd	r2, [r7, #16]
 191 003a 53A1     		adr	r1, .L18+48
 192 003c D1E90001 		ldrd	r0, [r1]
 193 0040 FFF7FEFF 		bl	__aeabi_dsub
 194 0044 0246     		mov	r2, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 5


 195 0046 0B46     		mov	r3, r1
 196 0048 1046     		mov	r0, r2
 197 004a 1946     		mov	r1, r3
 198              		.loc 1 33 49
 199 004c 50A3     		adr	r3, .L18+56
 200 004e D3E90023 		ldrd	r2, [r3]
 201 0052 FFF7FEFF 		bl	__aeabi_ddiv
 202 0056 0246     		mov	r2, r0
 203 0058 0B46     		mov	r3, r1
 204              		.loc 1 33 20
 205 005a D7E90401 		ldrd	r0, [r7, #16]
 206 005e FFF7FEFF 		bl	__aeabi_ddiv
 207 0062 0246     		mov	r2, r0
 208 0064 0B46     		mov	r3, r1
 209 0066 C7E90223 		strd	r2, [r7, #8]
  34:Core/Src/Functions.c ****         return 1 / (HOT_END_THERM_A + HOT_END_THERM_B * log(resistance) + HOT_END_THERM_C * pow(log
 210              		.loc 1 34 57
 211 006a 97ED020B 		vldr.64	d0, [r7, #8]
 212 006e FFF7FEFF 		bl	log
 213 0072 51EC100B 		vmov	r0, r1, d0
 214              		.loc 1 34 55
 215 0076 48A3     		adr	r3, .L18+64
 216 0078 D3E90023 		ldrd	r2, [r3]
 217 007c FFF7FEFF 		bl	__aeabi_dmul
 218 0080 0246     		mov	r2, r0
 219 0082 0B46     		mov	r3, r1
 220 0084 1046     		mov	r0, r2
 221 0086 1946     		mov	r1, r3
 222              		.loc 1 34 37
 223 0088 45A3     		adr	r3, .L18+72
 224 008a D3E90023 		ldrd	r2, [r3]
 225 008e FFF7FEFF 		bl	__aeabi_dadd
 226 0092 0246     		mov	r2, r0
 227 0094 0B46     		mov	r3, r1
 228 0096 1446     		mov	r4, r2
 229 0098 1D46     		mov	r5, r3
 230              		.loc 1 34 93
 231 009a 97ED020B 		vldr.64	d0, [r7, #8]
 232 009e FFF7FEFF 		bl	log
 233 00a2 B0EE407A 		vmov.f32	s14, s0
 234 00a6 F0EE607A 		vmov.f32	s15, s1
 235 00aa 9FED2B1B 		vldr.64	d1, .L18
 236 00ae B0EE470A 		vmov.f32	s0, s14
 237 00b2 F0EE670A 		vmov.f32	s1, s15
 238 00b6 FFF7FEFF 		bl	pow
 239 00ba 51EC100B 		vmov	r0, r1, d0
 240              		.loc 1 34 91
 241 00be 3AA3     		adr	r3, .L18+80
 242 00c0 D3E90023 		ldrd	r2, [r3]
 243 00c4 FFF7FEFF 		bl	__aeabi_dmul
 244 00c8 0246     		mov	r2, r0
 245 00ca 0B46     		mov	r3, r1
 246              		.loc 1 34 73
 247 00cc 2046     		mov	r0, r4
 248 00ce 2946     		mov	r1, r5
 249 00d0 FFF7FEFF 		bl	__aeabi_dadd
 250 00d4 0246     		mov	r2, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 6


 251 00d6 0B46     		mov	r3, r1
 252              		.loc 1 34 18
 253 00d8 4FF00000 		mov	r0, #0
 254 00dc 2849     		ldr	r1, .L18+40
 255 00de FFF7FEFF 		bl	__aeabi_ddiv
 256 00e2 0246     		mov	r2, r0
 257 00e4 0B46     		mov	r3, r1
 258 00e6 1046     		mov	r0, r2
 259 00e8 1946     		mov	r1, r3
 260              		.loc 1 34 118
 261 00ea 1DA3     		adr	r3, .L18+8
 262 00ec D3E90023 		ldrd	r2, [r3]
 263 00f0 FFF7FEFF 		bl	__aeabi_dsub
 264 00f4 0246     		mov	r2, r0
 265 00f6 0B46     		mov	r3, r1
 266 00f8 25E0     		b	.L16
 267              	.L14:
  35:Core/Src/Functions.c ****         break;
  36:Core/Src/Functions.c ****     case ADC_STM_TEMP:
  37:Core/Src/Functions.c ****         return ((V30 - (ADC_VOLTAGE / ADC_SAMPLING * value)) / AVG_SLOPE + 30);
 268              		.loc 1 37 52
 269 00fa BB88     		ldrh	r3, [r7, #4]
 270 00fc 1846     		mov	r0, r3
 271 00fe FFF7FEFF 		bl	__aeabi_i2d
 272 0102 19A3     		adr	r3, .L18+16
 273 0104 D3E90023 		ldrd	r2, [r3]
 274 0108 FFF7FEFF 		bl	__aeabi_dmul
 275 010c 0246     		mov	r2, r0
 276 010e 0B46     		mov	r3, r1
 277              		.loc 1 37 22
 278 0110 17A1     		adr	r1, .L18+24
 279 0112 D1E90001 		ldrd	r0, [r1]
 280 0116 FFF7FEFF 		bl	__aeabi_dsub
 281 011a 0246     		mov	r2, r0
 282 011c 0B46     		mov	r3, r1
 283 011e 1046     		mov	r0, r2
 284 0120 1946     		mov	r1, r3
 285              		.loc 1 37 62
 286 0122 15A3     		adr	r3, .L18+32
 287 0124 D3E90023 		ldrd	r2, [r3]
 288 0128 FFF7FEFF 		bl	__aeabi_ddiv
 289 012c 0246     		mov	r2, r0
 290 012e 0B46     		mov	r3, r1
 291 0130 1046     		mov	r0, r2
 292 0132 1946     		mov	r1, r3
 293              		.loc 1 37 74
 294 0134 4FF00002 		mov	r2, #0
 295 0138 124B     		ldr	r3, .L18+44
 296 013a FFF7FEFF 		bl	__aeabi_dadd
 297 013e 0246     		mov	r2, r0
 298 0140 0B46     		mov	r3, r1
 299 0142 00E0     		b	.L16
 300              	.L17:
  38:Core/Src/Functions.c ****         break;
  39:Core/Src/Functions.c ****     }
  40:Core/Src/Functions.c **** }
 301              		.loc 1 40 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 7


 302 0144 01E0     		b	.L12
 303              	.L16:
 304 0146 43EC172B 		vmov	d7, r2, r3
 305              	.L12:
 306 014a B0EE470A 		vmov.f32	s0, s14
 307 014e F0EE670A 		vmov.f32	s1, s15
 308 0152 1837     		adds	r7, r7, #24
 309              		.cfi_def_cfa_offset 16
 310 0154 BD46     		mov	sp, r7
 311              		.cfi_def_cfa_register 13
 312              		@ sp needed
 313 0156 B0BD     		pop	{r4, r5, r7, pc}
 314              	.L19:
 315              		.align	3
 316              	.L18:
 317 0158 00000000 		.word	0
 318 015c 00000840 		.word	1074266112
 319 0160 66666666 		.word	1717986918
 320 0164 66127140 		.word	1081152102
 321 0168 66666666 		.word	1717986918
 322 016c 66660A3F 		.word	1057646182
 323 0170 52B81E85 		.word	-2061584302
 324 0174 EB51E83F 		.word	1072189931
 325 0178 7B14AE47 		.word	1202590843
 326 017c E17A643F 		.word	1063549665
 327 0180 0000F03F 		.word	1072693248
 328 0184 00003E40 		.word	1077805056
 329 0188 66666666 		.word	1717986918
 330 018c 66660A40 		.word	1074423398
 331 0190 00000000 		.word	0
 332 0194 0088C340 		.word	1086556160
 333 0198 0395F1EF 		.word	-269380349
 334 019c 332E2C3F 		.word	1059860019
 335 01a0 D7F7E120 		.word	551679959
 336 01a4 21CA473F 		.word	1061669409
 337 01a8 B905B0A0 		.word	-1599076935
 338 01ac E7517C3E 		.word	1048334823
 339              		.cfi_endproc
 340              	.LFE322:
 342              		.section	.text.SetHeating,"ax",%progbits
 343              		.align	1
 344              		.global	SetHeating
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 349              	SetHeating:
 350              	.LFB323:
  41:Core/Src/Functions.c **** 
  42:Core/Src/Functions.c **** void SetHeating(uint16_t heater, uint16_t power)
  43:Core/Src/Functions.c **** {
 351              		.loc 1 43 1
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 8
 354              		@ frame_needed = 1, uses_anonymous_args = 0
 355              		@ link register save eliminated.
 356 0000 80B4     		push	{r7}
 357              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 8


 358              		.cfi_offset 7, -4
 359 0002 83B0     		sub	sp, sp, #12
 360              		.cfi_def_cfa_offset 16
 361 0004 00AF     		add	r7, sp, #0
 362              		.cfi_def_cfa_register 7
 363 0006 0346     		mov	r3, r0
 364 0008 0A46     		mov	r2, r1
 365 000a FB80     		strh	r3, [r7, #6]	@ movhi
 366 000c 1346     		mov	r3, r2	@ movhi
 367 000e BB80     		strh	r3, [r7, #4]	@ movhi
  44:Core/Src/Functions.c ****     switch (heater)
 368              		.loc 1 44 5
 369 0010 FB88     		ldrh	r3, [r7, #6]
 370 0012 002B     		cmp	r3, #0
 371 0014 03D1     		bne	.L22
  45:Core/Src/Functions.c ****     {
  46:Core/Src/Functions.c ****     case HOT_END:
  47:Core/Src/Functions.c ****         TIM3->CCR2 = power;
 372              		.loc 1 47 13
 373 0016 054A     		ldr	r2, .L23
 374              		.loc 1 47 20
 375 0018 BB88     		ldrh	r3, [r7, #4]
 376 001a 9363     		str	r3, [r2, #56]
  48:Core/Src/Functions.c ****         break;
 377              		.loc 1 48 9
 378 001c 00BF     		nop
 379              	.L22:
  49:Core/Src/Functions.c ****     }
  50:Core/Src/Functions.c **** }
 380              		.loc 1 50 1
 381 001e 00BF     		nop
 382 0020 0C37     		adds	r7, r7, #12
 383              		.cfi_def_cfa_offset 4
 384 0022 BD46     		mov	sp, r7
 385              		.cfi_def_cfa_register 13
 386              		@ sp needed
 387 0024 5DF8047B 		ldr	r7, [sp], #4
 388              		.cfi_restore 7
 389              		.cfi_def_cfa_offset 0
 390 0028 7047     		bx	lr
 391              	.L24:
 392 002a 00BF     		.align	2
 393              	.L23:
 394 002c 00040040 		.word	1073742848
 395              		.cfi_endproc
 396              	.LFE323:
 398              		.section	.text.SetFanSpeed,"ax",%progbits
 399              		.align	1
 400              		.global	SetFanSpeed
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 405              	SetFanSpeed:
 406              	.LFB324:
  51:Core/Src/Functions.c **** 
  52:Core/Src/Functions.c **** void SetFanSpeed(uint16_t fan, uint16_t speed)
  53:Core/Src/Functions.c **** {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 9


 407              		.loc 1 53 1
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 8
 410              		@ frame_needed = 1, uses_anonymous_args = 0
 411              		@ link register save eliminated.
 412 0000 80B4     		push	{r7}
 413              		.cfi_def_cfa_offset 4
 414              		.cfi_offset 7, -4
 415 0002 83B0     		sub	sp, sp, #12
 416              		.cfi_def_cfa_offset 16
 417 0004 00AF     		add	r7, sp, #0
 418              		.cfi_def_cfa_register 7
 419 0006 0346     		mov	r3, r0
 420 0008 0A46     		mov	r2, r1
 421 000a FB80     		strh	r3, [r7, #6]	@ movhi
 422 000c 1346     		mov	r3, r2	@ movhi
 423 000e BB80     		strh	r3, [r7, #4]	@ movhi
  54:Core/Src/Functions.c ****     switch (fan)
 424              		.loc 1 54 5
 425 0010 FB88     		ldrh	r3, [r7, #6]
 426 0012 002B     		cmp	r3, #0
 427 0014 03D1     		bne	.L27
  55:Core/Src/Functions.c ****     {
  56:Core/Src/Functions.c ****     case HOT_END_FAN:
  57:Core/Src/Functions.c ****         TIM3->CCR3 = speed;
 428              		.loc 1 57 13
 429 0016 054A     		ldr	r2, .L28
 430              		.loc 1 57 20
 431 0018 BB88     		ldrh	r3, [r7, #4]
 432 001a D363     		str	r3, [r2, #60]
  58:Core/Src/Functions.c ****         break;
 433              		.loc 1 58 9
 434 001c 00BF     		nop
 435              	.L27:
  59:Core/Src/Functions.c ****     }
  60:Core/Src/Functions.c **** }
 436              		.loc 1 60 1
 437 001e 00BF     		nop
 438 0020 0C37     		adds	r7, r7, #12
 439              		.cfi_def_cfa_offset 4
 440 0022 BD46     		mov	sp, r7
 441              		.cfi_def_cfa_register 13
 442              		@ sp needed
 443 0024 5DF8047B 		ldr	r7, [sp], #4
 444              		.cfi_restore 7
 445              		.cfi_def_cfa_offset 0
 446 0028 7047     		bx	lr
 447              	.L29:
 448 002a 00BF     		.align	2
 449              	.L28:
 450 002c 00040040 		.word	1073742848
 451              		.cfi_endproc
 452              	.LFE324:
 454              		.global	__aeabi_dcmpge
 455              		.global	__aeabi_dcmple
 456              		.global	__aeabi_dcmplt
 457              		.section	.text.Move,"ax",%progbits
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 10


 458              		.align	1
 459              		.global	Move
 460              		.syntax unified
 461              		.thumb
 462              		.thumb_func
 464              	Move:
 465              	.LFB325:
  61:Core/Src/Functions.c **** 
  62:Core/Src/Functions.c **** void Move(double dif, uint32_t last_time, uint16_t axis, uint16_t speed)
  63:Core/Src/Functions.c **** {
 466              		.loc 1 63 1
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 16
 469              		@ frame_needed = 1, uses_anonymous_args = 0
 470 0000 80B5     		push	{r7, lr}
 471              		.cfi_def_cfa_offset 8
 472              		.cfi_offset 7, -8
 473              		.cfi_offset 14, -4
 474 0002 84B0     		sub	sp, sp, #16
 475              		.cfi_def_cfa_offset 24
 476 0004 00AF     		add	r7, sp, #0
 477              		.cfi_def_cfa_register 7
 478 0006 87ED020B 		vstr.64	d0, [r7, #8]
 479 000a 7860     		str	r0, [r7, #4]
 480 000c 0B46     		mov	r3, r1
 481 000e 7B80     		strh	r3, [r7, #2]	@ movhi
 482 0010 1346     		mov	r3, r2	@ movhi
 483 0012 3B80     		strh	r3, [r7]	@ movhi
  64:Core/Src/Functions.c ****     if (dif >= OFFSET_P || dif <= OFFSET_N)
 484              		.loc 1 64 8
 485 0014 A2A3     		adr	r3, .L54+56
 486 0016 D3E90023 		ldrd	r2, [r3]
 487 001a D7E90201 		ldrd	r0, [r7, #8]
 488 001e FFF7FEFF 		bl	__aeabi_dcmpge
 489 0022 0346     		mov	r3, r0
 490 0024 002B     		cmp	r3, #0
 491 0026 0AD1     		bne	.L31
 492              		.loc 1 64 25 discriminator 1
 493 0028 9FA3     		adr	r3, .L54+64
 494 002a D3E90023 		ldrd	r2, [r3]
 495 002e D7E90201 		ldrd	r0, [r7, #8]
 496 0032 FFF7FEFF 		bl	__aeabi_dcmple
 497 0036 0346     		mov	r3, r0
 498 0038 002B     		cmp	r3, #0
 499 003a 00F00B81 		beq	.L48
 500              	.L31:
  65:Core/Src/Functions.c ****     {
  66:Core/Src/Functions.c ****         if (GetTicks() - last_time >= speed && speed > 0)
 501              		.loc 1 66 13
 502 003e FFF7FEFF 		bl	GetTicks
 503 0042 0346     		mov	r3, r0
 504 0044 1A46     		mov	r2, r3
 505              		.loc 1 66 24
 506 0046 7B68     		ldr	r3, [r7, #4]
 507 0048 D21A     		subs	r2, r2, r3
 508              		.loc 1 66 36
 509 004a 3B88     		ldrh	r3, [r7]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 11


 510              		.loc 1 66 12
 511 004c 9A42     		cmp	r2, r3
 512 004e C0F00581 		bcc	.L50
 513              		.loc 1 66 45 discriminator 1
 514 0052 3B88     		ldrh	r3, [r7]
 515 0054 002B     		cmp	r3, #0
 516 0056 00F00181 		beq	.L50
  67:Core/Src/Functions.c ****         {
  68:Core/Src/Functions.c ****             isRunning = true;
 517              		.loc 1 68 23
 518 005a 874B     		ldr	r3, .L54+16
 519 005c 0122     		movs	r2, #1
 520 005e 1A70     		strb	r2, [r3]
  69:Core/Src/Functions.c ****             if (dif < 0)
 521              		.loc 1 69 16
 522 0060 4FF00002 		mov	r2, #0
 523 0064 4FF00003 		mov	r3, #0
 524 0068 D7E90201 		ldrd	r0, [r7, #8]
 525 006c FFF7FEFF 		bl	__aeabi_dcmplt
 526 0070 0346     		mov	r3, r0
 527 0072 002B     		cmp	r3, #0
 528 0074 75D0     		beq	.L49
  70:Core/Src/Functions.c ****             {
  71:Core/Src/Functions.c ****                 switch (axis)
 529              		.loc 1 71 17
 530 0076 7B88     		ldrh	r3, [r7, #2]
 531 0078 022B     		cmp	r3, #2
 532 007a 07D0     		beq	.L37
 533 007c 022B     		cmp	r3, #2
 534 007e 00F3E580 		bgt	.L51
 535 0082 002B     		cmp	r3, #0
 536 0084 1FD0     		beq	.L39
 537 0086 012B     		cmp	r3, #1
 538 0088 44D0     		beq	.L40
  72:Core/Src/Functions.c ****                 {
  73:Core/Src/Functions.c ****                 case E_AXIS:
  74:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(E_AXIS_DIR, COUNTERCLOCKWISE);
  75:Core/Src/Functions.c ****                     Cur_E -= E_MM_PER_REV / STEPS_PER_REV;
  76:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(E_AXIS_STEP);
  77:Core/Src/Functions.c ****                     last_time_E = GetTicks();
  78:Core/Src/Functions.c ****                     break;
  79:Core/Src/Functions.c ****                 case X_AXIS:
  80:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, CLOCKWISE);
  81:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
  82:Core/Src/Functions.c ****                     Cur_X -= XY_MM_PER_REV / XY_STEPS_PER_REV;
  83:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
  84:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
  85:Core/Src/Functions.c ****                     last_time_X = GetTicks();
  86:Core/Src/Functions.c ****                     break;
  87:Core/Src/Functions.c ****                 case Y_AXIS:
  88:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, CLOCKWISE);
  89:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
  90:Core/Src/Functions.c ****                     Cur_Y -= XY_MM_PER_REV / XY_STEPS_PER_REV;
  91:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
  92:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
  93:Core/Src/Functions.c ****                     last_time_Y = GetTicks();
  94:Core/Src/Functions.c ****                     break;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 12


  95:Core/Src/Functions.c ****                 default:
  96:Core/Src/Functions.c ****                     break;
 539              		.loc 1 96 21
 540 008a DFE0     		b	.L51
 541              	.L37:
  74:Core/Src/Functions.c ****                     Cur_E -= E_MM_PER_REV / STEPS_PER_REV;
 542              		.loc 1 74 21
 543 008c 0122     		movs	r2, #1
 544 008e 0821     		movs	r1, #8
 545 0090 7A48     		ldr	r0, .L54+20
 546 0092 FFF7FEFF 		bl	HAL_GPIO_WritePin
  75:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(E_AXIS_STEP);
 547              		.loc 1 75 27
 548 0096 7A4B     		ldr	r3, .L54+24
 549 0098 D3E90001 		ldrd	r0, [r3]
 550 009c 72A3     		adr	r3, .L54
 551 009e D3E90023 		ldrd	r2, [r3]
 552 00a2 FFF7FEFF 		bl	__aeabi_dsub
 553 00a6 0246     		mov	r2, r0
 554 00a8 0B46     		mov	r3, r1
 555 00aa 7549     		ldr	r1, .L54+24
 556 00ac C1E90023 		strd	r2, [r1]
  76:Core/Src/Functions.c ****                     last_time_E = GetTicks();
 557              		.loc 1 76 21
 558 00b0 0121     		movs	r1, #1
 559 00b2 7448     		ldr	r0, .L54+28
 560 00b4 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  77:Core/Src/Functions.c ****                     break;
 561              		.loc 1 77 35
 562 00b8 FFF7FEFF 		bl	GetTicks
 563 00bc 0346     		mov	r3, r0
 564 00be 1A46     		mov	r2, r3
  77:Core/Src/Functions.c ****                     break;
 565              		.loc 1 77 33
 566 00c0 714B     		ldr	r3, .L54+32
 567 00c2 1A60     		str	r2, [r3]
  78:Core/Src/Functions.c ****                 case X_AXIS:
 568              		.loc 1 78 21
 569 00c4 C5E0     		b	.L34
 570              	.L39:
  80:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
 571              		.loc 1 80 21
 572 00c6 0022     		movs	r2, #0
 573 00c8 0221     		movs	r1, #2
 574 00ca 6C48     		ldr	r0, .L54+20
 575 00cc FFF7FEFF 		bl	HAL_GPIO_WritePin
  81:Core/Src/Functions.c ****                     Cur_X -= XY_MM_PER_REV / XY_STEPS_PER_REV;
 576              		.loc 1 81 21
 577 00d0 0022     		movs	r2, #0
 578 00d2 0421     		movs	r1, #4
 579 00d4 6948     		ldr	r0, .L54+20
 580 00d6 FFF7FEFF 		bl	HAL_GPIO_WritePin
  82:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 581              		.loc 1 82 27
 582 00da 6C4B     		ldr	r3, .L54+36
 583 00dc D3E90001 		ldrd	r0, [r3]
 584 00e0 63A3     		adr	r3, .L54+8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 13


 585 00e2 D3E90023 		ldrd	r2, [r3]
 586 00e6 FFF7FEFF 		bl	__aeabi_dsub
 587 00ea 0246     		mov	r2, r0
 588 00ec 0B46     		mov	r3, r1
 589 00ee 6749     		ldr	r1, .L54+36
 590 00f0 C1E90023 		strd	r2, [r1]
  83:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 591              		.loc 1 83 21
 592 00f4 4021     		movs	r1, #64
 593 00f6 6648     		ldr	r0, .L54+40
 594 00f8 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  84:Core/Src/Functions.c ****                     last_time_X = GetTicks();
 595              		.loc 1 84 21
 596 00fc 8021     		movs	r1, #128
 597 00fe 4FF09040 		mov	r0, #1207959552
 598 0102 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  85:Core/Src/Functions.c ****                     break;
 599              		.loc 1 85 35
 600 0106 FFF7FEFF 		bl	GetTicks
 601 010a 0346     		mov	r3, r0
 602 010c 1A46     		mov	r2, r3
  85:Core/Src/Functions.c ****                     break;
 603              		.loc 1 85 33
 604 010e 614B     		ldr	r3, .L54+44
 605 0110 1A60     		str	r2, [r3]
  86:Core/Src/Functions.c ****                 case Y_AXIS:
 606              		.loc 1 86 21
 607 0112 9EE0     		b	.L34
 608              	.L40:
  88:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
 609              		.loc 1 88 21
 610 0114 0022     		movs	r2, #0
 611 0116 0221     		movs	r1, #2
 612 0118 5848     		ldr	r0, .L54+20
 613 011a FFF7FEFF 		bl	HAL_GPIO_WritePin
  89:Core/Src/Functions.c ****                     Cur_Y -= XY_MM_PER_REV / XY_STEPS_PER_REV;
 614              		.loc 1 89 21
 615 011e 0122     		movs	r2, #1
 616 0120 0421     		movs	r1, #4
 617 0122 5648     		ldr	r0, .L54+20
 618 0124 FFF7FEFF 		bl	HAL_GPIO_WritePin
  90:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 619              		.loc 1 90 27
 620 0128 5B4B     		ldr	r3, .L54+48
 621 012a D3E90001 		ldrd	r0, [r3]
 622 012e 50A3     		adr	r3, .L54+8
 623 0130 D3E90023 		ldrd	r2, [r3]
 624 0134 FFF7FEFF 		bl	__aeabi_dsub
 625 0138 0246     		mov	r2, r0
 626 013a 0B46     		mov	r3, r1
 627 013c 5649     		ldr	r1, .L54+48
 628 013e C1E90023 		strd	r2, [r1]
  91:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 629              		.loc 1 91 21
 630 0142 4021     		movs	r1, #64
 631 0144 5248     		ldr	r0, .L54+40
 632 0146 FFF7FEFF 		bl	HAL_GPIO_TogglePin
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 14


  92:Core/Src/Functions.c ****                     last_time_Y = GetTicks();
 633              		.loc 1 92 21
 634 014a 8021     		movs	r1, #128
 635 014c 4FF09040 		mov	r0, #1207959552
 636 0150 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  93:Core/Src/Functions.c ****                     break;
 637              		.loc 1 93 35
 638 0154 FFF7FEFF 		bl	GetTicks
 639 0158 0346     		mov	r3, r0
 640 015a 1A46     		mov	r2, r3
  93:Core/Src/Functions.c ****                     break;
 641              		.loc 1 93 33
 642 015c 4F4B     		ldr	r3, .L54+52
 643 015e 1A60     		str	r2, [r3]
  94:Core/Src/Functions.c ****                 default:
 644              		.loc 1 94 21
 645 0160 77E0     		b	.L34
 646              	.L49:
  97:Core/Src/Functions.c ****                 }
  98:Core/Src/Functions.c ****             }
  99:Core/Src/Functions.c ****             else
 100:Core/Src/Functions.c ****             {
 101:Core/Src/Functions.c ****                 switch (axis)
 647              		.loc 1 101 17
 648 0162 7B88     		ldrh	r3, [r7, #2]
 649 0164 022B     		cmp	r3, #2
 650 0166 06D0     		beq	.L42
 651 0168 022B     		cmp	r3, #2
 652 016a 71DC     		bgt	.L52
 653 016c 002B     		cmp	r3, #0
 654 016e 1FD0     		beq	.L44
 655 0170 012B     		cmp	r3, #1
 656 0172 44D0     		beq	.L45
 102:Core/Src/Functions.c ****                 {
 103:Core/Src/Functions.c ****                 case E_AXIS:
 104:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(E_AXIS_DIR, CLOCKWISE);
 105:Core/Src/Functions.c ****                     Cur_E += E_MM_PER_REV / STEPS_PER_REV;
 106:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(E_AXIS_STEP);
 107:Core/Src/Functions.c ****                     last_time_E = GetTicks();
 108:Core/Src/Functions.c ****                     break;
 109:Core/Src/Functions.c ****                 case X_AXIS:
 110:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, COUNTERCLOCKWISE);
 111:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
 112:Core/Src/Functions.c ****                     Cur_X += XY_MM_PER_REV / XY_STEPS_PER_REV;
 113:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 114:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 115:Core/Src/Functions.c ****                     last_time_X = GetTicks();
 116:Core/Src/Functions.c ****                     break;
 117:Core/Src/Functions.c ****                 case Y_AXIS:
 118:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(X_AXIS_DIR, COUNTERCLOCKWISE);
 119:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
 120:Core/Src/Functions.c ****                     Cur_Y += XY_MM_PER_REV / XY_STEPS_PER_REV;
 121:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 122:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 123:Core/Src/Functions.c ****                     last_time_Y = GetTicks();
 124:Core/Src/Functions.c ****                     break;
 125:Core/Src/Functions.c ****                 default:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 15


 126:Core/Src/Functions.c ****                     break;
 657              		.loc 1 126 21
 658 0174 6CE0     		b	.L52
 659              	.L42:
 104:Core/Src/Functions.c ****                     Cur_E += E_MM_PER_REV / STEPS_PER_REV;
 660              		.loc 1 104 21
 661 0176 0022     		movs	r2, #0
 662 0178 0821     		movs	r1, #8
 663 017a 4048     		ldr	r0, .L54+20
 664 017c FFF7FEFF 		bl	HAL_GPIO_WritePin
 105:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(E_AXIS_STEP);
 665              		.loc 1 105 27
 666 0180 3F4B     		ldr	r3, .L54+24
 667 0182 D3E90001 		ldrd	r0, [r3]
 668 0186 38A3     		adr	r3, .L54
 669 0188 D3E90023 		ldrd	r2, [r3]
 670 018c FFF7FEFF 		bl	__aeabi_dadd
 671 0190 0246     		mov	r2, r0
 672 0192 0B46     		mov	r3, r1
 673 0194 3A49     		ldr	r1, .L54+24
 674 0196 C1E90023 		strd	r2, [r1]
 106:Core/Src/Functions.c ****                     last_time_E = GetTicks();
 675              		.loc 1 106 21
 676 019a 0121     		movs	r1, #1
 677 019c 3948     		ldr	r0, .L54+28
 678 019e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 107:Core/Src/Functions.c ****                     break;
 679              		.loc 1 107 35
 680 01a2 FFF7FEFF 		bl	GetTicks
 681 01a6 0346     		mov	r3, r0
 682 01a8 1A46     		mov	r2, r3
 107:Core/Src/Functions.c ****                     break;
 683              		.loc 1 107 33
 684 01aa 374B     		ldr	r3, .L54+32
 685 01ac 1A60     		str	r2, [r3]
 108:Core/Src/Functions.c ****                 case X_AXIS:
 686              		.loc 1 108 21
 687 01ae 50E0     		b	.L34
 688              	.L44:
 110:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, COUNTERCLOCKWISE);
 689              		.loc 1 110 21
 690 01b0 0122     		movs	r2, #1
 691 01b2 0221     		movs	r1, #2
 692 01b4 3148     		ldr	r0, .L54+20
 693 01b6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 111:Core/Src/Functions.c ****                     Cur_X += XY_MM_PER_REV / XY_STEPS_PER_REV;
 694              		.loc 1 111 21
 695 01ba 0122     		movs	r2, #1
 696 01bc 0421     		movs	r1, #4
 697 01be 2F48     		ldr	r0, .L54+20
 698 01c0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 112:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 699              		.loc 1 112 27
 700 01c4 314B     		ldr	r3, .L54+36
 701 01c6 D3E90001 		ldrd	r0, [r3]
 702 01ca 29A3     		adr	r3, .L54+8
 703 01cc D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 16


 704 01d0 FFF7FEFF 		bl	__aeabi_dadd
 705 01d4 0246     		mov	r2, r0
 706 01d6 0B46     		mov	r3, r1
 707 01d8 2C49     		ldr	r1, .L54+36
 708 01da C1E90023 		strd	r2, [r1]
 113:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 709              		.loc 1 113 21
 710 01de 4021     		movs	r1, #64
 711 01e0 2B48     		ldr	r0, .L54+40
 712 01e2 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 114:Core/Src/Functions.c ****                     last_time_X = GetTicks();
 713              		.loc 1 114 21
 714 01e6 8021     		movs	r1, #128
 715 01e8 4FF09040 		mov	r0, #1207959552
 716 01ec FFF7FEFF 		bl	HAL_GPIO_TogglePin
 115:Core/Src/Functions.c ****                     break;
 717              		.loc 1 115 35
 718 01f0 FFF7FEFF 		bl	GetTicks
 719 01f4 0346     		mov	r3, r0
 720 01f6 1A46     		mov	r2, r3
 115:Core/Src/Functions.c ****                     break;
 721              		.loc 1 115 33
 722 01f8 264B     		ldr	r3, .L54+44
 723 01fa 1A60     		str	r2, [r3]
 116:Core/Src/Functions.c ****                 case Y_AXIS:
 724              		.loc 1 116 21
 725 01fc 29E0     		b	.L34
 726              	.L45:
 118:Core/Src/Functions.c ****                     CHANGE_MOTOR_DIR(Y_AXIS_DIR, CLOCKWISE);
 727              		.loc 1 118 21
 728 01fe 0122     		movs	r2, #1
 729 0200 0221     		movs	r1, #2
 730 0202 1E48     		ldr	r0, .L54+20
 731 0204 FFF7FEFF 		bl	HAL_GPIO_WritePin
 119:Core/Src/Functions.c ****                     Cur_Y += XY_MM_PER_REV / XY_STEPS_PER_REV;
 732              		.loc 1 119 21
 733 0208 0022     		movs	r2, #0
 734 020a 0421     		movs	r1, #4
 735 020c 1B48     		ldr	r0, .L54+20
 736 020e FFF7FEFF 		bl	HAL_GPIO_WritePin
 120:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(X_AXIS_STEP);
 737              		.loc 1 120 27
 738 0212 214B     		ldr	r3, .L54+48
 739 0214 D3E90001 		ldrd	r0, [r3]
 740 0218 15A3     		adr	r3, .L54+8
 741 021a D3E90023 		ldrd	r2, [r3]
 742 021e FFF7FEFF 		bl	__aeabi_dadd
 743 0222 0246     		mov	r2, r0
 744 0224 0B46     		mov	r3, r1
 745 0226 1C49     		ldr	r1, .L54+48
 746 0228 C1E90023 		strd	r2, [r1]
 121:Core/Src/Functions.c ****                     MAKE_MOTOR_STEP(Y_AXIS_STEP);
 747              		.loc 1 121 21
 748 022c 4021     		movs	r1, #64
 749 022e 1848     		ldr	r0, .L54+40
 750 0230 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 122:Core/Src/Functions.c ****                     last_time_Y = GetTicks();
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 17


 751              		.loc 1 122 21
 752 0234 8021     		movs	r1, #128
 753 0236 4FF09040 		mov	r0, #1207959552
 754 023a FFF7FEFF 		bl	HAL_GPIO_TogglePin
 123:Core/Src/Functions.c ****                     break;
 755              		.loc 1 123 35
 756 023e FFF7FEFF 		bl	GetTicks
 757 0242 0346     		mov	r3, r0
 758 0244 1A46     		mov	r2, r3
 123:Core/Src/Functions.c ****                     break;
 759              		.loc 1 123 33
 760 0246 154B     		ldr	r3, .L54+52
 761 0248 1A60     		str	r2, [r3]
 124:Core/Src/Functions.c ****                 default:
 762              		.loc 1 124 21
 763 024a 02E0     		b	.L34
 764              	.L51:
  96:Core/Src/Functions.c ****                 }
 765              		.loc 1 96 21
 766 024c 00BF     		nop
 767 024e 05E0     		b	.L50
 768              	.L52:
 769              		.loc 1 126 21
 770 0250 00BF     		nop
 771              	.L34:
  66:Core/Src/Functions.c ****         {
 772              		.loc 1 66 12 discriminator 1
 773 0252 03E0     		b	.L50
 774              	.L48:
 127:Core/Src/Functions.c ****                 }
 128:Core/Src/Functions.c ****             }
 129:Core/Src/Functions.c **** 
 130:Core/Src/Functions.c ****             // DelayMicrosecond(speed);
 131:Core/Src/Functions.c ****         }
 132:Core/Src/Functions.c ****     }
 133:Core/Src/Functions.c ****     else
 134:Core/Src/Functions.c ****     {
 135:Core/Src/Functions.c ****         isRunning = false;
 775              		.loc 1 135 19
 776 0254 084B     		ldr	r3, .L54+16
 777 0256 0022     		movs	r2, #0
 778 0258 1A70     		strb	r2, [r3]
 136:Core/Src/Functions.c ****     }
 137:Core/Src/Functions.c **** }
 779              		.loc 1 137 1
 780 025a 00E0     		b	.L53
 781              	.L50:
  66:Core/Src/Functions.c ****         {
 782              		.loc 1 66 12
 783 025c 00BF     		nop
 784              	.L53:
 785              		.loc 1 137 1
 786 025e 00BF     		nop
 787 0260 1037     		adds	r7, r7, #16
 788              		.cfi_def_cfa_offset 8
 789 0262 BD46     		mov	sp, r7
 790              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 18


 791              		@ sp needed
 792 0264 80BD     		pop	{r7, pc}
 793              	.L55:
 794 0266 00BF     		.align	3
 795              	.L54:
 796 0268 000000A0 		.word	-1610612736
 797 026c D091533F 		.word	1062441424
 798 0270 00000060 		.word	1610612736
 799 0274 CBC6853F 		.word	1065731787
 800 0278 00000000 		.word	isRunning
 801 027c 00140048 		.word	1207964672
 802 0280 00000000 		.word	Cur_E
 803 0284 00040048 		.word	1207960576
 804 0288 00000000 		.word	last_time_E
 805 028c 00000000 		.word	Cur_X
 806 0290 00080048 		.word	1207961600
 807 0294 00000000 		.word	last_time_X
 808 0298 00000000 		.word	Cur_Y
 809 029c 00000000 		.word	last_time_Y
 810 02a0 FA7E6ABC 		.word	-1133871366
 811 02a4 7493883F 		.word	1065915252
 812 02a8 FA7E6ABC 		.word	-1133871366
 813 02ac 749388BF 		.word	-1081568396
 814              		.cfi_endproc
 815              	.LFE325:
 817              		.section	.text.MoveAndWait,"ax",%progbits
 818              		.align	1
 819              		.global	MoveAndWait
 820              		.syntax unified
 821              		.thumb
 822              		.thumb_func
 824              	MoveAndWait:
 825              	.LFB326:
 138:Core/Src/Functions.c **** 
 139:Core/Src/Functions.c **** void MoveAndWait(uint16_t state, uint16_t speed, uint16_t axis, uint16_t dir_X, uint16_t dir_Y)
 140:Core/Src/Functions.c **** {
 826              		.loc 1 140 1
 827              		.cfi_startproc
 828              		@ args = 4, pretend = 0, frame = 8
 829              		@ frame_needed = 1, uses_anonymous_args = 0
 830 0000 90B5     		push	{r4, r7, lr}
 831              		.cfi_def_cfa_offset 12
 832              		.cfi_offset 4, -12
 833              		.cfi_offset 7, -8
 834              		.cfi_offset 14, -4
 835 0002 83B0     		sub	sp, sp, #12
 836              		.cfi_def_cfa_offset 24
 837 0004 00AF     		add	r7, sp, #0
 838              		.cfi_def_cfa_register 7
 839 0006 0446     		mov	r4, r0
 840 0008 0846     		mov	r0, r1
 841 000a 1146     		mov	r1, r2
 842 000c 1A46     		mov	r2, r3
 843 000e 2346     		mov	r3, r4	@ movhi
 844 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 845 0012 0346     		mov	r3, r0	@ movhi
 846 0014 BB80     		strh	r3, [r7, #4]	@ movhi
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 19


 847 0016 0B46     		mov	r3, r1	@ movhi
 848 0018 7B80     		strh	r3, [r7, #2]	@ movhi
 849 001a 1346     		mov	r3, r2	@ movhi
 850 001c 3B80     		strh	r3, [r7]	@ movhi
 141:Core/Src/Functions.c ****     switch (axis)
 851              		.loc 1 141 5
 852 001e 7B88     		ldrh	r3, [r7, #2]
 853 0020 002B     		cmp	r3, #0
 854 0022 25D1     		bne	.L60
 142:Core/Src/Functions.c ****     {
 143:Core/Src/Functions.c ****     case X_AXIS:
 144:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(X_AXIS_DIR, dir_X);
 855              		.loc 1 144 9
 856 0024 3B88     		ldrh	r3, [r7]	@ movhi
 857 0026 DBB2     		uxtb	r3, r3
 858 0028 1A46     		mov	r2, r3
 859 002a 0221     		movs	r1, #2
 860 002c 1248     		ldr	r0, .L61
 861 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 145:Core/Src/Functions.c ****         CHANGE_MOTOR_DIR(Y_AXIS_DIR, dir_Y);
 862              		.loc 1 145 9
 863 0032 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 864 0034 DBB2     		uxtb	r3, r3
 865 0036 1A46     		mov	r2, r3
 866 0038 0421     		movs	r1, #4
 867 003a 0F48     		ldr	r0, .L61
 868 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 146:Core/Src/Functions.c ****         while (READ_PIN(X_STOP_PIN) != state)
 869              		.loc 1 146 15
 870 0040 0CE0     		b	.L58
 871              	.L59:
 147:Core/Src/Functions.c ****         {
 148:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(X_AXIS_STEP);
 872              		.loc 1 148 13
 873 0042 4021     		movs	r1, #64
 874 0044 0D48     		ldr	r0, .L61+4
 875 0046 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 149:Core/Src/Functions.c ****             MAKE_MOTOR_STEP(Y_AXIS_STEP);
 876              		.loc 1 149 13
 877 004a 8021     		movs	r1, #128
 878 004c 4FF09040 		mov	r0, #1207959552
 879 0050 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 150:Core/Src/Functions.c ****             DelayMicrosecond(speed);
 880              		.loc 1 150 13
 881 0054 BB88     		ldrh	r3, [r7, #4]
 882 0056 1846     		mov	r0, r3
 883 0058 FFF7FEFF 		bl	DelayMicrosecond
 884              	.L58:
 146:Core/Src/Functions.c ****         {
 885              		.loc 1 146 16
 886 005c 1021     		movs	r1, #16
 887 005e 0648     		ldr	r0, .L61
 888 0060 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 889 0064 0346     		mov	r3, r0
 890 0066 9BB2     		uxth	r3, r3
 146:Core/Src/Functions.c ****         {
 891              		.loc 1 146 37
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 20


 892 0068 FA88     		ldrh	r2, [r7, #6]
 893 006a 9A42     		cmp	r2, r3
 894 006c E9D1     		bne	.L59
 151:Core/Src/Functions.c ****         }
 152:Core/Src/Functions.c ****         break;
 895              		.loc 1 152 9
 896 006e 00BF     		nop
 897              	.L60:
 153:Core/Src/Functions.c ****     }
 154:Core/Src/Functions.c **** }
 898              		.loc 1 154 1
 899 0070 00BF     		nop
 900 0072 0C37     		adds	r7, r7, #12
 901              		.cfi_def_cfa_offset 12
 902 0074 BD46     		mov	sp, r7
 903              		.cfi_def_cfa_register 13
 904              		@ sp needed
 905 0076 90BD     		pop	{r4, r7, pc}
 906              	.L62:
 907              		.align	2
 908              	.L61:
 909 0078 00140048 		.word	1207964672
 910 007c 00080048 		.word	1207961600
 911              		.cfi_endproc
 912              	.LFE326:
 914              		.text
 915              	.Letext0:
 916              		.file 2 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 917              		.file 3 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 918              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4p5xx.h"
 919              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 920              		.file 6 "Core/Inc/GCodes.h"
 921              		.file 7 "Core/Inc/main.h"
 922              		.file 8 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Functions.c
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:20     .bss.msg_buffer:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:23     .bss.msg_buffer:0000000000000000 msg_buffer
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:26     .bss.RxBuf:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:29     .bss.RxBuf:0000000000000000 RxBuf
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:32     .text.SelectDriver:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:38     .text.SelectDriver:0000000000000000 SelectDriver
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:63     .text.SelectDriver:0000000000000018 $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:67     .text.SelectDriver:0000000000000028 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:133    .text.SelectDriver:0000000000000088 $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:143    .text.GetTemperature:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:149    .text.GetTemperature:0000000000000000 GetTemperature
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:317    .text.GetTemperature:0000000000000158 $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:343    .text.SetHeating:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:349    .text.SetHeating:0000000000000000 SetHeating
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:394    .text.SetHeating:000000000000002c $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:399    .text.SetFanSpeed:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:405    .text.SetFanSpeed:0000000000000000 SetFanSpeed
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:450    .text.SetFanSpeed:000000000000002c $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:458    .text.Move:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:464    .text.Move:0000000000000000 Move
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:796    .text.Move:0000000000000268 $d
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:818    .text.MoveAndWait:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:824    .text.MoveAndWait:0000000000000000 MoveAndWait
C:\Users\Morroway\AppData\Local\Temp\ccbyg62w.s:909    .text.MoveAndWait:0000000000000078 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
__aeabi_i2d
__aeabi_dmul
__aeabi_dsub
__aeabi_ddiv
__aeabi_dadd
log
pow
__aeabi_dcmpge
__aeabi_dcmple
__aeabi_dcmplt
GetTicks
HAL_GPIO_TogglePin
isRunning
Cur_E
last_time_E
Cur_X
last_time_X
Cur_Y
last_time_Y
DelayMicrosecond
HAL_GPIO_ReadPin
