ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ff.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.bss.msg_buffer,"aw",%nobits
  20              		.align	2
  23              	msg_buffer:
  24 0000 00000000 		.space	30
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25              		.section	.bss.RxBuf,"aw",%nobits
  26              		.align	2
  29              	RxBuf:
  30 0000 00000000 		.space	40
  30      00000000 
  30      00000000 
  30      00000000 
  30      00000000 
  31              		.section	.bss.FatFs,"aw",%nobits
  32              		.align	2
  35              	FatFs:
  36 0000 00000000 		.space	4
  37              		.section	.bss.Fsid,"aw",%nobits
  38              		.align	1
  41              	Fsid:
  42 0000 0000     		.space	2
  43              		.section	.bss.Files,"aw",%nobits
  44              		.align	2
  47              	Files:
  48 0000 00000000 		.space	32
  48      00000000 
  48      00000000 
  48      00000000 
  48      00000000 
  49              		.section	.rodata.ExCvt,"a"
  50              		.align	2
  53              	ExCvt:
  54 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
  54      41414143 
  54      45454549 
  54      49494141 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 2


  54      4592924F 
  55 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
  55      A8A9AAAB 
  55      ACADAEAF 
  55      B0
  56 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
  56      414141B8 
  56      B9BABBBC 
  56      BDBEBF
  57 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
  57      C4C54141 
  57      C8C9CACB 
  57      CCCDCE
  58 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
  58      45454949 
  58      4949D9DA 
  58      DBDCDD49 
  58      DF4FE14F 
  59 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
  59      E8555555 
  59      5959EEEF 
  59      F0F1F2F3 
  59      F4F5
  60 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
  60      FAFBFCFD 
  60      FEFF
  61              		.section	.text.ld_word,"ax",%progbits
  62              		.align	1
  63              		.syntax unified
  64              		.thumb
  65              		.thumb_func
  67              	ld_word:
  68              	.LFB321:
  69              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 3


  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 4


  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 5


 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 6


 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 7


 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 8


 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 9


 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 10


 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 11


 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 12


 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 13


 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  70              		.loc 1 614 1
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 16
  73              		@ frame_needed = 1, uses_anonymous_args = 0
  74              		@ link register save eliminated.
  75 0000 80B4     		push	{r7}
  76              		.cfi_def_cfa_offset 4
  77              		.cfi_offset 7, -4
  78 0002 85B0     		sub	sp, sp, #20
  79              		.cfi_def_cfa_offset 24
  80 0004 00AF     		add	r7, sp, #0
  81              		.cfi_def_cfa_register 7
  82 0006 7860     		str	r0, [r7, #4]
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  83              		.loc 1 617 10
  84 0008 7B68     		ldr	r3, [r7, #4]
  85 000a 0133     		adds	r3, r3, #1
  86 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  87              		.loc 1 617 5
  88 000e FB81     		strh	r3, [r7, #14]	@ movhi
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  89              		.loc 1 618 10
  90 0010 FB89     		ldrh	r3, [r7, #14]
  91 0012 1B02     		lsls	r3, r3, #8
  92              		.loc 1 618 15
  93 0014 1AB2     		sxth	r2, r3
  94              		.loc 1 618 20
  95 0016 7B68     		ldr	r3, [r7, #4]
  96 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  97 001a 1BB2     		sxth	r3, r3
  98              		.loc 1 618 15
  99 001c 1343     		orrs	r3, r3, r2
 100 001e 1BB2     		sxth	r3, r3
 101              		.loc 1 618 5
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 14


 102 0020 FB81     		strh	r3, [r7, #14]	@ movhi
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 103              		.loc 1 619 9
 104 0022 FB89     		ldrh	r3, [r7, #14]
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
 105              		.loc 1 620 1
 106 0024 1846     		mov	r0, r3
 107 0026 1437     		adds	r7, r7, #20
 108              		.cfi_def_cfa_offset 4
 109 0028 BD46     		mov	sp, r7
 110              		.cfi_def_cfa_register 13
 111              		@ sp needed
 112 002a 5DF8047B 		ldr	r7, [sp], #4
 113              		.cfi_restore 7
 114              		.cfi_def_cfa_offset 0
 115 002e 7047     		bx	lr
 116              		.cfi_endproc
 117              	.LFE321:
 119              		.section	.text.ld_dword,"ax",%progbits
 120              		.align	1
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 125              	ld_dword:
 126              	.LFB322:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
 127              		.loc 1 624 1
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 16
 130              		@ frame_needed = 1, uses_anonymous_args = 0
 131              		@ link register save eliminated.
 132 0000 80B4     		push	{r7}
 133              		.cfi_def_cfa_offset 4
 134              		.cfi_offset 7, -4
 135 0002 85B0     		sub	sp, sp, #20
 136              		.cfi_def_cfa_offset 24
 137 0004 00AF     		add	r7, sp, #0
 138              		.cfi_def_cfa_register 7
 139 0006 7860     		str	r0, [r7, #4]
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
 140              		.loc 1 627 10
 141 0008 7B68     		ldr	r3, [r7, #4]
 142 000a 0333     		adds	r3, r3, #3
 143 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 144              		.loc 1 627 5
 145 000e FB60     		str	r3, [r7, #12]
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 146              		.loc 1 628 10
 147 0010 FB68     		ldr	r3, [r7, #12]
 148 0012 1B02     		lsls	r3, r3, #8
 149              		.loc 1 628 20
 150 0014 7A68     		ldr	r2, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 15


 151 0016 0232     		adds	r2, r2, #2
 152 0018 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 153              		.loc 1 628 5
 154 001a 1343     		orrs	r3, r3, r2
 155 001c FB60     		str	r3, [r7, #12]
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 156              		.loc 1 629 10
 157 001e FB68     		ldr	r3, [r7, #12]
 158 0020 1B02     		lsls	r3, r3, #8
 159              		.loc 1 629 20
 160 0022 7A68     		ldr	r2, [r7, #4]
 161 0024 0132     		adds	r2, r2, #1
 162 0026 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 163              		.loc 1 629 5
 164 0028 1343     		orrs	r3, r3, r2
 165 002a FB60     		str	r3, [r7, #12]
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 166              		.loc 1 630 10
 167 002c FB68     		ldr	r3, [r7, #12]
 168 002e 1B02     		lsls	r3, r3, #8
 169              		.loc 1 630 20
 170 0030 7A68     		ldr	r2, [r7, #4]
 171 0032 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 172              		.loc 1 630 5
 173 0034 1343     		orrs	r3, r3, r2
 174 0036 FB60     		str	r3, [r7, #12]
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 175              		.loc 1 631 9
 176 0038 FB68     		ldr	r3, [r7, #12]
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
 177              		.loc 1 632 1
 178 003a 1846     		mov	r0, r3
 179 003c 1437     		adds	r7, r7, #20
 180              		.cfi_def_cfa_offset 4
 181 003e BD46     		mov	sp, r7
 182              		.cfi_def_cfa_register 13
 183              		@ sp needed
 184 0040 5DF8047B 		ldr	r7, [sp], #4
 185              		.cfi_restore 7
 186              		.cfi_def_cfa_offset 0
 187 0044 7047     		bx	lr
 188              		.cfi_endproc
 189              	.LFE322:
 191              		.section	.text.st_word,"ax",%progbits
 192              		.align	1
 193              		.syntax unified
 194              		.thumb
 195              		.thumb_func
 197              	st_word:
 198              	.LFB323:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 16


 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 199              		.loc 1 655 1
 200              		.cfi_startproc
 201              		@ args = 0, pretend = 0, frame = 8
 202              		@ frame_needed = 1, uses_anonymous_args = 0
 203              		@ link register save eliminated.
 204 0000 80B4     		push	{r7}
 205              		.cfi_def_cfa_offset 4
 206              		.cfi_offset 7, -4
 207 0002 83B0     		sub	sp, sp, #12
 208              		.cfi_def_cfa_offset 16
 209 0004 00AF     		add	r7, sp, #0
 210              		.cfi_def_cfa_register 7
 211 0006 7860     		str	r0, [r7, #4]
 212 0008 0B46     		mov	r3, r1
 213 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 214              		.loc 1 656 6
 215 000c 7B68     		ldr	r3, [r7, #4]
 216 000e 5A1C     		adds	r2, r3, #1
 217 0010 7A60     		str	r2, [r7, #4]
 218              		.loc 1 656 11
 219 0012 7A88     		ldrh	r2, [r7, #2]	@ movhi
 220 0014 D2B2     		uxtb	r2, r2
 221              		.loc 1 656 9
 222 0016 1A70     		strb	r2, [r3]
 223              		.loc 1 656 26
 224 0018 7B88     		ldrh	r3, [r7, #2]
 225 001a 1B0A     		lsrs	r3, r3, #8
 226 001c 7B80     		strh	r3, [r7, #2]	@ movhi
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 227              		.loc 1 657 6
 228 001e 7B68     		ldr	r3, [r7, #4]
 229 0020 5A1C     		adds	r2, r3, #1
 230 0022 7A60     		str	r2, [r7, #4]
 231              		.loc 1 657 11
 232 0024 7A88     		ldrh	r2, [r7, #2]	@ movhi
 233 0026 D2B2     		uxtb	r2, r2
 234              		.loc 1 657 9
 235 0028 1A70     		strb	r2, [r3]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 236              		.loc 1 658 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 17


 237 002a 00BF     		nop
 238 002c 0C37     		adds	r7, r7, #12
 239              		.cfi_def_cfa_offset 4
 240 002e BD46     		mov	sp, r7
 241              		.cfi_def_cfa_register 13
 242              		@ sp needed
 243 0030 5DF8047B 		ldr	r7, [sp], #4
 244              		.cfi_restore 7
 245              		.cfi_def_cfa_offset 0
 246 0034 7047     		bx	lr
 247              		.cfi_endproc
 248              	.LFE323:
 250              		.section	.text.st_dword,"ax",%progbits
 251              		.align	1
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 256              	st_dword:
 257              	.LFB324:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 258              		.loc 1 662 1
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 8
 261              		@ frame_needed = 1, uses_anonymous_args = 0
 262              		@ link register save eliminated.
 263 0000 80B4     		push	{r7}
 264              		.cfi_def_cfa_offset 4
 265              		.cfi_offset 7, -4
 266 0002 83B0     		sub	sp, sp, #12
 267              		.cfi_def_cfa_offset 16
 268 0004 00AF     		add	r7, sp, #0
 269              		.cfi_def_cfa_register 7
 270 0006 7860     		str	r0, [r7, #4]
 271 0008 3960     		str	r1, [r7]
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 272              		.loc 1 663 6
 273 000a 7B68     		ldr	r3, [r7, #4]
 274 000c 5A1C     		adds	r2, r3, #1
 275 000e 7A60     		str	r2, [r7, #4]
 276              		.loc 1 663 11
 277 0010 3A68     		ldr	r2, [r7]
 278 0012 D2B2     		uxtb	r2, r2
 279              		.loc 1 663 9
 280 0014 1A70     		strb	r2, [r3]
 281              		.loc 1 663 26
 282 0016 3B68     		ldr	r3, [r7]
 283 0018 1B0A     		lsrs	r3, r3, #8
 284 001a 3B60     		str	r3, [r7]
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 285              		.loc 1 664 6
 286 001c 7B68     		ldr	r3, [r7, #4]
 287 001e 5A1C     		adds	r2, r3, #1
 288 0020 7A60     		str	r2, [r7, #4]
 289              		.loc 1 664 11
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 18


 290 0022 3A68     		ldr	r2, [r7]
 291 0024 D2B2     		uxtb	r2, r2
 292              		.loc 1 664 9
 293 0026 1A70     		strb	r2, [r3]
 294              		.loc 1 664 26
 295 0028 3B68     		ldr	r3, [r7]
 296 002a 1B0A     		lsrs	r3, r3, #8
 297 002c 3B60     		str	r3, [r7]
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 298              		.loc 1 665 6
 299 002e 7B68     		ldr	r3, [r7, #4]
 300 0030 5A1C     		adds	r2, r3, #1
 301 0032 7A60     		str	r2, [r7, #4]
 302              		.loc 1 665 11
 303 0034 3A68     		ldr	r2, [r7]
 304 0036 D2B2     		uxtb	r2, r2
 305              		.loc 1 665 9
 306 0038 1A70     		strb	r2, [r3]
 307              		.loc 1 665 26
 308 003a 3B68     		ldr	r3, [r7]
 309 003c 1B0A     		lsrs	r3, r3, #8
 310 003e 3B60     		str	r3, [r7]
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 311              		.loc 1 666 6
 312 0040 7B68     		ldr	r3, [r7, #4]
 313 0042 5A1C     		adds	r2, r3, #1
 314 0044 7A60     		str	r2, [r7, #4]
 315              		.loc 1 666 11
 316 0046 3A68     		ldr	r2, [r7]
 317 0048 D2B2     		uxtb	r2, r2
 318              		.loc 1 666 9
 319 004a 1A70     		strb	r2, [r3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
 320              		.loc 1 667 1
 321 004c 00BF     		nop
 322 004e 0C37     		adds	r7, r7, #12
 323              		.cfi_def_cfa_offset 4
 324 0050 BD46     		mov	sp, r7
 325              		.cfi_def_cfa_register 13
 326              		@ sp needed
 327 0052 5DF8047B 		ldr	r7, [sp], #4
 328              		.cfi_restore 7
 329              		.cfi_def_cfa_offset 0
 330 0056 7047     		bx	lr
 331              		.cfi_endproc
 332              	.LFE324:
 334              		.section	.text.mem_cpy,"ax",%progbits
 335              		.align	1
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 340              	mem_cpy:
 341              	.LFB325:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 19


 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 342              		.loc 1 693 53
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 24
 345              		@ frame_needed = 1, uses_anonymous_args = 0
 346              		@ link register save eliminated.
 347 0000 80B4     		push	{r7}
 348              		.cfi_def_cfa_offset 4
 349              		.cfi_offset 7, -4
 350 0002 87B0     		sub	sp, sp, #28
 351              		.cfi_def_cfa_offset 32
 352 0004 00AF     		add	r7, sp, #0
 353              		.cfi_def_cfa_register 7
 354 0006 F860     		str	r0, [r7, #12]
 355 0008 B960     		str	r1, [r7, #8]
 356 000a 7A60     		str	r2, [r7, #4]
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 357              		.loc 1 694 8
 358 000c FB68     		ldr	r3, [r7, #12]
 359 000e 7B61     		str	r3, [r7, #20]
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 360              		.loc 1 695 14
 361 0010 BB68     		ldr	r3, [r7, #8]
 362 0012 3B61     		str	r3, [r7, #16]
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 363              		.loc 1 697 5
 364 0014 7B68     		ldr	r3, [r7, #4]
 365 0016 002B     		cmp	r3, #0
 366 0018 0DD0     		beq	.L10
 367              	.L9:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 368              		.loc 1 699 13 discriminator 1
 369 001a 3A69     		ldr	r2, [r7, #16]
 370 001c 531C     		adds	r3, r2, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 20


 371 001e 3B61     		str	r3, [r7, #16]
 372              		.loc 1 699 6 discriminator 1
 373 0020 7B69     		ldr	r3, [r7, #20]
 374 0022 591C     		adds	r1, r3, #1
 375 0024 7961     		str	r1, [r7, #20]
 376              		.loc 1 699 11 discriminator 1
 377 0026 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 378              		.loc 1 699 9 discriminator 1
 379 0028 1A70     		strb	r2, [r3]
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 380              		.loc 1 700 12 discriminator 1
 381 002a 7B68     		ldr	r3, [r7, #4]
 382 002c 013B     		subs	r3, r3, #1
 383 002e 7B60     		str	r3, [r7, #4]
 384 0030 7B68     		ldr	r3, [r7, #4]
 385 0032 002B     		cmp	r3, #0
 386 0034 F1D1     		bne	.L9
 387              	.L10:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 388              		.loc 1 702 1
 389 0036 00BF     		nop
 390 0038 1C37     		adds	r7, r7, #28
 391              		.cfi_def_cfa_offset 4
 392 003a BD46     		mov	sp, r7
 393              		.cfi_def_cfa_register 13
 394              		@ sp needed
 395 003c 5DF8047B 		ldr	r7, [sp], #4
 396              		.cfi_restore 7
 397              		.cfi_def_cfa_offset 0
 398 0040 7047     		bx	lr
 399              		.cfi_endproc
 400              	.LFE325:
 402              		.section	.text.mem_set,"ax",%progbits
 403              		.align	1
 404              		.syntax unified
 405              		.thumb
 406              		.thumb_func
 408              	mem_set:
 409              	.LFB326:
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 410              		.loc 1 706 45
 411              		.cfi_startproc
 412              		@ args = 0, pretend = 0, frame = 24
 413              		@ frame_needed = 1, uses_anonymous_args = 0
 414              		@ link register save eliminated.
 415 0000 80B4     		push	{r7}
 416              		.cfi_def_cfa_offset 4
 417              		.cfi_offset 7, -4
 418 0002 87B0     		sub	sp, sp, #28
 419              		.cfi_def_cfa_offset 32
 420 0004 00AF     		add	r7, sp, #0
 421              		.cfi_def_cfa_register 7
 422 0006 F860     		str	r0, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 21


 423 0008 B960     		str	r1, [r7, #8]
 424 000a 7A60     		str	r2, [r7, #4]
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 425              		.loc 1 707 8
 426 000c FB68     		ldr	r3, [r7, #12]
 427 000e 7B61     		str	r3, [r7, #20]
 428              	.L12:
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 429              		.loc 1 710 5 discriminator 1
 430 0010 7B69     		ldr	r3, [r7, #20]
 431 0012 5A1C     		adds	r2, r3, #1
 432 0014 7A61     		str	r2, [r7, #20]
 433              		.loc 1 710 10 discriminator 1
 434 0016 BA68     		ldr	r2, [r7, #8]
 435 0018 D2B2     		uxtb	r2, r2
 436              		.loc 1 710 8 discriminator 1
 437 001a 1A70     		strb	r2, [r3]
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 438              		.loc 1 711 11 discriminator 1
 439 001c 7B68     		ldr	r3, [r7, #4]
 440 001e 013B     		subs	r3, r3, #1
 441 0020 7B60     		str	r3, [r7, #4]
 442 0022 7B68     		ldr	r3, [r7, #4]
 443 0024 002B     		cmp	r3, #0
 444 0026 F3D1     		bne	.L12
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 445              		.loc 1 712 1
 446 0028 00BF     		nop
 447 002a 00BF     		nop
 448 002c 1C37     		adds	r7, r7, #28
 449              		.cfi_def_cfa_offset 4
 450 002e BD46     		mov	sp, r7
 451              		.cfi_def_cfa_register 13
 452              		@ sp needed
 453 0030 5DF8047B 		ldr	r7, [sp], #4
 454              		.cfi_restore 7
 455              		.cfi_def_cfa_offset 0
 456 0034 7047     		bx	lr
 457              		.cfi_endproc
 458              	.LFE326:
 460              		.section	.text.mem_cmp,"ax",%progbits
 461              		.align	1
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 466              	mem_cmp:
 467              	.LFB327:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 468              		.loc 1 716 58
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 32
 471              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 22


 472              		@ link register save eliminated.
 473 0000 80B4     		push	{r7}
 474              		.cfi_def_cfa_offset 4
 475              		.cfi_offset 7, -4
 476 0002 89B0     		sub	sp, sp, #36
 477              		.cfi_def_cfa_offset 40
 478 0004 00AF     		add	r7, sp, #0
 479              		.cfi_def_cfa_register 7
 480 0006 F860     		str	r0, [r7, #12]
 481 0008 B960     		str	r1, [r7, #8]
 482 000a 7A60     		str	r2, [r7, #4]
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 483              		.loc 1 717 14
 484 000c FB68     		ldr	r3, [r7, #12]
 485 000e FB61     		str	r3, [r7, #28]
 486              		.loc 1 717 38
 487 0010 BB68     		ldr	r3, [r7, #8]
 488 0012 BB61     		str	r3, [r7, #24]
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 489              		.loc 1 718 6
 490 0014 0023     		movs	r3, #0
 491 0016 7B61     		str	r3, [r7, #20]
 492              	.L15:
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 493              		.loc 1 721 9 discriminator 2
 494 0018 FB69     		ldr	r3, [r7, #28]
 495 001a 5A1C     		adds	r2, r3, #1
 496 001c FA61     		str	r2, [r7, #28]
 497              		.loc 1 721 7 discriminator 2
 498 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 499 0020 1946     		mov	r1, r3
 500              		.loc 1 721 16 discriminator 2
 501 0022 BB69     		ldr	r3, [r7, #24]
 502 0024 5A1C     		adds	r2, r3, #1
 503 0026 BA61     		str	r2, [r7, #24]
 504              		.loc 1 721 14 discriminator 2
 505 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 506              		.loc 1 721 5 discriminator 2
 507 002a CB1A     		subs	r3, r1, r3
 508 002c 7B61     		str	r3, [r7, #20]
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 509              		.loc 1 722 17 discriminator 2
 510 002e 7B68     		ldr	r3, [r7, #4]
 511 0030 013B     		subs	r3, r3, #1
 512 0032 7B60     		str	r3, [r7, #4]
 513 0034 7B68     		ldr	r3, [r7, #4]
 514 0036 002B     		cmp	r3, #0
 515 0038 02D0     		beq	.L14
 516              		.loc 1 722 17 is_stmt 0 discriminator 1
 517 003a 7B69     		ldr	r3, [r7, #20]
 518 003c 002B     		cmp	r3, #0
 519 003e EBD0     		beq	.L15
 520              	.L14:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 23


 521              		.loc 1 724 9 is_stmt 1
 522 0040 7B69     		ldr	r3, [r7, #20]
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 523              		.loc 1 725 1
 524 0042 1846     		mov	r0, r3
 525 0044 2437     		adds	r7, r7, #36
 526              		.cfi_def_cfa_offset 4
 527 0046 BD46     		mov	sp, r7
 528              		.cfi_def_cfa_register 13
 529              		@ sp needed
 530 0048 5DF8047B 		ldr	r7, [sp], #4
 531              		.cfi_restore 7
 532              		.cfi_def_cfa_offset 0
 533 004c 7047     		bx	lr
 534              		.cfi_endproc
 535              	.LFE327:
 537              		.section	.text.chk_chr,"ax",%progbits
 538              		.align	1
 539              		.syntax unified
 540              		.thumb
 541              		.thumb_func
 543              	chk_chr:
 544              	.LFB328:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 545              		.loc 1 729 40
 546              		.cfi_startproc
 547              		@ args = 0, pretend = 0, frame = 8
 548              		@ frame_needed = 1, uses_anonymous_args = 0
 549              		@ link register save eliminated.
 550 0000 80B4     		push	{r7}
 551              		.cfi_def_cfa_offset 4
 552              		.cfi_offset 7, -4
 553 0002 83B0     		sub	sp, sp, #12
 554              		.cfi_def_cfa_offset 16
 555 0004 00AF     		add	r7, sp, #0
 556              		.cfi_def_cfa_register 7
 557 0006 7860     		str	r0, [r7, #4]
 558 0008 3960     		str	r1, [r7]
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 559              		.loc 1 730 8
 560 000a 02E0     		b	.L18
 561              	.L20:
 562              		.loc 1 730 33 discriminator 3
 563 000c 7B68     		ldr	r3, [r7, #4]
 564 000e 0133     		adds	r3, r3, #1
 565 0010 7B60     		str	r3, [r7, #4]
 566              	.L18:
 567              		.loc 1 730 9 discriminator 1
 568 0012 7B68     		ldr	r3, [r7, #4]
 569 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 570              		.loc 1 730 14 discriminator 1
 571 0016 002B     		cmp	r3, #0
 572 0018 05D0     		beq	.L19
 573              		.loc 1 730 17 discriminator 2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 24


 574 001a 7B68     		ldr	r3, [r7, #4]
 575 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 576 001e 1A46     		mov	r2, r3
 577              		.loc 1 730 14 discriminator 2
 578 0020 3B68     		ldr	r3, [r7]
 579 0022 9342     		cmp	r3, r2
 580 0024 F2D1     		bne	.L20
 581              	.L19:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 582              		.loc 1 731 9
 583 0026 7B68     		ldr	r3, [r7, #4]
 584 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 585              		.loc 1 732 1
 586 002a 1846     		mov	r0, r3
 587 002c 0C37     		adds	r7, r7, #12
 588              		.cfi_def_cfa_offset 4
 589 002e BD46     		mov	sp, r7
 590              		.cfi_def_cfa_register 13
 591              		@ sp needed
 592 0030 5DF8047B 		ldr	r7, [sp], #4
 593              		.cfi_restore 7
 594              		.cfi_def_cfa_offset 0
 595 0034 7047     		bx	lr
 596              		.cfi_endproc
 597              	.LFE328:
 599              		.section	.text.chk_lock,"ax",%progbits
 600              		.align	1
 601              		.syntax unified
 602              		.thumb
 603              		.thumb_func
 605              	chk_lock:
 606              	.LFB329:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 25


 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 607              		.loc 1 775 1
 608              		.cfi_startproc
 609              		@ args = 0, pretend = 0, frame = 16
 610              		@ frame_needed = 1, uses_anonymous_args = 0
 611              		@ link register save eliminated.
 612 0000 80B4     		push	{r7}
 613              		.cfi_def_cfa_offset 4
 614              		.cfi_offset 7, -4
 615 0002 85B0     		sub	sp, sp, #20
 616              		.cfi_def_cfa_offset 24
 617 0004 00AF     		add	r7, sp, #0
 618              		.cfi_def_cfa_register 7
 619 0006 7860     		str	r0, [r7, #4]
 620 0008 3960     		str	r1, [r7]
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 621              		.loc 1 779 14
 622 000a 0023     		movs	r3, #0
 623 000c BB60     		str	r3, [r7, #8]
 624              		.loc 1 779 9
 625 000e BB68     		ldr	r3, [r7, #8]
 626 0010 FB60     		str	r3, [r7, #12]
 627              		.loc 1 779 2
 628 0012 29E0     		b	.L23
 629              	.L27:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 630              		.loc 1 780 15
 631 0014 274A     		ldr	r2, .L36
 632 0016 FB68     		ldr	r3, [r7, #12]
 633 0018 1B01     		lsls	r3, r3, #4
 634 001a 1344     		add	r3, r3, r2
 635 001c 1B68     		ldr	r3, [r3]
 636              		.loc 1 780 6
 637 001e 002B     		cmp	r3, #0
 638 0020 1DD0     		beq	.L24
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 26


 639              		.loc 1 781 16
 640 0022 244A     		ldr	r2, .L36
 641 0024 FB68     		ldr	r3, [r7, #12]
 642 0026 1B01     		lsls	r3, r3, #4
 643 0028 1344     		add	r3, r3, r2
 644 002a 1A68     		ldr	r2, [r3]
 645              		.loc 1 781 30
 646 002c 7B68     		ldr	r3, [r7, #4]
 647 002e 1B68     		ldr	r3, [r3]
 648              		.loc 1 781 7
 649 0030 9A42     		cmp	r2, r3
 650 0032 16D1     		bne	.L25
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 651              		.loc 1 782 13 discriminator 1
 652 0034 1F4A     		ldr	r2, .L36
 653 0036 FB68     		ldr	r3, [r7, #12]
 654 0038 1B01     		lsls	r3, r3, #4
 655 003a 1344     		add	r3, r3, r2
 656 003c 0433     		adds	r3, r3, #4
 657 003e 1A68     		ldr	r2, [r3]
 658              		.loc 1 782 28 discriminator 1
 659 0040 7B68     		ldr	r3, [r7, #4]
 660 0042 9B68     		ldr	r3, [r3, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 661              		.loc 1 781 34 discriminator 1
 662 0044 9A42     		cmp	r2, r3
 663 0046 0CD1     		bne	.L25
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 664              		.loc 1 783 13
 665 0048 1A4A     		ldr	r2, .L36
 666 004a FB68     		ldr	r3, [r7, #12]
 667 004c 1B01     		lsls	r3, r3, #4
 668 004e 1344     		add	r3, r3, r2
 669 0050 0833     		adds	r3, r3, #8
 670 0052 1A68     		ldr	r2, [r3]
 671              		.loc 1 783 23
 672 0054 7B68     		ldr	r3, [r7, #4]
 673 0056 5B69     		ldr	r3, [r3, #20]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 674              		.loc 1 782 36
 675 0058 9A42     		cmp	r2, r3
 676 005a 02D1     		bne	.L25
 677              		.loc 1 783 31
 678 005c 07E0     		b	.L26
 679              	.L24:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 680              		.loc 1 785 7
 681 005e 0123     		movs	r3, #1
 682 0060 BB60     		str	r3, [r7, #8]
 683              	.L25:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 684              		.loc 1 779 34 discriminator 2
 685 0062 FB68     		ldr	r3, [r7, #12]
 686 0064 0133     		adds	r3, r3, #1
 687 0066 FB60     		str	r3, [r7, #12]
 688              	.L23:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 27


 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 689              		.loc 1 779 21 discriminator 1
 690 0068 FB68     		ldr	r3, [r7, #12]
 691 006a 012B     		cmp	r3, #1
 692 006c D2D9     		bls	.L27
 693              	.L26:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 694              		.loc 1 788 5
 695 006e FB68     		ldr	r3, [r7, #12]
 696 0070 022B     		cmp	r3, #2
 697 0072 09D1     		bne	.L28
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 698              		.loc 1 789 35
 699 0074 BB68     		ldr	r3, [r7, #8]
 700 0076 002B     		cmp	r3, #0
 701 0078 02D1     		bne	.L29
 702              		.loc 1 789 14 discriminator 2
 703 007a 3B68     		ldr	r3, [r7]
 704 007c 022B     		cmp	r3, #2
 705 007e 01D1     		bne	.L30
 706              	.L29:
 707              		.loc 1 789 35 discriminator 3
 708 0080 0023     		movs	r3, #0
 709 0082 10E0     		b	.L32
 710              	.L30:
 711              		.loc 1 789 35 is_stmt 0 discriminator 4
 712 0084 1223     		movs	r3, #18
 713 0086 0EE0     		b	.L32
 714              	.L28:
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 715              		.loc 1 793 52 is_stmt 1
 716 0088 3B68     		ldr	r3, [r7]
 717 008a 002B     		cmp	r3, #0
 718 008c 08D1     		bne	.L33
 719              		.loc 1 793 25 discriminator 2
 720 008e 094A     		ldr	r2, .L36
 721 0090 FB68     		ldr	r3, [r7, #12]
 722 0092 1B01     		lsls	r3, r3, #4
 723 0094 1344     		add	r3, r3, r2
 724 0096 0C33     		adds	r3, r3, #12
 725 0098 1B88     		ldrh	r3, [r3]
 726              		.loc 1 793 14 discriminator 2
 727 009a B3F5807F 		cmp	r3, #256
 728 009e 01D1     		bne	.L34
 729              	.L33:
 730              		.loc 1 793 52 discriminator 3
 731 00a0 1023     		movs	r3, #16
 732 00a2 00E0     		b	.L32
 733              	.L34:
 734              		.loc 1 793 52 is_stmt 0 discriminator 4
 735 00a4 0023     		movs	r3, #0
 736              	.L32:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 28


 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 737              		.loc 1 794 1 is_stmt 1
 738 00a6 1846     		mov	r0, r3
 739 00a8 1437     		adds	r7, r7, #20
 740              		.cfi_def_cfa_offset 4
 741 00aa BD46     		mov	sp, r7
 742              		.cfi_def_cfa_register 13
 743              		@ sp needed
 744 00ac 5DF8047B 		ldr	r7, [sp], #4
 745              		.cfi_restore 7
 746              		.cfi_def_cfa_offset 0
 747 00b0 7047     		bx	lr
 748              	.L37:
 749 00b2 00BF     		.align	2
 750              	.L36:
 751 00b4 00000000 		.word	Files
 752              		.cfi_endproc
 753              	.LFE329:
 755              		.section	.text.enq_lock,"ax",%progbits
 756              		.align	1
 757              		.syntax unified
 758              		.thumb
 759              		.thumb_func
 761              	enq_lock:
 762              	.LFB330:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 763              		.loc 1 799 1
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 8
 766              		@ frame_needed = 1, uses_anonymous_args = 0
 767              		@ link register save eliminated.
 768 0000 80B4     		push	{r7}
 769              		.cfi_def_cfa_offset 4
 770              		.cfi_offset 7, -4
 771 0002 83B0     		sub	sp, sp, #12
 772              		.cfi_def_cfa_offset 16
 773 0004 00AF     		add	r7, sp, #0
 774              		.cfi_def_cfa_register 7
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 775              		.loc 1 802 9
 776 0006 0023     		movs	r3, #0
 777 0008 7B60     		str	r3, [r7, #4]
 778              		.loc 1 802 2
 779 000a 02E0     		b	.L39
 780              	.L41:
 781              		.loc 1 802 44 discriminator 4
 782 000c 7B68     		ldr	r3, [r7, #4]
 783 000e 0133     		adds	r3, r3, #1
 784 0010 7B60     		str	r3, [r7, #4]
 785              	.L39:
 786              		.loc 1 802 27 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 29


 787 0012 7B68     		ldr	r3, [r7, #4]
 788 0014 012B     		cmp	r3, #1
 789 0016 06D8     		bhi	.L40
 790              		.loc 1 802 38 discriminator 3
 791 0018 094A     		ldr	r2, .L43
 792 001a 7B68     		ldr	r3, [r7, #4]
 793 001c 1B01     		lsls	r3, r3, #4
 794 001e 1344     		add	r3, r3, r2
 795 0020 1B68     		ldr	r3, [r3]
 796              		.loc 1 802 27 discriminator 3
 797 0022 002B     		cmp	r3, #0
 798 0024 F2D1     		bne	.L41
 799              	.L40:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 800              		.loc 1 803 29
 801 0026 7B68     		ldr	r3, [r7, #4]
 802 0028 022B     		cmp	r3, #2
 803 002a 14BF     		ite	ne
 804 002c 0123     		movne	r3, #1
 805 002e 0023     		moveq	r3, #0
 806 0030 DBB2     		uxtb	r3, r3
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
 807              		.loc 1 804 1
 808 0032 1846     		mov	r0, r3
 809 0034 0C37     		adds	r7, r7, #12
 810              		.cfi_def_cfa_offset 4
 811 0036 BD46     		mov	sp, r7
 812              		.cfi_def_cfa_register 13
 813              		@ sp needed
 814 0038 5DF8047B 		ldr	r7, [sp], #4
 815              		.cfi_restore 7
 816              		.cfi_def_cfa_offset 0
 817 003c 7047     		bx	lr
 818              	.L44:
 819 003e 00BF     		.align	2
 820              	.L43:
 821 0040 00000000 		.word	Files
 822              		.cfi_endproc
 823              	.LFE330:
 825              		.section	.text.inc_lock,"ax",%progbits
 826              		.align	1
 827              		.syntax unified
 828              		.thumb
 829              		.thumb_func
 831              	inc_lock:
 832              	.LFB331:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 833              		.loc 1 812 1
 834              		.cfi_startproc
 835              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 30


 836              		@ frame_needed = 1, uses_anonymous_args = 0
 837              		@ link register save eliminated.
 838 0000 80B4     		push	{r7}
 839              		.cfi_def_cfa_offset 4
 840              		.cfi_offset 7, -4
 841 0002 85B0     		sub	sp, sp, #20
 842              		.cfi_def_cfa_offset 24
 843 0004 00AF     		add	r7, sp, #0
 844              		.cfi_def_cfa_register 7
 845 0006 7860     		str	r0, [r7, #4]
 846 0008 3960     		str	r1, [r7]
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 847              		.loc 1 816 9
 848 000a 0023     		movs	r3, #0
 849 000c FB60     		str	r3, [r7, #12]
 850              		.loc 1 816 2
 851 000e 1FE0     		b	.L46
 852              	.L49:
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 853              		.loc 1 817 15
 854 0010 414A     		ldr	r2, .L60
 855 0012 FB68     		ldr	r3, [r7, #12]
 856 0014 1B01     		lsls	r3, r3, #4
 857 0016 1344     		add	r3, r3, r2
 858 0018 1A68     		ldr	r2, [r3]
 859              		.loc 1 817 29
 860 001a 7B68     		ldr	r3, [r7, #4]
 861 001c 1B68     		ldr	r3, [r3]
 862              		.loc 1 817 6
 863 001e 9A42     		cmp	r2, r3
 864 0020 13D1     		bne	.L47
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 865              		.loc 1 818 12 discriminator 1
 866 0022 3D4A     		ldr	r2, .L60
 867 0024 FB68     		ldr	r3, [r7, #12]
 868 0026 1B01     		lsls	r3, r3, #4
 869 0028 1344     		add	r3, r3, r2
 870 002a 0433     		adds	r3, r3, #4
 871 002c 1A68     		ldr	r2, [r3]
 872              		.loc 1 818 27 discriminator 1
 873 002e 7B68     		ldr	r3, [r7, #4]
 874 0030 9B68     		ldr	r3, [r3, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 875              		.loc 1 817 33 discriminator 1
 876 0032 9A42     		cmp	r2, r3
 877 0034 09D1     		bne	.L47
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 878              		.loc 1 819 12
 879 0036 384A     		ldr	r2, .L60
 880 0038 FB68     		ldr	r3, [r7, #12]
 881 003a 1B01     		lsls	r3, r3, #4
 882 003c 1344     		add	r3, r3, r2
 883 003e 0833     		adds	r3, r3, #8
 884 0040 1A68     		ldr	r2, [r3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 31


 885              		.loc 1 819 22
 886 0042 7B68     		ldr	r3, [r7, #4]
 887 0044 5B69     		ldr	r3, [r3, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 888              		.loc 1 818 35
 889 0046 9A42     		cmp	r2, r3
 890 0048 06D0     		beq	.L59
 891              	.L47:
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 892              		.loc 1 816 29 discriminator 2
 893 004a FB68     		ldr	r3, [r7, #12]
 894 004c 0133     		adds	r3, r3, #1
 895 004e FB60     		str	r3, [r7, #12]
 896              	.L46:
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 897              		.loc 1 816 16 discriminator 1
 898 0050 FB68     		ldr	r3, [r7, #12]
 899 0052 012B     		cmp	r3, #1
 900 0054 DCD9     		bls	.L49
 901 0056 00E0     		b	.L48
 902              	.L59:
 903              		.loc 1 819 30
 904 0058 00BF     		nop
 905              	.L48:
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 906              		.loc 1 822 5
 907 005a FB68     		ldr	r3, [r7, #12]
 908 005c 022B     		cmp	r3, #2
 909 005e 32D1     		bne	.L50
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 910              		.loc 1 823 10
 911 0060 0023     		movs	r3, #0
 912 0062 FB60     		str	r3, [r7, #12]
 913              		.loc 1 823 3
 914 0064 02E0     		b	.L51
 915              	.L53:
 916              		.loc 1 823 45 discriminator 4
 917 0066 FB68     		ldr	r3, [r7, #12]
 918 0068 0133     		adds	r3, r3, #1
 919 006a FB60     		str	r3, [r7, #12]
 920              	.L51:
 921              		.loc 1 823 28 discriminator 1
 922 006c FB68     		ldr	r3, [r7, #12]
 923 006e 012B     		cmp	r3, #1
 924 0070 06D8     		bhi	.L52
 925              		.loc 1 823 39 discriminator 3
 926 0072 294A     		ldr	r2, .L60
 927 0074 FB68     		ldr	r3, [r7, #12]
 928 0076 1B01     		lsls	r3, r3, #4
 929 0078 1344     		add	r3, r3, r2
 930 007a 1B68     		ldr	r3, [r3]
 931              		.loc 1 823 28 discriminator 3
 932 007c 002B     		cmp	r3, #0
 933 007e F2D1     		bne	.L53
 934              	.L52:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 32


 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 935              		.loc 1 824 6
 936 0080 FB68     		ldr	r3, [r7, #12]
 937 0082 022B     		cmp	r3, #2
 938 0084 01D1     		bne	.L54
 939              		.loc 1 824 29 discriminator 1
 940 0086 0023     		movs	r3, #0
 941 0088 40E0     		b	.L55
 942              	.L54:
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 943              		.loc 1 825 24
 944 008a 7B68     		ldr	r3, [r7, #4]
 945 008c 1A68     		ldr	r2, [r3]
 946              		.loc 1 825 15
 947 008e 2249     		ldr	r1, .L60
 948 0090 FB68     		ldr	r3, [r7, #12]
 949 0092 1B01     		lsls	r3, r3, #4
 950 0094 0B44     		add	r3, r3, r1
 951 0096 1A60     		str	r2, [r3]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 952              		.loc 1 826 25
 953 0098 7B68     		ldr	r3, [r7, #4]
 954 009a 9A68     		ldr	r2, [r3, #8]
 955              		.loc 1 826 16
 956 009c 1E49     		ldr	r1, .L60
 957 009e FB68     		ldr	r3, [r7, #12]
 958 00a0 1B01     		lsls	r3, r3, #4
 959 00a2 0B44     		add	r3, r3, r1
 960 00a4 0433     		adds	r3, r3, #4
 961 00a6 1A60     		str	r2, [r3]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 962              		.loc 1 827 20
 963 00a8 7B68     		ldr	r3, [r7, #4]
 964 00aa 5A69     		ldr	r2, [r3, #20]
 965              		.loc 1 827 16
 966 00ac 1A49     		ldr	r1, .L60
 967 00ae FB68     		ldr	r3, [r7, #12]
 968 00b0 1B01     		lsls	r3, r3, #4
 969 00b2 0B44     		add	r3, r3, r1
 970 00b4 0833     		adds	r3, r3, #8
 971 00b6 1A60     		str	r2, [r3]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 972              		.loc 1 828 16
 973 00b8 174A     		ldr	r2, .L60
 974 00ba FB68     		ldr	r3, [r7, #12]
 975 00bc 1B01     		lsls	r3, r3, #4
 976 00be 1344     		add	r3, r3, r2
 977 00c0 0C33     		adds	r3, r3, #12
 978 00c2 0022     		movs	r2, #0
 979 00c4 1A80     		strh	r2, [r3]	@ movhi
 980              	.L50:
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 981              		.loc 1 831 5
 982 00c6 3B68     		ldr	r3, [r7]
 983 00c8 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 33


 984 00ca 09D0     		beq	.L56
 985              		.loc 1 831 21 discriminator 1
 986 00cc 124A     		ldr	r2, .L60
 987 00ce FB68     		ldr	r3, [r7, #12]
 988 00d0 1B01     		lsls	r3, r3, #4
 989 00d2 1344     		add	r3, r3, r2
 990 00d4 0C33     		adds	r3, r3, #12
 991 00d6 1B88     		ldrh	r3, [r3]
 992              		.loc 1 831 10 discriminator 1
 993 00d8 002B     		cmp	r3, #0
 994 00da 01D0     		beq	.L56
 995              		.loc 1 831 34 discriminator 2
 996 00dc 0023     		movs	r3, #0
 997 00de 15E0     		b	.L55
 998              	.L56:
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 999              		.loc 1 833 15
 1000 00e0 3B68     		ldr	r3, [r7]
 1001 00e2 002B     		cmp	r3, #0
 1002 00e4 08D1     		bne	.L57
 1003              		.loc 1 833 39 discriminator 1
 1004 00e6 0C4A     		ldr	r2, .L60
 1005 00e8 FB68     		ldr	r3, [r7, #12]
 1006 00ea 1B01     		lsls	r3, r3, #4
 1007 00ec 1344     		add	r3, r3, r2
 1008 00ee 0C33     		adds	r3, r3, #12
 1009 00f0 1B88     		ldrh	r3, [r3]
 1010              		.loc 1 833 15 discriminator 1
 1011 00f2 0133     		adds	r3, r3, #1
 1012 00f4 9AB2     		uxth	r2, r3
 1013 00f6 01E0     		b	.L58
 1014              	.L57:
 1015              		.loc 1 833 15 is_stmt 0 discriminator 2
 1016 00f8 4FF48072 		mov	r2, #256
 1017              	.L58:
 1018              		.loc 1 833 15 discriminator 4
 1019 00fc 0649     		ldr	r1, .L60
 1020 00fe FB68     		ldr	r3, [r7, #12]
 1021 0100 1B01     		lsls	r3, r3, #4
 1022 0102 0B44     		add	r3, r3, r1
 1023 0104 0C33     		adds	r3, r3, #12
 1024 0106 1A80     		strh	r2, [r3]	@ movhi
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 1025              		.loc 1 835 11 is_stmt 1 discriminator 4
 1026 0108 FB68     		ldr	r3, [r7, #12]
 1027 010a 0133     		adds	r3, r3, #1
 1028              	.L55:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1029              		.loc 1 836 1
 1030 010c 1846     		mov	r0, r3
 1031 010e 1437     		adds	r7, r7, #20
 1032              		.cfi_def_cfa_offset 4
 1033 0110 BD46     		mov	sp, r7
 1034              		.cfi_def_cfa_register 13
 1035              		@ sp needed
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 34


 1036 0112 5DF8047B 		ldr	r7, [sp], #4
 1037              		.cfi_restore 7
 1038              		.cfi_def_cfa_offset 0
 1039 0116 7047     		bx	lr
 1040              	.L61:
 1041              		.align	2
 1042              	.L60:
 1043 0118 00000000 		.word	Files
 1044              		.cfi_endproc
 1045              	.LFE331:
 1047              		.section	.text.dec_lock,"ax",%progbits
 1048              		.align	1
 1049              		.syntax unified
 1050              		.thumb
 1051              		.thumb_func
 1053              	dec_lock:
 1054              	.LFB332:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1055              		.loc 1 843 1
 1056              		.cfi_startproc
 1057              		@ args = 0, pretend = 0, frame = 16
 1058              		@ frame_needed = 1, uses_anonymous_args = 0
 1059              		@ link register save eliminated.
 1060 0000 80B4     		push	{r7}
 1061              		.cfi_def_cfa_offset 4
 1062              		.cfi_offset 7, -4
 1063 0002 85B0     		sub	sp, sp, #20
 1064              		.cfi_def_cfa_offset 24
 1065 0004 00AF     		add	r7, sp, #0
 1066              		.cfi_def_cfa_register 7
 1067 0006 7860     		str	r0, [r7, #4]
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 1068              		.loc 1 848 5
 1069 0008 7B68     		ldr	r3, [r7, #4]
 1070 000a 013B     		subs	r3, r3, #1
 1071 000c 7B60     		str	r3, [r7, #4]
 1072 000e 7B68     		ldr	r3, [r7, #4]
 1073 0010 012B     		cmp	r3, #1
 1074 0012 25D8     		bhi	.L63
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 1075              		.loc 1 849 5
 1076 0014 174A     		ldr	r2, .L69
 1077 0016 7B68     		ldr	r3, [r7, #4]
 1078 0018 1B01     		lsls	r3, r3, #4
 1079 001a 1344     		add	r3, r3, r2
 1080 001c 0C33     		adds	r3, r3, #12
 1081 001e 1B88     		ldrh	r3, [r3]	@ movhi
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 35


 1082 0020 FB81     		strh	r3, [r7, #14]	@ movhi
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 1083              		.loc 1 850 6
 1084 0022 FB89     		ldrh	r3, [r7, #14]
 1085 0024 B3F5807F 		cmp	r3, #256
 1086 0028 01D1     		bne	.L64
 1087              		.loc 1 850 21 discriminator 1
 1088 002a 0023     		movs	r3, #0
 1089 002c FB81     		strh	r3, [r7, #14]	@ movhi
 1090              	.L64:
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 1091              		.loc 1 851 6
 1092 002e FB89     		ldrh	r3, [r7, #14]
 1093 0030 002B     		cmp	r3, #0
 1094 0032 02D0     		beq	.L65
 1095              		.loc 1 851 15 discriminator 1
 1096 0034 FB89     		ldrh	r3, [r7, #14]
 1097 0036 013B     		subs	r3, r3, #1
 1098 0038 FB81     		strh	r3, [r7, #14]	@ movhi
 1099              	.L65:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 1100              		.loc 1 852 16
 1101 003a 0E4A     		ldr	r2, .L69
 1102 003c 7B68     		ldr	r3, [r7, #4]
 1103 003e 1B01     		lsls	r3, r3, #4
 1104 0040 1344     		add	r3, r3, r2
 1105 0042 0C33     		adds	r3, r3, #12
 1106 0044 FA89     		ldrh	r2, [r7, #14]	@ movhi
 1107 0046 1A80     		strh	r2, [r3]	@ movhi
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 1108              		.loc 1 853 6
 1109 0048 FB89     		ldrh	r3, [r7, #14]
 1110 004a 002B     		cmp	r3, #0
 1111 004c 05D1     		bne	.L66
 1112              		.loc 1 853 27 discriminator 1
 1113 004e 094A     		ldr	r2, .L69
 1114 0050 7B68     		ldr	r3, [r7, #4]
 1115 0052 1B01     		lsls	r3, r3, #4
 1116 0054 1344     		add	r3, r3, r2
 1117 0056 0022     		movs	r2, #0
 1118 0058 1A60     		str	r2, [r3]
 1119              	.L66:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 1120              		.loc 1 854 7
 1121 005a 0023     		movs	r3, #0
 1122 005c 7B73     		strb	r3, [r7, #13]
 1123 005e 01E0     		b	.L67
 1124              	.L63:
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 1125              		.loc 1 856 7
 1126 0060 0223     		movs	r3, #2
 1127 0062 7B73     		strb	r3, [r7, #13]
 1128              	.L67:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1129              		.loc 1 858 9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 36


 1130 0064 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1131              		.loc 1 859 1
 1132 0066 1846     		mov	r0, r3
 1133 0068 1437     		adds	r7, r7, #20
 1134              		.cfi_def_cfa_offset 4
 1135 006a BD46     		mov	sp, r7
 1136              		.cfi_def_cfa_register 13
 1137              		@ sp needed
 1138 006c 5DF8047B 		ldr	r7, [sp], #4
 1139              		.cfi_restore 7
 1140              		.cfi_def_cfa_offset 0
 1141 0070 7047     		bx	lr
 1142              	.L70:
 1143 0072 00BF     		.align	2
 1144              	.L69:
 1145 0074 00000000 		.word	Files
 1146              		.cfi_endproc
 1147              	.LFE332:
 1149              		.section	.text.clear_lock,"ax",%progbits
 1150              		.align	1
 1151              		.syntax unified
 1152              		.thumb
 1153              		.thumb_func
 1155              	clear_lock:
 1156              	.LFB333:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1157              		.loc 1 866 1
 1158              		.cfi_startproc
 1159              		@ args = 0, pretend = 0, frame = 16
 1160              		@ frame_needed = 1, uses_anonymous_args = 0
 1161              		@ link register save eliminated.
 1162 0000 80B4     		push	{r7}
 1163              		.cfi_def_cfa_offset 4
 1164              		.cfi_offset 7, -4
 1165 0002 85B0     		sub	sp, sp, #20
 1166              		.cfi_def_cfa_offset 24
 1167 0004 00AF     		add	r7, sp, #0
 1168              		.cfi_def_cfa_register 7
 1169 0006 7860     		str	r0, [r7, #4]
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 1170              		.loc 1 869 9
 1171 0008 0023     		movs	r3, #0
 1172 000a FB60     		str	r3, [r7, #12]
 1173              		.loc 1 869 2
 1174 000c 10E0     		b	.L72
 1175              	.L74:
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 1176              		.loc 1 870 15
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 37


 1177 000e 0D4A     		ldr	r2, .L75
 1178 0010 FB68     		ldr	r3, [r7, #12]
 1179 0012 1B01     		lsls	r3, r3, #4
 1180 0014 1344     		add	r3, r3, r2
 1181 0016 1B68     		ldr	r3, [r3]
 1182              		.loc 1 870 6
 1183 0018 7A68     		ldr	r2, [r7, #4]
 1184 001a 9A42     		cmp	r2, r3
 1185 001c 05D1     		bne	.L73
 1186              		.loc 1 870 38 discriminator 1
 1187 001e 094A     		ldr	r2, .L75
 1188 0020 FB68     		ldr	r3, [r7, #12]
 1189 0022 1B01     		lsls	r3, r3, #4
 1190 0024 1344     		add	r3, r3, r2
 1191 0026 0022     		movs	r2, #0
 1192 0028 1A60     		str	r2, [r3]
 1193              	.L73:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 1194              		.loc 1 869 29 discriminator 2
 1195 002a FB68     		ldr	r3, [r7, #12]
 1196 002c 0133     		adds	r3, r3, #1
 1197 002e FB60     		str	r3, [r7, #12]
 1198              	.L72:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 1199              		.loc 1 869 16 discriminator 1
 1200 0030 FB68     		ldr	r3, [r7, #12]
 1201 0032 012B     		cmp	r3, #1
 1202 0034 EBD9     		bls	.L74
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1203              		.loc 1 872 1
 1204 0036 00BF     		nop
 1205 0038 00BF     		nop
 1206 003a 1437     		adds	r7, r7, #20
 1207              		.cfi_def_cfa_offset 4
 1208 003c BD46     		mov	sp, r7
 1209              		.cfi_def_cfa_register 13
 1210              		@ sp needed
 1211 003e 5DF8047B 		ldr	r7, [sp], #4
 1212              		.cfi_restore 7
 1213              		.cfi_def_cfa_offset 0
 1214 0042 7047     		bx	lr
 1215              	.L76:
 1216              		.align	2
 1217              	.L75:
 1218 0044 00000000 		.word	Files
 1219              		.cfi_endproc
 1220              	.LFE333:
 1222              		.section	.text.sync_window,"ax",%progbits
 1223              		.align	1
 1224              		.syntax unified
 1225              		.thumb
 1226              		.thumb_func
 1228              	sync_window:
 1229              	.LFB334:
 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 38


 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1230              		.loc 1 886 1
 1231              		.cfi_startproc
 1232              		@ args = 0, pretend = 0, frame = 24
 1233              		@ frame_needed = 1, uses_anonymous_args = 0
 1234 0000 80B5     		push	{r7, lr}
 1235              		.cfi_def_cfa_offset 8
 1236              		.cfi_offset 7, -8
 1237              		.cfi_offset 14, -4
 1238 0002 86B0     		sub	sp, sp, #24
 1239              		.cfi_def_cfa_offset 32
 1240 0004 00AF     		add	r7, sp, #0
 1241              		.cfi_def_cfa_register 7
 1242 0006 7860     		str	r0, [r7, #4]
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1243              		.loc 1 889 10
 1244 0008 0023     		movs	r3, #0
 1245 000a FB73     		strb	r3, [r7, #15]
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 1246              		.loc 1 892 8
 1247 000c 7B68     		ldr	r3, [r7, #4]
 1248 000e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1249              		.loc 1 892 5
 1250 0010 002B     		cmp	r3, #0
 1251 0012 34D0     		beq	.L78
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1252              		.loc 1 893 9
 1253 0014 7B68     		ldr	r3, [r7, #4]
 1254 0016 DB6A     		ldr	r3, [r3, #44]
 1255 0018 7B61     		str	r3, [r7, #20]
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1256              		.loc 1 894 7
 1257 001a 7B68     		ldr	r3, [r7, #4]
 1258 001c 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1259              		.loc 1 894 29
 1260 001e 7B68     		ldr	r3, [r7, #4]
 1261 0020 03F13001 		add	r1, r3, #48
 1262              		.loc 1 894 7
 1263 0024 0123     		movs	r3, #1
 1264 0026 7A69     		ldr	r2, [r7, #20]
 1265 0028 FFF7FEFF 		bl	disk_write
 1266 002c 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 39


 1267              		.loc 1 894 6
 1268 002e 002B     		cmp	r3, #0
 1269 0030 02D0     		beq	.L79
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1270              		.loc 1 895 8
 1271 0032 0123     		movs	r3, #1
 1272 0034 FB73     		strb	r3, [r7, #15]
 1273 0036 22E0     		b	.L78
 1274              	.L79:
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 1275              		.loc 1 897 14
 1276 0038 7B68     		ldr	r3, [r7, #4]
 1277 003a 0022     		movs	r2, #0
 1278 003c DA70     		strb	r2, [r3, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1279              		.loc 1 898 18
 1280 003e 7B68     		ldr	r3, [r7, #4]
 1281 0040 1B6A     		ldr	r3, [r3, #32]
 1282              		.loc 1 898 14
 1283 0042 7A69     		ldr	r2, [r7, #20]
 1284 0044 D21A     		subs	r2, r2, r3
 1285              		.loc 1 898 32
 1286 0046 7B68     		ldr	r3, [r7, #4]
 1287 0048 9B69     		ldr	r3, [r3, #24]
 1288              		.loc 1 898 7
 1289 004a 9A42     		cmp	r2, r3
 1290 004c 17D2     		bcs	.L78
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1291              		.loc 1 899 17
 1292 004e 7B68     		ldr	r3, [r7, #4]
 1293 0050 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1294              		.loc 1 899 13
 1295 0052 3B61     		str	r3, [r7, #16]
 1296              		.loc 1 899 5
 1297 0054 10E0     		b	.L80
 1298              	.L81:
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1299              		.loc 1 900 17 discriminator 3
 1300 0056 7B68     		ldr	r3, [r7, #4]
 1301 0058 9B69     		ldr	r3, [r3, #24]
 1302              		.loc 1 900 12 discriminator 3
 1303 005a 7A69     		ldr	r2, [r7, #20]
 1304 005c 1344     		add	r3, r3, r2
 1305 005e 7B61     		str	r3, [r7, #20]
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 1306              		.loc 1 901 6 discriminator 3
 1307 0060 7B68     		ldr	r3, [r7, #4]
 1308 0062 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1309              		.loc 1 901 28 discriminator 3
 1310 0064 7B68     		ldr	r3, [r7, #4]
 1311 0066 03F13001 		add	r1, r3, #48
 1312              		.loc 1 901 6 discriminator 3
 1313 006a 0123     		movs	r3, #1
 1314 006c 7A69     		ldr	r2, [r7, #20]
 1315 006e FFF7FEFF 		bl	disk_write
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 40


 1316              		.loc 1 899 38 discriminator 3
 1317 0072 3B69     		ldr	r3, [r7, #16]
 1318 0074 013B     		subs	r3, r3, #1
 1319 0076 3B61     		str	r3, [r7, #16]
 1320              	.L80:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1321              		.loc 1 899 30 discriminator 1
 1322 0078 3B69     		ldr	r3, [r7, #16]
 1323 007a 012B     		cmp	r3, #1
 1324 007c EBD8     		bhi	.L81
 1325              	.L78:
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1326              		.loc 1 906 9
 1327 007e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1328              		.loc 1 907 1
 1329 0080 1846     		mov	r0, r3
 1330 0082 1837     		adds	r7, r7, #24
 1331              		.cfi_def_cfa_offset 8
 1332 0084 BD46     		mov	sp, r7
 1333              		.cfi_def_cfa_register 13
 1334              		@ sp needed
 1335 0086 80BD     		pop	{r7, pc}
 1336              		.cfi_endproc
 1337              	.LFE334:
 1339              		.section	.text.move_window,"ax",%progbits
 1340              		.align	1
 1341              		.syntax unified
 1342              		.thumb
 1343              		.thumb_func
 1345              	move_window:
 1346              	.LFB335:
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1347              		.loc 1 916 1
 1348              		.cfi_startproc
 1349              		@ args = 0, pretend = 0, frame = 16
 1350              		@ frame_needed = 1, uses_anonymous_args = 0
 1351 0000 80B5     		push	{r7, lr}
 1352              		.cfi_def_cfa_offset 8
 1353              		.cfi_offset 7, -8
 1354              		.cfi_offset 14, -4
 1355 0002 84B0     		sub	sp, sp, #16
 1356              		.cfi_def_cfa_offset 24
 1357 0004 00AF     		add	r7, sp, #0
 1358              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 41


 1359 0006 7860     		str	r0, [r7, #4]
 1360 0008 3960     		str	r1, [r7]
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1361              		.loc 1 917 10
 1362 000a 0023     		movs	r3, #0
 1363 000c FB73     		strb	r3, [r7, #15]
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 1364              		.loc 1 920 18
 1365 000e 7B68     		ldr	r3, [r7, #4]
 1366 0010 DB6A     		ldr	r3, [r3, #44]
 1367              		.loc 1 920 5
 1368 0012 3A68     		ldr	r2, [r7]
 1369 0014 9A42     		cmp	r2, r3
 1370 0016 1BD0     		beq	.L84
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 1371              		.loc 1 922 9
 1372 0018 7868     		ldr	r0, [r7, #4]
 1373 001a FFF7FEFF 		bl	sync_window
 1374 001e 0346     		mov	r3, r0
 1375 0020 FB73     		strb	r3, [r7, #15]
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 1376              		.loc 1 924 6
 1377 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1378 0024 002B     		cmp	r3, #0
 1379 0026 13D1     		bne	.L84
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 1380              		.loc 1 925 8
 1381 0028 7B68     		ldr	r3, [r7, #4]
 1382 002a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1383              		.loc 1 925 29
 1384 002c 7B68     		ldr	r3, [r7, #4]
 1385 002e 03F13001 		add	r1, r3, #48
 1386              		.loc 1 925 8
 1387 0032 0123     		movs	r3, #1
 1388 0034 3A68     		ldr	r2, [r7]
 1389 0036 FFF7FEFF 		bl	disk_read
 1390 003a 0346     		mov	r3, r0
 1391              		.loc 1 925 7
 1392 003c 002B     		cmp	r3, #0
 1393 003e 04D0     		beq	.L85
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1394              		.loc 1 926 12
 1395 0040 4FF0FF33 		mov	r3, #-1
 1396 0044 3B60     		str	r3, [r7]
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 1397              		.loc 1 927 9
 1398 0046 0123     		movs	r3, #1
 1399 0048 FB73     		strb	r3, [r7, #15]
 1400              	.L85:
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 1401              		.loc 1 929 16
 1402 004a 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 42


 1403 004c 3A68     		ldr	r2, [r7]
 1404 004e DA62     		str	r2, [r3, #44]
 1405              	.L84:
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1406              		.loc 1 932 9
 1407 0050 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1408              		.loc 1 933 1
 1409 0052 1846     		mov	r0, r3
 1410 0054 1037     		adds	r7, r7, #16
 1411              		.cfi_def_cfa_offset 8
 1412 0056 BD46     		mov	sp, r7
 1413              		.cfi_def_cfa_register 13
 1414              		@ sp needed
 1415 0058 80BD     		pop	{r7, pc}
 1416              		.cfi_endproc
 1417              	.LFE335:
 1419              		.section	.text.sync_fs,"ax",%progbits
 1420              		.align	1
 1421              		.syntax unified
 1422              		.thumb
 1423              		.thumb_func
 1425              	sync_fs:
 1426              	.LFB336:
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1427              		.loc 1 947 1
 1428              		.cfi_startproc
 1429              		@ args = 0, pretend = 0, frame = 16
 1430              		@ frame_needed = 1, uses_anonymous_args = 0
 1431 0000 80B5     		push	{r7, lr}
 1432              		.cfi_def_cfa_offset 8
 1433              		.cfi_offset 7, -8
 1434              		.cfi_offset 14, -4
 1435 0002 84B0     		sub	sp, sp, #16
 1436              		.cfi_def_cfa_offset 24
 1437 0004 00AF     		add	r7, sp, #0
 1438              		.cfi_def_cfa_register 7
 1439 0006 7860     		str	r0, [r7, #4]
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 43


 1440              		.loc 1 951 8
 1441 0008 7868     		ldr	r0, [r7, #4]
 1442 000a FFF7FEFF 		bl	sync_window
 1443 000e 0346     		mov	r3, r0
 1444 0010 FB73     		strb	r3, [r7, #15]
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 1445              		.loc 1 952 5
 1446 0012 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1447 0014 002B     		cmp	r3, #0
 1448 0016 58D1     		bne	.L88
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 1449              		.loc 1 954 9
 1450 0018 7B68     		ldr	r3, [r7, #4]
 1451 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1452              		.loc 1 954 6
 1453 001c 032B     		cmp	r3, #3
 1454 001e 48D1     		bne	.L89
 1455              		.loc 1 954 36 discriminator 1
 1456 0020 7B68     		ldr	r3, [r7, #4]
 1457 0022 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1458              		.loc 1 954 31 discriminator 1
 1459 0024 012B     		cmp	r3, #1
 1460 0026 44D1     		bne	.L89
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 1461              		.loc 1 956 14
 1462 0028 7B68     		ldr	r3, [r7, #4]
 1463 002a 3033     		adds	r3, r3, #48
 1464              		.loc 1 956 4
 1465 002c 4FF40072 		mov	r2, #512
 1466 0030 0021     		movs	r1, #0
 1467 0032 1846     		mov	r0, r3
 1468 0034 FFF7FEFF 		bl	mem_set
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 1469              		.loc 1 957 12
 1470 0038 7B68     		ldr	r3, [r7, #4]
 1471 003a 3033     		adds	r3, r3, #48
 1472              		.loc 1 957 4
 1473 003c 03F5FF73 		add	r3, r3, #510
 1474 0040 4AF65521 		movw	r1, #43605
 1475 0044 1846     		mov	r0, r3
 1476 0046 FFF7FEFF 		bl	st_word
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 1477              		.loc 1 958 13
 1478 004a 7B68     		ldr	r3, [r7, #4]
 1479 004c 3033     		adds	r3, r3, #48
 1480              		.loc 1 958 4
 1481 004e 2149     		ldr	r1, .L91
 1482 0050 1846     		mov	r0, r3
 1483 0052 FFF7FEFF 		bl	st_dword
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 1484              		.loc 1 959 13
 1485 0056 7B68     		ldr	r3, [r7, #4]
 1486 0058 3033     		adds	r3, r3, #48
 1487              		.loc 1 959 4
 1488 005a 03F5F273 		add	r3, r3, #484
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 44


 1489 005e 1E49     		ldr	r1, .L91+4
 1490 0060 1846     		mov	r0, r3
 1491 0062 FFF7FEFF 		bl	st_dword
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 1492              		.loc 1 960 13
 1493 0066 7B68     		ldr	r3, [r7, #4]
 1494 0068 3033     		adds	r3, r3, #48
 1495              		.loc 1 960 4
 1496 006a 03F5F472 		add	r2, r3, #488
 1497 006e 7B68     		ldr	r3, [r7, #4]
 1498 0070 1B69     		ldr	r3, [r3, #16]
 1499 0072 1946     		mov	r1, r3
 1500 0074 1046     		mov	r0, r2
 1501 0076 FFF7FEFF 		bl	st_dword
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 1502              		.loc 1 961 13
 1503 007a 7B68     		ldr	r3, [r7, #4]
 1504 007c 3033     		adds	r3, r3, #48
 1505              		.loc 1 961 4
 1506 007e 03F5F672 		add	r2, r3, #492
 1507 0082 7B68     		ldr	r3, [r7, #4]
 1508 0084 DB68     		ldr	r3, [r3, #12]
 1509 0086 1946     		mov	r1, r3
 1510 0088 1046     		mov	r0, r2
 1511 008a FFF7FEFF 		bl	st_dword
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 1512              		.loc 1 963 20
 1513 008e 7B68     		ldr	r3, [r7, #4]
 1514 0090 DB69     		ldr	r3, [r3, #28]
 1515              		.loc 1 963 30
 1516 0092 5A1C     		adds	r2, r3, #1
 1517              		.loc 1 963 16
 1518 0094 7B68     		ldr	r3, [r7, #4]
 1519 0096 DA62     		str	r2, [r3, #44]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 1520              		.loc 1 964 4
 1521 0098 7B68     		ldr	r3, [r7, #4]
 1522 009a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1523              		.loc 1 964 26
 1524 009c 7B68     		ldr	r3, [r7, #4]
 1525 009e 03F13001 		add	r1, r3, #48
 1526              		.loc 1 964 4
 1527 00a2 7B68     		ldr	r3, [r7, #4]
 1528 00a4 DA6A     		ldr	r2, [r3, #44]
 1529 00a6 0123     		movs	r3, #1
 1530 00a8 FFF7FEFF 		bl	disk_write
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 1531              		.loc 1 965 17
 1532 00ac 7B68     		ldr	r3, [r7, #4]
 1533 00ae 0022     		movs	r2, #0
 1534 00b0 1A71     		strb	r2, [r3, #4]
 1535              	.L89:
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 1536              		.loc 1 968 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 45


 1537 00b2 7B68     		ldr	r3, [r7, #4]
 1538 00b4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1539 00b6 0022     		movs	r2, #0
 1540 00b8 0021     		movs	r1, #0
 1541 00ba 1846     		mov	r0, r3
 1542 00bc FFF7FEFF 		bl	disk_ioctl
 1543 00c0 0346     		mov	r3, r0
 1544              		.loc 1 968 6
 1545 00c2 002B     		cmp	r3, #0
 1546 00c4 01D0     		beq	.L88
 1547              		.loc 1 968 56 discriminator 1
 1548 00c6 0123     		movs	r3, #1
 1549 00c8 FB73     		strb	r3, [r7, #15]
 1550              	.L88:
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1551              		.loc 1 971 9
 1552 00ca FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1553              		.loc 1 972 1
 1554 00cc 1846     		mov	r0, r3
 1555 00ce 1037     		adds	r7, r7, #16
 1556              		.cfi_def_cfa_offset 8
 1557 00d0 BD46     		mov	sp, r7
 1558              		.cfi_def_cfa_register 13
 1559              		@ sp needed
 1560 00d2 80BD     		pop	{r7, pc}
 1561              	.L92:
 1562              		.align	2
 1563              	.L91:
 1564 00d4 52526141 		.word	1096897106
 1565 00d8 72724161 		.word	1631679090
 1566              		.cfi_endproc
 1567              	.LFE336:
 1569              		.section	.text.clust2sect,"ax",%progbits
 1570              		.align	1
 1571              		.syntax unified
 1572              		.thumb
 1573              		.thumb_func
 1575              	clust2sect:
 1576              	.LFB337:
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 46


 1577              		.loc 1 987 1
 1578              		.cfi_startproc
 1579              		@ args = 0, pretend = 0, frame = 8
 1580              		@ frame_needed = 1, uses_anonymous_args = 0
 1581              		@ link register save eliminated.
 1582 0000 80B4     		push	{r7}
 1583              		.cfi_def_cfa_offset 4
 1584              		.cfi_offset 7, -4
 1585 0002 83B0     		sub	sp, sp, #12
 1586              		.cfi_def_cfa_offset 16
 1587 0004 00AF     		add	r7, sp, #0
 1588              		.cfi_def_cfa_register 7
 1589 0006 7860     		str	r0, [r7, #4]
 1590 0008 3960     		str	r1, [r7]
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 1591              		.loc 1 988 7
 1592 000a 3B68     		ldr	r3, [r7]
 1593 000c 023B     		subs	r3, r3, #2
 1594 000e 3B60     		str	r3, [r7]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 1595              		.loc 1 989 16
 1596 0010 7B68     		ldr	r3, [r7, #4]
 1597 0012 5B69     		ldr	r3, [r3, #20]
 1598              		.loc 1 989 27
 1599 0014 023B     		subs	r3, r3, #2
 1600              		.loc 1 989 5
 1601 0016 3A68     		ldr	r2, [r7]
 1602 0018 9A42     		cmp	r2, r3
 1603 001a 01D3     		bcc	.L94
 1604              		.loc 1 989 39 discriminator 1
 1605 001c 0023     		movs	r3, #0
 1606 001e 08E0     		b	.L95
 1607              	.L94:
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 1608              		.loc 1 990 18
 1609 0020 7B68     		ldr	r3, [r7, #4]
 1610 0022 5B89     		ldrh	r3, [r3, #10]
 1611 0024 1A46     		mov	r2, r3
 1612              		.loc 1 990 14
 1613 0026 3B68     		ldr	r3, [r7]
 1614 0028 03FB02F2 		mul	r2, r3, r2
 1615              		.loc 1 990 30
 1616 002c 7B68     		ldr	r3, [r7, #4]
 1617 002e 9B6A     		ldr	r3, [r3, #40]
 1618              		.loc 1 990 26
 1619 0030 1344     		add	r3, r3, r2
 1620              	.L95:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1621              		.loc 1 991 1
 1622 0032 1846     		mov	r0, r3
 1623 0034 0C37     		adds	r7, r7, #12
 1624              		.cfi_def_cfa_offset 4
 1625 0036 BD46     		mov	sp, r7
 1626              		.cfi_def_cfa_register 13
 1627              		@ sp needed
 1628 0038 5DF8047B 		ldr	r7, [sp], #4
 1629              		.cfi_restore 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 47


 1630              		.cfi_def_cfa_offset 0
 1631 003c 7047     		bx	lr
 1632              		.cfi_endproc
 1633              	.LFE337:
 1635              		.section	.text.get_fat,"ax",%progbits
 1636              		.align	1
 1637              		.syntax unified
 1638              		.thumb
 1639              		.thumb_func
 1641              	get_fat:
 1642              	.LFB338:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1643              		.loc 1 1005 1
 1644              		.cfi_startproc
 1645              		@ args = 0, pretend = 0, frame = 24
 1646              		@ frame_needed = 1, uses_anonymous_args = 0
 1647 0000 80B5     		push	{r7, lr}
 1648              		.cfi_def_cfa_offset 8
 1649              		.cfi_offset 7, -8
 1650              		.cfi_offset 14, -4
 1651 0002 86B0     		sub	sp, sp, #24
 1652              		.cfi_def_cfa_offset 32
 1653 0004 00AF     		add	r7, sp, #0
 1654              		.cfi_def_cfa_register 7
 1655 0006 7860     		str	r0, [r7, #4]
 1656 0008 3960     		str	r1, [r7]
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 1657              		.loc 1 1008 9
 1658 000a 7B68     		ldr	r3, [r7, #4]
 1659 000c 1B68     		ldr	r3, [r3]
 1660 000e 3B61     		str	r3, [r7, #16]
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
 1661              		.loc 1 1011 5
 1662 0010 3B68     		ldr	r3, [r7]
 1663 0012 012B     		cmp	r3, #1
 1664 0014 04D9     		bls	.L97
 1665              		.loc 1 1011 28 discriminator 1
 1666 0016 3B69     		ldr	r3, [r7, #16]
 1667 0018 5B69     		ldr	r3, [r3, #20]
 1668              		.loc 1 1011 15 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 48


 1669 001a 3A68     		ldr	r2, [r7]
 1670 001c 9A42     		cmp	r2, r3
 1671 001e 02D3     		bcc	.L98
 1672              	.L97:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 1673              		.loc 1 1012 7
 1674 0020 0123     		movs	r3, #1
 1675 0022 7B61     		str	r3, [r7, #20]
 1676 0024 8FE0     		b	.L99
 1677              	.L98:
1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 1678              		.loc 1 1015 7
 1679 0026 4FF0FF33 		mov	r3, #-1
 1680 002a 7B61     		str	r3, [r7, #20]
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 1681              		.loc 1 1017 13
 1682 002c 3B69     		ldr	r3, [r7, #16]
 1683 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1684              		.loc 1 1017 3
 1685 0030 032B     		cmp	r3, #3
 1686 0032 62D0     		beq	.L100
 1687 0034 032B     		cmp	r3, #3
 1688 0036 7CDC     		bgt	.L101
 1689 0038 012B     		cmp	r3, #1
 1690 003a 02D0     		beq	.L102
 1691 003c 022B     		cmp	r3, #2
 1692 003e 42D0     		beq	.L103
 1693 0040 77E0     		b	.L101
 1694              	.L102:
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 1695              		.loc 1 1019 7
 1696 0042 3B68     		ldr	r3, [r7]
 1697 0044 FB60     		str	r3, [r7, #12]
 1698              		.loc 1 1019 30
 1699 0046 FB68     		ldr	r3, [r7, #12]
 1700 0048 5B08     		lsrs	r3, r3, #1
 1701              		.loc 1 1019 24
 1702 004a FA68     		ldr	r2, [r7, #12]
 1703 004c 1344     		add	r3, r3, r2
 1704 004e FB60     		str	r3, [r7, #12]
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1705              		.loc 1 1020 26
 1706 0050 3B69     		ldr	r3, [r7, #16]
 1707 0052 1A6A     		ldr	r2, [r3, #32]
 1708              		.loc 1 1020 42
 1709 0054 FB68     		ldr	r3, [r7, #12]
 1710 0056 5B0A     		lsrs	r3, r3, #9
 1711              		.loc 1 1020 8
 1712 0058 1344     		add	r3, r3, r2
 1713 005a 1946     		mov	r1, r3
 1714 005c 3869     		ldr	r0, [r7, #16]
 1715 005e FFF7FEFF 		bl	move_window
 1716 0062 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 49


 1717              		.loc 1 1020 7
 1718 0064 002B     		cmp	r3, #0
 1719 0066 67D1     		bne	.L111
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 1720              		.loc 1 1021 19
 1721 0068 FB68     		ldr	r3, [r7, #12]
 1722 006a 5A1C     		adds	r2, r3, #1
 1723 006c FA60     		str	r2, [r7, #12]
 1724              		.loc 1 1021 22
 1725 006e C3F30803 		ubfx	r3, r3, #0, #9
 1726              		.loc 1 1021 16
 1727 0072 3A69     		ldr	r2, [r7, #16]
 1728 0074 1344     		add	r3, r3, r2
 1729 0076 93F83030 		ldrb	r3, [r3, #48]	@ zero_extendqisi2
 1730              		.loc 1 1021 7
 1731 007a BB60     		str	r3, [r7, #8]
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1732              		.loc 1 1022 26
 1733 007c 3B69     		ldr	r3, [r7, #16]
 1734 007e 1A6A     		ldr	r2, [r3, #32]
 1735              		.loc 1 1022 42
 1736 0080 FB68     		ldr	r3, [r7, #12]
 1737 0082 5B0A     		lsrs	r3, r3, #9
 1738              		.loc 1 1022 8
 1739 0084 1344     		add	r3, r3, r2
 1740 0086 1946     		mov	r1, r3
 1741 0088 3869     		ldr	r0, [r7, #16]
 1742 008a FFF7FEFF 		bl	move_window
 1743 008e 0346     		mov	r3, r0
 1744              		.loc 1 1022 7
 1745 0090 002B     		cmp	r3, #0
 1746 0092 53D1     		bne	.L112
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 1747              		.loc 1 1023 21
 1748 0094 FB68     		ldr	r3, [r7, #12]
 1749 0096 C3F30803 		ubfx	r3, r3, #0, #9
 1750              		.loc 1 1023 17
 1751 009a 3A69     		ldr	r2, [r7, #16]
 1752 009c 1344     		add	r3, r3, r2
 1753 009e 93F83030 		ldrb	r3, [r3, #48]	@ zero_extendqisi2
 1754              		.loc 1 1023 31
 1755 00a2 1B02     		lsls	r3, r3, #8
 1756 00a4 1A46     		mov	r2, r3
 1757              		.loc 1 1023 7
 1758 00a6 BB68     		ldr	r3, [r7, #8]
 1759 00a8 1343     		orrs	r3, r3, r2
 1760 00aa BB60     		str	r3, [r7, #8]
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 1761              		.loc 1 1024 16
 1762 00ac 3B68     		ldr	r3, [r7]
 1763 00ae 03F00103 		and	r3, r3, #1
 1764              		.loc 1 1024 33
 1765 00b2 002B     		cmp	r3, #0
 1766 00b4 02D0     		beq	.L106
 1767              		.loc 1 1024 33 is_stmt 0 discriminator 1
 1768 00b6 BB68     		ldr	r3, [r7, #8]
 1769 00b8 1B09     		lsrs	r3, r3, #4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 50


 1770 00ba 02E0     		b	.L107
 1771              	.L106:
 1772              		.loc 1 1024 33 discriminator 2
 1773 00bc BB68     		ldr	r3, [r7, #8]
 1774 00be C3F30B03 		ubfx	r3, r3, #0, #12
 1775              	.L107:
 1776              		.loc 1 1024 8 is_stmt 1 discriminator 4
 1777 00c2 7B61     		str	r3, [r7, #20]
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1778              		.loc 1 1025 4 discriminator 4
 1779 00c4 3FE0     		b	.L99
 1780              	.L103:
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 1781              		.loc 1 1028 26
 1782 00c6 3B69     		ldr	r3, [r7, #16]
 1783 00c8 1A6A     		ldr	r2, [r3, #32]
 1784              		.loc 1 1028 44
 1785 00ca 3B68     		ldr	r3, [r7]
 1786 00cc 1B0A     		lsrs	r3, r3, #8
 1787              		.loc 1 1028 8
 1788 00ce 1344     		add	r3, r3, r2
 1789 00d0 1946     		mov	r1, r3
 1790 00d2 3869     		ldr	r0, [r7, #16]
 1791 00d4 FFF7FEFF 		bl	move_window
 1792 00d8 0346     		mov	r3, r0
 1793              		.loc 1 1028 7
 1794 00da 002B     		cmp	r3, #0
 1795 00dc 30D1     		bne	.L113
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 1796              		.loc 1 1029 18
 1797 00de 3B69     		ldr	r3, [r7, #16]
 1798 00e0 03F13002 		add	r2, r3, #48
 1799              		.loc 1 1029 33
 1800 00e4 3B68     		ldr	r3, [r7]
 1801 00e6 5B00     		lsls	r3, r3, #1
 1802              		.loc 1 1029 37
 1803 00e8 03F4FF73 		and	r3, r3, #510
 1804              		.loc 1 1029 10
 1805 00ec 1344     		add	r3, r3, r2
 1806 00ee 1846     		mov	r0, r3
 1807 00f0 FFF7FEFF 		bl	ld_word
 1808 00f4 0346     		mov	r3, r0
 1809              		.loc 1 1029 8
 1810 00f6 7B61     		str	r3, [r7, #20]
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1811              		.loc 1 1030 4
 1812 00f8 25E0     		b	.L99
 1813              	.L100:
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 1814              		.loc 1 1033 26
 1815 00fa 3B69     		ldr	r3, [r7, #16]
 1816 00fc 1A6A     		ldr	r2, [r3, #32]
 1817              		.loc 1 1033 44
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 51


 1818 00fe 3B68     		ldr	r3, [r7]
 1819 0100 DB09     		lsrs	r3, r3, #7
 1820              		.loc 1 1033 8
 1821 0102 1344     		add	r3, r3, r2
 1822 0104 1946     		mov	r1, r3
 1823 0106 3869     		ldr	r0, [r7, #16]
 1824 0108 FFF7FEFF 		bl	move_window
 1825 010c 0346     		mov	r3, r0
 1826              		.loc 1 1033 7
 1827 010e 002B     		cmp	r3, #0
 1828 0110 18D1     		bne	.L114
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 1829              		.loc 1 1034 19
 1830 0112 3B69     		ldr	r3, [r7, #16]
 1831 0114 03F13002 		add	r2, r3, #48
 1832              		.loc 1 1034 34
 1833 0118 3B68     		ldr	r3, [r7]
 1834 011a 9B00     		lsls	r3, r3, #2
 1835              		.loc 1 1034 38
 1836 011c 03F4FE73 		and	r3, r3, #508
 1837              		.loc 1 1034 10
 1838 0120 1344     		add	r3, r3, r2
 1839 0122 1846     		mov	r0, r3
 1840 0124 FFF7FEFF 		bl	ld_dword
 1841 0128 0346     		mov	r3, r0
 1842              		.loc 1 1034 8
 1843 012a 23F07043 		bic	r3, r3, #-268435456
 1844 012e 7B61     		str	r3, [r7, #20]
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1845              		.loc 1 1035 4
 1846 0130 09E0     		b	.L99
 1847              	.L101:
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 52


1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
 1848              		.loc 1 1065 8
 1849 0132 0123     		movs	r3, #1
 1850 0134 7B61     		str	r3, [r7, #20]
 1851 0136 06E0     		b	.L99
 1852              	.L111:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 1853              		.loc 1 1020 63
 1854 0138 00BF     		nop
 1855 013a 04E0     		b	.L99
 1856              	.L112:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 1857              		.loc 1 1022 63
 1858 013c 00BF     		nop
 1859 013e 02E0     		b	.L99
 1860              	.L113:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 1861              		.loc 1 1028 71
 1862 0140 00BF     		nop
 1863 0142 00E0     		b	.L99
 1864              	.L114:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 1865              		.loc 1 1033 71
 1866 0144 00BF     		nop
 1867              	.L99:
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 1868              		.loc 1 1069 9
 1869 0146 7B69     		ldr	r3, [r7, #20]
1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1870              		.loc 1 1070 1
 1871 0148 1846     		mov	r0, r3
 1872 014a 1837     		adds	r7, r7, #24
 1873              		.cfi_def_cfa_offset 8
 1874 014c BD46     		mov	sp, r7
 1875              		.cfi_def_cfa_register 13
 1876              		@ sp needed
 1877 014e 80BD     		pop	{r7, pc}
 1878              		.cfi_endproc
 1879              	.LFE338:
 1881              		.section	.text.put_fat,"ax",%progbits
 1882              		.align	1
 1883              		.syntax unified
 1884              		.thumb
 1885              		.thumb_func
 1887              	put_fat:
 1888              	.LFB339:
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 53


1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1889              		.loc 1 1086 1
 1890              		.cfi_startproc
 1891              		@ args = 0, pretend = 0, frame = 32
 1892              		@ frame_needed = 1, uses_anonymous_args = 0
 1893 0000 90B5     		push	{r4, r7, lr}
 1894              		.cfi_def_cfa_offset 12
 1895              		.cfi_offset 4, -12
 1896              		.cfi_offset 7, -8
 1897              		.cfi_offset 14, -4
 1898 0002 89B0     		sub	sp, sp, #36
 1899              		.cfi_def_cfa_offset 48
 1900 0004 00AF     		add	r7, sp, #0
 1901              		.cfi_def_cfa_register 7
 1902 0006 F860     		str	r0, [r7, #12]
 1903 0008 B960     		str	r1, [r7, #8]
 1904 000a 7A60     		str	r2, [r7, #4]
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 1905              		.loc 1 1089 10
 1906 000c 0223     		movs	r3, #2
 1907 000e FB77     		strb	r3, [r7, #31]
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
 1908              		.loc 1 1091 5
 1909 0010 BB68     		ldr	r3, [r7, #8]
 1910 0012 012B     		cmp	r3, #1
 1911 0014 40F2D980 		bls	.L116
 1912              		.loc 1 1091 28 discriminator 1
 1913 0018 FB68     		ldr	r3, [r7, #12]
 1914 001a 5B69     		ldr	r3, [r3, #20]
 1915              		.loc 1 1091 16 discriminator 1
 1916 001c BA68     		ldr	r2, [r7, #8]
 1917 001e 9A42     		cmp	r2, r3
 1918 0020 80F0D380 		bcs	.L116
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 1919              		.loc 1 1092 13
 1920 0024 FB68     		ldr	r3, [r7, #12]
 1921 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1922              		.loc 1 1092 3
 1923 0028 032B     		cmp	r3, #3
 1924 002a 00F09680 		beq	.L117
 1925 002e 032B     		cmp	r3, #3
 1926 0030 00F3CB80 		bgt	.L116
 1927 0034 012B     		cmp	r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 54


 1928 0036 02D0     		beq	.L118
 1929 0038 022B     		cmp	r3, #2
 1930 003a 6ED0     		beq	.L119
 1931 003c C5E0     		b	.L116
 1932              	.L118:
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 1933              		.loc 1 1094 7
 1934 003e BB68     		ldr	r3, [r7, #8]
 1935 0040 BB61     		str	r3, [r7, #24]
 1936              		.loc 1 1094 30
 1937 0042 BB69     		ldr	r3, [r7, #24]
 1938 0044 5B08     		lsrs	r3, r3, #1
 1939              		.loc 1 1094 24
 1940 0046 BA69     		ldr	r2, [r7, #24]
 1941 0048 1344     		add	r3, r3, r2
 1942 004a BB61     		str	r3, [r7, #24]
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1943              		.loc 1 1095 28
 1944 004c FB68     		ldr	r3, [r7, #12]
 1945 004e 1A6A     		ldr	r2, [r3, #32]
 1946              		.loc 1 1095 44
 1947 0050 BB69     		ldr	r3, [r7, #24]
 1948 0052 5B0A     		lsrs	r3, r3, #9
 1949              		.loc 1 1095 10
 1950 0054 1344     		add	r3, r3, r2
 1951 0056 1946     		mov	r1, r3
 1952 0058 F868     		ldr	r0, [r7, #12]
 1953 005a FFF7FEFF 		bl	move_window
 1954 005e 0346     		mov	r3, r0
 1955 0060 FB77     		strb	r3, [r7, #31]
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 1956              		.loc 1 1096 7
 1957 0062 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1958 0064 002B     		cmp	r3, #0
 1959 0066 40F0A980 		bne	.L129
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 1960              		.loc 1 1097 8
 1961 006a FB68     		ldr	r3, [r7, #12]
 1962 006c 03F13002 		add	r2, r3, #48
 1963              		.loc 1 1097 23
 1964 0070 BB69     		ldr	r3, [r7, #24]
 1965 0072 591C     		adds	r1, r3, #1
 1966 0074 B961     		str	r1, [r7, #24]
 1967 0076 C3F30803 		ubfx	r3, r3, #0, #9
 1968              		.loc 1 1097 6
 1969 007a 1344     		add	r3, r3, r2
 1970 007c 7B61     		str	r3, [r7, #20]
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 1971              		.loc 1 1098 15
 1972 007e BB68     		ldr	r3, [r7, #8]
 1973 0080 03F00103 		and	r3, r3, #1
 1974              		.loc 1 1098 7
 1975 0084 002B     		cmp	r3, #0
 1976 0086 0DD0     		beq	.L121
 1977              		.loc 1 1098 24 discriminator 1
 1978 0088 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 55


 1979 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1980 008c 5BB2     		sxtb	r3, r3
 1981              		.loc 1 1098 27 discriminator 1
 1982 008e 03F00F03 		and	r3, r3, #15
 1983 0092 5AB2     		sxtb	r2, r3
 1984              		.loc 1 1098 38 discriminator 1
 1985 0094 7B68     		ldr	r3, [r7, #4]
 1986 0096 DBB2     		uxtb	r3, r3
 1987              		.loc 1 1098 48 discriminator 1
 1988 0098 1B01     		lsls	r3, r3, #4
 1989              		.loc 1 1098 35 discriminator 1
 1990 009a 5BB2     		sxtb	r3, r3
 1991 009c 1343     		orrs	r3, r3, r2
 1992 009e 5BB2     		sxtb	r3, r3
 1993              		.loc 1 1098 7 discriminator 1
 1994 00a0 DBB2     		uxtb	r3, r3
 1995 00a2 01E0     		b	.L122
 1996              	.L121:
 1997              		.loc 1 1098 7 is_stmt 0 discriminator 2
 1998 00a4 7B68     		ldr	r3, [r7, #4]
 1999 00a6 DBB2     		uxtb	r3, r3
 2000              	.L122:
 2001              		.loc 1 1098 7 discriminator 4
 2002 00a8 7A69     		ldr	r2, [r7, #20]
 2003 00aa 1370     		strb	r3, [r2]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2004              		.loc 1 1099 14 is_stmt 1 discriminator 4
 2005 00ac FB68     		ldr	r3, [r7, #12]
 2006 00ae 0122     		movs	r2, #1
 2007 00b0 DA70     		strb	r2, [r3, #3]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2008              		.loc 1 1100 28 discriminator 4
 2009 00b2 FB68     		ldr	r3, [r7, #12]
 2010 00b4 1A6A     		ldr	r2, [r3, #32]
 2011              		.loc 1 1100 44 discriminator 4
 2012 00b6 BB69     		ldr	r3, [r7, #24]
 2013 00b8 5B0A     		lsrs	r3, r3, #9
 2014              		.loc 1 1100 10 discriminator 4
 2015 00ba 1344     		add	r3, r3, r2
 2016 00bc 1946     		mov	r1, r3
 2017 00be F868     		ldr	r0, [r7, #12]
 2018 00c0 FFF7FEFF 		bl	move_window
 2019 00c4 0346     		mov	r3, r0
 2020 00c6 FB77     		strb	r3, [r7, #31]
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2021              		.loc 1 1101 7 discriminator 4
 2022 00c8 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2023 00ca 002B     		cmp	r3, #0
 2024 00cc 78D1     		bne	.L130
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 2025              		.loc 1 1102 8
 2026 00ce FB68     		ldr	r3, [r7, #12]
 2027 00d0 03F13002 		add	r2, r3, #48
 2028              		.loc 1 1102 21
 2029 00d4 BB69     		ldr	r3, [r7, #24]
 2030 00d6 C3F30803 		ubfx	r3, r3, #0, #9
 2031              		.loc 1 1102 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 56


 2032 00da 1344     		add	r3, r3, r2
 2033 00dc 7B61     		str	r3, [r7, #20]
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 2034              		.loc 1 1103 15
 2035 00de BB68     		ldr	r3, [r7, #8]
 2036 00e0 03F00103 		and	r3, r3, #1
 2037              		.loc 1 1103 7
 2038 00e4 002B     		cmp	r3, #0
 2039 00e6 03D0     		beq	.L124
 2040              		.loc 1 1103 33 discriminator 1
 2041 00e8 7B68     		ldr	r3, [r7, #4]
 2042 00ea 1B09     		lsrs	r3, r3, #4
 2043              		.loc 1 1103 7 discriminator 1
 2044 00ec DBB2     		uxtb	r3, r3
 2045 00ee 0EE0     		b	.L125
 2046              	.L124:
 2047              		.loc 1 1103 43 discriminator 2
 2048 00f0 7B69     		ldr	r3, [r7, #20]
 2049 00f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2050 00f4 5BB2     		sxtb	r3, r3
 2051              		.loc 1 1103 46 discriminator 2
 2052 00f6 23F00F03 		bic	r3, r3, #15
 2053 00fa 5AB2     		sxtb	r2, r3
 2054              		.loc 1 1103 68 discriminator 2
 2055 00fc 7B68     		ldr	r3, [r7, #4]
 2056 00fe 1B0A     		lsrs	r3, r3, #8
 2057              		.loc 1 1103 57 discriminator 2
 2058 0100 5BB2     		sxtb	r3, r3
 2059              		.loc 1 1103 74 discriminator 2
 2060 0102 03F00F03 		and	r3, r3, #15
 2061 0106 5BB2     		sxtb	r3, r3
 2062              		.loc 1 1103 54 discriminator 2
 2063 0108 1343     		orrs	r3, r3, r2
 2064 010a 5BB2     		sxtb	r3, r3
 2065              		.loc 1 1103 7 discriminator 2
 2066 010c DBB2     		uxtb	r3, r3
 2067              	.L125:
 2068              		.loc 1 1103 7 is_stmt 0 discriminator 4
 2069 010e 7A69     		ldr	r2, [r7, #20]
 2070 0110 1370     		strb	r3, [r2]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2071              		.loc 1 1104 14 is_stmt 1 discriminator 4
 2072 0112 FB68     		ldr	r3, [r7, #12]
 2073 0114 0122     		movs	r2, #1
 2074 0116 DA70     		strb	r2, [r3, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2075              		.loc 1 1105 4 discriminator 4
 2076 0118 57E0     		b	.L116
 2077              	.L119:
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 2078              		.loc 1 1108 28
 2079 011a FB68     		ldr	r3, [r7, #12]
 2080 011c 1A6A     		ldr	r2, [r3, #32]
 2081              		.loc 1 1108 46
 2082 011e BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 57


 2083 0120 1B0A     		lsrs	r3, r3, #8
 2084              		.loc 1 1108 10
 2085 0122 1344     		add	r3, r3, r2
 2086 0124 1946     		mov	r1, r3
 2087 0126 F868     		ldr	r0, [r7, #12]
 2088 0128 FFF7FEFF 		bl	move_window
 2089 012c 0346     		mov	r3, r0
 2090 012e FB77     		strb	r3, [r7, #31]
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2091              		.loc 1 1109 7
 2092 0130 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2093 0132 002B     		cmp	r3, #0
 2094 0134 46D1     		bne	.L131
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 2095              		.loc 1 1110 12
 2096 0136 FB68     		ldr	r3, [r7, #12]
 2097 0138 03F13002 		add	r2, r3, #48
 2098              		.loc 1 1110 27
 2099 013c BB68     		ldr	r3, [r7, #8]
 2100 013e 5B00     		lsls	r3, r3, #1
 2101              		.loc 1 1110 31
 2102 0140 03F4FF73 		and	r3, r3, #510
 2103              		.loc 1 1110 4
 2104 0144 1344     		add	r3, r3, r2
 2105 0146 7A68     		ldr	r2, [r7, #4]
 2106 0148 92B2     		uxth	r2, r2
 2107 014a 1146     		mov	r1, r2
 2108 014c 1846     		mov	r0, r3
 2109 014e FFF7FEFF 		bl	st_word
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2110              		.loc 1 1111 14
 2111 0152 FB68     		ldr	r3, [r7, #12]
 2112 0154 0122     		movs	r2, #1
 2113 0156 DA70     		strb	r2, [r3, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2114              		.loc 1 1112 4
 2115 0158 37E0     		b	.L116
 2116              	.L117:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 2117              		.loc 1 1118 28
 2118 015a FB68     		ldr	r3, [r7, #12]
 2119 015c 1A6A     		ldr	r2, [r3, #32]
 2120              		.loc 1 1118 46
 2121 015e BB68     		ldr	r3, [r7, #8]
 2122 0160 DB09     		lsrs	r3, r3, #7
 2123              		.loc 1 1118 10
 2124 0162 1344     		add	r3, r3, r2
 2125 0164 1946     		mov	r1, r3
 2126 0166 F868     		ldr	r0, [r7, #12]
 2127 0168 FFF7FEFF 		bl	move_window
 2128 016c 0346     		mov	r3, r0
 2129 016e FB77     		strb	r3, [r7, #31]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 58


1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2130              		.loc 1 1119 7
 2131 0170 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2132 0172 002B     		cmp	r3, #0
 2133 0174 28D1     		bne	.L132
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 2134              		.loc 1 1121 16
 2135 0176 7B68     		ldr	r3, [r7, #4]
 2136 0178 23F07044 		bic	r4, r3, #-268435456
 2137              		.loc 1 1121 42
 2138 017c FB68     		ldr	r3, [r7, #12]
 2139 017e 03F13002 		add	r2, r3, #48
 2140              		.loc 1 1121 57
 2141 0182 BB68     		ldr	r3, [r7, #8]
 2142 0184 9B00     		lsls	r3, r3, #2
 2143              		.loc 1 1121 61
 2144 0186 03F4FE73 		and	r3, r3, #508
 2145              		.loc 1 1121 33
 2146 018a 1344     		add	r3, r3, r2
 2147 018c 1846     		mov	r0, r3
 2148 018e FFF7FEFF 		bl	ld_dword
 2149 0192 0346     		mov	r3, r0
 2150              		.loc 1 1121 71
 2151 0194 03F07043 		and	r3, r3, #-268435456
 2152              		.loc 1 1121 9
 2153 0198 2343     		orrs	r3, r3, r4
 2154 019a 7B60     		str	r3, [r7, #4]
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
 2155              		.loc 1 1123 13
 2156 019c FB68     		ldr	r3, [r7, #12]
 2157 019e 03F13002 		add	r2, r3, #48
 2158              		.loc 1 1123 28
 2159 01a2 BB68     		ldr	r3, [r7, #8]
 2160 01a4 9B00     		lsls	r3, r3, #2
 2161              		.loc 1 1123 32
 2162 01a6 03F4FE73 		and	r3, r3, #508
 2163              		.loc 1 1123 4
 2164 01aa 1344     		add	r3, r3, r2
 2165 01ac 7968     		ldr	r1, [r7, #4]
 2166 01ae 1846     		mov	r0, r3
 2167 01b0 FFF7FEFF 		bl	st_dword
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2168              		.loc 1 1124 14
 2169 01b4 FB68     		ldr	r3, [r7, #12]
 2170 01b6 0122     		movs	r2, #1
 2171 01b8 DA70     		strb	r2, [r3, #3]
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2172              		.loc 1 1125 4
 2173 01ba 06E0     		b	.L116
 2174              	.L129:
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 2175              		.loc 1 1096 22
 2176 01bc 00BF     		nop
 2177 01be 04E0     		b	.L116
 2178              	.L130:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 59


1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 2179              		.loc 1 1101 22
 2180 01c0 00BF     		nop
 2181 01c2 02E0     		b	.L116
 2182              	.L131:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 2183              		.loc 1 1109 22
 2184 01c4 00BF     		nop
 2185 01c6 00E0     		b	.L116
 2186              	.L132:
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 2187              		.loc 1 1119 22
 2188 01c8 00BF     		nop
 2189              	.L116:
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 2190              		.loc 1 1128 9
 2191 01ca FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2192              		.loc 1 1129 1
 2193 01cc 1846     		mov	r0, r3
 2194 01ce 2437     		adds	r7, r7, #36
 2195              		.cfi_def_cfa_offset 12
 2196 01d0 BD46     		mov	sp, r7
 2197              		.cfi_def_cfa_register 13
 2198              		@ sp needed
 2199 01d2 90BD     		pop	{r4, r7, pc}
 2200              		.cfi_endproc
 2201              	.LFE339:
 2203              		.section	.text.remove_chain,"ax",%progbits
 2204              		.align	1
 2205              		.syntax unified
 2206              		.thumb
 2207              		.thumb_func
 2209              	remove_chain:
 2210              	.LFB340:
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 60


1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 61


1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 62


1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2211              		.loc 1 1276 1
 2212              		.cfi_startproc
 2213              		@ args = 0, pretend = 0, frame = 32
 2214              		@ frame_needed = 1, uses_anonymous_args = 0
 2215 0000 80B5     		push	{r7, lr}
 2216              		.cfi_def_cfa_offset 8
 2217              		.cfi_offset 7, -8
 2218              		.cfi_offset 14, -4
 2219 0002 88B0     		sub	sp, sp, #32
 2220              		.cfi_def_cfa_offset 40
 2221 0004 00AF     		add	r7, sp, #0
 2222              		.cfi_def_cfa_register 7
 2223 0006 F860     		str	r0, [r7, #12]
 2224 0008 B960     		str	r1, [r7, #8]
 2225 000a 7A60     		str	r2, [r7, #4]
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2226              		.loc 1 1277 10
 2227 000c 0023     		movs	r3, #0
 2228 000e FB77     		strb	r3, [r7, #31]
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 2229              		.loc 1 1279 9
 2230 0010 FB68     		ldr	r3, [r7, #12]
 2231 0012 1B68     		ldr	r3, [r3]
 2232 0014 BB61     		str	r3, [r7, #24]
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
 2233              		.loc 1 1287 5
 2234 0016 BB68     		ldr	r3, [r7, #8]
 2235 0018 012B     		cmp	r3, #1
 2236 001a 04D9     		bls	.L134
 2237              		.loc 1 1287 28 discriminator 2
 2238 001c BB69     		ldr	r3, [r7, #24]
 2239 001e 5B69     		ldr	r3, [r3, #20]
 2240              		.loc 1 1287 15 discriminator 2
 2241 0020 BA68     		ldr	r2, [r7, #8]
 2242 0022 9A42     		cmp	r2, r3
 2243 0024 01D3     		bcc	.L135
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 63


 2244              	.L134:
 2245              		.loc 1 1287 47 discriminator 3
 2246 0026 0223     		movs	r3, #2
 2247 0028 4BE0     		b	.L136
 2248              	.L135:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
 2249              		.loc 1 1290 5
 2250 002a 7B68     		ldr	r3, [r7, #4]
 2251 002c 002B     		cmp	r3, #0
 2252 002e 0CD0     		beq	.L144
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 2253              		.loc 1 1291 9
 2254 0030 4FF0FF32 		mov	r2, #-1
 2255 0034 7968     		ldr	r1, [r7, #4]
 2256 0036 B869     		ldr	r0, [r7, #24]
 2257 0038 FFF7FEFF 		bl	put_fat
 2258 003c 0346     		mov	r3, r0
 2259 003e FB77     		strb	r3, [r7, #31]
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 2260              		.loc 1 1292 6
 2261 0040 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2262 0042 002B     		cmp	r3, #0
 2263 0044 01D0     		beq	.L144
 2264              		.loc 1 1292 28 discriminator 1
 2265 0046 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2266 0048 3BE0     		b	.L136
 2267              	.L144:
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 2268              		.loc 1 1297 9
 2269 004a B968     		ldr	r1, [r7, #8]
 2270 004c F868     		ldr	r0, [r7, #12]
 2271 004e FFF7FEFF 		bl	get_fat
 2272 0052 7861     		str	r0, [r7, #20]
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 2273              		.loc 1 1298 6
 2274 0054 7B69     		ldr	r3, [r7, #20]
 2275 0056 002B     		cmp	r3, #0
 2276 0058 31D0     		beq	.L145
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 2277              		.loc 1 1299 6
 2278 005a 7B69     		ldr	r3, [r7, #20]
 2279 005c 012B     		cmp	r3, #1
 2280 005e 01D1     		bne	.L140
 2281              		.loc 1 1299 24 discriminator 1
 2282 0060 0223     		movs	r3, #2
 2283 0062 2EE0     		b	.L136
 2284              	.L140:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 2285              		.loc 1 1300 6
 2286 0064 7B69     		ldr	r3, [r7, #20]
 2287 0066 B3F1FF3F 		cmp	r3, #-1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 64


 2288 006a 01D1     		bne	.L141
 2289              		.loc 1 1300 33 discriminator 1
 2290 006c 0123     		movs	r3, #1
 2291 006e 28E0     		b	.L136
 2292              	.L141:
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 2293              		.loc 1 1302 10
 2294 0070 0022     		movs	r2, #0
 2295 0072 B968     		ldr	r1, [r7, #8]
 2296 0074 B869     		ldr	r0, [r7, #24]
 2297 0076 FFF7FEFF 		bl	put_fat
 2298 007a 0346     		mov	r3, r0
 2299 007c FB77     		strb	r3, [r7, #31]
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 2300              		.loc 1 1303 7
 2301 007e FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2302 0080 002B     		cmp	r3, #0
 2303 0082 01D0     		beq	.L142
 2304              		.loc 1 1303 29 discriminator 1
 2305 0084 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 2306 0086 1CE0     		b	.L136
 2307              	.L142:
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
 2308              		.loc 1 1305 9
 2309 0088 BB69     		ldr	r3, [r7, #24]
 2310 008a 1A69     		ldr	r2, [r3, #16]
 2311              		.loc 1 1305 25
 2312 008c BB69     		ldr	r3, [r7, #24]
 2313 008e 5B69     		ldr	r3, [r3, #20]
 2314              		.loc 1 1305 36
 2315 0090 023B     		subs	r3, r3, #2
 2316              		.loc 1 1305 6
 2317 0092 9A42     		cmp	r2, r3
 2318 0094 0BD2     		bcs	.L143
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 2319              		.loc 1 1306 6
 2320 0096 BB69     		ldr	r3, [r7, #24]
 2321 0098 1B69     		ldr	r3, [r3, #16]
 2322              		.loc 1 1306 17
 2323 009a 5A1C     		adds	r2, r3, #1
 2324 009c BB69     		ldr	r3, [r7, #24]
 2325 009e 1A61     		str	r2, [r3, #16]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 2326              		.loc 1 1307 17
 2327 00a0 BB69     		ldr	r3, [r7, #24]
 2328 00a2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2329 00a4 43F00103 		orr	r3, r3, #1
 2330 00a8 DAB2     		uxtb	r2, r3
 2331 00aa BB69     		ldr	r3, [r7, #24]
 2332 00ac 1A71     		strb	r2, [r3, #4]
 2333              	.L143:
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 65


1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
 2334              		.loc 1 1327 8
 2335 00ae 7B69     		ldr	r3, [r7, #20]
 2336 00b0 BB60     		str	r3, [r7, #8]
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 2337              		.loc 1 1328 20
 2338 00b2 BB69     		ldr	r3, [r7, #24]
 2339 00b4 5B69     		ldr	r3, [r3, #20]
 2340              		.loc 1 1328 16
 2341 00b6 BA68     		ldr	r2, [r7, #8]
 2342 00b8 9A42     		cmp	r2, r3
 2343 00ba C6D3     		bcc	.L144
 2344 00bc 00E0     		b	.L139
 2345              	.L145:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 2346              		.loc 1 1298 17
 2347 00be 00BF     		nop
 2348              	.L139:
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 2349              		.loc 1 1341 9
 2350 00c0 0023     		movs	r3, #0
 2351              	.L136:
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2352              		.loc 1 1342 1
 2353 00c2 1846     		mov	r0, r3
 2354 00c4 2037     		adds	r7, r7, #32
 2355              		.cfi_def_cfa_offset 8
 2356 00c6 BD46     		mov	sp, r7
 2357              		.cfi_def_cfa_register 13
 2358              		@ sp needed
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 66


 2359 00c8 80BD     		pop	{r7, pc}
 2360              		.cfi_endproc
 2361              	.LFE340:
 2363              		.section	.text.create_chain,"ax",%progbits
 2364              		.align	1
 2365              		.syntax unified
 2366              		.thumb
 2367              		.thumb_func
 2369              	create_chain:
 2370              	.LFB341:
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2371              		.loc 1 1355 1
 2372              		.cfi_startproc
 2373              		@ args = 0, pretend = 0, frame = 32
 2374              		@ frame_needed = 1, uses_anonymous_args = 0
 2375 0000 80B5     		push	{r7, lr}
 2376              		.cfi_def_cfa_offset 8
 2377              		.cfi_offset 7, -8
 2378              		.cfi_offset 14, -4
 2379 0002 88B0     		sub	sp, sp, #32
 2380              		.cfi_def_cfa_offset 40
 2381 0004 00AF     		add	r7, sp, #0
 2382              		.cfi_def_cfa_register 7
 2383 0006 7860     		str	r0, [r7, #4]
 2384 0008 3960     		str	r1, [r7]
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 2385              		.loc 1 1358 9
 2386 000a 7B68     		ldr	r3, [r7, #4]
 2387 000c 1B68     		ldr	r3, [r3]
 2388 000e 3B61     		str	r3, [r7, #16]
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
 2389              		.loc 1 1361 5
 2390 0010 3B68     		ldr	r3, [r7]
 2391 0012 002B     		cmp	r3, #0
 2392 0014 0DD1     		bne	.L147
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 2393              		.loc 1 1362 7
 2394 0016 3B69     		ldr	r3, [r7, #16]
 2395 0018 DB68     		ldr	r3, [r3, #12]
 2396 001a BB61     		str	r3, [r7, #24]
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 67


 2397              		.loc 1 1363 6
 2398 001c BB69     		ldr	r3, [r7, #24]
 2399 001e 002B     		cmp	r3, #0
 2400 0020 04D0     		beq	.L148
 2401              		.loc 1 1363 28 discriminator 2
 2402 0022 3B69     		ldr	r3, [r7, #16]
 2403 0024 5B69     		ldr	r3, [r3, #20]
 2404              		.loc 1 1363 16 discriminator 2
 2405 0026 BA69     		ldr	r2, [r7, #24]
 2406 0028 9A42     		cmp	r2, r3
 2407 002a 1BD3     		bcc	.L149
 2408              	.L148:
 2409              		.loc 1 1363 44 discriminator 3
 2410 002c 0123     		movs	r3, #1
 2411 002e BB61     		str	r3, [r7, #24]
 2412 0030 18E0     		b	.L149
 2413              	.L147:
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
 2414              		.loc 1 1366 8
 2415 0032 3968     		ldr	r1, [r7]
 2416 0034 7868     		ldr	r0, [r7, #4]
 2417 0036 FFF7FEFF 		bl	get_fat
 2418 003a F860     		str	r0, [r7, #12]
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 2419              		.loc 1 1367 6
 2420 003c FB68     		ldr	r3, [r7, #12]
 2421 003e 012B     		cmp	r3, #1
 2422 0040 01D8     		bhi	.L150
 2423              		.loc 1 1367 22 discriminator 1
 2424 0042 0123     		movs	r3, #1
 2425 0044 70E0     		b	.L151
 2426              	.L150:
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 2427              		.loc 1 1368 6
 2428 0046 FB68     		ldr	r3, [r7, #12]
 2429 0048 B3F1FF3F 		cmp	r3, #-1
 2430 004c 01D1     		bne	.L152
 2431              		.loc 1 1368 32 discriminator 1
 2432 004e FB68     		ldr	r3, [r7, #12]
 2433 0050 6AE0     		b	.L151
 2434              	.L152:
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 2435              		.loc 1 1369 14
 2436 0052 3B69     		ldr	r3, [r7, #16]
 2437 0054 5B69     		ldr	r3, [r3, #20]
 2438              		.loc 1 1369 6
 2439 0056 FA68     		ldr	r2, [r7, #12]
 2440 0058 9A42     		cmp	r2, r3
 2441 005a 01D2     		bcs	.L153
 2442              		.loc 1 1369 33 discriminator 1
 2443 005c FB68     		ldr	r3, [r7, #12]
 2444 005e 63E0     		b	.L151
 2445              	.L153:
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 2446              		.loc 1 1370 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 68


 2447 0060 3B68     		ldr	r3, [r7]
 2448 0062 BB61     		str	r3, [r7, #24]
 2449              	.L149:
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
 2450              		.loc 1 1400 7
 2451 0064 BB69     		ldr	r3, [r7, #24]
 2452 0066 FB61     		str	r3, [r7, #28]
 2453              	.L160:
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 2454              		.loc 1 1402 7
 2455 0068 FB69     		ldr	r3, [r7, #28]
 2456 006a 0133     		adds	r3, r3, #1
 2457 006c FB61     		str	r3, [r7, #28]
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 2458              		.loc 1 1403 17
 2459 006e 3B69     		ldr	r3, [r7, #16]
 2460 0070 5B69     		ldr	r3, [r3, #20]
 2461              		.loc 1 1403 7
 2462 0072 FA69     		ldr	r2, [r7, #28]
 2463 0074 9A42     		cmp	r2, r3
 2464 0076 07D3     		bcc	.L154
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 2465              		.loc 1 1404 9
 2466 0078 0223     		movs	r3, #2
 2467 007a FB61     		str	r3, [r7, #28]
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 2468              		.loc 1 1405 8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 69


 2469 007c FA69     		ldr	r2, [r7, #28]
 2470 007e BB69     		ldr	r3, [r7, #24]
 2471 0080 9A42     		cmp	r2, r3
 2472 0082 01D9     		bls	.L154
 2473              		.loc 1 1405 27 discriminator 1
 2474 0084 0023     		movs	r3, #0
 2475 0086 4FE0     		b	.L151
 2476              	.L154:
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
 2477              		.loc 1 1407 9
 2478 0088 F969     		ldr	r1, [r7, #28]
 2479 008a 7868     		ldr	r0, [r7, #4]
 2480 008c FFF7FEFF 		bl	get_fat
 2481 0090 F860     		str	r0, [r7, #12]
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 2482              		.loc 1 1408 7
 2483 0092 FB68     		ldr	r3, [r7, #12]
 2484 0094 002B     		cmp	r3, #0
 2485 0096 0ED0     		beq	.L168
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 2486              		.loc 1 1409 7
 2487 0098 FB68     		ldr	r3, [r7, #12]
 2488 009a 012B     		cmp	r3, #1
 2489 009c 03D0     		beq	.L157
 2490              		.loc 1 1409 16 discriminator 2
 2491 009e FB68     		ldr	r3, [r7, #12]
 2492 00a0 B3F1FF3F 		cmp	r3, #-1
 2493 00a4 01D1     		bne	.L158
 2494              	.L157:
 2495              		.loc 1 1409 44 discriminator 3
 2496 00a6 FB68     		ldr	r3, [r7, #12]
 2497 00a8 3EE0     		b	.L151
 2498              	.L158:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 2499              		.loc 1 1410 7
 2500 00aa FA69     		ldr	r2, [r7, #28]
 2501 00ac BB69     		ldr	r3, [r7, #24]
 2502 00ae 9A42     		cmp	r2, r3
 2503 00b0 DAD1     		bne	.L160
 2504              		.loc 1 1410 27 discriminator 1
 2505 00b2 0023     		movs	r3, #0
 2506 00b4 38E0     		b	.L151
 2507              	.L168:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 2508              		.loc 1 1408 17
 2509 00b6 00BF     		nop
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
 2510              		.loc 1 1412 9
 2511 00b8 4FF0FF32 		mov	r2, #-1
 2512 00bc F969     		ldr	r1, [r7, #28]
 2513 00be 3869     		ldr	r0, [r7, #16]
 2514 00c0 FFF7FEFF 		bl	put_fat
 2515 00c4 0346     		mov	r3, r0
 2516 00c6 FB75     		strb	r3, [r7, #23]
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 70


 2517              		.loc 1 1413 6
 2518 00c8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2519 00ca 002B     		cmp	r3, #0
 2520 00cc 09D1     		bne	.L161
 2521              		.loc 1 1413 20 discriminator 1
 2522 00ce 3B68     		ldr	r3, [r7]
 2523 00d0 002B     		cmp	r3, #0
 2524 00d2 06D0     		beq	.L161
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 2525              		.loc 1 1414 10
 2526 00d4 FA69     		ldr	r2, [r7, #28]
 2527 00d6 3968     		ldr	r1, [r7]
 2528 00d8 3869     		ldr	r0, [r7, #16]
 2529 00da FFF7FEFF 		bl	put_fat
 2530 00de 0346     		mov	r3, r0
 2531 00e0 FB75     		strb	r3, [r7, #23]
 2532              	.L161:
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
 2533              		.loc 1 1418 5
 2534 00e2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2535 00e4 002B     		cmp	r3, #0
 2536 00e6 16D1     		bne	.L162
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 2537              		.loc 1 1419 17
 2538 00e8 3B69     		ldr	r3, [r7, #16]
 2539 00ea FA69     		ldr	r2, [r7, #28]
 2540 00ec DA60     		str	r2, [r3, #12]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 2541              		.loc 1 1420 9
 2542 00ee 3B69     		ldr	r3, [r7, #16]
 2543 00f0 1A69     		ldr	r2, [r3, #16]
 2544              		.loc 1 1420 26
 2545 00f2 3B69     		ldr	r3, [r7, #16]
 2546 00f4 5B69     		ldr	r3, [r3, #20]
 2547              		.loc 1 1420 37
 2548 00f6 023B     		subs	r3, r3, #2
 2549              		.loc 1 1420 6
 2550 00f8 9A42     		cmp	r2, r3
 2551 00fa 04D8     		bhi	.L163
 2552              		.loc 1 1420 44 discriminator 1
 2553 00fc 3B69     		ldr	r3, [r7, #16]
 2554 00fe 1B69     		ldr	r3, [r3, #16]
 2555              		.loc 1 1420 55 discriminator 1
 2556 0100 5A1E     		subs	r2, r3, #1
 2557 0102 3B69     		ldr	r3, [r7, #16]
 2558 0104 1A61     		str	r2, [r3, #16]
 2559              	.L163:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 2560              		.loc 1 1421 16
 2561 0106 3B69     		ldr	r3, [r7, #16]
 2562 0108 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2563 010a 43F00103 		orr	r3, r3, #1
 2564 010e DAB2     		uxtb	r2, r3
 2565 0110 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 71


 2566 0112 1A71     		strb	r2, [r3, #4]
 2567 0114 07E0     		b	.L164
 2568              	.L162:
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
 2569              		.loc 1 1423 43
 2570 0116 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2571 0118 012B     		cmp	r3, #1
 2572 011a 02D1     		bne	.L165
 2573              		.loc 1 1423 43 is_stmt 0 discriminator 1
 2574 011c 4FF0FF33 		mov	r3, #-1
 2575 0120 00E0     		b	.L166
 2576              	.L165:
 2577              		.loc 1 1423 43 discriminator 2
 2578 0122 0123     		movs	r3, #1
 2579              	.L166:
 2580              		.loc 1 1423 7 is_stmt 1 discriminator 4
 2581 0124 FB61     		str	r3, [r7, #28]
 2582              	.L164:
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
 2583              		.loc 1 1426 9
 2584 0126 FB69     		ldr	r3, [r7, #28]
 2585              	.L151:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2586              		.loc 1 1427 1
 2587 0128 1846     		mov	r0, r3
 2588 012a 2037     		adds	r7, r7, #32
 2589              		.cfi_def_cfa_offset 8
 2590 012c BD46     		mov	sp, r7
 2591              		.cfi_def_cfa_register 13
 2592              		@ sp needed
 2593 012e 80BD     		pop	{r7, pc}
 2594              		.cfi_endproc
 2595              	.LFE341:
 2597              		.section	.text.clmt_clust,"ax",%progbits
 2598              		.align	1
 2599              		.syntax unified
 2600              		.thumb
 2601              		.thumb_func
 2603              	clmt_clust:
 2604              	.LFB342:
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 72


1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2605              		.loc 1 1444 1
 2606              		.cfi_startproc
 2607              		@ args = 0, pretend = 0, frame = 24
 2608              		@ frame_needed = 1, uses_anonymous_args = 0
 2609              		@ link register save eliminated.
 2610 0000 80B4     		push	{r7}
 2611              		.cfi_def_cfa_offset 4
 2612              		.cfi_offset 7, -4
 2613 0002 87B0     		sub	sp, sp, #28
 2614              		.cfi_def_cfa_offset 32
 2615 0004 00AF     		add	r7, sp, #0
 2616              		.cfi_def_cfa_register 7
 2617 0006 7860     		str	r0, [r7, #4]
 2618 0008 3960     		str	r1, [r7]
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 2619              		.loc 1 1446 9
 2620 000a 7B68     		ldr	r3, [r7, #4]
 2621 000c 1B68     		ldr	r3, [r3]
 2622 000e FB60     		str	r3, [r7, #12]
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 2623              		.loc 1 1449 10
 2624 0010 7B68     		ldr	r3, [r7, #4]
 2625 0012 DB6A     		ldr	r3, [r3, #44]
 2626              		.loc 1 1449 6
 2627 0014 0433     		adds	r3, r3, #4
 2628 0016 3B61     		str	r3, [r7, #16]
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 2629              		.loc 1 1450 19
 2630 0018 3B68     		ldr	r3, [r7]
 2631 001a 5B0A     		lsrs	r3, r3, #9
 2632              		.loc 1 1450 32
 2633 001c FA68     		ldr	r2, [r7, #12]
 2634 001e 5289     		ldrh	r2, [r2, #10]
 2635              		.loc 1 1450 5
 2636 0020 B3FBF2F3 		udiv	r3, r3, r2
 2637 0024 7B61     		str	r3, [r7, #20]
 2638              	.L174:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 2639              		.loc 1 1452 13
 2640 0026 3B69     		ldr	r3, [r7, #16]
 2641 0028 1A1D     		adds	r2, r3, #4
 2642 002a 3A61     		str	r2, [r7, #16]
 2643              		.loc 1 1452 7
 2644 002c 1B68     		ldr	r3, [r3]
 2645 002e BB60     		str	r3, [r7, #8]
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 2646              		.loc 1 1453 6
 2647 0030 BB68     		ldr	r3, [r7, #8]
 2648 0032 002B     		cmp	r3, #0
 2649 0034 01D1     		bne	.L170
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 73


 2650              		.loc 1 1453 24 discriminator 1
 2651 0036 0023     		movs	r3, #0
 2652 0038 10E0     		b	.L171
 2653              	.L170:
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 2654              		.loc 1 1454 6
 2655 003a 7A69     		ldr	r2, [r7, #20]
 2656 003c BB68     		ldr	r3, [r7, #8]
 2657 003e 9A42     		cmp	r2, r3
 2658 0040 07D3     		bcc	.L176
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 2659              		.loc 1 1455 6
 2660 0042 7A69     		ldr	r2, [r7, #20]
 2661 0044 BB68     		ldr	r3, [r7, #8]
 2662 0046 D31A     		subs	r3, r2, r3
 2663 0048 7B61     		str	r3, [r7, #20]
 2664              		.loc 1 1455 17
 2665 004a 3B69     		ldr	r3, [r7, #16]
 2666 004c 0433     		adds	r3, r3, #4
 2667 004e 3B61     		str	r3, [r7, #16]
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 2668              		.loc 1 1452 7
 2669 0050 E9E7     		b	.L174
 2670              	.L176:
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 2671              		.loc 1 1454 17
 2672 0052 00BF     		nop
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 2673              		.loc 1 1457 14
 2674 0054 3B69     		ldr	r3, [r7, #16]
 2675 0056 1A68     		ldr	r2, [r3]
 2676              		.loc 1 1457 12
 2677 0058 7B69     		ldr	r3, [r7, #20]
 2678 005a 1344     		add	r3, r3, r2
 2679              	.L171:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2680              		.loc 1 1458 1
 2681 005c 1846     		mov	r0, r3
 2682 005e 1C37     		adds	r7, r7, #28
 2683              		.cfi_def_cfa_offset 4
 2684 0060 BD46     		mov	sp, r7
 2685              		.cfi_def_cfa_register 13
 2686              		@ sp needed
 2687 0062 5DF8047B 		ldr	r7, [sp], #4
 2688              		.cfi_restore 7
 2689              		.cfi_def_cfa_offset 0
 2690 0066 7047     		bx	lr
 2691              		.cfi_endproc
 2692              	.LFE342:
 2694              		.section	.text.dir_sdi,"ax",%progbits
 2695              		.align	1
 2696              		.syntax unified
 2697              		.thumb
 2698              		.thumb_func
 2700              	dir_sdi:
 2701              	.LFB343:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 74


1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2702              		.loc 1 1474 1
 2703              		.cfi_startproc
 2704              		@ args = 0, pretend = 0, frame = 24
 2705              		@ frame_needed = 1, uses_anonymous_args = 0
 2706 0000 80B5     		push	{r7, lr}
 2707              		.cfi_def_cfa_offset 8
 2708              		.cfi_offset 7, -8
 2709              		.cfi_offset 14, -4
 2710 0002 86B0     		sub	sp, sp, #24
 2711              		.cfi_def_cfa_offset 32
 2712 0004 00AF     		add	r7, sp, #0
 2713              		.cfi_def_cfa_register 7
 2714 0006 7860     		str	r0, [r7, #4]
 2715 0008 3960     		str	r1, [r7]
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 2716              		.loc 1 1476 9
 2717 000a 7B68     		ldr	r3, [r7, #4]
 2718 000c 1B68     		ldr	r3, [r3]
 2719 000e 3B61     		str	r3, [r7, #16]
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
 2720              		.loc 1 1479 5
 2721 0010 3B68     		ldr	r3, [r7]
 2722 0012 B3F5001F 		cmp	r3, #2097152
 2723 0016 04D2     		bcs	.L178
 2724              		.loc 1 1479 91 discriminator 1
 2725 0018 3B68     		ldr	r3, [r7]
 2726 001a 03F01F03 		and	r3, r3, #31
 2727              		.loc 1 1479 84 discriminator 1
 2728 001e 002B     		cmp	r3, #0
 2729 0020 01D0     		beq	.L179
 2730              	.L178:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 2731              		.loc 1 1480 10
 2732 0022 0223     		movs	r3, #2
 2733 0024 63E0     		b	.L180
 2734              	.L179:
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 75


 2735              		.loc 1 1482 11
 2736 0026 7B68     		ldr	r3, [r7, #4]
 2737 0028 3A68     		ldr	r2, [r7]
 2738 002a 5A61     		str	r2, [r3, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 2739              		.loc 1 1483 7
 2740 002c 7B68     		ldr	r3, [r7, #4]
 2741 002e 9B68     		ldr	r3, [r3, #8]
 2742 0030 7B61     		str	r3, [r7, #20]
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 2743              		.loc 1 1484 5
 2744 0032 7B69     		ldr	r3, [r7, #20]
 2745 0034 002B     		cmp	r3, #0
 2746 0036 06D1     		bne	.L181
 2747              		.loc 1 1484 21 discriminator 1
 2748 0038 3B69     		ldr	r3, [r7, #16]
 2749 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2750              		.loc 1 1484 16 discriminator 1
 2751 003c 022B     		cmp	r3, #2
 2752 003e 02D9     		bls	.L181
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 2753              		.loc 1 1485 8
 2754 0040 3B69     		ldr	r3, [r7, #16]
 2755 0042 5B6A     		ldr	r3, [r3, #36]
 2756 0044 7B61     		str	r3, [r7, #20]
 2757              	.L181:
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
 2758              		.loc 1 1489 5
 2759 0046 7B69     		ldr	r3, [r7, #20]
 2760 0048 002B     		cmp	r3, #0
 2761 004a 0CD1     		bne	.L182
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 2762              		.loc 1 1490 11
 2763 004c 3B68     		ldr	r3, [r7]
 2764 004e 5B09     		lsrs	r3, r3, #5
 2765              		.loc 1 1490 25
 2766 0050 3A69     		ldr	r2, [r7, #16]
 2767 0052 1289     		ldrh	r2, [r2, #8]
 2768              		.loc 1 1490 6
 2769 0054 9342     		cmp	r3, r2
 2770 0056 01D3     		bcc	.L183
 2771              		.loc 1 1490 45 discriminator 1
 2772 0058 0223     		movs	r3, #2
 2773 005a 48E0     		b	.L180
 2774              	.L183:
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 2775              		.loc 1 1491 16
 2776 005c 3B69     		ldr	r3, [r7, #16]
 2777 005e 5A6A     		ldr	r2, [r3, #36]
 2778              		.loc 1 1491 12
 2779 0060 7B68     		ldr	r3, [r7, #4]
 2780 0062 DA61     		str	r2, [r3, #28]
 2781 0064 29E0     		b	.L184
 2782              	.L182:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 76


1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
 2783              		.loc 1 1494 18
 2784 0066 3B69     		ldr	r3, [r7, #16]
 2785 0068 5B89     		ldrh	r3, [r3, #10]
 2786              		.loc 1 1494 7
 2787 006a 5B02     		lsls	r3, r3, #9
 2788 006c FB60     		str	r3, [r7, #12]
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 2789              		.loc 1 1495 9
 2790 006e 19E0     		b	.L185
 2791              	.L189:
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 2792              		.loc 1 1496 11
 2793 0070 7B68     		ldr	r3, [r7, #4]
 2794 0072 7969     		ldr	r1, [r7, #20]
 2795 0074 1846     		mov	r0, r3
 2796 0076 FFF7FEFF 		bl	get_fat
 2797 007a 7861     		str	r0, [r7, #20]
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 2798              		.loc 1 1497 7
 2799 007c 7B69     		ldr	r3, [r7, #20]
 2800 007e B3F1FF3F 		cmp	r3, #-1
 2801 0082 01D1     		bne	.L186
 2802              		.loc 1 1497 35 discriminator 1
 2803 0084 0123     		movs	r3, #1
 2804 0086 32E0     		b	.L180
 2805              	.L186:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 2806              		.loc 1 1498 7
 2807 0088 7B69     		ldr	r3, [r7, #20]
 2808 008a 012B     		cmp	r3, #1
 2809 008c 04D9     		bls	.L187
 2810              		.loc 1 1498 30 discriminator 2
 2811 008e 3B69     		ldr	r3, [r7, #16]
 2812 0090 5B69     		ldr	r3, [r3, #20]
 2813              		.loc 1 1498 17 discriminator 2
 2814 0092 7A69     		ldr	r2, [r7, #20]
 2815 0094 9A42     		cmp	r2, r3
 2816 0096 01D3     		bcc	.L188
 2817              	.L187:
 2818              		.loc 1 1498 49 discriminator 3
 2819 0098 0223     		movs	r3, #2
 2820 009a 28E0     		b	.L180
 2821              	.L188:
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 2822              		.loc 1 1499 8
 2823 009c 3A68     		ldr	r2, [r7]
 2824 009e FB68     		ldr	r3, [r7, #12]
 2825 00a0 D31A     		subs	r3, r2, r3
 2826 00a2 3B60     		str	r3, [r7]
 2827              	.L185:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 2828              		.loc 1 1495 14
 2829 00a4 3A68     		ldr	r2, [r7]
 2830 00a6 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 77


 2831 00a8 9A42     		cmp	r2, r3
 2832 00aa E1D2     		bcs	.L189
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
 2833              		.loc 1 1501 14
 2834 00ac 7969     		ldr	r1, [r7, #20]
 2835 00ae 3869     		ldr	r0, [r7, #16]
 2836 00b0 FFF7FEFF 		bl	clust2sect
 2837 00b4 0246     		mov	r2, r0
 2838              		.loc 1 1501 12
 2839 00b6 7B68     		ldr	r3, [r7, #4]
 2840 00b8 DA61     		str	r2, [r3, #28]
 2841              	.L184:
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
 2842              		.loc 1 1503 12
 2843 00ba 7B68     		ldr	r3, [r7, #4]
 2844 00bc 7A69     		ldr	r2, [r7, #20]
 2845 00be 9A61     		str	r2, [r3, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 2846              		.loc 1 1504 9
 2847 00c0 7B68     		ldr	r3, [r7, #4]
 2848 00c2 DB69     		ldr	r3, [r3, #28]
 2849              		.loc 1 1504 5
 2850 00c4 002B     		cmp	r3, #0
 2851 00c6 01D1     		bne	.L190
 2852              		.loc 1 1504 24 discriminator 1
 2853 00c8 0223     		movs	r3, #2
 2854 00ca 10E0     		b	.L180
 2855              	.L190:
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 2856              		.loc 1 1505 11
 2857 00cc 7B68     		ldr	r3, [r7, #4]
 2858 00ce DA69     		ldr	r2, [r3, #28]
 2859              		.loc 1 1505 18
 2860 00d0 3B68     		ldr	r3, [r7]
 2861 00d2 5B0A     		lsrs	r3, r3, #9
 2862              		.loc 1 1505 11
 2863 00d4 1A44     		add	r2, r2, r3
 2864 00d6 7B68     		ldr	r3, [r7, #4]
 2865 00d8 DA61     		str	r2, [r3, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 2866              		.loc 1 1506 12
 2867 00da 3B69     		ldr	r3, [r7, #16]
 2868 00dc 03F13002 		add	r2, r3, #48
 2869              		.loc 1 1506 27
 2870 00e0 3B68     		ldr	r3, [r7]
 2871 00e2 C3F30803 		ubfx	r3, r3, #0, #9
 2872              		.loc 1 1506 20
 2873 00e6 1A44     		add	r2, r2, r3
 2874              		.loc 1 1506 10
 2875 00e8 7B68     		ldr	r3, [r7, #4]
 2876 00ea 1A62     		str	r2, [r3, #32]
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 2877              		.loc 1 1508 9
 2878 00ec 0023     		movs	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 78


 2879              	.L180:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2880              		.loc 1 1509 1
 2881 00ee 1846     		mov	r0, r3
 2882 00f0 1837     		adds	r7, r7, #24
 2883              		.cfi_def_cfa_offset 8
 2884 00f2 BD46     		mov	sp, r7
 2885              		.cfi_def_cfa_register 13
 2886              		@ sp needed
 2887 00f4 80BD     		pop	{r7, pc}
 2888              		.cfi_endproc
 2889              	.LFE343:
 2891              		.section	.text.dir_next,"ax",%progbits
 2892              		.align	1
 2893              		.syntax unified
 2894              		.thumb
 2895              		.thumb_func
 2897              	dir_next:
 2898              	.LFB344:
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
 2899              		.loc 1 1523 1
 2900              		.cfi_startproc
 2901              		@ args = 0, pretend = 0, frame = 24
 2902              		@ frame_needed = 1, uses_anonymous_args = 0
 2903 0000 80B5     		push	{r7, lr}
 2904              		.cfi_def_cfa_offset 8
 2905              		.cfi_offset 7, -8
 2906              		.cfi_offset 14, -4
 2907 0002 86B0     		sub	sp, sp, #24
 2908              		.cfi_def_cfa_offset 32
 2909 0004 00AF     		add	r7, sp, #0
 2910              		.cfi_def_cfa_register 7
 2911 0006 7860     		str	r0, [r7, #4]
 2912 0008 3960     		str	r1, [r7]
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 2913              		.loc 1 1525 9
 2914 000a 7B68     		ldr	r3, [r7, #4]
 2915 000c 1B68     		ldr	r3, [r3]
 2916 000e FB60     		str	r3, [r7, #12]
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 79


1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
 2917              		.loc 1 1530 10
 2918 0010 7B68     		ldr	r3, [r7, #4]
 2919 0012 5B69     		ldr	r3, [r3, #20]
 2920              		.loc 1 1530 6
 2921 0014 2033     		adds	r3, r3, #32
 2922 0016 BB60     		str	r3, [r7, #8]
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 2923              		.loc 1 1531 9
 2924 0018 7B68     		ldr	r3, [r7, #4]
 2925 001a DB69     		ldr	r3, [r3, #28]
 2926              		.loc 1 1531 5
 2927 001c 002B     		cmp	r3, #0
 2928 001e 03D0     		beq	.L192
 2929              		.loc 1 1531 16 discriminator 2
 2930 0020 BB68     		ldr	r3, [r7, #8]
 2931 0022 B3F5001F 		cmp	r3, #2097152
 2932 0026 01D3     		bcc	.L193
 2933              	.L192:
 2934              		.loc 1 1531 105 discriminator 3
 2935 0028 0423     		movs	r3, #4
 2936 002a AAE0     		b	.L194
 2937              	.L193:
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
 2938              		.loc 1 1533 10
 2939 002c BB68     		ldr	r3, [r7, #8]
 2940 002e C3F30803 		ubfx	r3, r3, #0, #9
 2941              		.loc 1 1533 5
 2942 0032 002B     		cmp	r3, #0
 2943 0034 40F09880 		bne	.L195
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 2944              		.loc 1 1534 5
 2945 0038 7B68     		ldr	r3, [r7, #4]
 2946 003a DB69     		ldr	r3, [r3, #28]
 2947              		.loc 1 1534 11
 2948 003c 5A1C     		adds	r2, r3, #1
 2949 003e 7B68     		ldr	r3, [r7, #4]
 2950 0040 DA61     		str	r2, [r3, #28]
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
 2951              		.loc 1 1536 10
 2952 0042 7B68     		ldr	r3, [r7, #4]
 2953 0044 9B69     		ldr	r3, [r3, #24]
 2954              		.loc 1 1536 6
 2955 0046 002B     		cmp	r3, #0
 2956 0048 0BD1     		bne	.L196
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 2957              		.loc 1 1537 12
 2958 004a BB68     		ldr	r3, [r7, #8]
 2959 004c 5B09     		lsrs	r3, r3, #5
 2960              		.loc 1 1537 26
 2961 004e FA68     		ldr	r2, [r7, #12]
 2962 0050 1289     		ldrh	r2, [r2, #8]
 2963              		.loc 1 1537 7
 2964 0052 9342     		cmp	r3, r2
 2965 0054 C0F08880 		bcc	.L195
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 80


1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 2966              		.loc 1 1538 14
 2967 0058 7B68     		ldr	r3, [r7, #4]
 2968 005a 0022     		movs	r2, #0
 2969 005c DA61     		str	r2, [r3, #28]
 2970              		.loc 1 1538 26
 2971 005e 0423     		movs	r3, #4
 2972 0060 8FE0     		b	.L194
 2973              	.L196:
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
 2974              		.loc 1 1542 13
 2975 0062 BB68     		ldr	r3, [r7, #8]
 2976 0064 5B0A     		lsrs	r3, r3, #9
 2977              		.loc 1 1542 27
 2978 0066 FA68     		ldr	r2, [r7, #12]
 2979 0068 5289     		ldrh	r2, [r2, #10]
 2980              		.loc 1 1542 35
 2981 006a 013A     		subs	r2, r2, #1
 2982              		.loc 1 1542 22
 2983 006c 1340     		ands	r3, r3, r2
 2984              		.loc 1 1542 7
 2985 006e 002B     		cmp	r3, #0
 2986 0070 7AD1     		bne	.L195
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 2987              		.loc 1 1543 12
 2988 0072 7A68     		ldr	r2, [r7, #4]
 2989 0074 7B68     		ldr	r3, [r7, #4]
 2990 0076 9B69     		ldr	r3, [r3, #24]
 2991 0078 1946     		mov	r1, r3
 2992 007a 1046     		mov	r0, r2
 2993 007c FFF7FEFF 		bl	get_fat
 2994 0080 7861     		str	r0, [r7, #20]
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 2995              		.loc 1 1544 8
 2996 0082 7B69     		ldr	r3, [r7, #20]
 2997 0084 012B     		cmp	r3, #1
 2998 0086 01D8     		bhi	.L197
 2999              		.loc 1 1544 27 discriminator 1
 3000 0088 0223     		movs	r3, #2
 3001 008a 7AE0     		b	.L194
 3002              	.L197:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 3003              		.loc 1 1545 8
 3004 008c 7B69     		ldr	r3, [r7, #20]
 3005 008e B3F1FF3F 		cmp	r3, #-1
 3006 0092 01D1     		bne	.L198
 3007              		.loc 1 1545 36 discriminator 1
 3008 0094 0123     		movs	r3, #1
 3009 0096 74E0     		b	.L194
 3010              	.L198:
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 3011              		.loc 1 1546 19
 3012 0098 FB68     		ldr	r3, [r7, #12]
 3013 009a 5B69     		ldr	r3, [r3, #20]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 81


 3014              		.loc 1 1546 8
 3015 009c 7A69     		ldr	r2, [r7, #20]
 3016 009e 9A42     		cmp	r2, r3
 3017 00a0 58D3     		bcc	.L199
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
 3018              		.loc 1 1548 9
 3019 00a2 3B68     		ldr	r3, [r7]
 3020 00a4 002B     		cmp	r3, #0
 3021 00a6 04D1     		bne	.L200
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 3022              		.loc 1 1549 16
 3023 00a8 7B68     		ldr	r3, [r7, #4]
 3024 00aa 0022     		movs	r2, #0
 3025 00ac DA61     		str	r2, [r3, #28]
 3026              		.loc 1 1549 28
 3027 00ae 0423     		movs	r3, #4
 3028 00b0 67E0     		b	.L194
 3029              	.L200:
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
 3030              		.loc 1 1551 13
 3031 00b2 7A68     		ldr	r2, [r7, #4]
 3032 00b4 7B68     		ldr	r3, [r7, #4]
 3033 00b6 9B69     		ldr	r3, [r3, #24]
 3034 00b8 1946     		mov	r1, r3
 3035 00ba 1046     		mov	r0, r2
 3036 00bc FFF7FEFF 		bl	create_chain
 3037 00c0 7861     		str	r0, [r7, #20]
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3038              		.loc 1 1552 9
 3039 00c2 7B69     		ldr	r3, [r7, #20]
 3040 00c4 002B     		cmp	r3, #0
 3041 00c6 01D1     		bne	.L201
 3042              		.loc 1 1552 28 discriminator 1
 3043 00c8 0723     		movs	r3, #7
 3044 00ca 5AE0     		b	.L194
 3045              	.L201:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3046              		.loc 1 1553 9
 3047 00cc 7B69     		ldr	r3, [r7, #20]
 3048 00ce 012B     		cmp	r3, #1
 3049 00d0 01D1     		bne	.L202
 3050              		.loc 1 1553 28 discriminator 1
 3051 00d2 0223     		movs	r3, #2
 3052 00d4 55E0     		b	.L194
 3053              	.L202:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3054              		.loc 1 1554 9
 3055 00d6 7B69     		ldr	r3, [r7, #20]
 3056 00d8 B3F1FF3F 		cmp	r3, #-1
 3057 00dc 01D1     		bne	.L203
 3058              		.loc 1 1554 37 discriminator 1
 3059 00de 0123     		movs	r3, #1
 3060 00e0 4FE0     		b	.L194
 3061              	.L203:
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 82


1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 3062              		.loc 1 1557 10
 3063 00e2 F868     		ldr	r0, [r7, #12]
 3064 00e4 FFF7FEFF 		bl	sync_window
 3065 00e8 0346     		mov	r3, r0
 3066              		.loc 1 1557 9
 3067 00ea 002B     		cmp	r3, #0
 3068 00ec 01D0     		beq	.L204
 3069              		.loc 1 1557 43 discriminator 1
 3070 00ee 0123     		movs	r3, #1
 3071 00f0 47E0     		b	.L194
 3072              	.L204:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 3073              		.loc 1 1558 16
 3074 00f2 FB68     		ldr	r3, [r7, #12]
 3075 00f4 3033     		adds	r3, r3, #48
 3076              		.loc 1 1558 6
 3077 00f6 4FF40072 		mov	r2, #512
 3078 00fa 0021     		movs	r1, #0
 3079 00fc 1846     		mov	r0, r3
 3080 00fe FFF7FEFF 		bl	mem_set
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3081              		.loc 1 1559 13
 3082 0102 0023     		movs	r3, #0
 3083 0104 3B61     		str	r3, [r7, #16]
 3084              		.loc 1 1559 32
 3085 0106 7969     		ldr	r1, [r7, #20]
 3086 0108 F868     		ldr	r0, [r7, #12]
 3087 010a FFF7FEFF 		bl	clust2sect
 3088 010e 0246     		mov	r2, r0
 3089              		.loc 1 1559 30
 3090 0110 FB68     		ldr	r3, [r7, #12]
 3091 0112 DA62     		str	r2, [r3, #44]
 3092              		.loc 1 1559 6
 3093 0114 12E0     		b	.L205
 3094              	.L207:
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 3095              		.loc 1 1560 17
 3096 0116 FB68     		ldr	r3, [r7, #12]
 3097 0118 0122     		movs	r2, #1
 3098 011a DA70     		strb	r2, [r3, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 3099              		.loc 1 1561 11
 3100 011c F868     		ldr	r0, [r7, #12]
 3101 011e FFF7FEFF 		bl	sync_window
 3102 0122 0346     		mov	r3, r0
 3103              		.loc 1 1561 10
 3104 0124 002B     		cmp	r3, #0
 3105 0126 01D0     		beq	.L206
 3106              		.loc 1 1561 44 discriminator 1
 3107 0128 0123     		movs	r3, #1
 3108 012a 2AE0     		b	.L194
 3109              	.L206:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3110              		.loc 1 1559 70 discriminator 2
 3111 012c 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 83


 3112 012e 0133     		adds	r3, r3, #1
 3113 0130 3B61     		str	r3, [r7, #16]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3114              		.loc 1 1559 76 discriminator 2
 3115 0132 FB68     		ldr	r3, [r7, #12]
 3116 0134 DB6A     		ldr	r3, [r3, #44]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3117              		.loc 1 1559 85 discriminator 2
 3118 0136 5A1C     		adds	r2, r3, #1
 3119 0138 FB68     		ldr	r3, [r7, #12]
 3120 013a DA62     		str	r2, [r3, #44]
 3121              	.L205:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3122              		.loc 1 1559 60 discriminator 1
 3123 013c FB68     		ldr	r3, [r7, #12]
 3124 013e 5B89     		ldrh	r3, [r3, #10]
 3125 0140 1A46     		mov	r2, r3
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3126              		.loc 1 1559 56 discriminator 1
 3127 0142 3B69     		ldr	r3, [r7, #16]
 3128 0144 9342     		cmp	r3, r2
 3129 0146 E6D3     		bcc	.L207
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
 3130              		.loc 1 1563 18
 3131 0148 FB68     		ldr	r3, [r7, #12]
 3132 014a DA6A     		ldr	r2, [r3, #44]
 3133 014c 3B69     		ldr	r3, [r7, #16]
 3134 014e D21A     		subs	r2, r2, r3
 3135 0150 FB68     		ldr	r3, [r7, #12]
 3136 0152 DA62     		str	r2, [r3, #44]
 3137              	.L199:
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
 3138              		.loc 1 1569 15
 3139 0154 7B68     		ldr	r3, [r7, #4]
 3140 0156 7A69     		ldr	r2, [r7, #20]
 3141 0158 9A61     		str	r2, [r3, #24]
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 3142              		.loc 1 1570 16
 3143 015a 7969     		ldr	r1, [r7, #20]
 3144 015c F868     		ldr	r0, [r7, #12]
 3145 015e FFF7FEFF 		bl	clust2sect
 3146 0162 0246     		mov	r2, r0
 3147              		.loc 1 1570 14
 3148 0164 7B68     		ldr	r3, [r7, #4]
 3149 0166 DA61     		str	r2, [r3, #28]
 3150              	.L195:
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
 3151              		.loc 1 1574 11
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 84


 3152 0168 7B68     		ldr	r3, [r7, #4]
 3153 016a BA68     		ldr	r2, [r7, #8]
 3154 016c 5A61     		str	r2, [r3, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 3155              		.loc 1 1575 12
 3156 016e FB68     		ldr	r3, [r7, #12]
 3157 0170 03F13002 		add	r2, r3, #48
 3158              		.loc 1 1575 26
 3159 0174 BB68     		ldr	r3, [r7, #8]
 3160 0176 C3F30803 		ubfx	r3, r3, #0, #9
 3161              		.loc 1 1575 20
 3162 017a 1A44     		add	r2, r2, r3
 3163              		.loc 1 1575 10
 3164 017c 7B68     		ldr	r3, [r7, #4]
 3165 017e 1A62     		str	r2, [r3, #32]
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 3166              		.loc 1 1577 9
 3167 0180 0023     		movs	r3, #0
 3168              	.L194:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3169              		.loc 1 1578 1
 3170 0182 1846     		mov	r0, r3
 3171 0184 1837     		adds	r7, r7, #24
 3172              		.cfi_def_cfa_offset 8
 3173 0186 BD46     		mov	sp, r7
 3174              		.cfi_def_cfa_register 13
 3175              		@ sp needed
 3176 0188 80BD     		pop	{r7, pc}
 3177              		.cfi_endproc
 3178              	.LFE344:
 3180              		.section	.text.dir_alloc,"ax",%progbits
 3181              		.align	1
 3182              		.syntax unified
 3183              		.thumb
 3184              		.thumb_func
 3186              	dir_alloc:
 3187              	.LFB345:
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3188              		.loc 1 1593 1
 3189              		.cfi_startproc
 3190              		@ args = 0, pretend = 0, frame = 24
 3191              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 85


 3192 0000 80B5     		push	{r7, lr}
 3193              		.cfi_def_cfa_offset 8
 3194              		.cfi_offset 7, -8
 3195              		.cfi_offset 14, -4
 3196 0002 86B0     		sub	sp, sp, #24
 3197              		.cfi_def_cfa_offset 32
 3198 0004 00AF     		add	r7, sp, #0
 3199              		.cfi_def_cfa_register 7
 3200 0006 7860     		str	r0, [r7, #4]
 3201 0008 3960     		str	r1, [r7]
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3202              		.loc 1 1596 9
 3203 000a 7B68     		ldr	r3, [r7, #4]
 3204 000c 1B68     		ldr	r3, [r3]
 3205 000e FB60     		str	r3, [r7, #12]
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
 3206              		.loc 1 1599 8
 3207 0010 0021     		movs	r1, #0
 3208 0012 7868     		ldr	r0, [r7, #4]
 3209 0014 FFF7FEFF 		bl	dir_sdi
 3210 0018 0346     		mov	r3, r0
 3211 001a FB75     		strb	r3, [r7, #23]
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3212              		.loc 1 1600 5
 3213 001c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3214 001e 002B     		cmp	r3, #0
 3215 0020 2BD1     		bne	.L209
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 3216              		.loc 1 1601 5
 3217 0022 0023     		movs	r3, #0
 3218 0024 3B61     		str	r3, [r7, #16]
 3219              	.L215:
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 3220              		.loc 1 1603 10
 3221 0026 7B68     		ldr	r3, [r7, #4]
 3222 0028 DB69     		ldr	r3, [r3, #28]
 3223 002a 1946     		mov	r1, r3
 3224 002c F868     		ldr	r0, [r7, #12]
 3225 002e FFF7FEFF 		bl	move_window
 3226 0032 0346     		mov	r3, r0
 3227 0034 FB75     		strb	r3, [r7, #23]
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3228              		.loc 1 1604 7
 3229 0036 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3230 0038 002B     		cmp	r3, #0
 3231 003a 1DD1     		bne	.L218
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
 3232              		.loc 1 1608 10
 3233 003c 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 86


 3234 003e 1B6A     		ldr	r3, [r3, #32]
 3235              		.loc 1 1608 15
 3236 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3237              		.loc 1 1608 7
 3238 0042 E52B     		cmp	r3, #229
 3239 0044 04D0     		beq	.L211
 3240              		.loc 1 1608 39 discriminator 1
 3241 0046 7B68     		ldr	r3, [r7, #4]
 3242 0048 1B6A     		ldr	r3, [r3, #32]
 3243              		.loc 1 1608 44 discriminator 1
 3244 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3245              		.loc 1 1608 34 discriminator 1
 3246 004c 002B     		cmp	r3, #0
 3247 004e 07D1     		bne	.L212
 3248              	.L211:
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 3249              		.loc 1 1610 8
 3250 0050 3B69     		ldr	r3, [r7, #16]
 3251 0052 0133     		adds	r3, r3, #1
 3252 0054 3B61     		str	r3, [r7, #16]
 3253 0056 3A69     		ldr	r2, [r7, #16]
 3254 0058 3B68     		ldr	r3, [r7]
 3255 005a 9A42     		cmp	r2, r3
 3256 005c 02D1     		bne	.L214
 3257              		.loc 1 1610 22
 3258 005e 0CE0     		b	.L209
 3259              	.L212:
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
 3260              		.loc 1 1612 7
 3261 0060 0023     		movs	r3, #0
 3262 0062 3B61     		str	r3, [r7, #16]
 3263              	.L214:
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
 3264              		.loc 1 1614 10
 3265 0064 0121     		movs	r1, #1
 3266 0066 7868     		ldr	r0, [r7, #4]
 3267 0068 FFF7FEFF 		bl	dir_next
 3268 006c 0346     		mov	r3, r0
 3269 006e FB75     		strb	r3, [r7, #23]
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 3270              		.loc 1 1615 16
 3271 0070 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3272 0072 002B     		cmp	r3, #0
 3273 0074 D7D0     		beq	.L215
 3274 0076 00E0     		b	.L209
 3275              	.L218:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3276              		.loc 1 1604 22
 3277 0078 00BF     		nop
 3278              	.L209:
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
 3279              		.loc 1 1618 5
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 87


 3280 007a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3281 007c 042B     		cmp	r3, #4
 3282 007e 01D1     		bne	.L216
 3283              		.loc 1 1618 29 discriminator 1
 3284 0080 0723     		movs	r3, #7
 3285 0082 FB75     		strb	r3, [r7, #23]
 3286              	.L216:
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3287              		.loc 1 1619 9
 3288 0084 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3289              		.loc 1 1620 1
 3290 0086 1846     		mov	r0, r3
 3291 0088 1837     		adds	r7, r7, #24
 3292              		.cfi_def_cfa_offset 8
 3293 008a BD46     		mov	sp, r7
 3294              		.cfi_def_cfa_register 13
 3295              		@ sp needed
 3296 008c 80BD     		pop	{r7, pc}
 3297              		.cfi_endproc
 3298              	.LFE345:
 3300              		.section	.text.ld_clust,"ax",%progbits
 3301              		.align	1
 3302              		.syntax unified
 3303              		.thumb
 3304              		.thumb_func
 3306              	ld_clust:
 3307              	.LFB346:
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3308              		.loc 1 1636 1
 3309              		.cfi_startproc
 3310              		@ args = 0, pretend = 0, frame = 16
 3311              		@ frame_needed = 1, uses_anonymous_args = 0
 3312 0000 80B5     		push	{r7, lr}
 3313              		.cfi_def_cfa_offset 8
 3314              		.cfi_offset 7, -8
 3315              		.cfi_offset 14, -4
 3316 0002 84B0     		sub	sp, sp, #16
 3317              		.cfi_def_cfa_offset 24
 3318 0004 00AF     		add	r7, sp, #0
 3319              		.cfi_def_cfa_register 7
 3320 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 88


 3321 0008 3960     		str	r1, [r7]
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 3322              		.loc 1 1639 7
 3323 000a 3B68     		ldr	r3, [r7]
 3324 000c 1A33     		adds	r3, r3, #26
 3325 000e 1846     		mov	r0, r3
 3326 0010 FFF7FEFF 		bl	ld_word
 3327 0014 0346     		mov	r3, r0
 3328              		.loc 1 1639 5
 3329 0016 FB60     		str	r3, [r7, #12]
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 3330              		.loc 1 1640 8
 3331 0018 7B68     		ldr	r3, [r7, #4]
 3332 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3333              		.loc 1 1640 5
 3334 001c 032B     		cmp	r3, #3
 3335 001e 09D1     		bne	.L220
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 3336              		.loc 1 1641 16
 3337 0020 3B68     		ldr	r3, [r7]
 3338 0022 1433     		adds	r3, r3, #20
 3339 0024 1846     		mov	r0, r3
 3340 0026 FFF7FEFF 		bl	ld_word
 3341 002a 0346     		mov	r3, r0
 3342              		.loc 1 1641 45
 3343 002c 1B04     		lsls	r3, r3, #16
 3344              		.loc 1 1641 6
 3345 002e FA68     		ldr	r2, [r7, #12]
 3346 0030 1343     		orrs	r3, r3, r2
 3347 0032 FB60     		str	r3, [r7, #12]
 3348              	.L220:
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
 3349              		.loc 1 1644 9
 3350 0034 FB68     		ldr	r3, [r7, #12]
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3351              		.loc 1 1645 1
 3352 0036 1846     		mov	r0, r3
 3353 0038 1037     		adds	r7, r7, #16
 3354              		.cfi_def_cfa_offset 8
 3355 003a BD46     		mov	sp, r7
 3356              		.cfi_def_cfa_register 13
 3357              		@ sp needed
 3358 003c 80BD     		pop	{r7, pc}
 3359              		.cfi_endproc
 3360              	.LFE346:
 3362              		.section	.text.st_clust,"ax",%progbits
 3363              		.align	1
 3364              		.syntax unified
 3365              		.thumb
 3366              		.thumb_func
 3368              	st_clust:
 3369              	.LFB347:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 89


1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3370              		.loc 1 1655 1
 3371              		.cfi_startproc
 3372              		@ args = 0, pretend = 0, frame = 16
 3373              		@ frame_needed = 1, uses_anonymous_args = 0
 3374 0000 80B5     		push	{r7, lr}
 3375              		.cfi_def_cfa_offset 8
 3376              		.cfi_offset 7, -8
 3377              		.cfi_offset 14, -4
 3378 0002 84B0     		sub	sp, sp, #16
 3379              		.cfi_def_cfa_offset 24
 3380 0004 00AF     		add	r7, sp, #0
 3381              		.cfi_def_cfa_register 7
 3382 0006 F860     		str	r0, [r7, #12]
 3383 0008 B960     		str	r1, [r7, #8]
 3384 000a 7A60     		str	r2, [r7, #4]
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 3385              		.loc 1 1656 2
 3386 000c BB68     		ldr	r3, [r7, #8]
 3387 000e 1A33     		adds	r3, r3, #26
 3388 0010 7A68     		ldr	r2, [r7, #4]
 3389 0012 92B2     		uxth	r2, r2
 3390 0014 1146     		mov	r1, r2
 3391 0016 1846     		mov	r0, r3
 3392 0018 FFF7FEFF 		bl	st_word
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 3393              		.loc 1 1657 8
 3394 001c FB68     		ldr	r3, [r7, #12]
 3395 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3396              		.loc 1 1657 5
 3397 0020 032B     		cmp	r3, #3
 3398 0022 09D1     		bne	.L224
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 3399              		.loc 1 1658 3
 3400 0024 BB68     		ldr	r3, [r7, #8]
 3401 0026 03F11402 		add	r2, r3, #20
 3402              		.loc 1 1658 42
 3403 002a 7B68     		ldr	r3, [r7, #4]
 3404 002c 1B0C     		lsrs	r3, r3, #16
 3405              		.loc 1 1658 3
 3406 002e 9BB2     		uxth	r3, r3
 3407 0030 1946     		mov	r1, r3
 3408 0032 1046     		mov	r0, r2
 3409 0034 FFF7FEFF 		bl	st_word
 3410              	.L224:
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3411              		.loc 1 1660 1
 3412 0038 00BF     		nop
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 90


 3413 003a 1037     		adds	r7, r7, #16
 3414              		.cfi_def_cfa_offset 8
 3415 003c BD46     		mov	sp, r7
 3416              		.cfi_def_cfa_register 13
 3417              		@ sp needed
 3418 003e 80BD     		pop	{r7, pc}
 3419              		.cfi_endproc
 3420              	.LFE347:
 3422              		.section	.text.dir_read,"ax",%progbits
 3423              		.align	1
 3424              		.syntax unified
 3425              		.thumb
 3426              		.thumb_func
 3428              	dir_read:
 3429              	.LFB348:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 91


1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 92


1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 93


1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 94


1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 95


1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 96


1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 97


2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 98


2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3430              		.loc 1 2135 1
 3431              		.cfi_startproc
 3432              		@ args = 0, pretend = 0, frame = 24
 3433              		@ frame_needed = 1, uses_anonymous_args = 0
 3434 0000 80B5     		push	{r7, lr}
 3435              		.cfi_def_cfa_offset 8
 3436              		.cfi_offset 7, -8
 3437              		.cfi_offset 14, -4
 3438 0002 86B0     		sub	sp, sp, #24
 3439              		.cfi_def_cfa_offset 32
 3440 0004 00AF     		add	r7, sp, #0
 3441              		.cfi_def_cfa_register 7
 3442 0006 7860     		str	r0, [r7, #4]
 3443 0008 3960     		str	r1, [r7]
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 3444              		.loc 1 2136 10
 3445 000a 0423     		movs	r3, #4
 3446 000c FB75     		strb	r3, [r7, #23]
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3447              		.loc 1 2137 9
 3448 000e 7B68     		ldr	r3, [r7, #4]
 3449 0010 1B68     		ldr	r3, [r3]
 3450 0012 3B61     		str	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 99


2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 3451              		.loc 1 2143 8
 3452 0014 3CE0     		b	.L226
 3453              	.L231:
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3454              		.loc 1 2144 9
 3455 0016 7B68     		ldr	r3, [r7, #4]
 3456 0018 DB69     		ldr	r3, [r3, #28]
 3457 001a 1946     		mov	r1, r3
 3458 001c 3869     		ldr	r0, [r7, #16]
 3459 001e FFF7FEFF 		bl	move_window
 3460 0022 0346     		mov	r3, r0
 3461 0024 FB75     		strb	r3, [r7, #23]
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3462              		.loc 1 2145 6
 3463 0026 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3464 0028 002B     		cmp	r3, #0
 3465 002a 36D1     		bne	.L234
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 3466              		.loc 1 2146 9
 3467 002c 7B68     		ldr	r3, [r7, #4]
 3468 002e 1B6A     		ldr	r3, [r3, #32]
 3469              		.loc 1 2146 5
 3470 0030 1B78     		ldrb	r3, [r3]
 3471 0032 FB73     		strb	r3, [r7, #15]
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 3472              		.loc 1 2147 6
 3473 0034 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3474 0036 002B     		cmp	r3, #0
 3475 0038 02D1     		bne	.L229
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 3476              		.loc 1 2148 8
 3477 003a 0423     		movs	r3, #4
 3478 003c FB75     		strb	r3, [r7, #23]
 3479              		.loc 1 2148 22
 3480 003e 31E0     		b	.L228
 3481              	.L229:
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 100


2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
 3482              		.loc 1 2167 25
 3483 0040 7B68     		ldr	r3, [r7, #4]
 3484 0042 1B6A     		ldr	r3, [r3, #32]
 3485              		.loc 1 2167 30
 3486 0044 0B33     		adds	r3, r3, #11
 3487 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3488              		.loc 1 2167 21
 3489 0048 03F03F03 		and	r3, r3, #63
 3490 004c BB73     		strb	r3, [r7, #14]
 3491              		.loc 1 2167 17
 3492 004e 7B68     		ldr	r3, [r7, #4]
 3493 0050 BA7B     		ldrb	r2, [r7, #14]
 3494 0052 9A71     		strb	r2, [r3, #6]
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
 3495              		.loc 1 2188 7
 3496 0054 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3497 0056 E52B     		cmp	r3, #229
 3498 0058 11D0     		beq	.L230
 3499              		.loc 1 2188 18 discriminator 1
 3500 005a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3501 005c 2E2B     		cmp	r3, #46
 3502 005e 0ED0     		beq	.L230
 3503              		.loc 1 2188 30 discriminator 2
 3504 0060 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 3505 0062 0F2B     		cmp	r3, #15
 3506 0064 0BD0     		beq	.L230
 3507              		.loc 1 2188 57 discriminator 3
 3508 0066 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 3509 0068 23F02003 		bic	r3, r3, #32
 3510              		.loc 1 2188 48 discriminator 3
 3511 006c 082B     		cmp	r3, #8
 3512 006e 0CBF     		ite	eq
 3513 0070 0123     		moveq	r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 101


 3514 0072 0023     		movne	r3, #0
 3515 0074 DBB2     		uxtb	r3, r3
 3516 0076 1A46     		mov	r2, r3
 3517              		.loc 1 2188 45 discriminator 3
 3518 0078 3B68     		ldr	r3, [r7]
 3519 007a 9342     		cmp	r3, r2
 3520 007c 0FD0     		beq	.L235
 3521              	.L230:
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
 3522              		.loc 1 2193 9
 3523 007e 0021     		movs	r1, #0
 3524 0080 7868     		ldr	r0, [r7, #4]
 3525 0082 FFF7FEFF 		bl	dir_next
 3526 0086 0346     		mov	r3, r0
 3527 0088 FB75     		strb	r3, [r7, #23]
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3528              		.loc 1 2194 6
 3529 008a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3530 008c 002B     		cmp	r3, #0
 3531 008e 08D1     		bne	.L236
 3532              	.L226:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3533              		.loc 1 2143 11
 3534 0090 7B68     		ldr	r3, [r7, #4]
 3535 0092 DB69     		ldr	r3, [r3, #28]
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3536              		.loc 1 2143 9
 3537 0094 002B     		cmp	r3, #0
 3538 0096 BED1     		bne	.L231
 3539 0098 04E0     		b	.L228
 3540              	.L234:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 3541              		.loc 1 2145 21
 3542 009a 00BF     		nop
 3543 009c 02E0     		b	.L228
 3544              	.L235:
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3545              		.loc 1 2189 5
 3546 009e 00BF     		nop
 3547 00a0 00E0     		b	.L228
 3548              	.L236:
 3549              		.loc 1 2194 21
 3550 00a2 00BF     		nop
 3551              	.L228:
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
 3552              		.loc 1 2197 5
 3553 00a4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3554 00a6 002B     		cmp	r3, #0
 3555 00a8 02D0     		beq	.L232
 3556              		.loc 1 2197 29 discriminator 1
 3557 00aa 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 102


 3558 00ac 0022     		movs	r2, #0
 3559 00ae DA61     		str	r2, [r3, #28]
 3560              	.L232:
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3561              		.loc 1 2198 9
 3562 00b0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3563              		.loc 1 2199 1
 3564 00b2 1846     		mov	r0, r3
 3565 00b4 1837     		adds	r7, r7, #24
 3566              		.cfi_def_cfa_offset 8
 3567 00b6 BD46     		mov	sp, r7
 3568              		.cfi_def_cfa_register 13
 3569              		@ sp needed
 3570 00b8 80BD     		pop	{r7, pc}
 3571              		.cfi_endproc
 3572              	.LFE348:
 3574              		.section	.text.dir_find,"ax",%progbits
 3575              		.align	1
 3576              		.syntax unified
 3577              		.thumb
 3578              		.thumb_func
 3580              	dir_find:
 3581              	.LFB349:
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3582              		.loc 1 2213 1
 3583              		.cfi_startproc
 3584              		@ args = 0, pretend = 0, frame = 24
 3585              		@ frame_needed = 1, uses_anonymous_args = 0
 3586 0000 80B5     		push	{r7, lr}
 3587              		.cfi_def_cfa_offset 8
 3588              		.cfi_offset 7, -8
 3589              		.cfi_offset 14, -4
 3590 0002 86B0     		sub	sp, sp, #24
 3591              		.cfi_def_cfa_offset 32
 3592 0004 00AF     		add	r7, sp, #0
 3593              		.cfi_def_cfa_register 7
 3594 0006 7860     		str	r0, [r7, #4]
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3595              		.loc 1 2215 9
 3596 0008 7B68     		ldr	r3, [r7, #4]
 3597 000a 1B68     		ldr	r3, [r3]
 3598 000c 3B61     		str	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 103


2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
 3599              		.loc 1 2221 8
 3600 000e 0021     		movs	r1, #0
 3601 0010 7868     		ldr	r0, [r7, #4]
 3602 0012 FFF7FEFF 		bl	dir_sdi
 3603 0016 0346     		mov	r3, r0
 3604 0018 FB75     		strb	r3, [r7, #23]
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 3605              		.loc 1 2222 5
 3606 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3607 001c 002B     		cmp	r3, #0
 3608 001e 01D0     		beq	.L238
 3609              		.loc 1 2222 27 discriminator 1
 3610 0020 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3611 0022 3EE0     		b	.L239
 3612              	.L238:
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3613              		.loc 1 2248 9
 3614 0024 7B68     		ldr	r3, [r7, #4]
 3615 0026 DB69     		ldr	r3, [r3, #28]
 3616 0028 1946     		mov	r1, r3
 3617 002a 3869     		ldr	r0, [r7, #16]
 3618 002c FFF7FEFF 		bl	move_window
 3619 0030 0346     		mov	r3, r0
 3620 0032 FB75     		strb	r3, [r7, #23]
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3621              		.loc 1 2249 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 104


 3622 0034 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3623 0036 002B     		cmp	r3, #0
 3624 0038 2FD1     		bne	.L244
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 3625              		.loc 1 2250 9
 3626 003a 7B68     		ldr	r3, [r7, #4]
 3627 003c 1B6A     		ldr	r3, [r3, #32]
 3628              		.loc 1 2250 5
 3629 003e 1B78     		ldrb	r3, [r3]
 3630 0040 FB73     		strb	r3, [r7, #15]
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 3631              		.loc 1 2251 6
 3632 0042 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3633 0044 002B     		cmp	r3, #0
 3634 0046 02D1     		bne	.L242
 3635              		.loc 1 2251 21 discriminator 1
 3636 0048 0423     		movs	r3, #4
 3637 004a FB75     		strb	r3, [r7, #23]
 3638              		.loc 1 2251 35 discriminator 1
 3639 004c 28E0     		b	.L241
 3640              	.L242:
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
 3641              		.loc 1 2274 20
 3642 004e 7B68     		ldr	r3, [r7, #4]
 3643 0050 1B6A     		ldr	r3, [r3, #32]
 3644              		.loc 1 2274 25
 3645 0052 0B33     		adds	r3, r3, #11
 3646 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3647              		.loc 1 2274 36
 3648 0056 03F03F03 		and	r3, r3, #63
 3649 005a DAB2     		uxtb	r2, r3
 3650              		.loc 1 2274 16
 3651 005c 7B68     		ldr	r3, [r7, #4]
 3652 005e 9A71     		strb	r2, [r3, #6]
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 105


 3653              		.loc 1 2275 11
 3654 0060 7B68     		ldr	r3, [r7, #4]
 3655 0062 1B6A     		ldr	r3, [r3, #32]
 3656              		.loc 1 2275 16
 3657 0064 0B33     		adds	r3, r3, #11
 3658 0066 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3659              		.loc 1 2275 27
 3660 0068 03F00803 		and	r3, r3, #8
 3661              		.loc 1 2275 6
 3662 006c 002B     		cmp	r3, #0
 3663 006e 0AD1     		bne	.L243
 3664              		.loc 1 2275 51 discriminator 1
 3665 0070 7B68     		ldr	r3, [r7, #4]
 3666 0072 186A     		ldr	r0, [r3, #32]
 3667              		.loc 1 2275 60 discriminator 1
 3668 0074 7B68     		ldr	r3, [r7, #4]
 3669 0076 2433     		adds	r3, r3, #36
 3670              		.loc 1 2275 41 discriminator 1
 3671 0078 0B22     		movs	r2, #11
 3672 007a 1946     		mov	r1, r3
 3673 007c FFF7FEFF 		bl	mem_cmp
 3674 0080 0346     		mov	r3, r0
 3675              		.loc 1 2275 37 discriminator 1
 3676 0082 002B     		cmp	r3, #0
 3677 0084 0BD0     		beq	.L245
 3678              	.L243:
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
 3679              		.loc 1 2277 9
 3680 0086 0021     		movs	r1, #0
 3681 0088 7868     		ldr	r0, [r7, #4]
 3682 008a FFF7FEFF 		bl	dir_next
 3683 008e 0346     		mov	r3, r0
 3684 0090 FB75     		strb	r3, [r7, #23]
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 3685              		.loc 1 2278 15
 3686 0092 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3687 0094 002B     		cmp	r3, #0
 3688 0096 C5D0     		beq	.L238
 3689 0098 02E0     		b	.L241
 3690              	.L244:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 3691              		.loc 1 2249 21
 3692 009a 00BF     		nop
 3693 009c 00E0     		b	.L241
 3694              	.L245:
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3695              		.loc 1 2275 71
 3696 009e 00BF     		nop
 3697              	.L241:
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3698              		.loc 1 2280 9
 3699 00a0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3700              	.L239:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3701              		.loc 1 2281 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 106


 3702 00a2 1846     		mov	r0, r3
 3703 00a4 1837     		adds	r7, r7, #24
 3704              		.cfi_def_cfa_offset 8
 3705 00a6 BD46     		mov	sp, r7
 3706              		.cfi_def_cfa_register 13
 3707              		@ sp needed
 3708 00a8 80BD     		pop	{r7, pc}
 3709              		.cfi_endproc
 3710              	.LFE349:
 3712              		.section	.text.dir_register,"ax",%progbits
 3713              		.align	1
 3714              		.syntax unified
 3715              		.thumb
 3716              		.thumb_func
 3718              	dir_register:
 3719              	.LFB350:
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3720              		.loc 1 2295 1
 3721              		.cfi_startproc
 3722              		@ args = 0, pretend = 0, frame = 16
 3723              		@ frame_needed = 1, uses_anonymous_args = 0
 3724 0000 80B5     		push	{r7, lr}
 3725              		.cfi_def_cfa_offset 8
 3726              		.cfi_offset 7, -8
 3727              		.cfi_offset 14, -4
 3728 0002 84B0     		sub	sp, sp, #16
 3729              		.cfi_def_cfa_offset 24
 3730 0004 00AF     		add	r7, sp, #0
 3731              		.cfi_def_cfa_register 7
 3732 0006 7860     		str	r0, [r7, #4]
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3733              		.loc 1 2297 9
 3734 0008 7B68     		ldr	r3, [r7, #4]
 3735 000a 1B68     		ldr	r3, [r3]
 3736 000c BB60     		str	r3, [r7, #8]
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 107


2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 108


2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
 3737              		.loc 1 2366 8
 3738 000e 0121     		movs	r1, #1
 3739 0010 7868     		ldr	r0, [r7, #4]
 3740 0012 FFF7FEFF 		bl	dir_alloc
 3741 0016 0346     		mov	r3, r0
 3742 0018 FB73     		strb	r3, [r7, #15]
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3743              		.loc 1 2371 5
 3744 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3745 001c 002B     		cmp	r3, #0
 3746 001e 1CD1     		bne	.L247
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3747              		.loc 1 2372 9
 3748 0020 7B68     		ldr	r3, [r7, #4]
 3749 0022 DB69     		ldr	r3, [r3, #28]
 3750 0024 1946     		mov	r1, r3
 3751 0026 B868     		ldr	r0, [r7, #8]
 3752 0028 FFF7FEFF 		bl	move_window
 3753 002c 0346     		mov	r3, r0
 3754 002e FB73     		strb	r3, [r7, #15]
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3755              		.loc 1 2373 6
 3756 0030 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3757 0032 002B     		cmp	r3, #0
 3758 0034 11D1     		bne	.L247
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 3759              		.loc 1 2374 14
 3760 0036 7B68     		ldr	r3, [r7, #4]
 3761 0038 1B6A     		ldr	r3, [r3, #32]
 3762              		.loc 1 2374 4
 3763 003a 2022     		movs	r2, #32
 3764 003c 0021     		movs	r1, #0
 3765 003e 1846     		mov	r0, r3
 3766 0040 FFF7FEFF 		bl	mem_set
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 3767              		.loc 1 2375 20
 3768 0044 7B68     		ldr	r3, [r7, #4]
 3769 0046 186A     		ldr	r0, [r3, #32]
 3770              		.loc 1 2375 34
 3771 0048 7B68     		ldr	r3, [r7, #4]
 3772 004a 2433     		adds	r3, r3, #36
 3773              		.loc 1 2375 4
 3774 004c 0B22     		movs	r2, #11
 3775 004e 1946     		mov	r1, r3
 3776 0050 FFF7FEFF 		bl	mem_cpy
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 109


 3777              		.loc 1 2379 14
 3778 0054 BB68     		ldr	r3, [r7, #8]
 3779 0056 0122     		movs	r2, #1
 3780 0058 DA70     		strb	r2, [r3, #3]
 3781              	.L247:
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3782              		.loc 1 2383 9
 3783 005a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3784              		.loc 1 2384 1
 3785 005c 1846     		mov	r0, r3
 3786 005e 1037     		adds	r7, r7, #16
 3787              		.cfi_def_cfa_offset 8
 3788 0060 BD46     		mov	sp, r7
 3789              		.cfi_def_cfa_register 13
 3790              		@ sp needed
 3791 0062 80BD     		pop	{r7, pc}
 3792              		.cfi_endproc
 3793              	.LFE350:
 3795              		.section	.text.dir_remove,"ax",%progbits
 3796              		.align	1
 3797              		.syntax unified
 3798              		.thumb
 3799              		.thumb_func
 3801              	dir_remove:
 3802              	.LFB351:
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3803              		.loc 1 2399 1
 3804              		.cfi_startproc
 3805              		@ args = 0, pretend = 0, frame = 16
 3806              		@ frame_needed = 1, uses_anonymous_args = 0
 3807 0000 80B5     		push	{r7, lr}
 3808              		.cfi_def_cfa_offset 8
 3809              		.cfi_offset 7, -8
 3810              		.cfi_offset 14, -4
 3811 0002 84B0     		sub	sp, sp, #16
 3812              		.cfi_def_cfa_offset 24
 3813 0004 00AF     		add	r7, sp, #0
 3814              		.cfi_def_cfa_register 7
 3815 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 110


2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3816              		.loc 1 2401 9
 3817 0008 7B68     		ldr	r3, [r7, #4]
 3818 000a 1B68     		ldr	r3, [r3]
 3819 000c FB60     		str	r3, [r7, #12]
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
 3820              		.loc 1 2424 8
 3821 000e 7B68     		ldr	r3, [r7, #4]
 3822 0010 DB69     		ldr	r3, [r3, #28]
 3823 0012 1946     		mov	r1, r3
 3824 0014 F868     		ldr	r0, [r7, #12]
 3825 0016 FFF7FEFF 		bl	move_window
 3826 001a 0346     		mov	r3, r0
 3827 001c FB72     		strb	r3, [r7, #11]
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3828              		.loc 1 2425 5
 3829 001e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 3830 0020 002B     		cmp	r3, #0
 3831 0022 06D1     		bne	.L250
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
 3832              		.loc 1 2426 5
 3833 0024 7B68     		ldr	r3, [r7, #4]
 3834 0026 1B6A     		ldr	r3, [r3, #32]
 3835              		.loc 1 2426 21
 3836 0028 E522     		movs	r2, #229
 3837 002a 1A70     		strb	r2, [r3]
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 3838              		.loc 1 2427 13
 3839 002c FB68     		ldr	r3, [r7, #12]
 3840 002e 0122     		movs	r2, #1
 3841 0030 DA70     		strb	r2, [r3, #3]
 3842              	.L250:
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 111


2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3843              		.loc 1 2431 9
 3844 0032 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3845              		.loc 1 2432 1
 3846 0034 1846     		mov	r0, r3
 3847 0036 1037     		adds	r7, r7, #16
 3848              		.cfi_def_cfa_offset 8
 3849 0038 BD46     		mov	sp, r7
 3850              		.cfi_def_cfa_register 13
 3851              		@ sp needed
 3852 003a 80BD     		pop	{r7, pc}
 3853              		.cfi_endproc
 3854              	.LFE351:
 3856              		.section	.text.get_fileinfo,"ax",%progbits
 3857              		.align	1
 3858              		.syntax unified
 3859              		.thumb
 3860              		.thumb_func
 3862              	get_fileinfo:
 3863              	.LFB352:
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 3864              		.loc 1 2448 1
 3865              		.cfi_startproc
 3866              		@ args = 0, pretend = 0, frame = 24
 3867              		@ frame_needed = 1, uses_anonymous_args = 0
 3868 0000 80B5     		push	{r7, lr}
 3869              		.cfi_def_cfa_offset 8
 3870              		.cfi_offset 7, -8
 3871              		.cfi_offset 14, -4
 3872 0002 86B0     		sub	sp, sp, #24
 3873              		.cfi_def_cfa_offset 32
 3874 0004 00AF     		add	r7, sp, #0
 3875              		.cfi_def_cfa_register 7
 3876 0006 7860     		str	r0, [r7, #4]
 3877 0008 3960     		str	r1, [r7]
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 112


2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
 3878              		.loc 1 2458 16
 3879 000a 3B68     		ldr	r3, [r7]
 3880 000c 0022     		movs	r2, #0
 3881 000e 5A72     		strb	r2, [r3, #9]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 3882              		.loc 1 2459 9
 3883 0010 7B68     		ldr	r3, [r7, #4]
 3884 0012 DB69     		ldr	r3, [r3, #28]
 3885              		.loc 1 2459 5
 3886 0014 002B     		cmp	r3, #0
 3887 0016 4ED0     		beq	.L260
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 113


2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
 3888              		.loc 1 2519 8
 3889 0018 0023     		movs	r3, #0
 3890 001a 3B61     		str	r3, [r7, #16]
 3891              		.loc 1 2519 4
 3892 001c 3B69     		ldr	r3, [r7, #16]
 3893 001e 7B61     		str	r3, [r7, #20]
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 3894              		.loc 1 2520 8
 3895 0020 21E0     		b	.L255
 3896              	.L259:
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 3897              		.loc 1 2521 16
 3898 0022 7B68     		ldr	r3, [r7, #4]
 3899 0024 1A6A     		ldr	r2, [r3, #32]
 3900              		.loc 1 2521 23
 3901 0026 7B69     		ldr	r3, [r7, #20]
 3902 0028 591C     		adds	r1, r3, #1
 3903 002a 7961     		str	r1, [r7, #20]
 3904              		.loc 1 2521 21
 3905 002c 1344     		add	r3, r3, r2
 3906              		.loc 1 2521 5
 3907 002e 1B78     		ldrb	r3, [r3]
 3908 0030 FB73     		strb	r3, [r7, #15]
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 3909              		.loc 1 2522 6
 3910 0032 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3911 0034 202B     		cmp	r3, #32
 3912 0036 00D1     		bne	.L256
 3913              		.loc 1 2522 17 discriminator 1
 3914 0038 15E0     		b	.L255
 3915              	.L256:
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 3916              		.loc 1 2523 6
 3917 003a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3918 003c 052B     		cmp	r3, #5
 3919 003e 01D1     		bne	.L257
 3920              		.loc 1 2523 21 discriminator 1
 3921 0040 E523     		movs	r3, #229
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 114


 3922 0042 FB73     		strb	r3, [r7, #15]
 3923              	.L257:
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 3924              		.loc 1 2524 6
 3925 0044 7B69     		ldr	r3, [r7, #20]
 3926 0046 092B     		cmp	r3, #9
 3927 0048 06D1     		bne	.L258
 3928              		.loc 1 2524 27 discriminator 1
 3929 004a 3B69     		ldr	r3, [r7, #16]
 3930 004c 5A1C     		adds	r2, r3, #1
 3931 004e 3A61     		str	r2, [r7, #16]
 3932              		.loc 1 2524 31 discriminator 1
 3933 0050 3A68     		ldr	r2, [r7]
 3934 0052 1344     		add	r3, r3, r2
 3935 0054 2E22     		movs	r2, #46
 3936 0056 5A72     		strb	r2, [r3, #9]
 3937              	.L258:
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 3938              		.loc 1 2525 15
 3939 0058 3B69     		ldr	r3, [r7, #16]
 3940 005a 5A1C     		adds	r2, r3, #1
 3941 005c 3A61     		str	r2, [r7, #16]
 3942              		.loc 1 2525 19
 3943 005e 3A68     		ldr	r2, [r7]
 3944 0060 1344     		add	r3, r3, r2
 3945 0062 FA7B     		ldrb	r2, [r7, #15]
 3946 0064 5A72     		strb	r2, [r3, #9]
 3947              	.L255:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 3948              		.loc 1 2520 11
 3949 0066 7B69     		ldr	r3, [r7, #20]
 3950 0068 0A2B     		cmp	r3, #10
 3951 006a DAD9     		bls	.L259
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
 3952              		.loc 1 2527 16
 3953 006c 3A68     		ldr	r2, [r7]
 3954 006e 3B69     		ldr	r3, [r7, #16]
 3955 0070 1344     		add	r3, r3, r2
 3956 0072 0933     		adds	r3, r3, #9
 3957 0074 0022     		movs	r2, #0
 3958 0076 1A70     		strb	r2, [r3]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
 3959              		.loc 1 2530 19
 3960 0078 7B68     		ldr	r3, [r7, #4]
 3961 007a 1B6A     		ldr	r3, [r3, #32]
 3962              		.loc 1 2530 15
 3963 007c DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 3964 007e 3B68     		ldr	r3, [r7]
 3965 0080 1A72     		strb	r2, [r3, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 3966              		.loc 1 2531 26
 3967 0082 7B68     		ldr	r3, [r7, #4]
 3968 0084 1B6A     		ldr	r3, [r3, #32]
 3969              		.loc 1 2531 32
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 115


 3970 0086 1C33     		adds	r3, r3, #28
 3971              		.loc 1 2531 15
 3972 0088 1846     		mov	r0, r3
 3973 008a FFF7FEFF 		bl	ld_dword
 3974 008e 0246     		mov	r2, r0
 3975              		.loc 1 2531 13
 3976 0090 3B68     		ldr	r3, [r7]
 3977 0092 1A60     		str	r2, [r3]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 3978              		.loc 1 2532 18
 3979 0094 7B68     		ldr	r3, [r7, #4]
 3980 0096 1B6A     		ldr	r3, [r3, #32]
 3981              		.loc 1 2532 24
 3982 0098 1633     		adds	r3, r3, #22
 3983              		.loc 1 2532 7
 3984 009a 1846     		mov	r0, r3
 3985 009c FFF7FEFF 		bl	ld_dword
 3986 00a0 B860     		str	r0, [r7, #8]
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 3987              		.loc 1 2533 15
 3988 00a2 BB68     		ldr	r3, [r7, #8]
 3989 00a4 9AB2     		uxth	r2, r3
 3990              		.loc 1 2533 13
 3991 00a6 3B68     		ldr	r3, [r7]
 3992 00a8 DA80     		strh	r2, [r3, #6]	@ movhi
 3993              		.loc 1 2533 48
 3994 00aa BB68     		ldr	r3, [r7, #8]
 3995 00ac 1B0C     		lsrs	r3, r3, #16
 3996              		.loc 1 2533 38
 3997 00ae 9AB2     		uxth	r2, r3
 3998              		.loc 1 2533 36
 3999 00b0 3B68     		ldr	r3, [r7]
 4000 00b2 9A80     		strh	r2, [r3, #4]	@ movhi
 4001 00b4 00E0     		b	.L252
 4002              	.L260:
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4003              		.loc 1 2459 17
 4004 00b6 00BF     		nop
 4005              	.L252:
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4006              		.loc 1 2534 1
 4007 00b8 1837     		adds	r7, r7, #24
 4008              		.cfi_def_cfa_offset 8
 4009 00ba BD46     		mov	sp, r7
 4010              		.cfi_def_cfa_register 13
 4011              		@ sp needed
 4012 00bc 80BD     		pop	{r7, pc}
 4013              		.cfi_endproc
 4014              	.LFE352:
 4016              		.section	.rodata
 4017              		.align	2
 4018              	.LC0:
 4019 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 4019      3A3B3C3D 
 4019      3E3F5B5D 
 4019      7C7F00
 4020              		.section	.text.create_name,"ax",%progbits
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 116


 4021              		.align	1
 4022              		.syntax unified
 4023              		.thumb
 4024              		.thumb_func
 4026              	create_name:
 4027              	.LFB353:
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 117


2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4028              		.loc 1 2622 1
 4029              		.cfi_startproc
 4030              		@ args = 0, pretend = 0, frame = 32
 4031              		@ frame_needed = 1, uses_anonymous_args = 0
 4032 0000 80B5     		push	{r7, lr}
 4033              		.cfi_def_cfa_offset 8
 4034              		.cfi_offset 7, -8
 4035              		.cfi_offset 14, -4
 4036 0002 88B0     		sub	sp, sp, #32
 4037              		.cfi_def_cfa_offset 40
 4038 0004 00AF     		add	r7, sp, #0
 4039              		.cfi_def_cfa_register 7
 4040 0006 7860     		str	r0, [r7, #4]
 4041 0008 3960     		str	r1, [r7]
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 118


2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 119


2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 120


2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
 4042              		.loc 1 2747 4
 4043 000a 3B68     		ldr	r3, [r7]
 4044 000c 1B68     		ldr	r3, [r3]
 4045 000e FB60     		str	r3, [r7, #12]
 4046              		.loc 1 2747 17
 4047 0010 7B68     		ldr	r3, [r7, #4]
 4048 0012 2433     		adds	r3, r3, #36
 4049 0014 BB60     		str	r3, [r7, #8]
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 4050              		.loc 1 2748 2
 4051 0016 0B22     		movs	r2, #11
 4052 0018 2021     		movs	r1, #32
 4053 001a B868     		ldr	r0, [r7, #8]
 4054 001c FFF7FEFF 		bl	mem_set
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 4055              		.loc 1 2749 9
 4056 0020 0023     		movs	r3, #0
 4057 0022 3B61     		str	r3, [r7, #16]
 4058              		.loc 1 2749 5
 4059 0024 3B69     		ldr	r3, [r7, #16]
 4060 0026 FB61     		str	r3, [r7, #28]
 4061              		.loc 1 2749 17
 4062 0028 0823     		movs	r3, #8
 4063 002a 7B61     		str	r3, [r7, #20]
 4064              	.L277:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 4065              		.loc 1 2764 17
 4066 002c FB69     		ldr	r3, [r7, #28]
 4067 002e 5A1C     		adds	r2, r3, #1
 4068 0030 FA61     		str	r2, [r7, #28]
 4069              		.loc 1 2764 14
 4070 0032 FA68     		ldr	r2, [r7, #12]
 4071 0034 1344     		add	r3, r3, r2
 4072              		.loc 1 2764 5
 4073 0036 1B78     		ldrb	r3, [r3]
 4074 0038 FB76     		strb	r3, [r7, #27]
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 4075              		.loc 1 2765 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 121


 4076 003a FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4077 003c 202B     		cmp	r3, #32
 4078 003e 4ED9     		bls	.L282
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 4079              		.loc 1 2766 6
 4080 0040 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4081 0042 2F2B     		cmp	r3, #47
 4082 0044 06D0     		beq	.L266
 4083              		.loc 1 2766 16 discriminator 1
 4084 0046 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4085 0048 5C2B     		cmp	r3, #92
 4086 004a 10D1     		bne	.L265
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 4087              		.loc 1 2767 10
 4088 004c 02E0     		b	.L266
 4089              	.L267:
 4090              		.loc 1 2767 44 discriminator 4
 4091 004e FB69     		ldr	r3, [r7, #28]
 4092 0050 0133     		adds	r3, r3, #1
 4093 0052 FB61     		str	r3, [r7, #28]
 4094              	.L266:
 4095              		.loc 1 2767 12 discriminator 1
 4096 0054 FA68     		ldr	r2, [r7, #12]
 4097 0056 FB69     		ldr	r3, [r7, #28]
 4098 0058 1344     		add	r3, r3, r2
 4099 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4100              		.loc 1 2767 24 discriminator 1
 4101 005c 2F2B     		cmp	r3, #47
 4102 005e F6D0     		beq	.L267
 4103              		.loc 1 2767 28 discriminator 3
 4104 0060 FA68     		ldr	r2, [r7, #12]
 4105 0062 FB69     		ldr	r3, [r7, #28]
 4106 0064 1344     		add	r3, r3, r2
 4107 0066 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4108              		.loc 1 2767 24 discriminator 3
 4109 0068 5C2B     		cmp	r3, #92
 4110 006a F0D0     		beq	.L267
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4111              		.loc 1 2768 4
 4112 006c 38E0     		b	.L263
 4113              	.L265:
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
 4114              		.loc 1 2770 6
 4115 006e FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4116 0070 2E2B     		cmp	r3, #46
 4117 0072 03D0     		beq	.L268
 4118              		.loc 1 2770 16 discriminator 1
 4119 0074 3A69     		ldr	r2, [r7, #16]
 4120 0076 7B69     		ldr	r3, [r7, #20]
 4121 0078 9A42     		cmp	r2, r3
 4122 007a 0CD3     		bcc	.L269
 4123              	.L268:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 4124              		.loc 1 2771 7
 4125 007c 7B69     		ldr	r3, [r7, #20]
 4126 007e 0B2B     		cmp	r3, #11
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 122


 4127 0080 02D0     		beq	.L270
 4128              		.loc 1 2771 17 discriminator 2
 4129 0082 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4130 0084 2E2B     		cmp	r3, #46
 4131 0086 01D0     		beq	.L271
 4132              	.L270:
 4133              		.loc 1 2771 37 discriminator 3
 4134 0088 0623     		movs	r3, #6
 4135 008a 44E0     		b	.L272
 4136              	.L271:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 4137              		.loc 1 2772 6
 4138 008c 0823     		movs	r3, #8
 4139 008e 3B61     		str	r3, [r7, #16]
 4140              		.loc 1 2772 14
 4141 0090 0B23     		movs	r3, #11
 4142 0092 7B61     		str	r3, [r7, #20]
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 4143              		.loc 1 2773 4
 4144 0094 22E0     		b	.L273
 4145              	.L269:
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
 4146              		.loc 1 2775 9
 4147 0096 97F91B30 		ldrsb	r3, [r7, #27]
 4148              		.loc 1 2775 6
 4149 009a 002B     		cmp	r3, #0
 4150 009c 04DA     		bge	.L274
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
 4151              		.loc 1 2777 16
 4152 009e FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4153 00a0 803B     		subs	r3, r3, #128
 4154              		.loc 1 2777 6
 4155 00a2 1F4A     		ldr	r2, .L283
 4156 00a4 D35C     		ldrb	r3, [r2, r3]
 4157 00a6 FB76     		strb	r3, [r7, #27]
 4158              	.L274:
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
 4159              		.loc 1 2790 8
 4160 00a8 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4161 00aa 1946     		mov	r1, r3
 4162 00ac 1D48     		ldr	r0, .L283+4
 4163 00ae FFF7FEFF 		bl	chk_chr
 4164 00b2 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 123


 4165              		.loc 1 2790 7
 4166 00b4 002B     		cmp	r3, #0
 4167 00b6 01D0     		beq	.L275
 4168              		.loc 1 2790 50 discriminator 1
 4169 00b8 0623     		movs	r3, #6
 4170 00ba 2CE0     		b	.L272
 4171              	.L275:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 4172              		.loc 1 2791 7
 4173 00bc FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4174 00be 602B     		cmp	r3, #96
 4175 00c0 05D9     		bls	.L276
 4176              		.loc 1 2791 8 discriminator 1
 4177 00c2 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4178 00c4 7A2B     		cmp	r3, #122
 4179 00c6 02D8     		bhi	.L276
 4180              		.loc 1 2791 22 discriminator 2
 4181 00c8 FB7E     		ldrb	r3, [r7, #27]
 4182 00ca 203B     		subs	r3, r3, #32
 4183 00cc FB76     		strb	r3, [r7, #27]
 4184              	.L276:
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 4185              		.loc 1 2792 9
 4186 00ce 3B69     		ldr	r3, [r7, #16]
 4187 00d0 5A1C     		adds	r2, r3, #1
 4188 00d2 3A61     		str	r2, [r7, #16]
 4189              		.loc 1 2792 7
 4190 00d4 BA68     		ldr	r2, [r7, #8]
 4191 00d6 1344     		add	r3, r3, r2
 4192              		.loc 1 2792 13
 4193 00d8 FA7E     		ldrb	r2, [r7, #27]
 4194 00da 1A70     		strb	r2, [r3]
 4195              	.L273:
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 4196              		.loc 1 2764 5
 4197 00dc A6E7     		b	.L277
 4198              	.L282:
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 4199              		.loc 1 2765 17
 4200 00de 00BF     		nop
 4201              	.L263:
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
 4202              		.loc 1 2795 12
 4203 00e0 FA68     		ldr	r2, [r7, #12]
 4204 00e2 FB69     		ldr	r3, [r7, #28]
 4205 00e4 1A44     		add	r2, r2, r3
 4206              		.loc 1 2795 8
 4207 00e6 3B68     		ldr	r3, [r7]
 4208 00e8 1A60     		str	r2, [r3]
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 4209              		.loc 1 2796 5
 4210 00ea 3B69     		ldr	r3, [r7, #16]
 4211 00ec 002B     		cmp	r3, #0
 4212 00ee 01D1     		bne	.L278
 4213              		.loc 1 2796 21 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 124


 4214 00f0 0623     		movs	r3, #6
 4215 00f2 10E0     		b	.L272
 4216              	.L278:
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
 4217              		.loc 1 2798 9
 4218 00f4 BB68     		ldr	r3, [r7, #8]
 4219 00f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4220              		.loc 1 2798 5
 4221 00f8 E52B     		cmp	r3, #229
 4222 00fa 02D1     		bne	.L279
 4223              		.loc 1 2798 29 discriminator 1
 4224 00fc BB68     		ldr	r3, [r7, #8]
 4225 00fe 0522     		movs	r2, #5
 4226 0100 1A70     		strb	r2, [r3]
 4227              	.L279:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 4228              		.loc 1 2799 14
 4229 0102 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4230 0104 202B     		cmp	r3, #32
 4231 0106 01D8     		bhi	.L280
 4232              		.loc 1 2799 14 is_stmt 0 discriminator 1
 4233 0108 0422     		movs	r2, #4
 4234 010a 00E0     		b	.L281
 4235              	.L280:
 4236              		.loc 1 2799 14 discriminator 2
 4237 010c 0022     		movs	r2, #0
 4238              	.L281:
 4239              		.loc 1 2799 5 is_stmt 1 discriminator 4
 4240 010e BB68     		ldr	r3, [r7, #8]
 4241 0110 0B33     		adds	r3, r3, #11
 4242              		.loc 1 2799 14 discriminator 4
 4243 0112 1A70     		strb	r2, [r3]
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 4244              		.loc 1 2801 9 discriminator 4
 4245 0114 0023     		movs	r3, #0
 4246              	.L272:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4247              		.loc 1 2803 1
 4248 0116 1846     		mov	r0, r3
 4249 0118 2037     		adds	r7, r7, #32
 4250              		.cfi_def_cfa_offset 8
 4251 011a BD46     		mov	sp, r7
 4252              		.cfi_def_cfa_register 13
 4253              		@ sp needed
 4254 011c 80BD     		pop	{r7, pc}
 4255              	.L284:
 4256 011e 00BF     		.align	2
 4257              	.L283:
 4258 0120 00000000 		.word	ExCvt
 4259 0124 00000000 		.word	.LC0
 4260              		.cfi_endproc
 4261              	.LFE353:
 4263              		.section	.text.follow_path,"ax",%progbits
 4264              		.align	1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 125


 4265              		.syntax unified
 4266              		.thumb
 4267              		.thumb_func
 4269              	follow_path:
 4270              	.LFB354:
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4271              		.loc 1 2817 1
 4272              		.cfi_startproc
 4273              		@ args = 0, pretend = 0, frame = 24
 4274              		@ frame_needed = 1, uses_anonymous_args = 0
 4275 0000 80B5     		push	{r7, lr}
 4276              		.cfi_def_cfa_offset 8
 4277              		.cfi_offset 7, -8
 4278              		.cfi_offset 14, -4
 4279 0002 86B0     		sub	sp, sp, #24
 4280              		.cfi_def_cfa_offset 32
 4281 0004 00AF     		add	r7, sp, #0
 4282              		.cfi_def_cfa_register 7
 4283 0006 7860     		str	r0, [r7, #4]
 4284 0008 3960     		str	r1, [r7]
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 4285              		.loc 1 2820 9
 4286 000a 7B68     		ldr	r3, [r7, #4]
 4287 000c 3B61     		str	r3, [r7, #16]
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 4288              		.loc 1 2821 9
 4289 000e 3B69     		ldr	r3, [r7, #16]
 4290 0010 1B68     		ldr	r3, [r3]
 4291 0012 FB60     		str	r3, [r7, #12]
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
 4292              		.loc 1 2830 9
 4293 0014 02E0     		b	.L286
 4294              	.L287:
 4295              		.loc 1 2830 45 discriminator 4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 126


 4296 0016 3B68     		ldr	r3, [r7]
 4297 0018 0133     		adds	r3, r3, #1
 4298 001a 3B60     		str	r3, [r7]
 4299              	.L286:
 4300              		.loc 1 2830 10 discriminator 1
 4301 001c 3B68     		ldr	r3, [r7]
 4302 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4303              		.loc 1 2830 23 discriminator 1
 4304 0020 2F2B     		cmp	r3, #47
 4305 0022 F8D0     		beq	.L287
 4306              		.loc 1 2830 26 discriminator 3
 4307 0024 3B68     		ldr	r3, [r7]
 4308 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4309              		.loc 1 2830 23 discriminator 3
 4310 0028 5C2B     		cmp	r3, #92
 4311 002a F4D0     		beq	.L287
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4312              		.loc 1 2831 15
 4313 002c 3B69     		ldr	r3, [r7, #16]
 4314 002e 0022     		movs	r2, #0
 4315 0030 9A60     		str	r2, [r3, #8]
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
 4316              		.loc 1 2850 12
 4317 0032 3B68     		ldr	r3, [r7]
 4318 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4319              		.loc 1 2850 5
 4320 0036 1F2B     		cmp	r3, #31
 4321 0038 0AD8     		bhi	.L288
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4322              		.loc 1 2851 18
 4323 003a 7B68     		ldr	r3, [r7, #4]
 4324 003c 8022     		movs	r2, #128
 4325 003e 83F82F20 		strb	r2, [r3, #47]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4326              		.loc 1 2852 9
 4327 0042 0021     		movs	r1, #0
 4328 0044 7868     		ldr	r0, [r7, #4]
 4329 0046 FFF7FEFF 		bl	dir_sdi
 4330 004a 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 127


 4331 004c FB75     		strb	r3, [r7, #23]
 4332 004e 43E0     		b	.L289
 4333              	.L288:
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4334              		.loc 1 2856 10
 4335 0050 3B46     		mov	r3, r7
 4336 0052 1946     		mov	r1, r3
 4337 0054 7868     		ldr	r0, [r7, #4]
 4338 0056 FFF7FEFF 		bl	create_name
 4339 005a 0346     		mov	r3, r0
 4340 005c FB75     		strb	r3, [r7, #23]
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4341              		.loc 1 2857 7
 4342 005e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4343 0060 002B     		cmp	r3, #0
 4344 0062 34D1     		bne	.L296
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 4345              		.loc 1 2858 10
 4346 0064 7868     		ldr	r0, [r7, #4]
 4347 0066 FFF7FEFF 		bl	dir_find
 4348 006a 0346     		mov	r3, r0
 4349 006c FB75     		strb	r3, [r7, #23]
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4350              		.loc 1 2859 7
 4351 006e 7B68     		ldr	r3, [r7, #4]
 4352 0070 93F82F30 		ldrb	r3, [r3, #47]
 4353 0074 FB72     		strb	r3, [r7, #11]
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4354              		.loc 1 2860 7
 4355 0076 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4356 0078 002B     		cmp	r3, #0
 4357 007a 0AD0     		beq	.L291
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4358              		.loc 1 2861 8
 4359 007c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4360 007e 042B     		cmp	r3, #4
 4361 0080 27D1     		bne	.L297
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
 4362              		.loc 1 2867 16
 4363 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4364 0084 03F00403 		and	r3, r3, #4
 4365              		.loc 1 2867 10
 4366 0088 002B     		cmp	r3, #0
 4367 008a 22D1     		bne	.L297
 4368              		.loc 1 2867 32 discriminator 1
 4369 008c 0523     		movs	r3, #5
 4370 008e FB75     		strb	r3, [r7, #23]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 128


2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4371              		.loc 1 2870 5 discriminator 1
 4372 0090 1FE0     		b	.L297
 4373              	.L291:
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
 4374              		.loc 1 2872 11
 4375 0092 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4376 0094 03F00403 		and	r3, r3, #4
 4377              		.loc 1 2872 7
 4378 0098 002B     		cmp	r3, #0
 4379 009a 1CD1     		bne	.L298
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
 4380              		.loc 1 2874 13
 4381 009c 3B69     		ldr	r3, [r7, #16]
 4382 009e 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 4383              		.loc 1 2874 20
 4384 00a0 03F01003 		and	r3, r3, #16
 4385              		.loc 1 2874 7
 4386 00a4 002B     		cmp	r3, #0
 4387 00a6 02D1     		bne	.L294
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4388              		.loc 1 2875 9
 4389 00a8 0523     		movs	r3, #5
 4390 00aa FB75     		strb	r3, [r7, #23]
 4391              		.loc 1 2875 23
 4392 00ac 14E0     		b	.L289
 4393              	.L294:
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
 4394              		.loc 1 2888 32
 4395 00ae FB68     		ldr	r3, [r7, #12]
 4396 00b0 03F13002 		add	r2, r3, #48
 4397              		.loc 1 2888 44
 4398 00b4 7B68     		ldr	r3, [r7, #4]
 4399 00b6 5B69     		ldr	r3, [r3, #20]
 4400              		.loc 1 2888 51
 4401 00b8 C3F30803 		ubfx	r3, r3, #0, #9
 4402              		.loc 1 2888 19
 4403 00bc 1344     		add	r3, r3, r2
 4404 00be 1946     		mov	r1, r3
 4405 00c0 F868     		ldr	r0, [r7, #12]
 4406 00c2 FFF7FEFF 		bl	ld_clust
 4407 00c6 0246     		mov	r2, r0
 4408              		.loc 1 2888 17
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 129


 4409 00c8 3B69     		ldr	r3, [r7, #16]
 4410 00ca 9A60     		str	r2, [r3, #8]
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4411              		.loc 1 2856 8
 4412 00cc C0E7     		b	.L288
 4413              	.L296:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 4414              		.loc 1 2857 22
 4415 00ce 00BF     		nop
 4416 00d0 02E0     		b	.L289
 4417              	.L297:
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4418              		.loc 1 2870 5
 4419 00d2 00BF     		nop
 4420 00d4 00E0     		b	.L289
 4421              	.L298:
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 4422              		.loc 1 2872 22
 4423 00d6 00BF     		nop
 4424              	.L289:
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4425              		.loc 1 2893 9
 4426 00d8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4427              		.loc 1 2894 1
 4428 00da 1846     		mov	r0, r3
 4429 00dc 1837     		adds	r7, r7, #24
 4430              		.cfi_def_cfa_offset 8
 4431 00de BD46     		mov	sp, r7
 4432              		.cfi_def_cfa_register 13
 4433              		@ sp needed
 4434 00e0 80BD     		pop	{r7, pc}
 4435              		.cfi_endproc
 4436              	.LFE354:
 4438              		.section	.text.get_ldnumber,"ax",%progbits
 4439              		.align	1
 4440              		.syntax unified
 4441              		.thumb
 4442              		.thumb_func
 4444              	get_ldnumber:
 4445              	.LFB355:
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 130


2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4446              		.loc 1 2907 1
 4447              		.cfi_startproc
 4448              		@ args = 0, pretend = 0, frame = 24
 4449              		@ frame_needed = 1, uses_anonymous_args = 0
 4450              		@ link register save eliminated.
 4451 0000 80B4     		push	{r7}
 4452              		.cfi_def_cfa_offset 4
 4453              		.cfi_offset 7, -4
 4454 0002 87B0     		sub	sp, sp, #28
 4455              		.cfi_def_cfa_offset 32
 4456 0004 00AF     		add	r7, sp, #0
 4457              		.cfi_def_cfa_register 7
 4458 0006 7860     		str	r0, [r7, #4]
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 4459              		.loc 1 2910 6
 4460 0008 4FF0FF33 		mov	r3, #-1
 4461 000c 3B61     		str	r3, [r7, #16]
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 4462              		.loc 1 2919 6
 4463 000e 7B68     		ldr	r3, [r7, #4]
 4464 0010 1B68     		ldr	r3, [r3]
 4465              		.loc 1 2919 5
 4466 0012 002B     		cmp	r3, #0
 4467 0014 31D0     		beq	.L300
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 4468              		.loc 1 2920 11
 4469 0016 7B68     		ldr	r3, [r7, #4]
 4470 0018 1B68     		ldr	r3, [r3]
 4471 001a 7B61     		str	r3, [r7, #20]
 4472              		.loc 1 2920 3
 4473 001c 02E0     		b	.L301
 4474              	.L303:
 4475              		.loc 1 2920 73 discriminator 4
 4476 001e 7B69     		ldr	r3, [r7, #20]
 4477 0020 0133     		adds	r3, r3, #1
 4478 0022 7B61     		str	r3, [r7, #20]
 4479              	.L301:
 4480              		.loc 1 2920 26 discriminator 1
 4481 0024 7B69     		ldr	r3, [r7, #20]
 4482 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4483              		.loc 1 2920 56 discriminator 1
 4484 0028 202B     		cmp	r3, #32
 4485 002a 03D9     		bls	.L302
 4486              		.loc 1 2920 59 discriminator 3
 4487 002c 7B69     		ldr	r3, [r7, #20]
 4488 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 131


 4489              		.loc 1 2920 56 discriminator 3
 4490 0030 3A2B     		cmp	r3, #58
 4491 0032 F4D1     		bne	.L303
 4492              	.L302:
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 4493              		.loc 1 2921 7
 4494 0034 7B69     		ldr	r3, [r7, #20]
 4495 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4496              		.loc 1 2921 6
 4497 0038 3A2B     		cmp	r3, #58
 4498 003a 1CD1     		bne	.L304
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 4499              		.loc 1 2922 7
 4500 003c 7B68     		ldr	r3, [r7, #4]
 4501 003e 1B68     		ldr	r3, [r3]
 4502 0040 FB60     		str	r3, [r7, #12]
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
 4503              		.loc 1 2923 11
 4504 0042 FB68     		ldr	r3, [r7, #12]
 4505 0044 5A1C     		adds	r2, r3, #1
 4506 0046 FA60     		str	r2, [r7, #12]
 4507              		.loc 1 2923 8
 4508 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4509              		.loc 1 2923 14
 4510 004a 303B     		subs	r3, r3, #48
 4511              		.loc 1 2923 6
 4512 004c BB60     		str	r3, [r7, #8]
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 4513              		.loc 1 2924 7
 4514 004e BB68     		ldr	r3, [r7, #8]
 4515 0050 092B     		cmp	r3, #9
 4516 0052 0ED8     		bhi	.L305
 4517              		.loc 1 2924 15 discriminator 1
 4518 0054 FA68     		ldr	r2, [r7, #12]
 4519 0056 7B69     		ldr	r3, [r7, #20]
 4520 0058 9A42     		cmp	r2, r3
 4521 005a 0AD1     		bne	.L305
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 4522              		.loc 1 2925 8
 4523 005c BB68     		ldr	r3, [r7, #8]
 4524 005e 002B     		cmp	r3, #0
 4525 0060 07D1     		bne	.L305
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 4526              		.loc 1 2926 10
 4527 0062 BB68     		ldr	r3, [r7, #8]
 4528 0064 3B61     		str	r3, [r7, #16]
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 4529              		.loc 1 2927 12
 4530 0066 7B69     		ldr	r3, [r7, #20]
 4531 0068 0133     		adds	r3, r3, #1
 4532 006a 7B61     		str	r3, [r7, #20]
 4533 006c 7B68     		ldr	r3, [r7, #4]
 4534 006e 7A69     		ldr	r2, [r7, #20]
 4535 0070 1A60     		str	r2, [r3]
 4536              	.L305:
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 132


2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
 4537              		.loc 1 2946 11
 4538 0072 3B69     		ldr	r3, [r7, #16]
 4539 0074 02E0     		b	.L306
 4540              	.L304:
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 4541              		.loc 1 2951 7
 4542 0076 0023     		movs	r3, #0
 4543 0078 3B61     		str	r3, [r7, #16]
 4544              	.L300:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
 4545              		.loc 1 2954 9
 4546 007a 3B69     		ldr	r3, [r7, #16]
 4547              	.L306:
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4548              		.loc 1 2955 1
 4549 007c 1846     		mov	r0, r3
 4550 007e 1C37     		adds	r7, r7, #28
 4551              		.cfi_def_cfa_offset 4
 4552 0080 BD46     		mov	sp, r7
 4553              		.cfi_def_cfa_register 13
 4554              		@ sp needed
 4555 0082 5DF8047B 		ldr	r7, [sp], #4
 4556              		.cfi_restore 7
 4557              		.cfi_def_cfa_offset 0
 4558 0086 7047     		bx	lr
 4559              		.cfi_endproc
 4560              	.LFE355:
 4562              		.section	.text.check_fs,"ax",%progbits
 4563              		.align	1
 4564              		.syntax unified
 4565              		.thumb
 4566              		.thumb_func
 4568              	check_fs:
 4569              	.LFB356:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 133


2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4570              		.loc 1 2969 1
 4571              		.cfi_startproc
 4572              		@ args = 0, pretend = 0, frame = 8
 4573              		@ frame_needed = 1, uses_anonymous_args = 0
 4574 0000 80B5     		push	{r7, lr}
 4575              		.cfi_def_cfa_offset 8
 4576              		.cfi_offset 7, -8
 4577              		.cfi_offset 14, -4
 4578 0002 82B0     		sub	sp, sp, #8
 4579              		.cfi_def_cfa_offset 16
 4580 0004 00AF     		add	r7, sp, #0
 4581              		.cfi_def_cfa_register 7
 4582 0006 7860     		str	r0, [r7, #4]
 4583 0008 3960     		str	r1, [r7]
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 4584              		.loc 1 2970 12
 4585 000a 7B68     		ldr	r3, [r7, #4]
 4586 000c 0022     		movs	r2, #0
 4587 000e DA70     		strb	r2, [r3, #3]
 4588              		.loc 1 2970 29
 4589 0010 7B68     		ldr	r3, [r7, #4]
 4590 0012 4FF0FF32 		mov	r2, #-1
 4591 0016 DA62     		str	r2, [r3, #44]
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 4592              		.loc 1 2971 6
 4593 0018 3968     		ldr	r1, [r7]
 4594 001a 7868     		ldr	r0, [r7, #4]
 4595 001c FFF7FEFF 		bl	move_window
 4596 0020 0346     		mov	r3, r0
 4597              		.loc 1 2971 5
 4598 0022 002B     		cmp	r3, #0
 4599 0024 01D0     		beq	.L308
 4600              		.loc 1 2971 45 discriminator 1
 4601 0026 0423     		movs	r3, #4
 4602 0028 38E0     		b	.L309
 4603              	.L308:
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
 4604              		.loc 1 2973 14
 4605 002a 7B68     		ldr	r3, [r7, #4]
 4606 002c 3033     		adds	r3, r3, #48
 4607              		.loc 1 2973 6
 4608 002e 03F5FF73 		add	r3, r3, #510
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 134


 4609 0032 1846     		mov	r0, r3
 4610 0034 FFF7FEFF 		bl	ld_word
 4611 0038 0346     		mov	r3, r0
 4612 003a 1A46     		mov	r2, r3
 4613              		.loc 1 2973 5
 4614 003c 4AF65523 		movw	r3, #43605
 4615 0040 9A42     		cmp	r2, r3
 4616 0042 01D0     		beq	.L310
 4617              		.loc 1 2973 51 discriminator 1
 4618 0044 0323     		movs	r3, #3
 4619 0046 29E0     		b	.L309
 4620              	.L310:
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
 4621              		.loc 1 2975 13
 4622 0048 7B68     		ldr	r3, [r7, #4]
 4623 004a 93F83030 		ldrb	r3, [r3, #48]	@ zero_extendqisi2
 4624              		.loc 1 2975 5
 4625 004e E92B     		cmp	r3, #233
 4626 0050 09D0     		beq	.L311
 4627              		.loc 1 2975 45 discriminator 1
 4628 0052 7B68     		ldr	r3, [r7, #4]
 4629 0054 93F83030 		ldrb	r3, [r3, #48]	@ zero_extendqisi2
 4630              		.loc 1 2975 34 discriminator 1
 4631 0058 EB2B     		cmp	r3, #235
 4632 005a 1ED1     		bne	.L312
 4633              		.loc 1 2975 76 discriminator 2
 4634 005c 7B68     		ldr	r3, [r7, #4]
 4635 005e 93F83230 		ldrb	r3, [r3, #50]	@ zero_extendqisi2
 4636              		.loc 1 2975 66 discriminator 2
 4637 0062 902B     		cmp	r3, #144
 4638 0064 19D1     		bne	.L312
 4639              	.L311:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 4640              		.loc 1 2976 17
 4641 0066 7B68     		ldr	r3, [r7, #4]
 4642 0068 3033     		adds	r3, r3, #48
 4643              		.loc 1 2976 8
 4644 006a 3633     		adds	r3, r3, #54
 4645 006c 1846     		mov	r0, r3
 4646 006e FFF7FEFF 		bl	ld_dword
 4647 0072 0346     		mov	r3, r0
 4648              		.loc 1 2976 42
 4649 0074 23F07F43 		bic	r3, r3, #-16777216
 4650              		.loc 1 2976 6
 4651 0078 0A4A     		ldr	r2, .L314
 4652 007a 9342     		cmp	r3, r2
 4653 007c 01D1     		bne	.L313
 4654              		.loc 1 2976 74 discriminator 1
 4655 007e 0023     		movs	r3, #0
 4656 0080 0CE0     		b	.L309
 4657              	.L313:
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 4658              		.loc 1 2977 16
 4659 0082 7B68     		ldr	r3, [r7, #4]
 4660 0084 3033     		adds	r3, r3, #48
 4661              		.loc 1 2977 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 135


 4662 0086 5233     		adds	r3, r3, #82
 4663 0088 1846     		mov	r0, r3
 4664 008a FFF7FEFF 		bl	ld_dword
 4665 008e 0346     		mov	r3, r0
 4666              		.loc 1 2977 6
 4667 0090 054A     		ldr	r2, .L314+4
 4668 0092 9342     		cmp	r3, r2
 4669 0094 01D1     		bne	.L312
 4670              		.loc 1 2977 65 discriminator 1
 4671 0096 0023     		movs	r3, #0
 4672 0098 00E0     		b	.L309
 4673              	.L312:
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
 4674              		.loc 1 2982 9
 4675 009a 0223     		movs	r3, #2
 4676              	.L309:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4677              		.loc 1 2983 1
 4678 009c 1846     		mov	r0, r3
 4679 009e 0837     		adds	r7, r7, #8
 4680              		.cfi_def_cfa_offset 8
 4681 00a0 BD46     		mov	sp, r7
 4682              		.cfi_def_cfa_register 13
 4683              		@ sp needed
 4684 00a2 80BD     		pop	{r7, pc}
 4685              	.L315:
 4686              		.align	2
 4687              	.L314:
 4688 00a4 46415400 		.word	5521734
 4689 00a8 46415433 		.word	861159750
 4690              		.cfi_endproc
 4691              	.LFE356:
 4693              		.section	.text.find_volume,"ax",%progbits
 4694              		.align	1
 4695              		.syntax unified
 4696              		.thumb
 4697              		.thumb_func
 4699              	find_volume:
 4700              	.LFB357:
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 136


2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4701              		.loc 1 2998 1
 4702              		.cfi_startproc
 4703              		@ args = 0, pretend = 0, frame = 88
 4704              		@ frame_needed = 1, uses_anonymous_args = 0
 4705 0000 80B5     		push	{r7, lr}
 4706              		.cfi_def_cfa_offset 8
 4707              		.cfi_offset 7, -8
 4708              		.cfi_offset 14, -4
 4709 0002 96B0     		sub	sp, sp, #88
 4710              		.cfi_def_cfa_offset 96
 4711 0004 00AF     		add	r7, sp, #0
 4712              		.cfi_def_cfa_register 7
 4713 0006 F860     		str	r0, [r7, #12]
 4714 0008 B960     		str	r1, [r7, #8]
 4715 000a 1346     		mov	r3, r2
 4716 000c FB71     		strb	r3, [r7, #7]
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
 4717              		.loc 1 3009 7
 4718 000e BB68     		ldr	r3, [r7, #8]
 4719 0010 0022     		movs	r2, #0
 4720 0012 1A60     		str	r2, [r3]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 4721              		.loc 1 3010 8
 4722 0014 F868     		ldr	r0, [r7, #12]
 4723 0016 FFF7FEFF 		bl	get_ldnumber
 4724 001a F863     		str	r0, [r7, #60]
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 4725              		.loc 1 3011 5
 4726 001c FB6B     		ldr	r3, [r7, #60]
 4727 001e 002B     		cmp	r3, #0
 4728 0020 01DA     		bge	.L317
 4729              		.loc 1 3011 22 discriminator 1
 4730 0022 0B23     		movs	r3, #11
 4731 0024 2DE2     		b	.L356
 4732              	.L317:
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
 4733              		.loc 1 3014 5
 4734 0026 A14A     		ldr	r2, .L357
 4735 0028 FB6B     		ldr	r3, [r7, #60]
 4736 002a 52F82330 		ldr	r3, [r2, r3, lsl #2]
 4737 002e BB63     		str	r3, [r7, #56]
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 4738              		.loc 1 3015 5
 4739 0030 BB6B     		ldr	r3, [r7, #56]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 137


 4740 0032 002B     		cmp	r3, #0
 4741 0034 01D1     		bne	.L319
 4742              		.loc 1 3015 18 discriminator 1
 4743 0036 0C23     		movs	r3, #12
 4744 0038 23E2     		b	.L356
 4745              	.L319:
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 4746              		.loc 1 3018 7
 4747 003a BB68     		ldr	r3, [r7, #8]
 4748 003c BA6B     		ldr	r2, [r7, #56]
 4749 003e 1A60     		str	r2, [r3]
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
 4750              		.loc 1 3020 7
 4751 0040 FB79     		ldrb	r3, [r7, #7]
 4752 0042 23F00103 		bic	r3, r3, #1
 4753 0046 FB71     		strb	r3, [r7, #7]
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 4754              		.loc 1 3021 8
 4755 0048 BB6B     		ldr	r3, [r7, #56]
 4756 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4757              		.loc 1 3021 5
 4758 004c 002B     		cmp	r3, #0
 4759 004e 1AD0     		beq	.L320
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 4760              		.loc 1 3022 10
 4761 0050 BB6B     		ldr	r3, [r7, #56]
 4762 0052 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4763 0054 1846     		mov	r0, r3
 4764 0056 FFF7FEFF 		bl	disk_status
 4765 005a 0346     		mov	r3, r0
 4766 005c 87F83730 		strb	r3, [r7, #55]
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 4767              		.loc 1 3023 14
 4768 0060 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 4769 0064 03F00103 		and	r3, r3, #1
 4770              		.loc 1 3023 6
 4771 0068 002B     		cmp	r3, #0
 4772 006a 0CD1     		bne	.L320
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 4773              		.loc 1 3024 7
 4774 006c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 4775 006e 002B     		cmp	r3, #0
 4776 0070 07D0     		beq	.L321
 4777              		.loc 1 3024 39 discriminator 1
 4778 0072 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 4779 0076 03F00403 		and	r3, r3, #4
 4780              		.loc 1 3024 30 discriminator 1
 4781 007a 002B     		cmp	r3, #0
 4782 007c 01D0     		beq	.L321
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 4783              		.loc 1 3025 12
 4784 007e 0A23     		movs	r3, #10
 4785 0080 FFE1     		b	.L356
 4786              	.L321:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 138


3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 4787              		.loc 1 3027 11
 4788 0082 0023     		movs	r3, #0
 4789 0084 FDE1     		b	.L356
 4790              	.L320:
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
 4791              		.loc 1 3034 14
 4792 0086 BB6B     		ldr	r3, [r7, #56]
 4793 0088 0022     		movs	r2, #0
 4794 008a 1A70     		strb	r2, [r3]
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 4795              		.loc 1 3035 12
 4796 008c FB6B     		ldr	r3, [r7, #60]
 4797 008e DAB2     		uxtb	r2, r3
 4798              		.loc 1 3035 10
 4799 0090 BB6B     		ldr	r3, [r7, #56]
 4800 0092 5A70     		strb	r2, [r3, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 4801              		.loc 1 3036 9
 4802 0094 BB6B     		ldr	r3, [r7, #56]
 4803 0096 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4804 0098 1846     		mov	r0, r3
 4805 009a FFF7FEFF 		bl	disk_initialize
 4806 009e 0346     		mov	r3, r0
 4807 00a0 87F83730 		strb	r3, [r7, #55]
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 4808              		.loc 1 3037 11
 4809 00a4 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 4810 00a8 03F00103 		and	r3, r3, #1
 4811              		.loc 1 3037 5
 4812 00ac 002B     		cmp	r3, #0
 4813 00ae 01D0     		beq	.L322
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 4814              		.loc 1 3038 10
 4815 00b0 0323     		movs	r3, #3
 4816 00b2 E6E1     		b	.L356
 4817              	.L322:
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
 4818              		.loc 1 3040 5
 4819 00b4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 4820 00b6 002B     		cmp	r3, #0
 4821 00b8 07D0     		beq	.L323
 4822              		.loc 1 3040 37 discriminator 1
 4823 00ba 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 4824 00be 03F00403 		and	r3, r3, #4
 4825              		.loc 1 3040 28 discriminator 1
 4826 00c2 002B     		cmp	r3, #0
 4827 00c4 01D0     		beq	.L323
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 139


 4828              		.loc 1 3041 10
 4829 00c6 0A23     		movs	r3, #10
 4830 00c8 DBE1     		b	.L356
 4831              	.L323:
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
 4832              		.loc 1 3049 8
 4833 00ca 0023     		movs	r3, #0
 4834 00cc 3B65     		str	r3, [r7, #80]
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 4835              		.loc 1 3050 8
 4836 00ce 396D     		ldr	r1, [r7, #80]
 4837 00d0 B86B     		ldr	r0, [r7, #56]
 4838 00d2 FFF7FEFF 		bl	check_fs
 4839 00d6 0346     		mov	r3, r0
 4840 00d8 87F85730 		strb	r3, [r7, #87]
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 4841              		.loc 1 3051 5
 4842 00dc 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 4843 00e0 022B     		cmp	r3, #2
 4844 00e2 49D1     		bne	.L324
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 4845              		.loc 1 3052 10
 4846 00e4 0023     		movs	r3, #0
 4847 00e6 3B64     		str	r3, [r7, #64]
 4848              		.loc 1 3052 3
 4849 00e8 1EE0     		b	.L325
 4850              	.L328:
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 4851              		.loc 1 3053 9
 4852 00ea BB6B     		ldr	r3, [r7, #56]
 4853 00ec 03F13002 		add	r2, r3, #48
 4854              		.loc 1 3053 34
 4855 00f0 3B6C     		ldr	r3, [r7, #64]
 4856 00f2 1B01     		lsls	r3, r3, #4
 4857              		.loc 1 3053 30
 4858 00f4 03F5DF73 		add	r3, r3, #446
 4859              		.loc 1 3053 7
 4860 00f8 1344     		add	r3, r3, r2
 4861 00fa 3B63     		str	r3, [r7, #48]
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 4862              		.loc 1 3054 14
 4863 00fc 3B6B     		ldr	r3, [r7, #48]
 4864 00fe 0433     		adds	r3, r3, #4
 4865 0100 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4866              		.loc 1 3054 54
 4867 0102 002B     		cmp	r3, #0
 4868 0104 06D0     		beq	.L326
 4869              		.loc 1 3054 41 discriminator 1
 4870 0106 3B6B     		ldr	r3, [r7, #48]
 4871 0108 0833     		adds	r3, r3, #8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 140


 4872              		.loc 1 3054 29 discriminator 1
 4873 010a 1846     		mov	r0, r3
 4874 010c FFF7FEFF 		bl	ld_dword
 4875 0110 0246     		mov	r2, r0
 4876 0112 00E0     		b	.L327
 4877              	.L326:
 4878              		.loc 1 3054 54 discriminator 2
 4879 0114 0022     		movs	r2, #0
 4880              	.L327:
 4881              		.loc 1 3054 10 discriminator 4
 4882 0116 3B6C     		ldr	r3, [r7, #64]
 4883 0118 9B00     		lsls	r3, r3, #2
 4884 011a 5833     		adds	r3, r3, #88
 4885 011c 3B44     		add	r3, r3, r7
 4886 011e 43F8442C 		str	r2, [r3, #-68]
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 4887              		.loc 1 3052 23 discriminator 4
 4888 0122 3B6C     		ldr	r3, [r7, #64]
 4889 0124 0133     		adds	r3, r3, #1
 4890 0126 3B64     		str	r3, [r7, #64]
 4891              	.L325:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 4892              		.loc 1 3052 17 discriminator 2
 4893 0128 3B6C     		ldr	r3, [r7, #64]
 4894 012a 032B     		cmp	r3, #3
 4895 012c DDD9     		bls	.L328
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
 4896              		.loc 1 3056 5
 4897 012e 0023     		movs	r3, #0
 4898 0130 3B64     		str	r3, [r7, #64]
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
 4899              		.loc 1 3057 6
 4900 0132 3B6C     		ldr	r3, [r7, #64]
 4901 0134 002B     		cmp	r3, #0
 4902 0136 02D0     		beq	.L332
 4903              		.loc 1 3057 11 discriminator 1
 4904 0138 3B6C     		ldr	r3, [r7, #64]
 4905 013a 013B     		subs	r3, r3, #1
 4906 013c 3B64     		str	r3, [r7, #64]
 4907              	.L332:
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 4908              		.loc 1 3059 10
 4909 013e 3B6C     		ldr	r3, [r7, #64]
 4910 0140 9B00     		lsls	r3, r3, #2
 4911 0142 5833     		adds	r3, r3, #88
 4912 0144 3B44     		add	r3, r3, r7
 4913 0146 53F8443C 		ldr	r3, [r3, #-68]
 4914 014a 3B65     		str	r3, [r7, #80]
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 4915              		.loc 1 3060 8
 4916 014c 3B6D     		ldr	r3, [r7, #80]
 4917 014e 002B     		cmp	r3, #0
 4918 0150 05D0     		beq	.L330
 4919              		.loc 1 3060 18 discriminator 1
 4920 0152 396D     		ldr	r1, [r7, #80]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 141


 4921 0154 B86B     		ldr	r0, [r7, #56]
 4922 0156 FFF7FEFF 		bl	check_fs
 4923 015a 0346     		mov	r3, r0
 4924 015c 00E0     		b	.L331
 4925              	.L330:
 4926              		.loc 1 3060 8 discriminator 2
 4927 015e 0323     		movs	r3, #3
 4928              	.L331:
 4929              		.loc 1 3060 8 is_stmt 0 discriminator 4
 4930 0160 87F85730 		strb	r3, [r7, #87]
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 4931              		.loc 1 3061 40 is_stmt 1 discriminator 4
 4932 0164 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 4933 0168 012B     		cmp	r3, #1
 4934 016a 05D9     		bls	.L324
 4935              		.loc 1 3061 40 is_stmt 0 discriminator 1
 4936 016c 3B6C     		ldr	r3, [r7, #64]
 4937 016e 0133     		adds	r3, r3, #1
 4938 0170 3B64     		str	r3, [r7, #64]
 4939 0172 3B6C     		ldr	r3, [r7, #64]
 4940 0174 032B     		cmp	r3, #3
 4941 0176 E2D9     		bls	.L332
 4942              	.L324:
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
 4943              		.loc 1 3063 5 is_stmt 1
 4944 0178 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 4945 017c 042B     		cmp	r3, #4
 4946 017e 01D1     		bne	.L333
 4947              		.loc 1 3063 23 discriminator 1
 4948 0180 0123     		movs	r3, #1
 4949 0182 7EE1     		b	.L356
 4950              	.L333:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 4951              		.loc 1 3064 5
 4952 0184 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 4953 0188 012B     		cmp	r3, #1
 4954 018a 01D9     		bls	.L334
 4955              		.loc 1 3064 23 discriminator 1
 4956 018c 0D23     		movs	r3, #13
 4957 018e 78E1     		b	.L356
 4958              	.L334:
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 142


3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
 4959              		.loc 1 3116 15
 4960 0190 BB6B     		ldr	r3, [r7, #56]
 4961 0192 3033     		adds	r3, r3, #48
 4962              		.loc 1 3116 7
 4963 0194 0B33     		adds	r3, r3, #11
 4964 0196 1846     		mov	r0, r3
 4965 0198 FFF7FEFF 		bl	ld_word
 4966 019c 0346     		mov	r3, r0
 4967              		.loc 1 3116 6
 4968 019e B3F5007F 		cmp	r3, #512
 4969 01a2 01D0     		beq	.L335
 4970              		.loc 1 3116 59 discriminator 1
 4971 01a4 0D23     		movs	r3, #13
 4972 01a6 6CE1     		b	.L356
 4973              	.L335:
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
 4974              		.loc 1 3118 20
 4975 01a8 BB6B     		ldr	r3, [r7, #56]
 4976 01aa 3033     		adds	r3, r3, #48
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 143


 4977              		.loc 1 3118 12
 4978 01ac 1633     		adds	r3, r3, #22
 4979 01ae 1846     		mov	r0, r3
 4980 01b0 FFF7FEFF 		bl	ld_word
 4981 01b4 0346     		mov	r3, r0
 4982              		.loc 1 3118 10
 4983 01b6 FB64     		str	r3, [r7, #76]
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 4984              		.loc 1 3119 6
 4985 01b8 FB6C     		ldr	r3, [r7, #76]
 4986 01ba 002B     		cmp	r3, #0
 4987 01bc 06D1     		bne	.L336
 4988              		.loc 1 3119 38 discriminator 1
 4989 01be BB6B     		ldr	r3, [r7, #56]
 4990 01c0 3033     		adds	r3, r3, #48
 4991              		.loc 1 3119 29 discriminator 1
 4992 01c2 2433     		adds	r3, r3, #36
 4993 01c4 1846     		mov	r0, r3
 4994 01c6 FFF7FEFF 		bl	ld_dword
 4995 01ca F864     		str	r0, [r7, #76]
 4996              	.L336:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 4997              		.loc 1 3120 13
 4998 01cc BB6B     		ldr	r3, [r7, #56]
 4999 01ce FA6C     		ldr	r2, [r7, #76]
 5000 01d0 9A61     		str	r2, [r3, #24]
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
 5001              		.loc 1 3122 23
 5002 01d2 BB6B     		ldr	r3, [r7, #56]
 5003 01d4 93F84020 		ldrb	r2, [r3, #64]	@ zero_extendqisi2
 5004              		.loc 1 3122 14
 5005 01d8 BB6B     		ldr	r3, [r7, #56]
 5006 01da 9A70     		strb	r2, [r3, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 5007              		.loc 1 3123 9
 5008 01dc BB6B     		ldr	r3, [r7, #56]
 5009 01de 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 5010              		.loc 1 3123 6
 5011 01e0 012B     		cmp	r3, #1
 5012 01e2 05D0     		beq	.L337
 5013              		.loc 1 3123 28 discriminator 1
 5014 01e4 BB6B     		ldr	r3, [r7, #56]
 5015 01e6 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 5016              		.loc 1 3123 23 discriminator 1
 5017 01e8 022B     		cmp	r3, #2
 5018 01ea 01D0     		beq	.L337
 5019              		.loc 1 3123 50 discriminator 2
 5020 01ec 0D23     		movs	r3, #13
 5021 01ee 48E1     		b	.L356
 5022              	.L337:
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 5023              		.loc 1 3124 15
 5024 01f0 BB6B     		ldr	r3, [r7, #56]
 5025 01f2 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 5026 01f4 1A46     		mov	r2, r3
 5027              		.loc 1 3124 10
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 144


 5028 01f6 FB6C     		ldr	r3, [r7, #76]
 5029 01f8 02FB03F3 		mul	r3, r2, r3
 5030 01fc FB64     		str	r3, [r7, #76]
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
 5031              		.loc 1 3126 22
 5032 01fe BB6B     		ldr	r3, [r7, #56]
 5033 0200 93F83D30 		ldrb	r3, [r3, #61]	@ zero_extendqisi2
 5034 0204 9AB2     		uxth	r2, r3
 5035              		.loc 1 3126 13
 5036 0206 BB6B     		ldr	r3, [r7, #56]
 5037 0208 5A81     		strh	r2, [r3, #10]	@ movhi
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 5038              		.loc 1 3127 9
 5039 020a BB6B     		ldr	r3, [r7, #56]
 5040 020c 5B89     		ldrh	r3, [r3, #10]
 5041              		.loc 1 3127 6
 5042 020e 002B     		cmp	r3, #0
 5043 0210 08D0     		beq	.L338
 5044              		.loc 1 3127 28 discriminator 2
 5045 0212 BB6B     		ldr	r3, [r7, #56]
 5046 0214 5B89     		ldrh	r3, [r3, #10]
 5047 0216 1A46     		mov	r2, r3
 5048              		.loc 1 3127 41 discriminator 2
 5049 0218 BB6B     		ldr	r3, [r7, #56]
 5050 021a 5B89     		ldrh	r3, [r3, #10]
 5051              		.loc 1 3127 49 discriminator 2
 5052 021c 013B     		subs	r3, r3, #1
 5053              		.loc 1 3127 36 discriminator 2
 5054 021e 1340     		ands	r3, r3, r2
 5055              		.loc 1 3127 22 discriminator 2
 5056 0220 002B     		cmp	r3, #0
 5057 0222 01D0     		beq	.L339
 5058              	.L338:
 5059              		.loc 1 3127 63 discriminator 3
 5060 0224 0D23     		movs	r3, #13
 5061 0226 2CE1     		b	.L356
 5062              	.L339:
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
 5063              		.loc 1 3129 27
 5064 0228 BB6B     		ldr	r3, [r7, #56]
 5065 022a 3033     		adds	r3, r3, #48
 5066              		.loc 1 3129 19
 5067 022c 1133     		adds	r3, r3, #17
 5068 022e 1846     		mov	r0, r3
 5069 0230 FFF7FEFF 		bl	ld_word
 5070 0234 0346     		mov	r3, r0
 5071 0236 1A46     		mov	r2, r3
 5072              		.loc 1 3129 17
 5073 0238 BB6B     		ldr	r3, [r7, #56]
 5074 023a 1A81     		strh	r2, [r3, #8]	@ movhi
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 5075              		.loc 1 3130 9
 5076 023c BB6B     		ldr	r3, [r7, #56]
 5077 023e 1B89     		ldrh	r3, [r3, #8]
 5078              		.loc 1 3130 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 145


 5079 0240 03F00F03 		and	r3, r3, #15
 5080 0244 9BB2     		uxth	r3, r3
 5081              		.loc 1 3130 6
 5082 0246 002B     		cmp	r3, #0
 5083 0248 01D0     		beq	.L340
 5084              		.loc 1 3130 49 discriminator 1
 5085 024a 0D23     		movs	r3, #13
 5086 024c 19E1     		b	.L356
 5087              	.L340:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
 5088              		.loc 1 3132 19
 5089 024e BB6B     		ldr	r3, [r7, #56]
 5090 0250 3033     		adds	r3, r3, #48
 5091              		.loc 1 3132 11
 5092 0252 1333     		adds	r3, r3, #19
 5093 0254 1846     		mov	r0, r3
 5094 0256 FFF7FEFF 		bl	ld_word
 5095 025a 0346     		mov	r3, r0
 5096              		.loc 1 3132 9
 5097 025c BB64     		str	r3, [r7, #72]
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 5098              		.loc 1 3133 6
 5099 025e BB6C     		ldr	r3, [r7, #72]
 5100 0260 002B     		cmp	r3, #0
 5101 0262 06D1     		bne	.L341
 5102              		.loc 1 3133 36 discriminator 1
 5103 0264 BB6B     		ldr	r3, [r7, #56]
 5104 0266 3033     		adds	r3, r3, #48
 5105              		.loc 1 3133 27 discriminator 1
 5106 0268 2033     		adds	r3, r3, #32
 5107 026a 1846     		mov	r0, r3
 5108 026c FFF7FEFF 		bl	ld_dword
 5109 0270 B864     		str	r0, [r7, #72]
 5110              	.L341:
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
 5111              		.loc 1 3135 18
 5112 0272 BB6B     		ldr	r3, [r7, #56]
 5113 0274 3033     		adds	r3, r3, #48
 5114              		.loc 1 3135 10
 5115 0276 0E33     		adds	r3, r3, #14
 5116 0278 1846     		mov	r0, r3
 5117 027a FFF7FEFF 		bl	ld_word
 5118 027e 0346     		mov	r3, r0
 5119 0280 FB85     		strh	r3, [r7, #46]	@ movhi
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 5120              		.loc 1 3136 6
 5121 0282 FB8D     		ldrh	r3, [r7, #46]
 5122 0284 002B     		cmp	r3, #0
 5123 0286 01D1     		bne	.L342
 5124              		.loc 1 3136 25 discriminator 1
 5125 0288 0D23     		movs	r3, #13
 5126 028a FAE0     		b	.L356
 5127              	.L342:
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 146


3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
 5128              		.loc 1 3139 17
 5129 028c FA8D     		ldrh	r2, [r7, #46]
 5130 028e FB6C     		ldr	r3, [r7, #76]
 5131 0290 1344     		add	r3, r3, r2
 5132              		.loc 1 3139 30
 5133 0292 BA6B     		ldr	r2, [r7, #56]
 5134 0294 1289     		ldrh	r2, [r2, #8]
 5135              		.loc 1 3139 42
 5136 0296 1209     		lsrs	r2, r2, #4
 5137 0298 92B2     		uxth	r2, r2
 5138              		.loc 1 3139 10
 5139 029a 1344     		add	r3, r3, r2
 5140 029c BB62     		str	r3, [r7, #40]
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 5141              		.loc 1 3140 6
 5142 029e BA6C     		ldr	r2, [r7, #72]
 5143 02a0 BB6A     		ldr	r3, [r7, #40]
 5144 02a2 9A42     		cmp	r2, r3
 5145 02a4 04D2     		bcs	.L343
 5146              		.loc 1 3140 30 discriminator 1
 5147 02a6 0D23     		movs	r3, #13
 5148 02a8 EBE0     		b	.L356
 5149              	.L358:
 5150 02aa 00BF     		.align	2
 5151              	.L357:
 5152 02ac 00000000 		.word	FatFs
 5153              	.L343:
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 5154              		.loc 1 3141 18
 5155 02b0 BA6C     		ldr	r2, [r7, #72]
 5156 02b2 BB6A     		ldr	r3, [r7, #40]
 5157 02b4 D31A     		subs	r3, r2, r3
 5158              		.loc 1 3141 32
 5159 02b6 BA6B     		ldr	r2, [r7, #56]
 5160 02b8 5289     		ldrh	r2, [r2, #10]
 5161              		.loc 1 3141 9
 5162 02ba B3FBF2F3 		udiv	r3, r3, r2
 5163 02be 7B62     		str	r3, [r7, #36]
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 5164              		.loc 1 3142 6
 5165 02c0 7B6A     		ldr	r3, [r7, #36]
 5166 02c2 002B     		cmp	r3, #0
 5167 02c4 01D1     		bne	.L344
 5168              		.loc 1 3142 26 discriminator 1
 5169 02c6 0D23     		movs	r3, #13
 5170 02c8 DBE0     		b	.L356
 5171              	.L344:
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 5172              		.loc 1 3143 7
 5173 02ca 0323     		movs	r3, #3
 5174 02cc 87F85730 		strb	r3, [r7, #87]
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 5175              		.loc 1 3144 6
 5176 02d0 7B6A     		ldr	r3, [r7, #36]
 5177 02d2 4FF6F572 		movw	r2, #65525
 5178 02d6 9342     		cmp	r3, r2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 147


 5179 02d8 02D8     		bhi	.L345
 5180              		.loc 1 3144 31 discriminator 1
 5181 02da 0223     		movs	r3, #2
 5182 02dc 87F85730 		strb	r3, [r7, #87]
 5183              	.L345:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 5184              		.loc 1 3145 6
 5185 02e0 7B6A     		ldr	r3, [r7, #36]
 5186 02e2 40F6F572 		movw	r2, #4085
 5187 02e6 9342     		cmp	r3, r2
 5188 02e8 02D8     		bhi	.L346
 5189              		.loc 1 3145 31 discriminator 1
 5190 02ea 0123     		movs	r3, #1
 5191 02ec 87F85730 		strb	r3, [r7, #87]
 5192              	.L346:
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
 5193              		.loc 1 3148 24
 5194 02f0 7B6A     		ldr	r3, [r7, #36]
 5195 02f2 9A1C     		adds	r2, r3, #2
 5196              		.loc 1 3148 16
 5197 02f4 BB6B     		ldr	r3, [r7, #56]
 5198 02f6 5A61     		str	r2, [r3, #20]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 5199              		.loc 1 3149 15
 5200 02f8 BB6B     		ldr	r3, [r7, #56]
 5201 02fa 3A6D     		ldr	r2, [r7, #80]
 5202 02fc DA61     		str	r2, [r3, #28]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 5203              		.loc 1 3150 23
 5204 02fe FA8D     		ldrh	r2, [r7, #46]
 5205 0300 3B6D     		ldr	r3, [r7, #80]
 5206 0302 1A44     		add	r2, r2, r3
 5207              		.loc 1 3150 15
 5208 0304 BB6B     		ldr	r3, [r7, #56]
 5209 0306 1A62     		str	r2, [r3, #32]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 5210              		.loc 1 3151 24
 5211 0308 3A6D     		ldr	r2, [r7, #80]
 5212 030a BB6A     		ldr	r3, [r7, #40]
 5213 030c 1A44     		add	r2, r2, r3
 5214              		.loc 1 3151 16
 5215 030e BB6B     		ldr	r3, [r7, #56]
 5216 0310 9A62     		str	r2, [r3, #40]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 5217              		.loc 1 3152 6
 5218 0312 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 5219 0316 032B     		cmp	r3, #3
 5220 0318 1ED1     		bne	.L347
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 5221              		.loc 1 3153 16
 5222 031a BB6B     		ldr	r3, [r7, #56]
 5223 031c 3033     		adds	r3, r3, #48
 5224              		.loc 1 3153 8
 5225 031e 2A33     		adds	r3, r3, #42
 5226 0320 1846     		mov	r0, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 148


 5227 0322 FFF7FEFF 		bl	ld_word
 5228 0326 0346     		mov	r3, r0
 5229              		.loc 1 3153 7
 5230 0328 002B     		cmp	r3, #0
 5231 032a 01D0     		beq	.L348
 5232              		.loc 1 3153 52 discriminator 1
 5233 032c 0D23     		movs	r3, #13
 5234 032e A8E0     		b	.L356
 5235              	.L348:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 5236              		.loc 1 3154 10
 5237 0330 BB6B     		ldr	r3, [r7, #56]
 5238 0332 1B89     		ldrh	r3, [r3, #8]
 5239              		.loc 1 3154 7
 5240 0334 002B     		cmp	r3, #0
 5241 0336 01D0     		beq	.L349
 5242              		.loc 1 3154 30 discriminator 1
 5243 0338 0D23     		movs	r3, #13
 5244 033a A2E0     		b	.L356
 5245              	.L349:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 5246              		.loc 1 3155 27
 5247 033c BB6B     		ldr	r3, [r7, #56]
 5248 033e 3033     		adds	r3, r3, #48
 5249              		.loc 1 3155 18
 5250 0340 2C33     		adds	r3, r3, #44
 5251 0342 1846     		mov	r0, r3
 5252 0344 FFF7FEFF 		bl	ld_dword
 5253 0348 0246     		mov	r2, r0
 5254              		.loc 1 3155 16
 5255 034a BB6B     		ldr	r3, [r7, #56]
 5256 034c 5A62     		str	r2, [r3, #36]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 5257              		.loc 1 3156 15
 5258 034e BB6B     		ldr	r3, [r7, #56]
 5259 0350 5B69     		ldr	r3, [r3, #20]
 5260              		.loc 1 3156 11
 5261 0352 9B00     		lsls	r3, r3, #2
 5262 0354 7B64     		str	r3, [r7, #68]
 5263 0356 1FE0     		b	.L350
 5264              	.L347:
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
 5265              		.loc 1 3158 10
 5266 0358 BB6B     		ldr	r3, [r7, #56]
 5267 035a 1B89     		ldrh	r3, [r3, #8]
 5268              		.loc 1 3158 7
 5269 035c 002B     		cmp	r3, #0
 5270 035e 01D1     		bne	.L351
 5271              		.loc 1 3158 35 discriminator 1
 5272 0360 0D23     		movs	r3, #13
 5273 0362 8EE0     		b	.L356
 5274              	.L351:
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 5275              		.loc 1 3159 20
 5276 0364 BB6B     		ldr	r3, [r7, #56]
 5277 0366 1A6A     		ldr	r2, [r3, #32]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 149


 5278              		.loc 1 3159 30
 5279 0368 FB6C     		ldr	r3, [r7, #76]
 5280 036a 1A44     		add	r2, r2, r3
 5281              		.loc 1 3159 16
 5282 036c BB6B     		ldr	r3, [r7, #56]
 5283 036e 5A62     		str	r2, [r3, #36]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 5284              		.loc 1 3161 22
 5285 0370 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 5286 0374 022B     		cmp	r3, #2
 5287 0376 03D1     		bne	.L352
 5288              		.loc 1 3161 7 discriminator 1
 5289 0378 BB6B     		ldr	r3, [r7, #56]
 5290 037a 5B69     		ldr	r3, [r3, #20]
 5291              		.loc 1 3161 22 discriminator 1
 5292 037c 5B00     		lsls	r3, r3, #1
 5293 037e 0AE0     		b	.L353
 5294              	.L352:
 5295              		.loc 1 3161 26 discriminator 2
 5296 0380 BB6B     		ldr	r3, [r7, #56]
 5297 0382 5A69     		ldr	r2, [r3, #20]
 5298              		.loc 1 3161 37 discriminator 2
 5299 0384 1346     		mov	r3, r2
 5300 0386 5B00     		lsls	r3, r3, #1
 5301 0388 1344     		add	r3, r3, r2
 5302              		.loc 1 3161 41 discriminator 2
 5303 038a 5A08     		lsrs	r2, r3, #1
 5304              		.loc 1 3161 50 discriminator 2
 5305 038c BB6B     		ldr	r3, [r7, #56]
 5306 038e 5B69     		ldr	r3, [r3, #20]
 5307              		.loc 1 3161 61 discriminator 2
 5308 0390 03F00103 		and	r3, r3, #1
 5309              		.loc 1 3161 22 discriminator 2
 5310 0394 1344     		add	r3, r3, r2
 5311              	.L353:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 5312              		.loc 1 3160 11
 5313 0396 7B64     		str	r3, [r7, #68]
 5314              	.L350:
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
 5315              		.loc 1 3163 9
 5316 0398 BB6B     		ldr	r3, [r7, #56]
 5317 039a 9A69     		ldr	r2, [r3, #24]
 5318              		.loc 1 3163 27
 5319 039c 7B6C     		ldr	r3, [r7, #68]
 5320 039e 03F2FF13 		addw	r3, r3, #511
 5321              		.loc 1 3163 43
 5322 03a2 5B0A     		lsrs	r3, r3, #9
 5323              		.loc 1 3163 6
 5324 03a4 9A42     		cmp	r2, r3
 5325 03a6 01D2     		bcs	.L354
 5326              		.loc 1 3163 60 discriminator 1
 5327 03a8 0D23     		movs	r3, #13
 5328 03aa 6AE0     		b	.L356
 5329              	.L354:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 150


3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
 5330              		.loc 1 3167 33
 5331 03ac BB6B     		ldr	r3, [r7, #56]
 5332 03ae 4FF0FF32 		mov	r2, #-1
 5333 03b2 1A61     		str	r2, [r3, #16]
 5334              		.loc 1 3167 21
 5335 03b4 BB6B     		ldr	r3, [r7, #56]
 5336 03b6 1A69     		ldr	r2, [r3, #16]
 5337              		.loc 1 3167 17
 5338 03b8 BB6B     		ldr	r3, [r7, #56]
 5339 03ba DA60     		str	r2, [r3, #12]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 5340              		.loc 1 3168 16
 5341 03bc BB6B     		ldr	r3, [r7, #56]
 5342 03be 8022     		movs	r2, #128
 5343 03c0 1A71     		strb	r2, [r3, #4]
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
 5344              		.loc 1 3170 6
 5345 03c2 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 5346 03c6 032B     		cmp	r3, #3
 5347 03c8 49D1     		bne	.L355
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 5348              		.loc 1 3171 15
 5349 03ca BB6B     		ldr	r3, [r7, #56]
 5350 03cc 3033     		adds	r3, r3, #48
 5351              		.loc 1 3171 7
 5352 03ce 3033     		adds	r3, r3, #48
 5353 03d0 1846     		mov	r0, r3
 5354 03d2 FFF7FEFF 		bl	ld_word
 5355 03d6 0346     		mov	r3, r0
 5356              		.loc 1 3171 4
 5357 03d8 012B     		cmp	r3, #1
 5358 03da 40D1     		bne	.L355
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 5359              		.loc 1 3172 7
 5360 03dc 3B6D     		ldr	r3, [r7, #80]
 5361 03de 0133     		adds	r3, r3, #1
 5362 03e0 1946     		mov	r1, r3
 5363 03e2 B86B     		ldr	r0, [r7, #56]
 5364 03e4 FFF7FEFF 		bl	move_window
 5365 03e8 0346     		mov	r3, r0
 5366              		.loc 1 3172 4
 5367 03ea 002B     		cmp	r3, #0
 5368 03ec 37D1     		bne	.L355
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 5369              		.loc 1 3174 17
 5370 03ee BB6B     		ldr	r3, [r7, #56]
 5371 03f0 0022     		movs	r2, #0
 5372 03f2 1A71     		strb	r2, [r3, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 5373              		.loc 1 3175 16
 5374 03f4 BB6B     		ldr	r3, [r7, #56]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 151


 5375 03f6 3033     		adds	r3, r3, #48
 5376              		.loc 1 3175 8
 5377 03f8 03F5FF73 		add	r3, r3, #510
 5378 03fc 1846     		mov	r0, r3
 5379 03fe FFF7FEFF 		bl	ld_word
 5380 0402 0346     		mov	r3, r0
 5381 0404 1A46     		mov	r2, r3
 5382              		.loc 1 3175 7
 5383 0406 4AF65523 		movw	r3, #43605
 5384 040a 9A42     		cmp	r2, r3
 5385 040c 27D1     		bne	.L355
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 5386              		.loc 1 3176 17
 5387 040e BB6B     		ldr	r3, [r7, #56]
 5388 0410 3033     		adds	r3, r3, #48
 5389              		.loc 1 3176 8
 5390 0412 1846     		mov	r0, r3
 5391 0414 FFF7FEFF 		bl	ld_dword
 5392 0418 0346     		mov	r3, r0
 5393              		.loc 1 3176 5
 5394 041a 1C4A     		ldr	r2, .L359
 5395 041c 9342     		cmp	r3, r2
 5396 041e 1ED1     		bne	.L355
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 5397              		.loc 1 3177 17
 5398 0420 BB6B     		ldr	r3, [r7, #56]
 5399 0422 3033     		adds	r3, r3, #48
 5400              		.loc 1 3177 8
 5401 0424 03F5F273 		add	r3, r3, #484
 5402 0428 1846     		mov	r0, r3
 5403 042a FFF7FEFF 		bl	ld_dword
 5404 042e 0346     		mov	r3, r0
 5405              		.loc 1 3177 5
 5406 0430 174A     		ldr	r2, .L359+4
 5407 0432 9342     		cmp	r3, r2
 5408 0434 13D1     		bne	.L355
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
 5409              		.loc 1 3180 30
 5410 0436 BB6B     		ldr	r3, [r7, #56]
 5411 0438 3033     		adds	r3, r3, #48
 5412              		.loc 1 3180 21
 5413 043a 03F5F473 		add	r3, r3, #488
 5414 043e 1846     		mov	r0, r3
 5415 0440 FFF7FEFF 		bl	ld_dword
 5416 0444 0246     		mov	r2, r0
 5417              		.loc 1 3180 19
 5418 0446 BB6B     		ldr	r3, [r7, #56]
 5419 0448 1A61     		str	r2, [r3, #16]
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
 5420              		.loc 1 3183 30
 5421 044a BB6B     		ldr	r3, [r7, #56]
 5422 044c 3033     		adds	r3, r3, #48
 5423              		.loc 1 3183 21
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 152


 5424 044e 03F5F673 		add	r3, r3, #492
 5425 0452 1846     		mov	r0, r3
 5426 0454 FFF7FEFF 		bl	ld_dword
 5427 0458 0246     		mov	r2, r0
 5428              		.loc 1 3183 19
 5429 045a BB6B     		ldr	r3, [r7, #56]
 5430 045c DA60     		str	r2, [r3, #12]
 5431              	.L355:
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
 5432              		.loc 1 3191 14
 5433 045e BB6B     		ldr	r3, [r7, #56]
 5434 0460 97F85720 		ldrb	r2, [r7, #87]
 5435 0464 1A70     		strb	r2, [r3]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 5436              		.loc 1 3192 11
 5437 0466 0B4B     		ldr	r3, .L359+8
 5438 0468 1B88     		ldrh	r3, [r3]
 5439 046a 0133     		adds	r3, r3, #1
 5440 046c 9AB2     		uxth	r2, r3
 5441              		.loc 1 3192 9
 5442 046e 094B     		ldr	r3, .L359+8
 5443 0470 1A80     		strh	r2, [r3]	@ movhi
 5444 0472 084B     		ldr	r3, .L359+8
 5445 0474 1A88     		ldrh	r2, [r3]
 5446 0476 BB6B     		ldr	r3, [r7, #56]
 5447 0478 DA80     		strh	r2, [r3, #6]	@ movhi
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
 5448              		.loc 1 3203 2
 5449 047a B86B     		ldr	r0, [r7, #56]
 5450 047c FFF7FEFF 		bl	clear_lock
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 5451              		.loc 1 3205 9
 5452 0480 0023     		movs	r3, #0
 5453              	.L356:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5454              		.loc 1 3206 1 discriminator 1
 5455 0482 1846     		mov	r0, r3
 5456 0484 5837     		adds	r7, r7, #88
 5457              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 153


 5458 0486 BD46     		mov	sp, r7
 5459              		.cfi_def_cfa_register 13
 5460              		@ sp needed
 5461 0488 80BD     		pop	{r7, pc}
 5462              	.L360:
 5463 048a 00BF     		.align	2
 5464              	.L359:
 5465 048c 52526141 		.word	1096897106
 5466 0490 72724161 		.word	1631679090
 5467 0494 00000000 		.word	Fsid
 5468              		.cfi_endproc
 5469              	.LFE357:
 5471              		.section	.text.validate,"ax",%progbits
 5472              		.align	1
 5473              		.syntax unified
 5474              		.thumb
 5475              		.thumb_func
 5477              	validate:
 5478              	.LFB358:
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5479              		.loc 1 3220 1
 5480              		.cfi_startproc
 5481              		@ args = 0, pretend = 0, frame = 16
 5482              		@ frame_needed = 1, uses_anonymous_args = 0
 5483 0000 80B5     		push	{r7, lr}
 5484              		.cfi_def_cfa_offset 8
 5485              		.cfi_offset 7, -8
 5486              		.cfi_offset 14, -4
 5487 0002 84B0     		sub	sp, sp, #16
 5488              		.cfi_def_cfa_offset 24
 5489 0004 00AF     		add	r7, sp, #0
 5490              		.cfi_def_cfa_register 7
 5491 0006 7860     		str	r0, [r7, #4]
 5492 0008 3960     		str	r1, [r7]
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 5493              		.loc 1 3221 10
 5494 000a 0923     		movs	r3, #9
 5495 000c FB73     		strb	r3, [r7, #15]
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
 5496              		.loc 1 3224 5
 5497 000e 7B68     		ldr	r3, [r7, #4]
 5498 0010 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 154


 5499 0012 1CD0     		beq	.L362
 5500              		.loc 1 3224 16 discriminator 1
 5501 0014 7B68     		ldr	r3, [r7, #4]
 5502 0016 1B68     		ldr	r3, [r3]
 5503              		.loc 1 3224 10 discriminator 1
 5504 0018 002B     		cmp	r3, #0
 5505 001a 18D0     		beq	.L362
 5506              		.loc 1 3224 27 discriminator 2
 5507 001c 7B68     		ldr	r3, [r7, #4]
 5508 001e 1B68     		ldr	r3, [r3]
 5509              		.loc 1 3224 31 discriminator 2
 5510 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5511              		.loc 1 3224 21 discriminator 2
 5512 0022 002B     		cmp	r3, #0
 5513 0024 13D0     		beq	.L362
 5514              		.loc 1 3224 47 discriminator 3
 5515 0026 7B68     		ldr	r3, [r7, #4]
 5516 0028 9A88     		ldrh	r2, [r3, #4]
 5517              		.loc 1 3224 58 discriminator 3
 5518 002a 7B68     		ldr	r3, [r7, #4]
 5519 002c 1B68     		ldr	r3, [r3]
 5520              		.loc 1 3224 62 discriminator 3
 5521 002e DB88     		ldrh	r3, [r3, #6]
 5522              		.loc 1 3224 41 discriminator 3
 5523 0030 9A42     		cmp	r2, r3
 5524 0032 0CD1     		bne	.L362
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
 5525              		.loc 1 3236 24
 5526 0034 7B68     		ldr	r3, [r7, #4]
 5527 0036 1B68     		ldr	r3, [r3]
 5528              		.loc 1 3236 9
 5529 0038 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5530 003a 1846     		mov	r0, r3
 5531 003c FFF7FEFF 		bl	disk_status
 5532 0040 0346     		mov	r3, r0
 5533              		.loc 1 3236 35
 5534 0042 03F00103 		and	r3, r3, #1
 5535              		.loc 1 3236 6
 5536 0046 002B     		cmp	r3, #0
 5537 0048 01D1     		bne	.L362
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 5538              		.loc 1 3237 8
 5539 004a 0023     		movs	r3, #0
 5540 004c FB73     		strb	r3, [r7, #15]
 5541              	.L362:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 155


3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
 5542              		.loc 1 3241 33
 5543 004e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 5544 0050 002B     		cmp	r3, #0
 5545 0052 02D1     		bne	.L363
 5546              		.loc 1 3241 33 is_stmt 0 discriminator 1
 5547 0054 7B68     		ldr	r3, [r7, #4]
 5548 0056 1B68     		ldr	r3, [r3]
 5549 0058 00E0     		b	.L364
 5550              	.L363:
 5551              		.loc 1 3241 33 discriminator 2
 5552 005a 0023     		movs	r3, #0
 5553              	.L364:
 5554              		.loc 1 3241 6 is_stmt 1 discriminator 4
 5555 005c 3A68     		ldr	r2, [r7]
 5556 005e 1360     		str	r3, [r2]
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5557              		.loc 1 3242 9 discriminator 4
 5558 0060 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5559              		.loc 1 3243 1 discriminator 4
 5560 0062 1846     		mov	r0, r3
 5561 0064 1037     		adds	r7, r7, #16
 5562              		.cfi_def_cfa_offset 8
 5563 0066 BD46     		mov	sp, r7
 5564              		.cfi_def_cfa_register 13
 5565              		@ sp needed
 5566 0068 80BD     		pop	{r7, pc}
 5567              		.cfi_endproc
 5568              	.LFE358:
 5570              		.section	.text.f_mount,"ax",%progbits
 5571              		.align	1
 5572              		.global	f_mount
 5573              		.syntax unified
 5574              		.thumb
 5575              		.thumb_func
 5577              	f_mount:
 5578              	.LFB359:
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 156


3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5579              		.loc 1 3265 1
 5580              		.cfi_startproc
 5581              		@ args = 0, pretend = 0, frame = 32
 5582              		@ frame_needed = 1, uses_anonymous_args = 0
 5583 0000 80B5     		push	{r7, lr}
 5584              		.cfi_def_cfa_offset 8
 5585              		.cfi_offset 7, -8
 5586              		.cfi_offset 14, -4
 5587 0002 88B0     		sub	sp, sp, #32
 5588              		.cfi_def_cfa_offset 40
 5589 0004 00AF     		add	r7, sp, #0
 5590              		.cfi_def_cfa_register 7
 5591 0006 F860     		str	r0, [r7, #12]
 5592 0008 B960     		str	r1, [r7, #8]
 5593 000a 1346     		mov	r3, r2
 5594 000c FB71     		strb	r3, [r7, #7]
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 5595              		.loc 1 3269 15
 5596 000e BB68     		ldr	r3, [r7, #8]
 5597 0010 3B61     		str	r3, [r7, #16]
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
 5598              		.loc 1 3273 8
 5599 0012 07F11003 		add	r3, r7, #16
 5600 0016 1846     		mov	r0, r3
 5601 0018 FFF7FEFF 		bl	get_ldnumber
 5602 001c F861     		str	r0, [r7, #28]
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5603              		.loc 1 3274 5
 5604 001e FB69     		ldr	r3, [r7, #28]
 5605 0020 002B     		cmp	r3, #0
 5606 0022 01DA     		bge	.L367
 5607              		.loc 1 3274 22 discriminator 1
 5608 0024 0B23     		movs	r3, #11
 5609 0026 2BE0     		b	.L373
 5610              	.L367:
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5611              		.loc 1 3275 6
 5612 0028 174A     		ldr	r2, .L374
 5613 002a FB69     		ldr	r3, [r7, #28]
 5614 002c 52F82330 		ldr	r3, [r2, r3, lsl #2]
 5615 0030 BB61     		str	r3, [r7, #24]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 5616              		.loc 1 3277 5
 5617 0032 BB69     		ldr	r3, [r7, #24]
 5618 0034 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 157


 5619 0036 05D0     		beq	.L369
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
 5620              		.loc 1 3279 3
 5621 0038 B869     		ldr	r0, [r7, #24]
 5622 003a FFF7FEFF 		bl	clear_lock
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 5623              		.loc 1 3284 16
 5624 003e BB69     		ldr	r3, [r7, #24]
 5625 0040 0022     		movs	r2, #0
 5626 0042 1A70     		strb	r2, [r3]
 5627              	.L369:
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 5628              		.loc 1 3287 6
 5629 0044 FB68     		ldr	r3, [r7, #12]
 5630              		.loc 1 3287 5
 5631 0046 002B     		cmp	r3, #0
 5632 0048 02D0     		beq	.L370
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5633              		.loc 1 3288 5
 5634 004a FB68     		ldr	r3, [r7, #12]
 5635              		.loc 1 3288 15
 5636 004c 0022     		movs	r2, #0
 5637 004e 1A70     		strb	r2, [r3]
 5638              	.L370:
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 5639              		.loc 1 3293 13
 5640 0050 FA68     		ldr	r2, [r7, #12]
 5641 0052 0D49     		ldr	r1, .L374
 5642 0054 FB69     		ldr	r3, [r7, #28]
 5643 0056 41F82320 		str	r2, [r1, r3, lsl #2]
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 5644              		.loc 1 3295 6
 5645 005a FB68     		ldr	r3, [r7, #12]
 5646              		.loc 1 3295 5
 5647 005c 002B     		cmp	r3, #0
 5648 005e 02D0     		beq	.L371
 5649              		.loc 1 3295 10 discriminator 2
 5650 0060 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5651 0062 012B     		cmp	r3, #1
 5652 0064 01D0     		beq	.L372
 5653              	.L371:
 5654              		.loc 1 3295 30 discriminator 3
 5655 0066 0023     		movs	r3, #0
 5656 0068 0AE0     		b	.L373
 5657              	.L372:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 158


3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
 5658              		.loc 1 3297 8
 5659 006a 07F10C01 		add	r1, r7, #12
 5660 006e 07F10803 		add	r3, r7, #8
 5661 0072 0022     		movs	r2, #0
 5662 0074 1846     		mov	r0, r3
 5663 0076 FFF7FEFF 		bl	find_volume
 5664 007a 0346     		mov	r3, r0
 5665 007c FB75     		strb	r3, [r7, #23]
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5666              		.loc 1 3298 2
 5667 007e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5668              	.L373:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5669              		.loc 1 3299 1 discriminator 1
 5670 0080 1846     		mov	r0, r3
 5671 0082 2037     		adds	r7, r7, #32
 5672              		.cfi_def_cfa_offset 8
 5673 0084 BD46     		mov	sp, r7
 5674              		.cfi_def_cfa_register 13
 5675              		@ sp needed
 5676 0086 80BD     		pop	{r7, pc}
 5677              	.L375:
 5678              		.align	2
 5679              	.L374:
 5680 0088 00000000 		.word	FatFs
 5681              		.cfi_endproc
 5682              	.LFE359:
 5684              		.section	.text.f_open,"ax",%progbits
 5685              		.align	1
 5686              		.global	f_open
 5687              		.syntax unified
 5688              		.thumb
 5689              		.thumb_func
 5691              	f_open:
 5692              	.LFB360:
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5693              		.loc 1 3313 1
 5694              		.cfi_startproc
 5695              		@ args = 0, pretend = 0, frame = 96
 5696              		@ frame_needed = 1, uses_anonymous_args = 0
 5697 0000 80B5     		push	{r7, lr}
 5698              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 159


 5699              		.cfi_offset 7, -8
 5700              		.cfi_offset 14, -4
 5701 0002 98B0     		sub	sp, sp, #96
 5702              		.cfi_def_cfa_offset 104
 5703 0004 00AF     		add	r7, sp, #0
 5704              		.cfi_def_cfa_register 7
 5705 0006 F860     		str	r0, [r7, #12]
 5706 0008 B960     		str	r1, [r7, #8]
 5707 000a 1346     		mov	r3, r2
 5708 000c FB71     		strb	r3, [r7, #7]
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 5709              		.loc 1 3324 5
 5710 000e FB68     		ldr	r3, [r7, #12]
 5711 0010 002B     		cmp	r3, #0
 5712 0012 01D1     		bne	.L377
 5713              		.loc 1 3324 18 discriminator 1
 5714 0014 0923     		movs	r3, #9
 5715 0016 ADE1     		b	.L400
 5716              	.L377:
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
 5717              		.loc 1 3327 7
 5718 0018 FB79     		ldrb	r3, [r7, #7]
 5719 001a 03F03F03 		and	r3, r3, #63
 5720 001e FB71     		strb	r3, [r7, #7]
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 5721              		.loc 1 3328 8
 5722 0020 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 5723 0022 07F11001 		add	r1, r7, #16
 5724 0026 07F10803 		add	r3, r7, #8
 5725 002a 1846     		mov	r0, r3
 5726 002c FFF7FEFF 		bl	find_volume
 5727 0030 0346     		mov	r3, r0
 5728 0032 87F85F30 		strb	r3, [r7, #95]
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5729              		.loc 1 3329 5
 5730 0036 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5731 003a 002B     		cmp	r3, #0
 5732 003c 40F09181 		bne	.L379
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 5733              		.loc 1 3330 13
 5734 0040 3B69     		ldr	r3, [r7, #16]
 5735 0042 7B61     		str	r3, [r7, #20]
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 5736              		.loc 1 3332 9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 160


 5737 0044 BA68     		ldr	r2, [r7, #8]
 5738 0046 07F11403 		add	r3, r7, #20
 5739 004a 1146     		mov	r1, r2
 5740 004c 1846     		mov	r0, r3
 5741 004e FFF7FEFF 		bl	follow_path
 5742 0052 0346     		mov	r3, r0
 5743 0054 87F85F30 		strb	r3, [r7, #95]
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 5744              		.loc 1 3334 6
 5745 0058 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5746 005c 002B     		cmp	r3, #0
 5747 005e 1AD1     		bne	.L380
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 5748              		.loc 1 3335 13
 5749 0060 97F84330 		ldrb	r3, [r7, #67]	@ zero_extendqisi2
 5750              		.loc 1 3335 8
 5751 0064 5BB2     		sxtb	r3, r3
 5752              		.loc 1 3335 7
 5753 0066 002B     		cmp	r3, #0
 5754 0068 03DA     		bge	.L381
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5755              		.loc 1 3336 9
 5756 006a 0623     		movs	r3, #6
 5757 006c 87F85F30 		strb	r3, [r7, #95]
 5758 0070 11E0     		b	.L380
 5759              	.L381:
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
 5760              		.loc 1 3340 31
 5761 0072 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5762 0074 23F00103 		bic	r3, r3, #1
 5763              		.loc 1 3340 11
 5764 0078 002B     		cmp	r3, #0
 5765 007a 14BF     		ite	ne
 5766 007c 0123     		movne	r3, #1
 5767 007e 0023     		moveq	r3, #0
 5768 0080 DBB2     		uxtb	r3, r3
 5769 0082 1A46     		mov	r2, r3
 5770 0084 07F11403 		add	r3, r7, #20
 5771 0088 1146     		mov	r1, r2
 5772 008a 1846     		mov	r0, r3
 5773 008c FFF7FEFF 		bl	chk_lock
 5774 0090 0346     		mov	r3, r0
 5775 0092 87F85F30 		strb	r3, [r7, #95]
 5776              	.L380:
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
 5777              		.loc 1 3345 12
 5778 0096 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5779 0098 03F01C03 		and	r3, r3, #28
 5780              		.loc 1 3345 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 161


 5781 009c 002B     		cmp	r3, #0
 5782 009e 7FD0     		beq	.L382
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5783              		.loc 1 3346 7
 5784 00a0 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5785 00a4 002B     		cmp	r3, #0
 5786 00a6 17D0     		beq	.L383
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 5787              		.loc 1 3347 8
 5788 00a8 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5789 00ac 042B     		cmp	r3, #4
 5790 00ae 0ED1     		bne	.L384
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
 5791              		.loc 1 3349 12
 5792 00b0 FFF7FEFF 		bl	enq_lock
 5793 00b4 0346     		mov	r3, r0
 5794              		.loc 1 3349 43
 5795 00b6 002B     		cmp	r3, #0
 5796 00b8 06D0     		beq	.L385
 5797              		.loc 1 3349 25 discriminator 1
 5798 00ba 07F11403 		add	r3, r7, #20
 5799 00be 1846     		mov	r0, r3
 5800 00c0 FFF7FEFF 		bl	dir_register
 5801 00c4 0346     		mov	r3, r0
 5802 00c6 00E0     		b	.L386
 5803              	.L385:
 5804              		.loc 1 3349 43 discriminator 2
 5805 00c8 1223     		movs	r3, #18
 5806              	.L386:
 5807              		.loc 1 3349 10 discriminator 4
 5808 00ca 87F85F30 		strb	r3, [r7, #95]
 5809              	.L384:
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
 5810              		.loc 1 3354 10
 5811 00ce FB79     		ldrb	r3, [r7, #7]
 5812 00d0 43F00803 		orr	r3, r3, #8
 5813 00d4 FB71     		strb	r3, [r7, #7]
 5814 00d6 10E0     		b	.L387
 5815              	.L383:
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
 5816              		.loc 1 3357 15
 5817 00d8 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 5818              		.loc 1 3357 21
 5819 00da 03F01103 		and	r3, r3, #17
 5820              		.loc 1 3357 8
 5821 00de 002B     		cmp	r3, #0
 5822 00e0 03D0     		beq	.L388
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5823              		.loc 1 3358 10
 5824 00e2 0723     		movs	r3, #7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 162


 5825 00e4 87F85F30 		strb	r3, [r7, #95]
 5826 00e8 07E0     		b	.L387
 5827              	.L388:
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
 5828              		.loc 1 3360 15
 5829 00ea FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5830 00ec 03F00403 		and	r3, r3, #4
 5831              		.loc 1 3360 9
 5832 00f0 002B     		cmp	r3, #0
 5833 00f2 02D0     		beq	.L387
 5834              		.loc 1 3360 36 discriminator 1
 5835 00f4 0823     		movs	r3, #8
 5836 00f6 87F85F30 		strb	r3, [r7, #95]
 5837              	.L387:
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
 5838              		.loc 1 3363 7
 5839 00fa 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5840 00fe 002B     		cmp	r3, #0
 5841 0100 68D1     		bne	.L389
 5842              		.loc 1 3363 30 discriminator 1
 5843 0102 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5844 0104 03F00803 		and	r3, r3, #8
 5845              		.loc 1 3363 21 discriminator 1
 5846 0108 002B     		cmp	r3, #0
 5847 010a 63D0     		beq	.L389
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5848              		.loc 1 3364 10
 5849 010c FFF7FEFF 		bl	get_fattime
 5850 0110 3865     		str	r0, [r7, #80]
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 163


3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
 5851              		.loc 1 3392 17
 5852 0112 7B6B     		ldr	r3, [r7, #52]
 5853              		.loc 1 3392 6
 5854 0114 0E33     		adds	r3, r3, #14
 5855 0116 396D     		ldr	r1, [r7, #80]
 5856 0118 1846     		mov	r0, r3
 5857 011a FFF7FEFF 		bl	st_dword
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 5858              		.loc 1 3393 17
 5859 011e 7B6B     		ldr	r3, [r7, #52]
 5860              		.loc 1 3393 6
 5861 0120 1633     		adds	r3, r3, #22
 5862 0122 396D     		ldr	r1, [r7, #80]
 5863 0124 1846     		mov	r0, r3
 5864 0126 FFF7FEFF 		bl	st_dword
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 5865              		.loc 1 3394 8
 5866 012a 7B6B     		ldr	r3, [r7, #52]
 5867              		.loc 1 3394 12
 5868 012c 0B33     		adds	r3, r3, #11
 5869              		.loc 1 3394 23
 5870 012e 2022     		movs	r2, #32
 5871 0130 1A70     		strb	r2, [r3]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 5872              		.loc 1 3395 11
 5873 0132 3B69     		ldr	r3, [r7, #16]
 5874              		.loc 1 3395 26
 5875 0134 7A6B     		ldr	r2, [r7, #52]
 5876              		.loc 1 3395 11
 5877 0136 1146     		mov	r1, r2
 5878 0138 1846     		mov	r0, r3
 5879 013a FFF7FEFF 		bl	ld_clust
 5880 013e F864     		str	r0, [r7, #76]
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5881              		.loc 1 3396 6
 5882 0140 3B69     		ldr	r3, [r7, #16]
 5883 0142 796B     		ldr	r1, [r7, #52]
 5884 0144 0022     		movs	r2, #0
 5885 0146 1846     		mov	r0, r3
 5886 0148 FFF7FEFF 		bl	st_clust
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 5887              		.loc 1 3397 17
 5888 014c 7B6B     		ldr	r3, [r7, #52]
 5889              		.loc 1 3397 6
 5890 014e 1C33     		adds	r3, r3, #28
 5891 0150 0021     		movs	r1, #0
 5892 0152 1846     		mov	r0, r3
 5893 0154 FFF7FEFF 		bl	st_dword
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 5894              		.loc 1 3398 8
 5895 0158 3B69     		ldr	r3, [r7, #16]
 5896              		.loc 1 3398 16
 5897 015a 0122     		movs	r2, #1
 5898 015c DA70     		strb	r2, [r3, #3]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 164


3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
 5899              		.loc 1 3400 9
 5900 015e FB6C     		ldr	r3, [r7, #76]
 5901 0160 002B     		cmp	r3, #0
 5902 0162 37D0     		beq	.L389
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 5903              		.loc 1 3401 14
 5904 0164 3B69     		ldr	r3, [r7, #16]
 5905              		.loc 1 3401 10
 5906 0166 DB6A     		ldr	r3, [r3, #44]
 5907 0168 3B65     		str	r3, [r7, #80]
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 5908              		.loc 1 3402 13
 5909 016a 07F11403 		add	r3, r7, #20
 5910 016e 0022     		movs	r2, #0
 5911 0170 F96C     		ldr	r1, [r7, #76]
 5912 0172 1846     		mov	r0, r3
 5913 0174 FFF7FEFF 		bl	remove_chain
 5914 0178 0346     		mov	r3, r0
 5915 017a 87F85F30 		strb	r3, [r7, #95]
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 5916              		.loc 1 3403 10
 5917 017e 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5918 0182 002B     		cmp	r3, #0
 5919 0184 26D1     		bne	.L389
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 5920              		.loc 1 3404 14
 5921 0186 3B69     		ldr	r3, [r7, #16]
 5922 0188 396D     		ldr	r1, [r7, #80]
 5923 018a 1846     		mov	r0, r3
 5924 018c FFF7FEFF 		bl	move_window
 5925 0190 0346     		mov	r3, r0
 5926 0192 87F85F30 		strb	r3, [r7, #95]
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 5927              		.loc 1 3405 10
 5928 0196 3B69     		ldr	r3, [r7, #16]
 5929              		.loc 1 3405 27
 5930 0198 FA6C     		ldr	r2, [r7, #76]
 5931 019a 013A     		subs	r2, r2, #1
 5932              		.loc 1 3405 22
 5933 019c DA60     		str	r2, [r3, #12]
 5934 019e 19E0     		b	.L389
 5935              	.L382:
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
 5936              		.loc 1 3412 7
 5937 01a0 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5938 01a4 002B     		cmp	r3, #0
 5939 01a6 15D1     		bne	.L389
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 5940              		.loc 1 3413 15
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 165


 5941 01a8 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 5942              		.loc 1 3413 21
 5943 01aa 03F01003 		and	r3, r3, #16
 5944              		.loc 1 3413 8
 5945 01ae 002B     		cmp	r3, #0
 5946 01b0 03D0     		beq	.L390
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5947              		.loc 1 3414 10
 5948 01b2 0423     		movs	r3, #4
 5949 01b4 87F85F30 		strb	r3, [r7, #95]
 5950 01b8 0CE0     		b	.L389
 5951              	.L390:
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
 5952              		.loc 1 3416 16
 5953 01ba FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5954 01bc 03F00203 		and	r3, r3, #2
 5955              		.loc 1 3416 9
 5956 01c0 002B     		cmp	r3, #0
 5957 01c2 07D0     		beq	.L389
 5958              		.loc 1 3416 38 discriminator 1
 5959 01c4 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 5960              		.loc 1 3416 44 discriminator 1
 5961 01c6 03F00103 		and	r3, r3, #1
 5962              		.loc 1 3416 28 discriminator 1
 5963 01ca 002B     		cmp	r3, #0
 5964 01cc 02D0     		beq	.L389
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5965              		.loc 1 3417 11
 5966 01ce 0723     		movs	r3, #7
 5967 01d0 87F85F30 		strb	r3, [r7, #95]
 5968              	.L389:
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 5969              		.loc 1 3422 6
 5970 01d4 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 5971 01d8 002B     		cmp	r3, #0
 5972 01da 28D1     		bne	.L391
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5973              		.loc 1 3423 13
 5974 01dc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5975 01de 03F00803 		and	r3, r3, #8
 5976              		.loc 1 3423 7
 5977 01e2 002B     		cmp	r3, #0
 5978 01e4 03D0     		beq	.L392
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 5979              		.loc 1 3424 10
 5980 01e6 FB79     		ldrb	r3, [r7, #7]
 5981 01e8 43F04003 		orr	r3, r3, #64
 5982 01ec FB71     		strb	r3, [r7, #7]
 5983              	.L392:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5984              		.loc 1 3425 21
 5985 01ee 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 166


 5986 01f0 DA6A     		ldr	r2, [r3, #44]
 5987              		.loc 1 3425 17
 5988 01f2 FB68     		ldr	r3, [r7, #12]
 5989 01f4 5A62     		str	r2, [r3, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5990              		.loc 1 3426 20
 5991 01f6 7A6B     		ldr	r2, [r7, #52]
 5992              		.loc 1 3426 16
 5993 01f8 FB68     		ldr	r3, [r7, #12]
 5994 01fa 9A62     		str	r2, [r3, #40]
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
 5995              		.loc 1 3428 41
 5996 01fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5997 01fe 23F00103 		bic	r3, r3, #1
 5998              		.loc 1 3428 21
 5999 0202 002B     		cmp	r3, #0
 6000 0204 14BF     		ite	ne
 6001 0206 0123     		movne	r3, #1
 6002 0208 0023     		moveq	r3, #0
 6003 020a DBB2     		uxtb	r3, r3
 6004 020c 1A46     		mov	r2, r3
 6005 020e 07F11403 		add	r3, r7, #20
 6006 0212 1146     		mov	r1, r2
 6007 0214 1846     		mov	r0, r3
 6008 0216 FFF7FEFF 		bl	inc_lock
 6009 021a 0246     		mov	r2, r0
 6010              		.loc 1 3428 19
 6011 021c FB68     		ldr	r3, [r7, #12]
 6012 021e 1A61     		str	r2, [r3, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 6013              		.loc 1 3429 16
 6014 0220 FB68     		ldr	r3, [r7, #12]
 6015 0222 1B69     		ldr	r3, [r3, #16]
 6016              		.loc 1 3429 7
 6017 0224 002B     		cmp	r3, #0
 6018 0226 02D1     		bne	.L391
 6019              		.loc 1 3429 29 discriminator 1
 6020 0228 0223     		movs	r3, #2
 6021 022a 87F85F30 		strb	r3, [r7, #95]
 6022              	.L391:
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6023              		.loc 1 3444 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 167


 6024 022e 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6025 0232 002B     		cmp	r3, #0
 6026 0234 40F09580 		bne	.L379
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
 6027              		.loc 1 3456 22
 6028 0238 3B69     		ldr	r3, [r7, #16]
 6029              		.loc 1 3456 37
 6030 023a 7A6B     		ldr	r2, [r7, #52]
 6031              		.loc 1 3456 22
 6032 023c 1146     		mov	r1, r2
 6033 023e 1846     		mov	r0, r3
 6034 0240 FFF7FEFF 		bl	ld_clust
 6035 0244 0246     		mov	r2, r0
 6036              		.loc 1 3456 20
 6037 0246 FB68     		ldr	r3, [r7, #12]
 6038 0248 9A60     		str	r2, [r3, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 6039              		.loc 1 3457 34
 6040 024a 7B6B     		ldr	r3, [r7, #52]
 6041              		.loc 1 3457 39
 6042 024c 1C33     		adds	r3, r3, #28
 6043              		.loc 1 3457 23
 6044 024e 1846     		mov	r0, r3
 6045 0250 FFF7FEFF 		bl	ld_dword
 6046 0254 0246     		mov	r2, r0
 6047              		.loc 1 3457 21
 6048 0256 FB68     		ldr	r3, [r7, #12]
 6049 0258 DA60     		str	r2, [r3, #12]
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
 6050              		.loc 1 3460 14
 6051 025a FB68     		ldr	r3, [r7, #12]
 6052 025c 0022     		movs	r2, #0
 6053 025e DA62     		str	r2, [r3, #44]
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
 6054              		.loc 1 3462 15
 6055 0260 3A69     		ldr	r2, [r7, #16]
 6056 0262 FB68     		ldr	r3, [r7, #12]
 6057 0264 1A60     		str	r2, [r3]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 6058              		.loc 1 3463 19
 6059 0266 3B69     		ldr	r3, [r7, #16]
 6060 0268 DA88     		ldrh	r2, [r3, #6]
 6061              		.loc 1 3463 15
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 168


 6062 026a FB68     		ldr	r3, [r7, #12]
 6063 026c 9A80     		strh	r2, [r3, #4]	@ movhi
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 6064              		.loc 1 3464 13
 6065 026e FB68     		ldr	r3, [r7, #12]
 6066 0270 FA79     		ldrb	r2, [r7, #7]
 6067 0272 1A75     		strb	r2, [r3, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 6068              		.loc 1 3465 12
 6069 0274 FB68     		ldr	r3, [r7, #12]
 6070 0276 0022     		movs	r2, #0
 6071 0278 5A75     		strb	r2, [r3, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 6072              		.loc 1 3466 13
 6073 027a FB68     		ldr	r3, [r7, #12]
 6074 027c 0022     		movs	r2, #0
 6075 027e 1A62     		str	r2, [r3, #32]
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 6076              		.loc 1 3467 13
 6077 0280 FB68     		ldr	r3, [r7, #12]
 6078 0282 0022     		movs	r2, #0
 6079 0284 9A61     		str	r2, [r3, #24]
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
 6080              		.loc 1 3470 14
 6081 0286 FB68     		ldr	r3, [r7, #12]
 6082 0288 3033     		adds	r3, r3, #48
 6083              		.loc 1 3470 4
 6084 028a 4FF40072 		mov	r2, #512
 6085 028e 0021     		movs	r1, #0
 6086 0290 1846     		mov	r0, r3
 6087 0292 FFF7FEFF 		bl	mem_set
3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
 6088              		.loc 1 3472 14
 6089 0296 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6090 0298 03F02003 		and	r3, r3, #32
 6091              		.loc 1 3472 7
 6092 029c 002B     		cmp	r3, #0
 6093 029e 60D0     		beq	.L379
 6094              		.loc 1 3472 38 discriminator 1
 6095 02a0 FB68     		ldr	r3, [r7, #12]
 6096 02a2 DB68     		ldr	r3, [r3, #12]
 6097              		.loc 1 3472 28 discriminator 1
 6098 02a4 002B     		cmp	r3, #0
 6099 02a6 5CD0     		beq	.L379
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6100              		.loc 1 3473 23
 6101 02a8 FB68     		ldr	r3, [r7, #12]
 6102 02aa DA68     		ldr	r2, [r3, #12]
 6103              		.loc 1 3473 14
 6104 02ac FB68     		ldr	r3, [r7, #12]
 6105 02ae 9A61     		str	r2, [r3, #24]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 6106              		.loc 1 3474 20
 6107 02b0 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 169


 6108 02b2 5B89     		ldrh	r3, [r3, #10]
 6109              		.loc 1 3474 9
 6110 02b4 5B02     		lsls	r3, r3, #9
 6111 02b6 BB64     		str	r3, [r7, #72]
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 6112              		.loc 1 3475 10
 6113 02b8 FB68     		ldr	r3, [r7, #12]
 6114 02ba 9B68     		ldr	r3, [r3, #8]
 6115 02bc BB65     		str	r3, [r7, #88]
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 6116              		.loc 1 3476 14
 6117 02be FB68     		ldr	r3, [r7, #12]
 6118 02c0 DB68     		ldr	r3, [r3, #12]
 6119 02c2 7B65     		str	r3, [r7, #84]
 6120              		.loc 1 3476 5
 6121 02c4 16E0     		b	.L393
 6122              	.L397:
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6123              		.loc 1 3477 13
 6124 02c6 FB68     		ldr	r3, [r7, #12]
 6125 02c8 B96D     		ldr	r1, [r7, #88]
 6126 02ca 1846     		mov	r0, r3
 6127 02cc FFF7FEFF 		bl	get_fat
 6128 02d0 B865     		str	r0, [r7, #88]
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6129              		.loc 1 3478 9
 6130 02d2 BB6D     		ldr	r3, [r7, #88]
 6131 02d4 012B     		cmp	r3, #1
 6132 02d6 02D8     		bhi	.L394
 6133              		.loc 1 3478 25 discriminator 1
 6134 02d8 0223     		movs	r3, #2
 6135 02da 87F85F30 		strb	r3, [r7, #95]
 6136              	.L394:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6137              		.loc 1 3479 9
 6138 02de BB6D     		ldr	r3, [r7, #88]
 6139 02e0 B3F1FF3F 		cmp	r3, #-1
 6140 02e4 02D1     		bne	.L395
 6141              		.loc 1 3479 34 discriminator 1
 6142 02e6 0123     		movs	r3, #1
 6143 02e8 87F85F30 		strb	r3, [r7, #95]
 6144              	.L395:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6145              		.loc 1 3476 64 discriminator 2
 6146 02ec 7A6D     		ldr	r2, [r7, #84]
 6147 02ee BB6C     		ldr	r3, [r7, #72]
 6148 02f0 D31A     		subs	r3, r2, r3
 6149 02f2 7B65     		str	r3, [r7, #84]
 6150              	.L393:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6151              		.loc 1 3476 46 discriminator 1
 6152 02f4 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6153 02f8 002B     		cmp	r3, #0
 6154 02fa 03D1     		bne	.L396
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6155              		.loc 1 3476 46 is_stmt 0 discriminator 3
 6156 02fc 7A6D     		ldr	r2, [r7, #84]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 170


 6157 02fe BB6C     		ldr	r3, [r7, #72]
 6158 0300 9A42     		cmp	r2, r3
 6159 0302 E0D8     		bhi	.L397
 6160              	.L396:
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
 6161              		.loc 1 3481 15 is_stmt 1
 6162 0304 FB68     		ldr	r3, [r7, #12]
 6163 0306 BA6D     		ldr	r2, [r7, #88]
 6164 0308 DA61     		str	r2, [r3, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6165              		.loc 1 3482 8
 6166 030a 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6167 030e 002B     		cmp	r3, #0
 6168 0310 27D1     		bne	.L379
 6169              		.loc 1 3482 29 discriminator 1
 6170 0312 7B6D     		ldr	r3, [r7, #84]
 6171 0314 C3F30803 		ubfx	r3, r3, #0, #9
 6172              		.loc 1 3482 22 discriminator 1
 6173 0318 002B     		cmp	r3, #0
 6174 031a 22D0     		beq	.L379
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 6175              		.loc 1 3483 16
 6176 031c 3B69     		ldr	r3, [r7, #16]
 6177 031e B96D     		ldr	r1, [r7, #88]
 6178 0320 1846     		mov	r0, r3
 6179 0322 FFF7FEFF 		bl	clust2sect
 6180 0326 7864     		str	r0, [r7, #68]
 6181              		.loc 1 3483 9
 6182 0328 7B6C     		ldr	r3, [r7, #68]
 6183 032a 002B     		cmp	r3, #0
 6184 032c 03D1     		bne	.L398
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 6185              		.loc 1 3484 11
 6186 032e 0223     		movs	r3, #2
 6187 0330 87F85F30 		strb	r3, [r7, #95]
 6188 0334 15E0     		b	.L379
 6189              	.L398:
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
 6190              		.loc 1 3486 23
 6191 0336 7B6D     		ldr	r3, [r7, #84]
 6192 0338 5A0A     		lsrs	r2, r3, #9
 6193              		.loc 1 3486 21
 6194 033a 7B6C     		ldr	r3, [r7, #68]
 6195 033c 1A44     		add	r2, r2, r3
 6196              		.loc 1 3486 16
 6197 033e FB68     		ldr	r3, [r7, #12]
 6198 0340 1A62     		str	r2, [r3, #32]
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
 6199              		.loc 1 3488 23
 6200 0342 3B69     		ldr	r3, [r7, #16]
 6201              		.loc 1 3488 11
 6202 0344 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 6203              		.loc 1 3488 32
 6204 0346 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 171


 6205 0348 03F13001 		add	r1, r3, #48
 6206              		.loc 1 3488 11
 6207 034c FB68     		ldr	r3, [r7, #12]
 6208 034e 1A6A     		ldr	r2, [r3, #32]
 6209 0350 0123     		movs	r3, #1
 6210 0352 FFF7FEFF 		bl	disk_read
 6211 0356 0346     		mov	r3, r0
 6212              		.loc 1 3488 10
 6213 0358 002B     		cmp	r3, #0
 6214 035a 02D0     		beq	.L379
 6215              		.loc 1 3488 67 discriminator 1
 6216 035c 0123     		movs	r3, #1
 6217 035e 87F85F30 		strb	r3, [r7, #95]
 6218              	.L379:
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
 6219              		.loc 1 3499 5
 6220 0362 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6221 0366 002B     		cmp	r3, #0
 6222 0368 02D0     		beq	.L399
 6223              		.loc 1 3499 31 discriminator 1
 6224 036a FB68     		ldr	r3, [r7, #12]
 6225 036c 0022     		movs	r2, #0
 6226 036e 1A60     		str	r2, [r3]
 6227              	.L399:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 6228              		.loc 1 3501 2
 6229 0370 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6230              	.L400:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6231              		.loc 1 3502 1 discriminator 1
 6232 0374 1846     		mov	r0, r3
 6233 0376 6037     		adds	r7, r7, #96
 6234              		.cfi_def_cfa_offset 8
 6235 0378 BD46     		mov	sp, r7
 6236              		.cfi_def_cfa_register 13
 6237              		@ sp needed
 6238 037a 80BD     		pop	{r7, pc}
 6239              		.cfi_endproc
 6240              	.LFE360:
 6242              		.section	.text.f_read,"ax",%progbits
 6243              		.align	1
 6244              		.global	f_read
 6245              		.syntax unified
 6246              		.thumb
 6247              		.thumb_func
 6249              	f_read:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 172


 6250              	.LFB361:
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6251              		.loc 1 3517 1
 6252              		.cfi_startproc
 6253              		@ args = 0, pretend = 0, frame = 56
 6254              		@ frame_needed = 1, uses_anonymous_args = 0
 6255 0000 80B5     		push	{r7, lr}
 6256              		.cfi_def_cfa_offset 8
 6257              		.cfi_offset 7, -8
 6258              		.cfi_offset 14, -4
 6259 0002 8EB0     		sub	sp, sp, #56
 6260              		.cfi_def_cfa_offset 64
 6261 0004 00AF     		add	r7, sp, #0
 6262              		.cfi_def_cfa_register 7
 6263 0006 F860     		str	r0, [r7, #12]
 6264 0008 B960     		str	r1, [r7, #8]
 6265 000a 7A60     		str	r2, [r7, #4]
 6266 000c 3B60     		str	r3, [r7]
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 6267              		.loc 1 3523 8
 6268 000e BB68     		ldr	r3, [r7, #8]
 6269 0010 7B62     		str	r3, [r7, #36]
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 6270              		.loc 1 3526 6
 6271 0012 3B68     		ldr	r3, [r7]
 6272 0014 0022     		movs	r2, #0
 6273 0016 1A60     		str	r2, [r3]
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6274              		.loc 1 3527 8
 6275 0018 FB68     		ldr	r3, [r7, #12]
 6276 001a 07F11402 		add	r2, r7, #20
 6277 001e 1146     		mov	r1, r2
 6278 0020 1846     		mov	r0, r3
 6279 0022 FFF7FEFF 		bl	validate
 6280 0026 0346     		mov	r3, r0
 6281 0028 87F83730 		strb	r3, [r7, #55]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 173


3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6282              		.loc 1 3528 5
 6283 002c 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 6284 0030 002B     		cmp	r3, #0
 6285 0032 07D1     		bne	.L402
 6286              		.loc 1 3528 27 discriminator 2
 6287 0034 FB68     		ldr	r3, [r7, #12]
 6288 0036 5B7D     		ldrb	r3, [r3, #21]
 6289 0038 87F83730 		strb	r3, [r7, #55]
 6290              		.loc 1 3528 19 discriminator 2
 6291 003c 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 6292 0040 002B     		cmp	r3, #0
 6293 0042 02D0     		beq	.L403
 6294              	.L402:
 6295              		.loc 1 3528 57 discriminator 3
 6296 0044 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 6297 0048 15E1     		b	.L426
 6298              	.L403:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 6299              		.loc 1 3529 10
 6300 004a FB68     		ldr	r3, [r7, #12]
 6301 004c 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6302              		.loc 1 3529 17
 6303 004e 03F00103 		and	r3, r3, #1
 6304              		.loc 1 3529 5
 6305 0052 002B     		cmp	r3, #0
 6306 0054 01D1     		bne	.L405
 6307              		.loc 1 3529 29 discriminator 1
 6308 0056 0723     		movs	r3, #7
 6309 0058 0DE1     		b	.L426
 6310              	.L405:
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6311              		.loc 1 3530 18
 6312 005a FB68     		ldr	r3, [r7, #12]
 6313 005c DA68     		ldr	r2, [r3, #12]
 6314              		.loc 1 3530 31
 6315 005e FB68     		ldr	r3, [r7, #12]
 6316 0060 9B69     		ldr	r3, [r3, #24]
 6317              		.loc 1 3530 9
 6318 0062 D31A     		subs	r3, r2, r3
 6319 0064 3B62     		str	r3, [r7, #32]
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 6320              		.loc 1 3531 5
 6321 0066 7A68     		ldr	r2, [r7, #4]
 6322 0068 3B6A     		ldr	r3, [r7, #32]
 6323 006a 9A42     		cmp	r2, r3
 6324 006c 40F2FE80 		bls	.L407
 6325              		.loc 1 3531 24 discriminator 1
 6326 0070 3B6A     		ldr	r3, [r7, #32]
 6327 0072 7B60     		str	r3, [r7, #4]
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
 6328              		.loc 1 3533 2 discriminator 1
 6329 0074 FAE0     		b	.L407
 6330              	.L425:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 174


 6331              		.loc 1 3535 9
 6332 0076 FB68     		ldr	r3, [r7, #12]
 6333 0078 9B69     		ldr	r3, [r3, #24]
 6334              		.loc 1 3535 16
 6335 007a C3F30803 		ubfx	r3, r3, #0, #9
 6336              		.loc 1 3535 6
 6337 007e 002B     		cmp	r3, #0
 6338 0080 40F0C680 		bne	.L408
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 6339              		.loc 1 3536 21
 6340 0084 FB68     		ldr	r3, [r7, #12]
 6341 0086 9B69     		ldr	r3, [r3, #24]
 6342              		.loc 1 3536 28
 6343 0088 5B0A     		lsrs	r3, r3, #9
 6344              		.loc 1 3536 42
 6345 008a 7A69     		ldr	r2, [r7, #20]
 6346 008c 5289     		ldrh	r2, [r2, #10]
 6347              		.loc 1 3536 50
 6348 008e 013A     		subs	r2, r2, #1
 6349              		.loc 1 3536 10
 6350 0090 1340     		ands	r3, r3, r2
 6351 0092 FB61     		str	r3, [r7, #28]
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6352              		.loc 1 3537 7
 6353 0094 FB69     		ldr	r3, [r7, #28]
 6354 0096 002B     		cmp	r3, #0
 6355 0098 2FD1     		bne	.L409
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 6356              		.loc 1 3538 11
 6357 009a FB68     		ldr	r3, [r7, #12]
 6358 009c 9B69     		ldr	r3, [r3, #24]
 6359              		.loc 1 3538 8
 6360 009e 002B     		cmp	r3, #0
 6361 00a0 03D1     		bne	.L410
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6362              		.loc 1 3539 11
 6363 00a2 FB68     		ldr	r3, [r7, #12]
 6364 00a4 9B68     		ldr	r3, [r3, #8]
 6365 00a6 3B63     		str	r3, [r7, #48]
 6366 00a8 13E0     		b	.L411
 6367              	.L410:
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
 6368              		.loc 1 3542 12
 6369 00aa FB68     		ldr	r3, [r7, #12]
 6370 00ac DB6A     		ldr	r3, [r3, #44]
 6371              		.loc 1 3542 9
 6372 00ae 002B     		cmp	r3, #0
 6373 00b0 07D0     		beq	.L412
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6374              		.loc 1 3543 14
 6375 00b2 FB68     		ldr	r3, [r7, #12]
 6376 00b4 9B69     		ldr	r3, [r3, #24]
 6377 00b6 1946     		mov	r1, r3
 6378 00b8 F868     		ldr	r0, [r7, #12]
 6379 00ba FFF7FEFF 		bl	clmt_clust
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 175


 6380 00be 3863     		str	r0, [r7, #48]
 6381 00c0 07E0     		b	.L411
 6382              	.L412:
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
 6383              		.loc 1 3547 14
 6384 00c2 FA68     		ldr	r2, [r7, #12]
 6385 00c4 FB68     		ldr	r3, [r7, #12]
 6386 00c6 DB69     		ldr	r3, [r3, #28]
 6387 00c8 1946     		mov	r1, r3
 6388 00ca 1046     		mov	r0, r2
 6389 00cc FFF7FEFF 		bl	get_fat
 6390 00d0 3863     		str	r0, [r7, #48]
 6391              	.L411:
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
 6392              		.loc 1 3550 8
 6393 00d2 3B6B     		ldr	r3, [r7, #48]
 6394 00d4 012B     		cmp	r3, #1
 6395 00d6 04D8     		bhi	.L413
 6396              		.loc 1 3550 19 discriminator 1
 6397 00d8 FB68     		ldr	r3, [r7, #12]
 6398 00da 0222     		movs	r2, #2
 6399 00dc 5A75     		strb	r2, [r3, #21]
 6400 00de 0223     		movs	r3, #2
 6401 00e0 C9E0     		b	.L426
 6402              	.L413:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6403              		.loc 1 3551 8
 6404 00e2 3B6B     		ldr	r3, [r7, #48]
 6405 00e4 B3F1FF3F 		cmp	r3, #-1
 6406 00e8 04D1     		bne	.L414
 6407              		.loc 1 3551 29 discriminator 1
 6408 00ea FB68     		ldr	r3, [r7, #12]
 6409 00ec 0122     		movs	r2, #1
 6410 00ee 5A75     		strb	r2, [r3, #21]
 6411 00f0 0123     		movs	r3, #1
 6412 00f2 C0E0     		b	.L426
 6413              	.L414:
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6414              		.loc 1 3552 15
 6415 00f4 FB68     		ldr	r3, [r7, #12]
 6416 00f6 3A6B     		ldr	r2, [r7, #48]
 6417 00f8 DA61     		str	r2, [r3, #28]
 6418              	.L409:
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
 6419              		.loc 1 3554 11
 6420 00fa 7A69     		ldr	r2, [r7, #20]
 6421 00fc FB68     		ldr	r3, [r7, #12]
 6422 00fe DB69     		ldr	r3, [r3, #28]
 6423 0100 1946     		mov	r1, r3
 6424 0102 1046     		mov	r0, r2
 6425 0104 FFF7FEFF 		bl	clust2sect
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 176


 6426 0108 B861     		str	r0, [r7, #24]
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6427              		.loc 1 3555 7
 6428 010a BB69     		ldr	r3, [r7, #24]
 6429 010c 002B     		cmp	r3, #0
 6430 010e 04D1     		bne	.L415
 6431              		.loc 1 3555 15 discriminator 1
 6432 0110 FB68     		ldr	r3, [r7, #12]
 6433 0112 0222     		movs	r2, #2
 6434 0114 5A75     		strb	r2, [r3, #21]
 6435 0116 0223     		movs	r3, #2
 6436 0118 ADE0     		b	.L426
 6437              	.L415:
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6438              		.loc 1 3556 9
 6439 011a BA69     		ldr	r2, [r7, #24]
 6440 011c FB69     		ldr	r3, [r7, #28]
 6441 011e 1344     		add	r3, r3, r2
 6442 0120 BB61     		str	r3, [r7, #24]
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6443              		.loc 1 3557 7
 6444 0122 7B68     		ldr	r3, [r7, #4]
 6445 0124 5B0A     		lsrs	r3, r3, #9
 6446 0126 BB62     		str	r3, [r7, #40]
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6447              		.loc 1 3558 7
 6448 0128 BB6A     		ldr	r3, [r7, #40]
 6449 012a 002B     		cmp	r3, #0
 6450 012c 39D0     		beq	.L416
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6451              		.loc 1 3559 15
 6452 012e FA69     		ldr	r2, [r7, #28]
 6453 0130 BB6A     		ldr	r3, [r7, #40]
 6454 0132 1344     		add	r3, r3, r2
 6455              		.loc 1 3559 24
 6456 0134 7A69     		ldr	r2, [r7, #20]
 6457 0136 5289     		ldrh	r2, [r2, #10]
 6458              		.loc 1 3559 8
 6459 0138 9342     		cmp	r3, r2
 6460 013a 05D9     		bls	.L417
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6461              		.loc 1 3560 13
 6462 013c 7B69     		ldr	r3, [r7, #20]
 6463 013e 5B89     		ldrh	r3, [r3, #10]
 6464 0140 1A46     		mov	r2, r3
 6465              		.loc 1 3560 9
 6466 0142 FB69     		ldr	r3, [r7, #28]
 6467 0144 D31A     		subs	r3, r2, r3
 6468 0146 BB62     		str	r3, [r7, #40]
 6469              	.L417:
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6470              		.loc 1 3562 21
 6471 0148 7B69     		ldr	r3, [r7, #20]
 6472              		.loc 1 3562 9
 6473 014a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 6474 014c BB6A     		ldr	r3, [r7, #40]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 177


 6475 014e BA69     		ldr	r2, [r7, #24]
 6476 0150 796A     		ldr	r1, [r7, #36]
 6477 0152 FFF7FEFF 		bl	disk_read
 6478 0156 0346     		mov	r3, r0
 6479              		.loc 1 3562 8
 6480 0158 002B     		cmp	r3, #0
 6481 015a 04D0     		beq	.L418
 6482              		.loc 1 3562 56 discriminator 1
 6483 015c FB68     		ldr	r3, [r7, #12]
 6484 015e 0122     		movs	r2, #1
 6485 0160 5A75     		strb	r2, [r3, #21]
 6486 0162 0123     		movs	r3, #1
 6487 0164 87E0     		b	.L426
 6488              	.L418:
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
 6489              		.loc 1 3569 12
 6490 0166 FB68     		ldr	r3, [r7, #12]
 6491 0168 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6492              		.loc 1 3569 9
 6493 016a 5BB2     		sxtb	r3, r3
 6494              		.loc 1 3569 8
 6495 016c 002B     		cmp	r3, #0
 6496 016e 14DA     		bge	.L419
 6497              		.loc 1 3569 36 discriminator 1
 6498 0170 FB68     		ldr	r3, [r7, #12]
 6499 0172 1A6A     		ldr	r2, [r3, #32]
 6500              		.loc 1 3569 43 discriminator 1
 6501 0174 BB69     		ldr	r3, [r7, #24]
 6502 0176 D31A     		subs	r3, r2, r3
 6503              		.loc 1 3569 31 discriminator 1
 6504 0178 BA6A     		ldr	r2, [r7, #40]
 6505 017a 9A42     		cmp	r2, r3
 6506 017c 0DD9     		bls	.L419
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6507              		.loc 1 3570 26
 6508 017e FB68     		ldr	r3, [r7, #12]
 6509 0180 1A6A     		ldr	r2, [r3, #32]
 6510              		.loc 1 3570 33
 6511 0182 BB69     		ldr	r3, [r7, #24]
 6512 0184 D31A     		subs	r3, r2, r3
 6513              		.loc 1 3570 41
 6514 0186 5B02     		lsls	r3, r3, #9
 6515              		.loc 1 3570 20
 6516 0188 7A6A     		ldr	r2, [r7, #36]
 6517 018a D018     		adds	r0, r2, r3
 6518              		.loc 1 3570 54
 6519 018c FB68     		ldr	r3, [r7, #12]
 6520 018e 3033     		adds	r3, r3, #48
 6521              		.loc 1 3570 6
 6522 0190 4FF40072 		mov	r2, #512
 6523 0194 1946     		mov	r1, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 178


 6524 0196 FFF7FEFF 		bl	mem_cpy
 6525              	.L419:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
 6526              		.loc 1 3574 10
 6527 019a BB6A     		ldr	r3, [r7, #40]
 6528 019c 5B02     		lsls	r3, r3, #9
 6529 019e FB62     		str	r3, [r7, #44]
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6530              		.loc 1 3575 5
 6531 01a0 50E0     		b	.L420
 6532              	.L416:
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
 6533              		.loc 1 3578 10
 6534 01a2 FB68     		ldr	r3, [r7, #12]
 6535 01a4 1B6A     		ldr	r3, [r3, #32]
 6536              		.loc 1 3578 7
 6537 01a6 BA69     		ldr	r2, [r7, #24]
 6538 01a8 9A42     		cmp	r2, r3
 6539 01aa 2ED0     		beq	.L421
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
 6540              		.loc 1 3580 11
 6541 01ac FB68     		ldr	r3, [r7, #12]
 6542 01ae 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6543              		.loc 1 3580 9
 6544 01b0 5BB2     		sxtb	r3, r3
 6545              		.loc 1 3580 8
 6546 01b2 002B     		cmp	r3, #0
 6547 01b4 18DA     		bge	.L422
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6548              		.loc 1 3581 23
 6549 01b6 7B69     		ldr	r3, [r7, #20]
 6550              		.loc 1 3581 10
 6551 01b8 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 6552              		.loc 1 3581 32
 6553 01ba FB68     		ldr	r3, [r7, #12]
 6554 01bc 03F13001 		add	r1, r3, #48
 6555              		.loc 1 3581 10
 6556 01c0 FB68     		ldr	r3, [r7, #12]
 6557 01c2 1A6A     		ldr	r2, [r3, #32]
 6558 01c4 0123     		movs	r3, #1
 6559 01c6 FFF7FEFF 		bl	disk_write
 6560 01ca 0346     		mov	r3, r0
 6561              		.loc 1 3581 9
 6562 01cc 002B     		cmp	r3, #0
 6563 01ce 04D0     		beq	.L423
 6564              		.loc 1 3581 63 discriminator 1
 6565 01d0 FB68     		ldr	r3, [r7, #12]
 6566 01d2 0122     		movs	r2, #1
 6567 01d4 5A75     		strb	r2, [r3, #21]
 6568 01d6 0123     		movs	r3, #1
 6569 01d8 4DE0     		b	.L426
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 179


 6570              	.L423:
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6571              		.loc 1 3582 15
 6572 01da FB68     		ldr	r3, [r7, #12]
 6573 01dc 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6574 01de 03F07F03 		and	r3, r3, #127
 6575 01e2 DAB2     		uxtb	r2, r3
 6576 01e4 FB68     		ldr	r3, [r7, #12]
 6577 01e6 1A75     		strb	r2, [r3, #20]
 6578              	.L422:
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
 6579              		.loc 1 3585 21
 6580 01e8 7B69     		ldr	r3, [r7, #20]
 6581              		.loc 1 3585 9
 6582 01ea 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 6583              		.loc 1 3585 30
 6584 01ec FB68     		ldr	r3, [r7, #12]
 6585 01ee 03F13001 		add	r1, r3, #48
 6586              		.loc 1 3585 9
 6587 01f2 0123     		movs	r3, #1
 6588 01f4 BA69     		ldr	r2, [r7, #24]
 6589 01f6 FFF7FEFF 		bl	disk_read
 6590 01fa 0346     		mov	r3, r0
 6591              		.loc 1 3585 8
 6592 01fc 002B     		cmp	r3, #0
 6593 01fe 04D0     		beq	.L421
 6594              		.loc 1 3585 57 discriminator 1
 6595 0200 FB68     		ldr	r3, [r7, #12]
 6596 0202 0122     		movs	r2, #1
 6597 0204 5A75     		strb	r2, [r3, #21]
 6598 0206 0123     		movs	r3, #1
 6599 0208 35E0     		b	.L426
 6600              	.L421:
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
 6601              		.loc 1 3588 13
 6602 020a FB68     		ldr	r3, [r7, #12]
 6603 020c BA69     		ldr	r2, [r7, #24]
 6604 020e 1A62     		str	r2, [r3, #32]
 6605              	.L408:
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
 6606              		.loc 1 3590 27
 6607 0210 FB68     		ldr	r3, [r7, #12]
 6608 0212 9B69     		ldr	r3, [r3, #24]
 6609              		.loc 1 3590 34
 6610 0214 C3F30803 		ubfx	r3, r3, #0, #9
 6611              		.loc 1 3590 8
 6612 0218 C3F50073 		rsb	r3, r3, #512
 6613 021c FB62     		str	r3, [r7, #44]
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 6614              		.loc 1 3591 6
 6615 021e FA6A     		ldr	r2, [r7, #44]
 6616 0220 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 180


 6617 0222 9A42     		cmp	r2, r3
 6618 0224 01D9     		bls	.L424
 6619              		.loc 1 3591 24 discriminator 1
 6620 0226 7B68     		ldr	r3, [r7, #4]
 6621 0228 FB62     		str	r3, [r7, #44]
 6622              	.L424:
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
 6623              		.loc 1 3596 18
 6624 022a FB68     		ldr	r3, [r7, #12]
 6625 022c 03F13002 		add	r2, r3, #48
 6626              		.loc 1 3596 30
 6627 0230 FB68     		ldr	r3, [r7, #12]
 6628 0232 9B69     		ldr	r3, [r3, #24]
 6629              		.loc 1 3596 37
 6630 0234 C3F30803 		ubfx	r3, r3, #0, #9
 6631              		.loc 1 3596 3
 6632 0238 1344     		add	r3, r3, r2
 6633 023a FA6A     		ldr	r2, [r7, #44]
 6634 023c 1946     		mov	r1, r3
 6635 023e 786A     		ldr	r0, [r7, #36]
 6636 0240 FFF7FEFF 		bl	mem_cpy
 6637              	.L420:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6638              		.loc 1 3534 9
 6639 0244 7A6A     		ldr	r2, [r7, #36]
 6640 0246 FB6A     		ldr	r3, [r7, #44]
 6641 0248 1344     		add	r3, r3, r2
 6642 024a 7B62     		str	r3, [r7, #36]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6643              		.loc 1 3534 27
 6644 024c FB68     		ldr	r3, [r7, #12]
 6645 024e 9A69     		ldr	r2, [r3, #24]
 6646 0250 FB6A     		ldr	r3, [r7, #44]
 6647 0252 1A44     		add	r2, r2, r3
 6648 0254 FB68     		ldr	r3, [r7, #12]
 6649 0256 9A61     		str	r2, [r3, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6650              		.loc 1 3534 40
 6651 0258 3B68     		ldr	r3, [r7]
 6652 025a 1A68     		ldr	r2, [r3]
 6653 025c FB6A     		ldr	r3, [r7, #44]
 6654 025e 1A44     		add	r2, r2, r3
 6655 0260 3B68     		ldr	r3, [r7]
 6656 0262 1A60     		str	r2, [r3]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6657              		.loc 1 3534 53
 6658 0264 7A68     		ldr	r2, [r7, #4]
 6659 0266 FB6A     		ldr	r3, [r7, #44]
 6660 0268 D31A     		subs	r3, r2, r3
 6661 026a 7B60     		str	r3, [r7, #4]
 6662              	.L407:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 6663              		.loc 1 3533 11
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 181


 6664 026c 7B68     		ldr	r3, [r7, #4]
 6665 026e 002B     		cmp	r3, #0
 6666 0270 7FF401AF 		bne	.L425
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
 6667              		.loc 1 3600 2
 6668 0274 0023     		movs	r3, #0
 6669              	.L426:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6670              		.loc 1 3601 1 discriminator 1
 6671 0276 1846     		mov	r0, r3
 6672 0278 3837     		adds	r7, r7, #56
 6673              		.cfi_def_cfa_offset 8
 6674 027a BD46     		mov	sp, r7
 6675              		.cfi_def_cfa_register 13
 6676              		@ sp needed
 6677 027c 80BD     		pop	{r7, pc}
 6678              		.cfi_endproc
 6679              	.LFE361:
 6681              		.section	.text.f_write,"ax",%progbits
 6682              		.align	1
 6683              		.global	f_write
 6684              		.syntax unified
 6685              		.thumb
 6686              		.thumb_func
 6688              	f_write:
 6689              	.LFB362:
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6690              		.loc 1 3617 1
 6691              		.cfi_startproc
 6692              		@ args = 0, pretend = 0, frame = 48
 6693              		@ frame_needed = 1, uses_anonymous_args = 0
 6694 0000 80B5     		push	{r7, lr}
 6695              		.cfi_def_cfa_offset 8
 6696              		.cfi_offset 7, -8
 6697              		.cfi_offset 14, -4
 6698 0002 8CB0     		sub	sp, sp, #48
 6699              		.cfi_def_cfa_offset 56
 6700 0004 00AF     		add	r7, sp, #0
 6701              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 182


 6702 0006 F860     		str	r0, [r7, #12]
 6703 0008 B960     		str	r1, [r7, #8]
 6704 000a 7A60     		str	r2, [r7, #4]
 6705 000c 3B60     		str	r3, [r7]
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 6706              		.loc 1 3622 14
 6707 000e BB68     		ldr	r3, [r7, #8]
 6708 0010 FB61     		str	r3, [r7, #28]
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 6709              		.loc 1 3625 6
 6710 0012 3B68     		ldr	r3, [r7]
 6711 0014 0022     		movs	r2, #0
 6712 0016 1A60     		str	r2, [r3]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6713              		.loc 1 3626 8
 6714 0018 FB68     		ldr	r3, [r7, #12]
 6715 001a 07F11002 		add	r2, r7, #16
 6716 001e 1146     		mov	r1, r2
 6717 0020 1846     		mov	r0, r3
 6718 0022 FFF7FEFF 		bl	validate
 6719 0026 0346     		mov	r3, r0
 6720 0028 87F82F30 		strb	r3, [r7, #47]
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6721              		.loc 1 3627 5
 6722 002c 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 6723 0030 002B     		cmp	r3, #0
 6724 0032 07D1     		bne	.L428
 6725              		.loc 1 3627 27 discriminator 2
 6726 0034 FB68     		ldr	r3, [r7, #12]
 6727 0036 5B7D     		ldrb	r3, [r3, #21]
 6728 0038 87F82F30 		strb	r3, [r7, #47]
 6729              		.loc 1 3627 19 discriminator 2
 6730 003c 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 6731 0040 002B     		cmp	r3, #0
 6732 0042 02D0     		beq	.L429
 6733              	.L428:
 6734              		.loc 1 3627 57 discriminator 3
 6735 0044 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 6736 0048 4BE1     		b	.L454
 6737              	.L429:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6738              		.loc 1 3628 10
 6739 004a FB68     		ldr	r3, [r7, #12]
 6740 004c 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6741              		.loc 1 3628 17
 6742 004e 03F00203 		and	r3, r3, #2
 6743              		.loc 1 3628 5
 6744 0052 002B     		cmp	r3, #0
 6745 0054 01D1     		bne	.L431
 6746              		.loc 1 3628 30 discriminator 1
 6747 0056 0723     		movs	r3, #7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 183


 6748 0058 43E1     		b	.L454
 6749              	.L431:
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
 6750              		.loc 1 3631 59
 6751 005a FB68     		ldr	r3, [r7, #12]
 6752 005c 9A69     		ldr	r2, [r3, #24]
 6753              		.loc 1 3631 49
 6754 005e 7B68     		ldr	r3, [r7, #4]
 6755 0060 1A44     		add	r2, r2, r3
 6756              		.loc 1 3631 84
 6757 0062 FB68     		ldr	r3, [r7, #12]
 6758 0064 9B69     		ldr	r3, [r3, #24]
 6759              		.loc 1 3631 5
 6760 0066 9A42     		cmp	r2, r3
 6761 0068 80F02D81 		bcs	.L433
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6762              		.loc 1 3632 38
 6763 006c FB68     		ldr	r3, [r7, #12]
 6764 006e 9B69     		ldr	r3, [r3, #24]
 6765              		.loc 1 3632 7
 6766 0070 DB43     		mvns	r3, r3
 6767 0072 7B60     		str	r3, [r7, #4]
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
 6768              		.loc 1 3635 2
 6769 0074 27E1     		b	.L433
 6770              	.L453:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6771              		.loc 1 3637 9
 6772 0076 FB68     		ldr	r3, [r7, #12]
 6773 0078 9B69     		ldr	r3, [r3, #24]
 6774              		.loc 1 3637 16
 6775 007a C3F30803 		ubfx	r3, r3, #0, #9
 6776              		.loc 1 3637 6
 6777 007e 002B     		cmp	r3, #0
 6778 0080 40F0E380 		bne	.L434
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 6779              		.loc 1 3638 21
 6780 0084 FB68     		ldr	r3, [r7, #12]
 6781 0086 9B69     		ldr	r3, [r3, #24]
 6782              		.loc 1 3638 28
 6783 0088 5B0A     		lsrs	r3, r3, #9
 6784              		.loc 1 3638 43
 6785 008a 3A69     		ldr	r2, [r7, #16]
 6786 008c 5289     		ldrh	r2, [r2, #10]
 6787              		.loc 1 3638 51
 6788 008e 013A     		subs	r2, r2, #1
 6789              		.loc 1 3638 10
 6790 0090 1340     		ands	r3, r3, r2
 6791 0092 BB61     		str	r3, [r7, #24]
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 6792              		.loc 1 3639 7
 6793 0094 BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 184


 6794 0096 002B     		cmp	r3, #0
 6795 0098 43D1     		bne	.L435
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6796              		.loc 1 3640 11
 6797 009a FB68     		ldr	r3, [r7, #12]
 6798 009c 9B69     		ldr	r3, [r3, #24]
 6799              		.loc 1 3640 8
 6800 009e 002B     		cmp	r3, #0
 6801 00a0 0CD1     		bne	.L436
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 6802              		.loc 1 3641 11
 6803 00a2 FB68     		ldr	r3, [r7, #12]
 6804 00a4 9B68     		ldr	r3, [r3, #8]
 6805 00a6 BB62     		str	r3, [r7, #40]
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 6806              		.loc 1 3642 9
 6807 00a8 BB6A     		ldr	r3, [r7, #40]
 6808 00aa 002B     		cmp	r3, #0
 6809 00ac 1AD1     		bne	.L437
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 6810              		.loc 1 3643 14
 6811 00ae FB68     		ldr	r3, [r7, #12]
 6812 00b0 0021     		movs	r1, #0
 6813 00b2 1846     		mov	r0, r3
 6814 00b4 FFF7FEFF 		bl	create_chain
 6815 00b8 B862     		str	r0, [r7, #40]
 6816 00ba 13E0     		b	.L437
 6817              	.L436:
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
 6818              		.loc 1 3647 12
 6819 00bc FB68     		ldr	r3, [r7, #12]
 6820 00be DB6A     		ldr	r3, [r3, #44]
 6821              		.loc 1 3647 9
 6822 00c0 002B     		cmp	r3, #0
 6823 00c2 07D0     		beq	.L438
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6824              		.loc 1 3648 14
 6825 00c4 FB68     		ldr	r3, [r7, #12]
 6826 00c6 9B69     		ldr	r3, [r3, #24]
 6827 00c8 1946     		mov	r1, r3
 6828 00ca F868     		ldr	r0, [r7, #12]
 6829 00cc FFF7FEFF 		bl	clmt_clust
 6830 00d0 B862     		str	r0, [r7, #40]
 6831 00d2 07E0     		b	.L437
 6832              	.L438:
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
 6833              		.loc 1 3652 14
 6834 00d4 FA68     		ldr	r2, [r7, #12]
 6835 00d6 FB68     		ldr	r3, [r7, #12]
 6836 00d8 DB69     		ldr	r3, [r3, #28]
 6837 00da 1946     		mov	r1, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 185


 6838 00dc 1046     		mov	r0, r2
 6839 00de FFF7FEFF 		bl	create_chain
 6840 00e2 B862     		str	r0, [r7, #40]
 6841              	.L437:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 6842              		.loc 1 3655 8
 6843 00e4 BB6A     		ldr	r3, [r7, #40]
 6844 00e6 002B     		cmp	r3, #0
 6845 00e8 00F0F280 		beq	.L455
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 6846              		.loc 1 3656 8
 6847 00ec BB6A     		ldr	r3, [r7, #40]
 6848 00ee 012B     		cmp	r3, #1
 6849 00f0 04D1     		bne	.L441
 6850              		.loc 1 3656 20 discriminator 1
 6851 00f2 FB68     		ldr	r3, [r7, #12]
 6852 00f4 0222     		movs	r2, #2
 6853 00f6 5A75     		strb	r2, [r3, #21]
 6854 00f8 0223     		movs	r3, #2
 6855 00fa F2E0     		b	.L454
 6856              	.L441:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6857              		.loc 1 3657 8
 6858 00fc BB6A     		ldr	r3, [r7, #40]
 6859 00fe B3F1FF3F 		cmp	r3, #-1
 6860 0102 04D1     		bne	.L442
 6861              		.loc 1 3657 29 discriminator 1
 6862 0104 FB68     		ldr	r3, [r7, #12]
 6863 0106 0122     		movs	r2, #1
 6864 0108 5A75     		strb	r2, [r3, #21]
 6865 010a 0123     		movs	r3, #1
 6866 010c E9E0     		b	.L454
 6867              	.L442:
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6868              		.loc 1 3658 15
 6869 010e FB68     		ldr	r3, [r7, #12]
 6870 0110 BA6A     		ldr	r2, [r7, #40]
 6871 0112 DA61     		str	r2, [r3, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 6872              		.loc 1 3659 16
 6873 0114 FB68     		ldr	r3, [r7, #12]
 6874 0116 9B68     		ldr	r3, [r3, #8]
 6875              		.loc 1 3659 8
 6876 0118 002B     		cmp	r3, #0
 6877 011a 02D1     		bne	.L435
 6878              		.loc 1 3659 45 discriminator 1
 6879 011c FB68     		ldr	r3, [r7, #12]
 6880 011e BA6A     		ldr	r2, [r7, #40]
 6881 0120 9A60     		str	r2, [r3, #8]
 6882              	.L435:
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 186


 6883              		.loc 1 3664 10
 6884 0122 FB68     		ldr	r3, [r7, #12]
 6885 0124 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6886              		.loc 1 3664 8
 6887 0126 5BB2     		sxtb	r3, r3
 6888              		.loc 1 3664 7
 6889 0128 002B     		cmp	r3, #0
 6890 012a 18DA     		bge	.L443
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6891              		.loc 1 3665 22
 6892 012c 3B69     		ldr	r3, [r7, #16]
 6893              		.loc 1 3665 9
 6894 012e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 6895              		.loc 1 3665 31
 6896 0130 FB68     		ldr	r3, [r7, #12]
 6897 0132 03F13001 		add	r1, r3, #48
 6898              		.loc 1 3665 9
 6899 0136 FB68     		ldr	r3, [r7, #12]
 6900 0138 1A6A     		ldr	r2, [r3, #32]
 6901 013a 0123     		movs	r3, #1
 6902 013c FFF7FEFF 		bl	disk_write
 6903 0140 0346     		mov	r3, r0
 6904              		.loc 1 3665 8
 6905 0142 002B     		cmp	r3, #0
 6906 0144 04D0     		beq	.L444
 6907              		.loc 1 3665 62 discriminator 1
 6908 0146 FB68     		ldr	r3, [r7, #12]
 6909 0148 0122     		movs	r2, #1
 6910 014a 5A75     		strb	r2, [r3, #21]
 6911 014c 0123     		movs	r3, #1
 6912 014e C8E0     		b	.L454
 6913              	.L444:
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6914              		.loc 1 3666 14
 6915 0150 FB68     		ldr	r3, [r7, #12]
 6916 0152 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6917 0154 03F07F03 		and	r3, r3, #127
 6918 0158 DAB2     		uxtb	r2, r3
 6919 015a FB68     		ldr	r3, [r7, #12]
 6920 015c 1A75     		strb	r2, [r3, #20]
 6921              	.L443:
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
 6922              		.loc 1 3669 11
 6923 015e 3A69     		ldr	r2, [r7, #16]
 6924 0160 FB68     		ldr	r3, [r7, #12]
 6925 0162 DB69     		ldr	r3, [r3, #28]
 6926 0164 1946     		mov	r1, r3
 6927 0166 1046     		mov	r0, r2
 6928 0168 FFF7FEFF 		bl	clust2sect
 6929 016c 7861     		str	r0, [r7, #20]
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6930              		.loc 1 3670 7
 6931 016e 7B69     		ldr	r3, [r7, #20]
 6932 0170 002B     		cmp	r3, #0
 6933 0172 04D1     		bne	.L445
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 187


 6934              		.loc 1 3670 15 discriminator 1
 6935 0174 FB68     		ldr	r3, [r7, #12]
 6936 0176 0222     		movs	r2, #2
 6937 0178 5A75     		strb	r2, [r3, #21]
 6938 017a 0223     		movs	r3, #2
 6939 017c B1E0     		b	.L454
 6940              	.L445:
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6941              		.loc 1 3671 9
 6942 017e 7A69     		ldr	r2, [r7, #20]
 6943 0180 BB69     		ldr	r3, [r7, #24]
 6944 0182 1344     		add	r3, r3, r2
 6945 0184 7B61     		str	r3, [r7, #20]
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 6946              		.loc 1 3672 7
 6947 0186 7B68     		ldr	r3, [r7, #4]
 6948 0188 5B0A     		lsrs	r3, r3, #9
 6949 018a 3B62     		str	r3, [r7, #32]
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6950              		.loc 1 3673 7
 6951 018c 3B6A     		ldr	r3, [r7, #32]
 6952 018e 002B     		cmp	r3, #0
 6953 0190 3CD0     		beq	.L446
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6954              		.loc 1 3674 15
 6955 0192 BA69     		ldr	r2, [r7, #24]
 6956 0194 3B6A     		ldr	r3, [r7, #32]
 6957 0196 1344     		add	r3, r3, r2
 6958              		.loc 1 3674 24
 6959 0198 3A69     		ldr	r2, [r7, #16]
 6960 019a 5289     		ldrh	r2, [r2, #10]
 6961              		.loc 1 3674 8
 6962 019c 9342     		cmp	r3, r2
 6963 019e 05D9     		bls	.L447
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6964              		.loc 1 3675 13
 6965 01a0 3B69     		ldr	r3, [r7, #16]
 6966 01a2 5B89     		ldrh	r3, [r3, #10]
 6967 01a4 1A46     		mov	r2, r3
 6968              		.loc 1 3675 9
 6969 01a6 BB69     		ldr	r3, [r7, #24]
 6970 01a8 D31A     		subs	r3, r2, r3
 6971 01aa 3B62     		str	r3, [r7, #32]
 6972              	.L447:
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6973              		.loc 1 3677 22
 6974 01ac 3B69     		ldr	r3, [r7, #16]
 6975              		.loc 1 3677 9
 6976 01ae 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 6977 01b0 3B6A     		ldr	r3, [r7, #32]
 6978 01b2 7A69     		ldr	r2, [r7, #20]
 6979 01b4 F969     		ldr	r1, [r7, #28]
 6980 01b6 FFF7FEFF 		bl	disk_write
 6981 01ba 0346     		mov	r3, r0
 6982              		.loc 1 3677 8
 6983 01bc 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 188


 6984 01be 04D0     		beq	.L448
 6985              		.loc 1 3677 57 discriminator 1
 6986 01c0 FB68     		ldr	r3, [r7, #12]
 6987 01c2 0122     		movs	r2, #1
 6988 01c4 5A75     		strb	r2, [r3, #21]
 6989 01c6 0123     		movs	r3, #1
 6990 01c8 8BE0     		b	.L454
 6991              	.L448:
3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
 6992              		.loc 1 3685 11
 6993 01ca FB68     		ldr	r3, [r7, #12]
 6994 01cc 1A6A     		ldr	r2, [r3, #32]
 6995              		.loc 1 3685 18
 6996 01ce 7B69     		ldr	r3, [r7, #20]
 6997 01d0 D31A     		subs	r3, r2, r3
 6998              		.loc 1 3685 8
 6999 01d2 3A6A     		ldr	r2, [r7, #32]
 7000 01d4 9A42     		cmp	r2, r3
 7001 01d6 15D9     		bls	.L449
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 7002              		.loc 1 3686 16
 7003 01d8 FB68     		ldr	r3, [r7, #12]
 7004 01da 03F13000 		add	r0, r3, #48
 7005              		.loc 1 3686 35
 7006 01de FB68     		ldr	r3, [r7, #12]
 7007 01e0 1A6A     		ldr	r2, [r3, #32]
 7008              		.loc 1 3686 42
 7009 01e2 7B69     		ldr	r3, [r7, #20]
 7010 01e4 D31A     		subs	r3, r2, r3
 7011              		.loc 1 3686 50
 7012 01e6 5B02     		lsls	r3, r3, #9
 7013              		.loc 1 3686 29
 7014 01e8 FA69     		ldr	r2, [r7, #28]
 7015 01ea 1344     		add	r3, r3, r2
 7016              		.loc 1 3686 6
 7017 01ec 4FF40072 		mov	r2, #512
 7018 01f0 1946     		mov	r1, r3
 7019 01f2 FFF7FEFF 		bl	mem_cpy
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7020              		.loc 1 3687 15
 7021 01f6 FB68     		ldr	r3, [r7, #12]
 7022 01f8 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7023 01fa 03F07F03 		and	r3, r3, #127
 7024 01fe DAB2     		uxtb	r2, r3
 7025 0200 FB68     		ldr	r3, [r7, #12]
 7026 0202 1A75     		strb	r2, [r3, #20]
 7027              	.L449:
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 189


3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
 7028              		.loc 1 3691 10
 7029 0204 3B6A     		ldr	r3, [r7, #32]
 7030 0206 5B02     		lsls	r3, r3, #9
 7031 0208 7B62     		str	r3, [r7, #36]
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7032              		.loc 1 3692 5
 7033 020a 3FE0     		b	.L450
 7034              	.L446:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
 7035              		.loc 1 3700 10
 7036 020c FB68     		ldr	r3, [r7, #12]
 7037 020e 1B6A     		ldr	r3, [r3, #32]
 7038              		.loc 1 3700 7
 7039 0210 7A69     		ldr	r2, [r7, #20]
 7040 0212 9A42     		cmp	r2, r3
 7041 0214 16D0     		beq	.L451
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7042              		.loc 1 3701 7 discriminator 1
 7043 0216 FB68     		ldr	r3, [r7, #12]
 7044 0218 9A69     		ldr	r2, [r3, #24]
 7045              		.loc 1 3701 23 discriminator 1
 7046 021a FB68     		ldr	r3, [r7, #12]
 7047 021c DB68     		ldr	r3, [r3, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7048              		.loc 1 3700 25 discriminator 1
 7049 021e 9A42     		cmp	r2, r3
 7050 0220 10D2     		bcs	.L451
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 7051              		.loc 1 3702 17
 7052 0222 3B69     		ldr	r3, [r7, #16]
 7053              		.loc 1 3702 5
 7054 0224 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7055              		.loc 1 3702 26
 7056 0226 FB68     		ldr	r3, [r7, #12]
 7057 0228 03F13001 		add	r1, r3, #48
 7058              		.loc 1 3702 5
 7059 022c 0123     		movs	r3, #1
 7060 022e 7A69     		ldr	r2, [r7, #20]
 7061 0230 FFF7FEFF 		bl	disk_read
 7062 0234 0346     		mov	r3, r0
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7063              		.loc 1 3701 32
 7064 0236 002B     		cmp	r3, #0
 7065 0238 04D0     		beq	.L451
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 7066              		.loc 1 3703 6
 7067 023a FB68     		ldr	r3, [r7, #12]
 7068 023c 0122     		movs	r2, #1
 7069 023e 5A75     		strb	r2, [r3, #21]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 190


 7070 0240 0123     		movs	r3, #1
 7071 0242 4EE0     		b	.L454
 7072              	.L451:
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
 7073              		.loc 1 3706 13
 7074 0244 FB68     		ldr	r3, [r7, #12]
 7075 0246 7A69     		ldr	r2, [r7, #20]
 7076 0248 1A62     		str	r2, [r3, #32]
 7077              	.L434:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
 7078              		.loc 1 3708 27
 7079 024a FB68     		ldr	r3, [r7, #12]
 7080 024c 9B69     		ldr	r3, [r3, #24]
 7081              		.loc 1 3708 34
 7082 024e C3F30803 		ubfx	r3, r3, #0, #9
 7083              		.loc 1 3708 8
 7084 0252 C3F50073 		rsb	r3, r3, #512
 7085 0256 7B62     		str	r3, [r7, #36]
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 7086              		.loc 1 3709 6
 7087 0258 7A6A     		ldr	r2, [r7, #36]
 7088 025a 7B68     		ldr	r3, [r7, #4]
 7089 025c 9A42     		cmp	r2, r3
 7090 025e 01D9     		bls	.L452
 7091              		.loc 1 3709 24 discriminator 1
 7092 0260 7B68     		ldr	r3, [r7, #4]
 7093 0262 7B62     		str	r3, [r7, #36]
 7094              	.L452:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
 7095              		.loc 1 3715 11
 7096 0264 FB68     		ldr	r3, [r7, #12]
 7097 0266 03F13002 		add	r2, r3, #48
 7098              		.loc 1 3715 23
 7099 026a FB68     		ldr	r3, [r7, #12]
 7100 026c 9B69     		ldr	r3, [r3, #24]
 7101              		.loc 1 3715 30
 7102 026e C3F30803 		ubfx	r3, r3, #0, #9
 7103              		.loc 1 3715 3
 7104 0272 1344     		add	r3, r3, r2
 7105 0274 7A6A     		ldr	r2, [r7, #36]
 7106 0276 F969     		ldr	r1, [r7, #28]
 7107 0278 1846     		mov	r0, r3
 7108 027a FFF7FEFF 		bl	mem_cpy
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 7109              		.loc 1 3716 12
 7110 027e FB68     		ldr	r3, [r7, #12]
 7111 0280 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7112 0282 63F07F03 		orn	r3, r3, #127
 7113 0286 DAB2     		uxtb	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 191


 7114 0288 FB68     		ldr	r3, [r7, #12]
 7115 028a 1A75     		strb	r2, [r3, #20]
 7116              	.L450:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7117              		.loc 1 3636 9
 7118 028c FA69     		ldr	r2, [r7, #28]
 7119 028e 7B6A     		ldr	r3, [r7, #36]
 7120 0290 1344     		add	r3, r3, r2
 7121 0292 FB61     		str	r3, [r7, #28]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7122              		.loc 1 3636 27
 7123 0294 FB68     		ldr	r3, [r7, #12]
 7124 0296 9A69     		ldr	r2, [r3, #24]
 7125 0298 7B6A     		ldr	r3, [r7, #36]
 7126 029a 1A44     		add	r2, r2, r3
 7127 029c FB68     		ldr	r3, [r7, #12]
 7128 029e 9A61     		str	r2, [r3, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7129              		.loc 1 3636 73
 7130 02a0 FB68     		ldr	r3, [r7, #12]
 7131 02a2 DA68     		ldr	r2, [r3, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7132              		.loc 1 3636 57
 7133 02a4 FB68     		ldr	r3, [r7, #12]
 7134 02a6 9B69     		ldr	r3, [r3, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7135              		.loc 1 3636 94
 7136 02a8 9A42     		cmp	r2, r3
 7137 02aa 38BF     		it	cc
 7138 02ac 1A46     		movcc	r2, r3
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7139              		.loc 1 3636 52
 7140 02ae FB68     		ldr	r3, [r7, #12]
 7141 02b0 DA60     		str	r2, [r3, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7142              		.loc 1 3636 117
 7143 02b2 3B68     		ldr	r3, [r7]
 7144 02b4 1A68     		ldr	r2, [r3]
 7145 02b6 7B6A     		ldr	r3, [r7, #36]
 7146 02b8 1A44     		add	r2, r2, r3
 7147 02ba 3B68     		ldr	r3, [r7]
 7148 02bc 1A60     		str	r2, [r3]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7149              		.loc 1 3636 130
 7150 02be 7A68     		ldr	r2, [r7, #4]
 7151 02c0 7B6A     		ldr	r3, [r7, #36]
 7152 02c2 D31A     		subs	r3, r2, r3
 7153 02c4 7B60     		str	r3, [r7, #4]
 7154              	.L433:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 7155              		.loc 1 3635 11
 7156 02c6 7B68     		ldr	r3, [r7, #4]
 7157 02c8 002B     		cmp	r3, #0
 7158 02ca 7FF4D4AE 		bne	.L453
 7159 02ce 00E0     		b	.L440
 7160              	.L455:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 192


 7161              		.loc 1 3655 20
 7162 02d0 00BF     		nop
 7163              	.L440:
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
 7164              		.loc 1 3720 11
 7165 02d2 FB68     		ldr	r3, [r7, #12]
 7166 02d4 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7167 02d6 43F04003 		orr	r3, r3, #64
 7168 02da DAB2     		uxtb	r2, r3
 7169 02dc FB68     		ldr	r3, [r7, #12]
 7170 02de 1A75     		strb	r2, [r3, #20]
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
 7171              		.loc 1 3722 2
 7172 02e0 0023     		movs	r3, #0
 7173              	.L454:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7174              		.loc 1 3723 1 discriminator 1
 7175 02e2 1846     		mov	r0, r3
 7176 02e4 3037     		adds	r7, r7, #48
 7177              		.cfi_def_cfa_offset 8
 7178 02e6 BD46     		mov	sp, r7
 7179              		.cfi_def_cfa_register 13
 7180              		@ sp needed
 7181 02e8 80BD     		pop	{r7, pc}
 7182              		.cfi_endproc
 7183              	.LFE362:
 7185              		.section	.text.f_sync,"ax",%progbits
 7186              		.align	1
 7187              		.global	f_sync
 7188              		.syntax unified
 7189              		.thumb
 7190              		.thumb_func
 7192              	f_sync:
 7193              	.LFB363:
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7194              		.loc 1 3735 1
 7195              		.cfi_startproc
 7196              		@ args = 0, pretend = 0, frame = 24
 7197              		@ frame_needed = 1, uses_anonymous_args = 0
 7198 0000 80B5     		push	{r7, lr}
 7199              		.cfi_def_cfa_offset 8
 7200              		.cfi_offset 7, -8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 193


 7201              		.cfi_offset 14, -4
 7202 0002 86B0     		sub	sp, sp, #24
 7203              		.cfi_def_cfa_offset 32
 7204 0004 00AF     		add	r7, sp, #0
 7205              		.cfi_def_cfa_register 7
 7206 0006 7860     		str	r0, [r7, #4]
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
 7207              		.loc 1 3745 8
 7208 0008 7B68     		ldr	r3, [r7, #4]
 7209 000a 07F10802 		add	r2, r7, #8
 7210 000e 1146     		mov	r1, r2
 7211 0010 1846     		mov	r0, r3
 7212 0012 FFF7FEFF 		bl	validate
 7213 0016 0346     		mov	r3, r0
 7214 0018 FB75     		strb	r3, [r7, #23]
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7215              		.loc 1 3746 5
 7216 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 7217 001c 002B     		cmp	r3, #0
 7218 001e 68D1     		bne	.L457
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 7219              		.loc 1 3747 9
 7220 0020 7B68     		ldr	r3, [r7, #4]
 7221 0022 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7222              		.loc 1 3747 16
 7223 0024 03F04003 		and	r3, r3, #64
 7224              		.loc 1 3747 6
 7225 0028 002B     		cmp	r3, #0
 7226 002a 62D0     		beq	.L457
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
 7227              		.loc 1 3749 10
 7228 002c 7B68     		ldr	r3, [r7, #4]
 7229 002e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7230              		.loc 1 3749 8
 7231 0030 5BB2     		sxtb	r3, r3
 7232              		.loc 1 3749 7
 7233 0032 002B     		cmp	r3, #0
 7234 0034 15DA     		bge	.L458
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 7235              		.loc 1 3750 22
 7236 0036 BB68     		ldr	r3, [r7, #8]
 7237              		.loc 1 3750 9
 7238 0038 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7239              		.loc 1 3750 31
 7240 003a 7B68     		ldr	r3, [r7, #4]
 7241 003c 03F13001 		add	r1, r3, #48
 7242              		.loc 1 3750 9
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 194


 7243 0040 7B68     		ldr	r3, [r7, #4]
 7244 0042 1A6A     		ldr	r2, [r3, #32]
 7245 0044 0123     		movs	r3, #1
 7246 0046 FFF7FEFF 		bl	disk_write
 7247 004a 0346     		mov	r3, r0
 7248              		.loc 1 3750 8
 7249 004c 002B     		cmp	r3, #0
 7250 004e 01D0     		beq	.L459
 7251              		.loc 1 3750 62 discriminator 1
 7252 0050 0123     		movs	r3, #1
 7253 0052 4FE0     		b	.L461
 7254              	.L459:
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7255              		.loc 1 3751 14
 7256 0054 7B68     		ldr	r3, [r7, #4]
 7257 0056 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7258 0058 03F07F03 		and	r3, r3, #127
 7259 005c DAB2     		uxtb	r2, r3
 7260 005e 7B68     		ldr	r3, [r7, #4]
 7261 0060 1A75     		strb	r2, [r3, #20]
 7262              	.L458:
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
 7263              		.loc 1 3755 9
 7264 0062 FFF7FEFF 		bl	get_fattime
 7265 0066 3861     		str	r0, [r7, #16]
3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 195


3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
 7266              		.loc 1 3785 11
 7267 0068 BA68     		ldr	r2, [r7, #8]
 7268 006a 7B68     		ldr	r3, [r7, #4]
 7269 006c 5B6A     		ldr	r3, [r3, #36]
 7270 006e 1946     		mov	r1, r3
 7271 0070 1046     		mov	r0, r2
 7272 0072 FFF7FEFF 		bl	move_window
 7273 0076 0346     		mov	r3, r0
 7274 0078 FB75     		strb	r3, [r7, #23]
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 7275              		.loc 1 3786 8
 7276 007a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 7277 007c 002B     		cmp	r3, #0
 7278 007e 38D1     		bne	.L457
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 7279              		.loc 1 3787 10
 7280 0080 7B68     		ldr	r3, [r7, #4]
 7281 0082 9B6A     		ldr	r3, [r3, #40]
 7282 0084 FB60     		str	r3, [r7, #12]
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 7283              		.loc 1 3788 20
 7284 0086 FB68     		ldr	r3, [r7, #12]
 7285 0088 0B33     		adds	r3, r3, #11
 7286 008a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 7287 008c FB68     		ldr	r3, [r7, #12]
 7288 008e 0B33     		adds	r3, r3, #11
 7289 0090 42F02002 		orr	r2, r2, #32
 7290 0094 D2B2     		uxtb	r2, r2
 7291 0096 1A70     		strb	r2, [r3]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 7292              		.loc 1 3789 6
 7293 0098 7B68     		ldr	r3, [r7, #4]
 7294 009a 1868     		ldr	r0, [r3]
 7295 009c 7B68     		ldr	r3, [r7, #4]
 7296 009e 9B68     		ldr	r3, [r3, #8]
 7297 00a0 1A46     		mov	r2, r3
 7298 00a2 F968     		ldr	r1, [r7, #12]
 7299 00a4 FFF7FEFF 		bl	st_clust
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 7300              		.loc 1 3790 6
 7301 00a8 FB68     		ldr	r3, [r7, #12]
 7302 00aa 03F11C02 		add	r2, r3, #28
 7303              		.loc 1 3790 49
 7304 00ae 7B68     		ldr	r3, [r7, #4]
 7305 00b0 DB68     		ldr	r3, [r3, #12]
 7306              		.loc 1 3790 6
 7307 00b2 1946     		mov	r1, r3
 7308 00b4 1046     		mov	r0, r2
 7309 00b6 FFF7FEFF 		bl	st_dword
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 7310              		.loc 1 3791 6
 7311 00ba FB68     		ldr	r3, [r7, #12]
 7312 00bc 1633     		adds	r3, r3, #22
 7313 00be 3969     		ldr	r1, [r7, #16]
 7314 00c0 1846     		mov	r0, r3
 7315 00c2 FFF7FEFF 		bl	st_dword
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 196


3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 7316              		.loc 1 3792 6
 7317 00c6 FB68     		ldr	r3, [r7, #12]
 7318 00c8 1233     		adds	r3, r3, #18
 7319 00ca 0021     		movs	r1, #0
 7320 00cc 1846     		mov	r0, r3
 7321 00ce FFF7FEFF 		bl	st_word
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7322              		.loc 1 3793 8
 7323 00d2 BB68     		ldr	r3, [r7, #8]
 7324              		.loc 1 3793 16
 7325 00d4 0122     		movs	r2, #1
 7326 00d6 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 7327              		.loc 1 3794 12
 7328 00d8 BB68     		ldr	r3, [r7, #8]
 7329 00da 1846     		mov	r0, r3
 7330 00dc FFF7FEFF 		bl	sync_fs
 7331 00e0 0346     		mov	r3, r0
 7332 00e2 FB75     		strb	r3, [r7, #23]
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 7333              		.loc 1 3795 15
 7334 00e4 7B68     		ldr	r3, [r7, #4]
 7335 00e6 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7336 00e8 23F04003 		bic	r3, r3, #64
 7337 00ec DAB2     		uxtb	r2, r3
 7338 00ee 7B68     		ldr	r3, [r7, #4]
 7339 00f0 1A75     		strb	r2, [r3, #20]
 7340              	.L457:
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 7341              		.loc 1 3801 2
 7342 00f2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 7343              	.L461:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7344              		.loc 1 3802 1 discriminator 1
 7345 00f4 1846     		mov	r0, r3
 7346 00f6 1837     		adds	r7, r7, #24
 7347              		.cfi_def_cfa_offset 8
 7348 00f8 BD46     		mov	sp, r7
 7349              		.cfi_def_cfa_register 13
 7350              		@ sp needed
 7351 00fa 80BD     		pop	{r7, pc}
 7352              		.cfi_endproc
 7353              	.LFE363:
 7355              		.section	.text.f_close,"ax",%progbits
 7356              		.align	1
 7357              		.global	f_close
 7358              		.syntax unified
 7359              		.thumb
 7360              		.thumb_func
 7362              	f_close:
 7363              	.LFB364:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 197


3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7364              		.loc 1 3816 1
 7365              		.cfi_startproc
 7366              		@ args = 0, pretend = 0, frame = 16
 7367              		@ frame_needed = 1, uses_anonymous_args = 0
 7368 0000 80B5     		push	{r7, lr}
 7369              		.cfi_def_cfa_offset 8
 7370              		.cfi_offset 7, -8
 7371              		.cfi_offset 14, -4
 7372 0002 84B0     		sub	sp, sp, #16
 7373              		.cfi_def_cfa_offset 24
 7374 0004 00AF     		add	r7, sp, #0
 7375              		.cfi_def_cfa_register 7
 7376 0006 7860     		str	r0, [r7, #4]
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
 7377              		.loc 1 3821 8
 7378 0008 7868     		ldr	r0, [r7, #4]
 7379 000a FFF7FEFF 		bl	f_sync
 7380 000e 0346     		mov	r3, r0
 7381 0010 FB73     		strb	r3, [r7, #15]
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7382              		.loc 1 3822 5
 7383 0012 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 7384 0014 002B     		cmp	r3, #0
 7385 0016 18D1     		bne	.L463
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
 7386              		.loc 1 3825 9
 7387 0018 7B68     		ldr	r3, [r7, #4]
 7388 001a 07F10802 		add	r2, r7, #8
 7389 001e 1146     		mov	r1, r2
 7390 0020 1846     		mov	r0, r3
 7391 0022 FFF7FEFF 		bl	validate
 7392 0026 0346     		mov	r3, r0
 7393 0028 FB73     		strb	r3, [r7, #15]
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7394              		.loc 1 3826 6
 7395 002a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 7396 002c 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 198


 7397 002e 0CD1     		bne	.L463
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
 7398              		.loc 1 3828 10
 7399 0030 7B68     		ldr	r3, [r7, #4]
 7400 0032 1B69     		ldr	r3, [r3, #16]
 7401 0034 1846     		mov	r0, r3
 7402 0036 FFF7FEFF 		bl	dec_lock
 7403 003a 0346     		mov	r3, r0
 7404 003c FB73     		strb	r3, [r7, #15]
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7405              		.loc 1 3829 7
 7406 003e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 7407 0040 002B     		cmp	r3, #0
 7408 0042 02D1     		bne	.L463
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
 7409              		.loc 1 3832 16
 7410 0044 7B68     		ldr	r3, [r7, #4]
 7411 0046 0022     		movs	r2, #0
 7412 0048 1A60     		str	r2, [r3]
 7413              	.L463:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 7414              		.loc 1 3839 9
 7415 004a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7416              		.loc 1 3840 1
 7417 004c 1846     		mov	r0, r3
 7418 004e 1037     		adds	r7, r7, #16
 7419              		.cfi_def_cfa_offset 8
 7420 0050 BD46     		mov	sp, r7
 7421              		.cfi_def_cfa_register 13
 7422              		@ sp needed
 7423 0052 80BD     		pop	{r7, pc}
 7424              		.cfi_endproc
 7425              	.LFE364:
 7427              		.section	.text.f_lseek,"ax",%progbits
 7428              		.align	1
 7429              		.global	f_lseek
 7430              		.syntax unified
 7431              		.thumb
 7432              		.thumb_func
 7434              	f_lseek:
 7435              	.LFB365:
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 199


3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 200


3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 201


3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
 7436              		.loc 1 4005 1
 7437              		.cfi_startproc
 7438              		@ args = 0, pretend = 0, frame = 64
 7439              		@ frame_needed = 1, uses_anonymous_args = 0
 7440 0000 80B5     		push	{r7, lr}
 7441              		.cfi_def_cfa_offset 8
 7442              		.cfi_offset 7, -8
 7443              		.cfi_offset 14, -4
 7444 0002 90B0     		sub	sp, sp, #64
 7445              		.cfi_def_cfa_offset 72
 7446 0004 00AF     		add	r7, sp, #0
 7447              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 202


 7448 0006 7860     		str	r0, [r7, #4]
 7449 0008 3960     		str	r1, [r7]
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
 7450              		.loc 1 4014 8
 7451 000a 7B68     		ldr	r3, [r7, #4]
 7452 000c 07F10802 		add	r2, r7, #8
 7453 0010 1146     		mov	r1, r2
 7454 0012 1846     		mov	r0, r3
 7455 0014 FFF7FEFF 		bl	validate
 7456 0018 0346     		mov	r3, r0
 7457 001a 87F83F30 		strb	r3, [r7, #63]
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7458              		.loc 1 4015 5
 7459 001e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 7460 0022 002B     		cmp	r3, #0
 7461 0024 03D1     		bne	.L466
 7462              		.loc 1 4015 24 discriminator 1
 7463 0026 7B68     		ldr	r3, [r7, #4]
 7464 0028 5B7D     		ldrb	r3, [r3, #21]
 7465 002a 87F83F30 		strb	r3, [r7, #63]
 7466              	.L466:
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
 7467              		.loc 1 4021 5
 7468 002e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 7469 0032 002B     		cmp	r3, #0
 7470 0034 02D0     		beq	.L467
 7471              		.loc 1 4021 20 discriminator 1
 7472 0036 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 7473 003a E6E1     		b	.L504
 7474              	.L467:
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
 7475              		.loc 1 4024 8
 7476 003c 7B68     		ldr	r3, [r7, #4]
 7477 003e DB6A     		ldr	r3, [r3, #44]
 7478              		.loc 1 4024 5
 7479 0040 002B     		cmp	r3, #0
 7480 0042 00F0D180 		beq	.L469
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7481              		.loc 1 4025 6
 7482 0046 3B68     		ldr	r3, [r7]
 7483 0048 B3F1FF3F 		cmp	r3, #-1
 7484 004c 5AD1     		bne	.L470
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 203


4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7485              		.loc 1 4026 8
 7486 004e 7B68     		ldr	r3, [r7, #4]
 7487 0050 DB6A     		ldr	r3, [r3, #44]
 7488 0052 7B62     		str	r3, [r7, #36]
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 7489              		.loc 1 4027 15
 7490 0054 7B6A     		ldr	r3, [r7, #36]
 7491 0056 1A1D     		adds	r2, r3, #4
 7492 0058 7A62     		str	r2, [r7, #36]
 7493              		.loc 1 4027 9
 7494 005a 1B68     		ldr	r3, [r3]
 7495 005c 7B61     		str	r3, [r7, #20]
 7496              		.loc 1 4027 24
 7497 005e 0223     		movs	r3, #2
 7498 0060 BB62     		str	r3, [r7, #40]
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7499              		.loc 1 4028 7
 7500 0062 7B68     		ldr	r3, [r7, #4]
 7501 0064 9B68     		ldr	r3, [r3, #8]
 7502 0066 3B63     		str	r3, [r7, #48]
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7503              		.loc 1 4029 7
 7504 0068 3B6B     		ldr	r3, [r7, #48]
 7505 006a 002B     		cmp	r3, #0
 7506 006c 3AD0     		beq	.L471
 7507              	.L476:
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
 7508              		.loc 1 4032 10
 7509 006e 3B6B     		ldr	r3, [r7, #48]
 7510 0070 3B61     		str	r3, [r7, #16]
 7511              		.loc 1 4032 20
 7512 0072 0023     		movs	r3, #0
 7513 0074 FB62     		str	r3, [r7, #44]
 7514              		.loc 1 4032 30
 7515 0076 BB6A     		ldr	r3, [r7, #40]
 7516 0078 0233     		adds	r3, r3, #2
 7517 007a BB62     		str	r3, [r7, #40]
 7518              	.L474:
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 7519              		.loc 1 4034 11
 7520 007c 3B6B     		ldr	r3, [r7, #48]
 7521 007e FB60     		str	r3, [r7, #12]
 7522              		.loc 1 4034 20
 7523 0080 FB6A     		ldr	r3, [r7, #44]
 7524 0082 0133     		adds	r3, r3, #1
 7525 0084 FB62     		str	r3, [r7, #44]
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7526              		.loc 1 4035 12
 7527 0086 7B68     		ldr	r3, [r7, #4]
 7528 0088 396B     		ldr	r1, [r7, #48]
 7529 008a 1846     		mov	r0, r3
 7530 008c FFF7FEFF 		bl	get_fat
 7531 0090 3863     		str	r0, [r7, #48]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 204


4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7532              		.loc 1 4036 10
 7533 0092 3B6B     		ldr	r3, [r7, #48]
 7534 0094 012B     		cmp	r3, #1
 7535 0096 04D8     		bhi	.L472
 7536              		.loc 1 4036 20 discriminator 1
 7537 0098 7B68     		ldr	r3, [r7, #4]
 7538 009a 0222     		movs	r2, #2
 7539 009c 5A75     		strb	r2, [r3, #21]
 7540 009e 0223     		movs	r3, #2
 7541 00a0 B3E1     		b	.L504
 7542              	.L472:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7543              		.loc 1 4037 10
 7544 00a2 3B6B     		ldr	r3, [r7, #48]
 7545 00a4 B3F1FF3F 		cmp	r3, #-1
 7546 00a8 04D1     		bne	.L473
 7547              		.loc 1 4037 29 discriminator 1
 7548 00aa 7B68     		ldr	r3, [r7, #4]
 7549 00ac 0122     		movs	r2, #1
 7550 00ae 5A75     		strb	r2, [r3, #21]
 7551 00b0 0123     		movs	r3, #1
 7552 00b2 AAE1     		b	.L504
 7553              	.L473:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7554              		.loc 1 4038 25
 7555 00b4 FB68     		ldr	r3, [r7, #12]
 7556 00b6 0133     		adds	r3, r3, #1
 7557              		.loc 1 4038 18
 7558 00b8 3A6B     		ldr	r2, [r7, #48]
 7559 00ba 9A42     		cmp	r2, r3
 7560 00bc DED0     		beq	.L474
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7561              		.loc 1 4039 9
 7562 00be BA6A     		ldr	r2, [r7, #40]
 7563 00c0 7B69     		ldr	r3, [r7, #20]
 7564 00c2 9A42     		cmp	r2, r3
 7565 00c4 09D8     		bhi	.L475
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7566              		.loc 1 4040 11
 7567 00c6 7B6A     		ldr	r3, [r7, #36]
 7568 00c8 1A1D     		adds	r2, r3, #4
 7569 00ca 7A62     		str	r2, [r7, #36]
 7570              		.loc 1 4040 14
 7571 00cc FA6A     		ldr	r2, [r7, #44]
 7572 00ce 1A60     		str	r2, [r3]
 7573              		.loc 1 4040 25
 7574 00d0 7B6A     		ldr	r3, [r7, #36]
 7575 00d2 1A1D     		adds	r2, r3, #4
 7576 00d4 7A62     		str	r2, [r7, #36]
 7577              		.loc 1 4040 28
 7578 00d6 3A69     		ldr	r2, [r7, #16]
 7579 00d8 1A60     		str	r2, [r3]
 7580              	.L475:
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
 7581              		.loc 1 4042 21
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 205


 7582 00da BB68     		ldr	r3, [r7, #8]
 7583 00dc 5B69     		ldr	r3, [r3, #20]
 7584              		.loc 1 4042 17
 7585 00de 3A6B     		ldr	r2, [r7, #48]
 7586 00e0 9A42     		cmp	r2, r3
 7587 00e2 C4D3     		bcc	.L476
 7588              	.L471:
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
 7589              		.loc 1 4044 7
 7590 00e4 7B68     		ldr	r3, [r7, #4]
 7591 00e6 DB6A     		ldr	r3, [r3, #44]
 7592              		.loc 1 4044 15
 7593 00e8 BA6A     		ldr	r2, [r7, #40]
 7594 00ea 1A60     		str	r2, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 7595              		.loc 1 4045 7
 7596 00ec BA6A     		ldr	r2, [r7, #40]
 7597 00ee 7B69     		ldr	r3, [r7, #20]
 7598 00f0 9A42     		cmp	r2, r3
 7599 00f2 03D8     		bhi	.L477
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7600              		.loc 1 4046 10
 7601 00f4 7B6A     		ldr	r3, [r7, #36]
 7602 00f6 0022     		movs	r2, #0
 7603 00f8 1A60     		str	r2, [r3]
 7604 00fa 84E1     		b	.L478
 7605              	.L477:
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
 7606              		.loc 1 4048 9
 7607 00fc 1123     		movs	r3, #17
 7608 00fe 87F83F30 		strb	r3, [r7, #63]
 7609 0102 80E1     		b	.L478
 7610              	.L470:
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
 7611              		.loc 1 4051 21
 7612 0104 7B68     		ldr	r3, [r7, #4]
 7613 0106 DB68     		ldr	r3, [r3, #12]
 7614              		.loc 1 4051 7
 7615 0108 3A68     		ldr	r2, [r7]
 7616 010a 9A42     		cmp	r2, r3
 7617 010c 02D9     		bls	.L479
 7618              		.loc 1 4051 35 discriminator 1
 7619 010e 7B68     		ldr	r3, [r7, #4]
 7620 0110 DB68     		ldr	r3, [r3, #12]
 7621 0112 3B60     		str	r3, [r7]
 7622              	.L479:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7623              		.loc 1 4052 13
 7624 0114 7B68     		ldr	r3, [r7, #4]
 7625 0116 3A68     		ldr	r2, [r7]
 7626 0118 9A61     		str	r2, [r3, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7627              		.loc 1 4053 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 206


 7628 011a 3B68     		ldr	r3, [r7]
 7629 011c 002B     		cmp	r3, #0
 7630 011e 00F07281 		beq	.L478
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7631              		.loc 1 4054 17
 7632 0122 3B68     		ldr	r3, [r7]
 7633 0124 013B     		subs	r3, r3, #1
 7634 0126 1946     		mov	r1, r3
 7635 0128 7868     		ldr	r0, [r7, #4]
 7636 012a FFF7FEFF 		bl	clmt_clust
 7637 012e 0246     		mov	r2, r0
 7638              		.loc 1 4054 15
 7639 0130 7B68     		ldr	r3, [r7, #4]
 7640 0132 DA61     		str	r2, [r3, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 7641              		.loc 1 4055 11
 7642 0134 BA68     		ldr	r2, [r7, #8]
 7643 0136 7B68     		ldr	r3, [r7, #4]
 7644 0138 DB69     		ldr	r3, [r3, #28]
 7645 013a 1946     		mov	r1, r3
 7646 013c 1046     		mov	r0, r2
 7647 013e FFF7FEFF 		bl	clust2sect
 7648 0142 B861     		str	r0, [r7, #24]
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 7649              		.loc 1 4056 8
 7650 0144 BB69     		ldr	r3, [r7, #24]
 7651 0146 002B     		cmp	r3, #0
 7652 0148 04D1     		bne	.L480
 7653              		.loc 1 4056 15 discriminator 1
 7654 014a 7B68     		ldr	r3, [r7, #4]
 7655 014c 0222     		movs	r2, #2
 7656 014e 5A75     		strb	r2, [r3, #21]
 7657 0150 0223     		movs	r3, #2
 7658 0152 5AE1     		b	.L504
 7659              	.L480:
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7660              		.loc 1 4057 25
 7661 0154 3B68     		ldr	r3, [r7]
 7662 0156 013B     		subs	r3, r3, #1
 7663              		.loc 1 4057 12
 7664 0158 5B0A     		lsrs	r3, r3, #9
 7665              		.loc 1 4057 45
 7666 015a BA68     		ldr	r2, [r7, #8]
 7667 015c 5289     		ldrh	r2, [r2, #10]
 7668              		.loc 1 4057 53
 7669 015e 013A     		subs	r2, r2, #1
 7670              		.loc 1 4057 40
 7671 0160 1340     		ands	r3, r3, r2
 7672              		.loc 1 4057 9
 7673 0162 BA69     		ldr	r2, [r7, #24]
 7674 0164 1344     		add	r3, r3, r2
 7675 0166 BB61     		str	r3, [r7, #24]
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 7676              		.loc 1 4058 11
 7677 0168 7B68     		ldr	r3, [r7, #4]
 7678 016a 9B69     		ldr	r3, [r3, #24]
 7679              		.loc 1 4058 18
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 207


 7680 016c C3F30803 		ubfx	r3, r3, #0, #9
 7681              		.loc 1 4058 8
 7682 0170 002B     		cmp	r3, #0
 7683 0172 00F04881 		beq	.L478
 7684              		.loc 1 4058 39 discriminator 1
 7685 0176 7B68     		ldr	r3, [r7, #4]
 7686 0178 1B6A     		ldr	r3, [r3, #32]
 7687              		.loc 1 4058 27 discriminator 1
 7688 017a BA69     		ldr	r2, [r7, #24]
 7689 017c 9A42     		cmp	r2, r3
 7690 017e 00F04281 		beq	.L478
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
 7691              		.loc 1 4061 12
 7692 0182 7B68     		ldr	r3, [r7, #4]
 7693 0184 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7694              		.loc 1 4061 10
 7695 0186 5BB2     		sxtb	r3, r3
 7696              		.loc 1 4061 9
 7697 0188 002B     		cmp	r3, #0
 7698 018a 18DA     		bge	.L481
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7699              		.loc 1 4062 24
 7700 018c BB68     		ldr	r3, [r7, #8]
 7701              		.loc 1 4062 11
 7702 018e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7703              		.loc 1 4062 33
 7704 0190 7B68     		ldr	r3, [r7, #4]
 7705 0192 03F13001 		add	r1, r3, #48
 7706              		.loc 1 4062 11
 7707 0196 7B68     		ldr	r3, [r7, #4]
 7708 0198 1A6A     		ldr	r2, [r3, #32]
 7709 019a 0123     		movs	r3, #1
 7710 019c FFF7FEFF 		bl	disk_write
 7711 01a0 0346     		mov	r3, r0
 7712              		.loc 1 4062 10
 7713 01a2 002B     		cmp	r3, #0
 7714 01a4 04D0     		beq	.L482
 7715              		.loc 1 4062 64 discriminator 1
 7716 01a6 7B68     		ldr	r3, [r7, #4]
 7717 01a8 0122     		movs	r2, #1
 7718 01aa 5A75     		strb	r2, [r3, #21]
 7719 01ac 0123     		movs	r3, #1
 7720 01ae 2CE1     		b	.L504
 7721              	.L482:
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7722              		.loc 1 4063 16
 7723 01b0 7B68     		ldr	r3, [r7, #4]
 7724 01b2 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7725 01b4 03F07F03 		and	r3, r3, #127
 7726 01b8 DAB2     		uxtb	r2, r3
 7727 01ba 7B68     		ldr	r3, [r7, #4]
 7728 01bc 1A75     		strb	r2, [r3, #20]
 7729              	.L481:
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 208


4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
 7730              		.loc 1 4066 22
 7731 01be BB68     		ldr	r3, [r7, #8]
 7732              		.loc 1 4066 10
 7733 01c0 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7734              		.loc 1 4066 31
 7735 01c2 7B68     		ldr	r3, [r7, #4]
 7736 01c4 03F13001 		add	r1, r3, #48
 7737              		.loc 1 4066 10
 7738 01c8 0123     		movs	r3, #1
 7739 01ca BA69     		ldr	r2, [r7, #24]
 7740 01cc FFF7FEFF 		bl	disk_read
 7741 01d0 0346     		mov	r3, r0
 7742              		.loc 1 4066 9
 7743 01d2 002B     		cmp	r3, #0
 7744 01d4 04D0     		beq	.L483
 7745              		.loc 1 4066 57 discriminator 1
 7746 01d6 7B68     		ldr	r3, [r7, #4]
 7747 01d8 0122     		movs	r2, #1
 7748 01da 5A75     		strb	r2, [r3, #21]
 7749 01dc 0123     		movs	r3, #1
 7750 01de 14E1     		b	.L504
 7751              	.L483:
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
 7752              		.loc 1 4068 15
 7753 01e0 7B68     		ldr	r3, [r7, #4]
 7754 01e2 BA69     		ldr	r2, [r7, #24]
 7755 01e4 1A62     		str	r2, [r3, #32]
 7756 01e6 0EE1     		b	.L478
 7757              	.L469:
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
 7758              		.loc 1 4080 20
 7759 01e8 7B68     		ldr	r3, [r7, #4]
 7760 01ea DB68     		ldr	r3, [r3, #12]
 7761              		.loc 1 4080 6
 7762 01ec 3A68     		ldr	r2, [r7]
 7763 01ee 9A42     		cmp	r2, r3
 7764 01f0 08D9     		bls	.L484
 7765              		.loc 1 4080 53 discriminator 1
 7766 01f2 7B68     		ldr	r3, [r7, #4]
 7767 01f4 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7768              		.loc 1 4080 60 discriminator 1
 7769 01f6 03F00203 		and	r3, r3, #2
 7770              		.loc 1 4080 29 discriminator 1
 7771 01fa 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 209


 7772 01fc 02D1     		bne	.L484
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 7773              		.loc 1 4081 8
 7774 01fe 7B68     		ldr	r3, [r7, #4]
 7775 0200 DB68     		ldr	r3, [r3, #12]
 7776 0202 3B60     		str	r3, [r7]
 7777              	.L484:
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
 7778              		.loc 1 4083 9
 7779 0204 7B68     		ldr	r3, [r7, #4]
 7780 0206 9B69     		ldr	r3, [r3, #24]
 7781 0208 3B62     		str	r3, [r7, #32]
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7782              		.loc 1 4084 20
 7783 020a 0023     		movs	r3, #0
 7784 020c 7B63     		str	r3, [r7, #52]
 7785              		.loc 1 4084 12
 7786 020e 7B68     		ldr	r3, [r7, #4]
 7787 0210 7A6B     		ldr	r2, [r7, #52]
 7788 0212 9A61     		str	r2, [r3, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7789              		.loc 1 4085 6
 7790 0214 3B68     		ldr	r3, [r7]
 7791 0216 002B     		cmp	r3, #0
 7792 0218 00F0A780 		beq	.L485
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 7793              		.loc 1 4086 19
 7794 021c BB68     		ldr	r3, [r7, #8]
 7795 021e 5B89     		ldrh	r3, [r3, #10]
 7796              		.loc 1 4086 8
 7797 0220 5B02     		lsls	r3, r3, #9
 7798 0222 FB61     		str	r3, [r7, #28]
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7799              		.loc 1 4087 7
 7800 0224 3B6A     		ldr	r3, [r7, #32]
 7801 0226 002B     		cmp	r3, #0
 7802 0228 1BD0     		beq	.L486
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7803              		.loc 1 4088 10 discriminator 1
 7804 022a 3B68     		ldr	r3, [r7]
 7805 022c 5A1E     		subs	r2, r3, #1
 7806              		.loc 1 4088 15 discriminator 1
 7807 022e FB69     		ldr	r3, [r7, #28]
 7808 0230 B2FBF3F2 		udiv	r2, r2, r3
 7809              		.loc 1 4088 31 discriminator 1
 7810 0234 3B6A     		ldr	r3, [r7, #32]
 7811 0236 591E     		subs	r1, r3, #1
 7812              		.loc 1 4088 36 discriminator 1
 7813 0238 FB69     		ldr	r3, [r7, #28]
 7814 023a B1FBF3F3 		udiv	r3, r1, r3
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7815              		.loc 1 4087 18 discriminator 1
 7816 023e 9A42     		cmp	r2, r3
 7817 0240 0FD3     		bcc	.L486
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7818              		.loc 1 4089 23
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 210


 7819 0242 3B6A     		ldr	r3, [r7, #32]
 7820 0244 5A1E     		subs	r2, r3, #1
 7821              		.loc 1 4089 30
 7822 0246 FB69     		ldr	r3, [r7, #28]
 7823 0248 5B42     		rsbs	r3, r3, #0
 7824              		.loc 1 4089 28
 7825 024a 1A40     		ands	r2, r2, r3
 7826              		.loc 1 4089 14
 7827 024c 7B68     		ldr	r3, [r7, #4]
 7828 024e 9A61     		str	r2, [r3, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7829              		.loc 1 4090 14
 7830 0250 7B68     		ldr	r3, [r7, #4]
 7831 0252 9B69     		ldr	r3, [r3, #24]
 7832              		.loc 1 4090 9
 7833 0254 3A68     		ldr	r2, [r7]
 7834 0256 D31A     		subs	r3, r2, r3
 7835 0258 3B60     		str	r3, [r7]
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7836              		.loc 1 4091 10
 7837 025a 7B68     		ldr	r3, [r7, #4]
 7838 025c DB69     		ldr	r3, [r3, #28]
 7839 025e BB63     		str	r3, [r7, #56]
 7840 0260 22E0     		b	.L487
 7841              	.L486:
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
 7842              		.loc 1 4093 10
 7843 0262 7B68     		ldr	r3, [r7, #4]
 7844 0264 9B68     		ldr	r3, [r3, #8]
 7845 0266 BB63     		str	r3, [r7, #56]
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
 7846              		.loc 1 4095 8
 7847 0268 BB6B     		ldr	r3, [r7, #56]
 7848 026a 002B     		cmp	r3, #0
 7849 026c 19D1     		bne	.L488
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 7850              		.loc 1 4096 13
 7851 026e 7B68     		ldr	r3, [r7, #4]
 7852 0270 0021     		movs	r1, #0
 7853 0272 1846     		mov	r0, r3
 7854 0274 FFF7FEFF 		bl	create_chain
 7855 0278 B863     		str	r0, [r7, #56]
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 7856              		.loc 1 4097 9
 7857 027a BB6B     		ldr	r3, [r7, #56]
 7858 027c 012B     		cmp	r3, #1
 7859 027e 04D1     		bne	.L489
 7860              		.loc 1 4097 21 discriminator 1
 7861 0280 7B68     		ldr	r3, [r7, #4]
 7862 0282 0222     		movs	r2, #2
 7863 0284 5A75     		strb	r2, [r3, #21]
 7864 0286 0223     		movs	r3, #2
 7865 0288 BFE0     		b	.L504
 7866              	.L489:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 211


 7867              		.loc 1 4098 9
 7868 028a BB6B     		ldr	r3, [r7, #56]
 7869 028c B3F1FF3F 		cmp	r3, #-1
 7870 0290 04D1     		bne	.L490
 7871              		.loc 1 4098 30 discriminator 1
 7872 0292 7B68     		ldr	r3, [r7, #4]
 7873 0294 0122     		movs	r2, #1
 7874 0296 5A75     		strb	r2, [r3, #21]
 7875 0298 0123     		movs	r3, #1
 7876 029a B6E0     		b	.L504
 7877              	.L490:
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 7878              		.loc 1 4099 21
 7879 029c 7B68     		ldr	r3, [r7, #4]
 7880 029e BA6B     		ldr	r2, [r7, #56]
 7881 02a0 9A60     		str	r2, [r3, #8]
 7882              	.L488:
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
 7883              		.loc 1 4102 15
 7884 02a2 7B68     		ldr	r3, [r7, #4]
 7885 02a4 BA6B     		ldr	r2, [r7, #56]
 7886 02a6 DA61     		str	r2, [r3, #28]
 7887              	.L487:
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
 7888              		.loc 1 4104 7
 7889 02a8 BB6B     		ldr	r3, [r7, #56]
 7890 02aa 002B     		cmp	r3, #0
 7891 02ac 5DD0     		beq	.L485
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7892              		.loc 1 4105 11
 7893 02ae 3AE0     		b	.L491
 7894              	.L498:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 7895              		.loc 1 4106 10
 7896 02b0 3A68     		ldr	r2, [r7]
 7897 02b2 FB69     		ldr	r3, [r7, #28]
 7898 02b4 D31A     		subs	r3, r2, r3
 7899 02b6 3B60     		str	r3, [r7]
 7900              		.loc 1 4106 27
 7901 02b8 7B68     		ldr	r3, [r7, #4]
 7902 02ba 9A69     		ldr	r2, [r3, #24]
 7903 02bc FB69     		ldr	r3, [r7, #28]
 7904 02be 1A44     		add	r2, r2, r3
 7905 02c0 7B68     		ldr	r3, [r7, #4]
 7906 02c2 9A61     		str	r2, [r3, #24]
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
 7907              		.loc 1 4108 12
 7908 02c4 7B68     		ldr	r3, [r7, #4]
 7909 02c6 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 7910              		.loc 1 4108 19
 7911 02c8 03F00203 		and	r3, r3, #2
 7912              		.loc 1 4108 9
 7913 02cc 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 212


 7914 02ce 0BD0     		beq	.L492
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
 7915              		.loc 1 4113 14
 7916 02d0 7B68     		ldr	r3, [r7, #4]
 7917 02d2 B96B     		ldr	r1, [r7, #56]
 7918 02d4 1846     		mov	r0, r3
 7919 02d6 FFF7FEFF 		bl	create_chain
 7920 02da B863     		str	r0, [r7, #56]
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 7921              		.loc 1 4114 10
 7922 02dc BB6B     		ldr	r3, [r7, #56]
 7923 02de 002B     		cmp	r3, #0
 7924 02e0 08D1     		bne	.L493
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 7925              		.loc 1 4115 12
 7926 02e2 0023     		movs	r3, #0
 7927 02e4 3B60     		str	r3, [r7]
 7928              		.loc 1 4115 17
 7929 02e6 22E0     		b	.L494
 7930              	.L492:
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
 7931              		.loc 1 4120 14
 7932 02e8 7B68     		ldr	r3, [r7, #4]
 7933 02ea B96B     		ldr	r1, [r7, #56]
 7934 02ec 1846     		mov	r0, r3
 7935 02ee FFF7FEFF 		bl	get_fat
 7936 02f2 B863     		str	r0, [r7, #56]
 7937              	.L493:
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7938              		.loc 1 4122 9
 7939 02f4 BB6B     		ldr	r3, [r7, #56]
 7940 02f6 B3F1FF3F 		cmp	r3, #-1
 7941 02fa 04D1     		bne	.L495
 7942              		.loc 1 4122 30 discriminator 1
 7943 02fc 7B68     		ldr	r3, [r7, #4]
 7944 02fe 0122     		movs	r2, #1
 7945 0300 5A75     		strb	r2, [r3, #21]
 7946 0302 0123     		movs	r3, #1
 7947 0304 81E0     		b	.L504
 7948              	.L495:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 7949              		.loc 1 4123 9
 7950 0306 BB6B     		ldr	r3, [r7, #56]
 7951 0308 012B     		cmp	r3, #1
 7952 030a 04D9     		bls	.L496
 7953              		.loc 1 4123 33 discriminator 2
 7954 030c BB68     		ldr	r3, [r7, #8]
 7955 030e 5B69     		ldr	r3, [r3, #20]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 213


 7956              		.loc 1 4123 20 discriminator 2
 7957 0310 BA6B     		ldr	r2, [r7, #56]
 7958 0312 9A42     		cmp	r2, r3
 7959 0314 04D3     		bcc	.L497
 7960              	.L496:
 7961              		.loc 1 4123 45 discriminator 3
 7962 0316 7B68     		ldr	r3, [r7, #4]
 7963 0318 0222     		movs	r2, #2
 7964 031a 5A75     		strb	r2, [r3, #21]
 7965 031c 0223     		movs	r3, #2
 7966 031e 74E0     		b	.L504
 7967              	.L497:
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7968              		.loc 1 4124 16
 7969 0320 7B68     		ldr	r3, [r7, #4]
 7970 0322 BA6B     		ldr	r2, [r7, #56]
 7971 0324 DA61     		str	r2, [r3, #28]
 7972              	.L491:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 7973              		.loc 1 4105 16
 7974 0326 3A68     		ldr	r2, [r7]
 7975 0328 FB69     		ldr	r3, [r7, #28]
 7976 032a 9A42     		cmp	r2, r3
 7977 032c C0D8     		bhi	.L498
 7978              	.L494:
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
 7979              		.loc 1 4126 14
 7980 032e 7B68     		ldr	r3, [r7, #4]
 7981 0330 9A69     		ldr	r2, [r3, #24]
 7982 0332 3B68     		ldr	r3, [r7]
 7983 0334 1A44     		add	r2, r2, r3
 7984 0336 7B68     		ldr	r3, [r7, #4]
 7985 0338 9A61     		str	r2, [r3, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 7986              		.loc 1 4127 13
 7987 033a 3B68     		ldr	r3, [r7]
 7988 033c C3F30803 		ubfx	r3, r3, #0, #9
 7989              		.loc 1 4127 8
 7990 0340 002B     		cmp	r3, #0
 7991 0342 12D0     		beq	.L485
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 7992              		.loc 1 4128 14
 7993 0344 BB68     		ldr	r3, [r7, #8]
 7994 0346 B96B     		ldr	r1, [r7, #56]
 7995 0348 1846     		mov	r0, r3
 7996 034a FFF7FEFF 		bl	clust2sect
 7997 034e 7863     		str	r0, [r7, #52]
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 7998              		.loc 1 4129 9
 7999 0350 7B6B     		ldr	r3, [r7, #52]
 8000 0352 002B     		cmp	r3, #0
 8001 0354 04D1     		bne	.L499
 8002              		.loc 1 4129 18 discriminator 1
 8003 0356 7B68     		ldr	r3, [r7, #4]
 8004 0358 0222     		movs	r2, #2
 8005 035a 5A75     		strb	r2, [r3, #21]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 214


 8006 035c 0223     		movs	r3, #2
 8007 035e 54E0     		b	.L504
 8008              	.L499:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8009              		.loc 1 4130 15
 8010 0360 3B68     		ldr	r3, [r7]
 8011 0362 5B0A     		lsrs	r3, r3, #9
 8012              		.loc 1 4130 12
 8013 0364 7A6B     		ldr	r2, [r7, #52]
 8014 0366 1344     		add	r3, r3, r2
 8015 0368 7B63     		str	r3, [r7, #52]
 8016              	.L485:
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
 8017              		.loc 1 4134 26
 8018 036a 7B68     		ldr	r3, [r7, #4]
 8019 036c 9A69     		ldr	r2, [r3, #24]
 8020              		.loc 1 4134 42
 8021 036e 7B68     		ldr	r3, [r7, #4]
 8022 0370 DB68     		ldr	r3, [r3, #12]
 8023              		.loc 1 4134 6
 8024 0372 9A42     		cmp	r2, r3
 8025 0374 0AD9     		bls	.L500
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 8026              		.loc 1 4135 24
 8027 0376 7B68     		ldr	r3, [r7, #4]
 8028 0378 9A69     		ldr	r2, [r3, #24]
 8029              		.loc 1 4135 20
 8030 037a 7B68     		ldr	r3, [r7, #4]
 8031 037c DA60     		str	r2, [r3, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 8032              		.loc 1 4136 13
 8033 037e 7B68     		ldr	r3, [r7, #4]
 8034 0380 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 8035 0382 43F04003 		orr	r3, r3, #64
 8036 0386 DAB2     		uxtb	r2, r3
 8037 0388 7B68     		ldr	r3, [r7, #4]
 8038 038a 1A75     		strb	r2, [r3, #20]
 8039              	.L500:
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
 8040              		.loc 1 4138 9
 8041 038c 7B68     		ldr	r3, [r7, #4]
 8042 038e 9B69     		ldr	r3, [r3, #24]
 8043              		.loc 1 4138 16
 8044 0390 C3F30803 		ubfx	r3, r3, #0, #9
 8045              		.loc 1 4138 6
 8046 0394 002B     		cmp	r3, #0
 8047 0396 36D0     		beq	.L478
 8048              		.loc 1 4138 39 discriminator 1
 8049 0398 7B68     		ldr	r3, [r7, #4]
 8050 039a 1B6A     		ldr	r3, [r3, #32]
 8051              		.loc 1 4138 25 discriminator 1
 8052 039c 7A6B     		ldr	r2, [r7, #52]
 8053 039e 9A42     		cmp	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 215


 8054 03a0 31D0     		beq	.L478
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
 8055              		.loc 1 4141 10
 8056 03a2 7B68     		ldr	r3, [r7, #4]
 8057 03a4 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 8058              		.loc 1 4141 8
 8059 03a6 5BB2     		sxtb	r3, r3
 8060              		.loc 1 4141 7
 8061 03a8 002B     		cmp	r3, #0
 8062 03aa 18DA     		bge	.L501
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8063              		.loc 1 4142 22
 8064 03ac BB68     		ldr	r3, [r7, #8]
 8065              		.loc 1 4142 9
 8066 03ae 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8067              		.loc 1 4142 31
 8068 03b0 7B68     		ldr	r3, [r7, #4]
 8069 03b2 03F13001 		add	r1, r3, #48
 8070              		.loc 1 4142 9
 8071 03b6 7B68     		ldr	r3, [r7, #4]
 8072 03b8 1A6A     		ldr	r2, [r3, #32]
 8073 03ba 0123     		movs	r3, #1
 8074 03bc FFF7FEFF 		bl	disk_write
 8075 03c0 0346     		mov	r3, r0
 8076              		.loc 1 4142 8
 8077 03c2 002B     		cmp	r3, #0
 8078 03c4 04D0     		beq	.L502
 8079              		.loc 1 4142 62 discriminator 1
 8080 03c6 7B68     		ldr	r3, [r7, #4]
 8081 03c8 0122     		movs	r2, #1
 8082 03ca 5A75     		strb	r2, [r3, #21]
 8083 03cc 0123     		movs	r3, #1
 8084 03ce 1CE0     		b	.L504
 8085              	.L502:
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8086              		.loc 1 4143 14
 8087 03d0 7B68     		ldr	r3, [r7, #4]
 8088 03d2 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 8089 03d4 03F07F03 		and	r3, r3, #127
 8090 03d8 DAB2     		uxtb	r2, r3
 8091 03da 7B68     		ldr	r3, [r7, #4]
 8092 03dc 1A75     		strb	r2, [r3, #20]
 8093              	.L501:
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
 8094              		.loc 1 4146 20
 8095 03de BB68     		ldr	r3, [r7, #8]
 8096              		.loc 1 4146 8
 8097 03e0 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8098              		.loc 1 4146 29
 8099 03e2 7B68     		ldr	r3, [r7, #4]
 8100 03e4 03F13001 		add	r1, r3, #48
 8101              		.loc 1 4146 8
 8102 03e8 0123     		movs	r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 216


 8103 03ea 7A6B     		ldr	r2, [r7, #52]
 8104 03ec FFF7FEFF 		bl	disk_read
 8105 03f0 0346     		mov	r3, r0
 8106              		.loc 1 4146 7
 8107 03f2 002B     		cmp	r3, #0
 8108 03f4 04D0     		beq	.L503
 8109              		.loc 1 4146 57 discriminator 1
 8110 03f6 7B68     		ldr	r3, [r7, #4]
 8111 03f8 0122     		movs	r2, #1
 8112 03fa 5A75     		strb	r2, [r3, #21]
 8113 03fc 0123     		movs	r3, #1
 8114 03fe 04E0     		b	.L504
 8115              	.L503:
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
 8116              		.loc 1 4148 13
 8117 0400 7B68     		ldr	r3, [r7, #4]
 8118 0402 7A6B     		ldr	r2, [r7, #52]
 8119 0404 1A62     		str	r2, [r3, #32]
 8120              	.L478:
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 8121              		.loc 1 4152 2
 8122 0406 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 8123              	.L504:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8124              		.loc 1 4153 1 discriminator 2
 8125 040a 1846     		mov	r0, r3
 8126 040c 4037     		adds	r7, r7, #64
 8127              		.cfi_def_cfa_offset 8
 8128 040e BD46     		mov	sp, r7
 8129              		.cfi_def_cfa_register 13
 8130              		@ sp needed
 8131 0410 80BD     		pop	{r7, pc}
 8132              		.cfi_endproc
 8133              	.LFE365:
 8135              		.section	.text.f_opendir,"ax",%progbits
 8136              		.align	1
 8137              		.global	f_opendir
 8138              		.syntax unified
 8139              		.thumb
 8140              		.thumb_func
 8142              	f_opendir:
 8143              	.LFB366:
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 217


4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
 8144              		.loc 1 4166 1
 8145              		.cfi_startproc
 8146              		@ args = 0, pretend = 0, frame = 24
 8147              		@ frame_needed = 1, uses_anonymous_args = 0
 8148 0000 80B5     		push	{r7, lr}
 8149              		.cfi_def_cfa_offset 8
 8150              		.cfi_offset 7, -8
 8151              		.cfi_offset 14, -4
 8152 0002 86B0     		sub	sp, sp, #24
 8153              		.cfi_def_cfa_offset 32
 8154 0004 00AF     		add	r7, sp, #0
 8155              		.cfi_def_cfa_register 7
 8156 0006 7860     		str	r0, [r7, #4]
 8157 0008 3960     		str	r1, [r7]
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
 8158              		.loc 1 4173 5
 8159 000a 7B68     		ldr	r3, [r7, #4]
 8160 000c 002B     		cmp	r3, #0
 8161 000e 01D1     		bne	.L506
 8162              		.loc 1 4173 18 discriminator 1
 8163 0010 0923     		movs	r3, #9
 8164 0012 64E0     		b	.L514
 8165              	.L506:
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
 8166              		.loc 1 4176 6
 8167 0014 7B68     		ldr	r3, [r7, #4]
 8168 0016 3B61     		str	r3, [r7, #16]
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 8169              		.loc 1 4177 8
 8170 0018 07F10C01 		add	r1, r7, #12
 8171 001c 3B46     		mov	r3, r7
 8172 001e 0022     		movs	r2, #0
 8173 0020 1846     		mov	r0, r3
 8174 0022 FFF7FEFF 		bl	find_volume
 8175 0026 0346     		mov	r3, r0
 8176 0028 FB75     		strb	r3, [r7, #23]
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8177              		.loc 1 4178 5
 8178 002a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8179 002c 002B     		cmp	r3, #0
 8180 002e 4FD1     		bne	.L508
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 8181              		.loc 1 4179 11
 8182 0030 FA68     		ldr	r2, [r7, #12]
 8183 0032 3B69     		ldr	r3, [r7, #16]
 8184 0034 1A60     		str	r2, [r3]
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 218


4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 8185              		.loc 1 4181 9
 8186 0036 3B68     		ldr	r3, [r7]
 8187 0038 1946     		mov	r1, r3
 8188 003a 7868     		ldr	r0, [r7, #4]
 8189 003c FFF7FEFF 		bl	follow_path
 8190 0040 0346     		mov	r3, r0
 8191 0042 FB75     		strb	r3, [r7, #23]
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8192              		.loc 1 4182 6
 8193 0044 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8194 0046 002B     		cmp	r3, #0
 8195 0048 3DD1     		bne	.L509
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8196              		.loc 1 4183 16
 8197 004a 7B68     		ldr	r3, [r7, #4]
 8198 004c 93F82F30 		ldrb	r3, [r3, #47]	@ zero_extendqisi2
 8199              		.loc 1 4183 8
 8200 0050 5BB2     		sxtb	r3, r3
 8201              		.loc 1 4183 7
 8202 0052 002B     		cmp	r3, #0
 8203 0054 12DB     		blt	.L510
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8204              		.loc 1 4184 12
 8205 0056 3B69     		ldr	r3, [r7, #16]
 8206 0058 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 8207              		.loc 1 4184 19
 8208 005a 03F01003 		and	r3, r3, #16
 8209              		.loc 1 4184 8
 8210 005e 002B     		cmp	r3, #0
 8211 0060 0AD0     		beq	.L511
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
 8212              		.loc 1 4196 21
 8213 0062 FA68     		ldr	r2, [r7, #12]
 8214              		.loc 1 4196 36
 8215 0064 7B68     		ldr	r3, [r7, #4]
 8216 0066 1B6A     		ldr	r3, [r3, #32]
 8217              		.loc 1 4196 21
 8218 0068 1946     		mov	r1, r3
 8219 006a 1046     		mov	r0, r2
 8220 006c FFF7FEFF 		bl	ld_clust
 8221 0070 0246     		mov	r2, r0
 8222              		.loc 1 4196 19
 8223 0072 3B69     		ldr	r3, [r7, #16]
 8224 0074 9A60     		str	r2, [r3, #8]
 8225 0076 01E0     		b	.L510
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 219


 8226              	.L511:
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
 8227              		.loc 1 4199 10
 8228 0078 0523     		movs	r3, #5
 8229 007a FB75     		strb	r3, [r7, #23]
 8230              	.L510:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 8231              		.loc 1 4202 7
 8232 007c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8233 007e 002B     		cmp	r3, #0
 8234 0080 21D1     		bne	.L509
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
 8235              		.loc 1 4203 17
 8236 0082 FB68     		ldr	r3, [r7, #12]
 8237 0084 DA88     		ldrh	r2, [r3, #6]
 8238              		.loc 1 4203 13
 8239 0086 3B69     		ldr	r3, [r7, #16]
 8240 0088 9A80     		strh	r2, [r3, #4]	@ movhi
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8241              		.loc 1 4204 11
 8242 008a 0021     		movs	r1, #0
 8243 008c 7868     		ldr	r0, [r7, #4]
 8244 008e FFF7FEFF 		bl	dir_sdi
 8245 0092 0346     		mov	r3, r0
 8246 0094 FB75     		strb	r3, [r7, #23]
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8247              		.loc 1 4206 8
 8248 0096 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8249 0098 002B     		cmp	r3, #0
 8250 009a 14D1     		bne	.L509
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 8251              		.loc 1 4207 13
 8252 009c 3B69     		ldr	r3, [r7, #16]
 8253 009e 9B68     		ldr	r3, [r3, #8]
 8254              		.loc 1 4207 9
 8255 00a0 002B     		cmp	r3, #0
 8256 00a2 0DD0     		beq	.L512
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8257              		.loc 1 4208 21
 8258 00a4 0021     		movs	r1, #0
 8259 00a6 7868     		ldr	r0, [r7, #4]
 8260 00a8 FFF7FEFF 		bl	inc_lock
 8261 00ac 0246     		mov	r2, r0
 8262              		.loc 1 4208 19
 8263 00ae 3B69     		ldr	r3, [r7, #16]
 8264 00b0 1A61     		str	r2, [r3, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8265              		.loc 1 4209 15
 8266 00b2 3B69     		ldr	r3, [r7, #16]
 8267 00b4 1B69     		ldr	r3, [r3, #16]
 8268              		.loc 1 4209 10
 8269 00b6 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 220


 8270 00b8 05D1     		bne	.L509
 8271              		.loc 1 4209 29 discriminator 1
 8272 00ba 1223     		movs	r3, #18
 8273 00bc FB75     		strb	r3, [r7, #23]
 8274 00be 02E0     		b	.L509
 8275              	.L512:
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
 8276              		.loc 1 4211 19
 8277 00c0 3B69     		ldr	r3, [r7, #16]
 8278 00c2 0022     		movs	r2, #0
 8279 00c4 1A61     		str	r2, [r3, #16]
 8280              	.L509:
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 8281              		.loc 1 4218 6
 8282 00c6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8283 00c8 042B     		cmp	r3, #4
 8284 00ca 01D1     		bne	.L508
 8285              		.loc 1 4218 30 discriminator 1
 8286 00cc 0523     		movs	r3, #5
 8287 00ce FB75     		strb	r3, [r7, #23]
 8288              	.L508:
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
 8289              		.loc 1 4220 5
 8290 00d0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8291 00d2 002B     		cmp	r3, #0
 8292 00d4 02D0     		beq	.L513
 8293              		.loc 1 4220 28 discriminator 1
 8294 00d6 3B69     		ldr	r3, [r7, #16]
 8295 00d8 0022     		movs	r2, #0
 8296 00da 1A60     		str	r2, [r3]
 8297              	.L513:
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 8298              		.loc 1 4222 2
 8299 00dc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8300              	.L514:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8301              		.loc 1 4223 1 discriminator 1
 8302 00de 1846     		mov	r0, r3
 8303 00e0 1837     		adds	r7, r7, #24
 8304              		.cfi_def_cfa_offset 8
 8305 00e2 BD46     		mov	sp, r7
 8306              		.cfi_def_cfa_register 13
 8307              		@ sp needed
 8308 00e4 80BD     		pop	{r7, pc}
 8309              		.cfi_endproc
 8310              	.LFE366:
 8312              		.section	.text.f_closedir,"ax",%progbits
 8313              		.align	1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 221


 8314              		.global	f_closedir
 8315              		.syntax unified
 8316              		.thumb
 8317              		.thumb_func
 8319              	f_closedir:
 8320              	.LFB367:
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
 8321              		.loc 1 4235 1
 8322              		.cfi_startproc
 8323              		@ args = 0, pretend = 0, frame = 16
 8324              		@ frame_needed = 1, uses_anonymous_args = 0
 8325 0000 80B5     		push	{r7, lr}
 8326              		.cfi_def_cfa_offset 8
 8327              		.cfi_offset 7, -8
 8328              		.cfi_offset 14, -4
 8329 0002 84B0     		sub	sp, sp, #16
 8330              		.cfi_def_cfa_offset 24
 8331 0004 00AF     		add	r7, sp, #0
 8332              		.cfi_def_cfa_register 7
 8333 0006 7860     		str	r0, [r7, #4]
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
 8334              		.loc 1 4240 8
 8335 0008 7B68     		ldr	r3, [r7, #4]
 8336 000a 07F10802 		add	r2, r7, #8
 8337 000e 1146     		mov	r1, r2
 8338 0010 1846     		mov	r0, r3
 8339 0012 FFF7FEFF 		bl	validate
 8340 0016 0346     		mov	r3, r0
 8341 0018 FB73     		strb	r3, [r7, #15]
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8342              		.loc 1 4241 5
 8343 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8344 001c 002B     		cmp	r3, #0
 8345 001e 10D1     		bne	.L516
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
 8346              		.loc 1 4243 14
 8347 0020 7B68     		ldr	r3, [r7, #4]
 8348 0022 1B69     		ldr	r3, [r3, #16]
 8349              		.loc 1 4243 6
 8350 0024 002B     		cmp	r3, #0
 8351 0026 06D0     		beq	.L517
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 222


4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8352              		.loc 1 4244 10
 8353 0028 7B68     		ldr	r3, [r7, #4]
 8354 002a 1B69     		ldr	r3, [r3, #16]
 8355 002c 1846     		mov	r0, r3
 8356 002e FFF7FEFF 		bl	dec_lock
 8357 0032 0346     		mov	r3, r0
 8358 0034 FB73     		strb	r3, [r7, #15]
 8359              	.L517:
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 8360              		.loc 1 4246 6
 8361 0036 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8362 0038 002B     		cmp	r3, #0
 8363 003a 02D1     		bne	.L516
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
 8364              		.loc 1 4249 15
 8365 003c 7B68     		ldr	r3, [r7, #4]
 8366 003e 0022     		movs	r2, #0
 8367 0040 1A60     		str	r2, [r3]
 8368              	.L516:
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 8369              		.loc 1 4255 9
 8370 0042 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8371              		.loc 1 4256 1
 8372 0044 1846     		mov	r0, r3
 8373 0046 1037     		adds	r7, r7, #16
 8374              		.cfi_def_cfa_offset 8
 8375 0048 BD46     		mov	sp, r7
 8376              		.cfi_def_cfa_register 13
 8377              		@ sp needed
 8378 004a 80BD     		pop	{r7, pc}
 8379              		.cfi_endproc
 8380              	.LFE367:
 8382              		.section	.text.f_readdir,"ax",%progbits
 8383              		.align	1
 8384              		.global	f_readdir
 8385              		.syntax unified
 8386              		.thumb
 8387              		.thumb_func
 8389              	f_readdir:
 8390              	.LFB368:
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 223


4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
 8391              		.loc 1 4269 1
 8392              		.cfi_startproc
 8393              		@ args = 0, pretend = 0, frame = 16
 8394              		@ frame_needed = 1, uses_anonymous_args = 0
 8395 0000 80B5     		push	{r7, lr}
 8396              		.cfi_def_cfa_offset 8
 8397              		.cfi_offset 7, -8
 8398              		.cfi_offset 14, -4
 8399 0002 84B0     		sub	sp, sp, #16
 8400              		.cfi_def_cfa_offset 24
 8401 0004 00AF     		add	r7, sp, #0
 8402              		.cfi_def_cfa_register 7
 8403 0006 7860     		str	r0, [r7, #4]
 8404 0008 3960     		str	r1, [r7]
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
 8405              		.loc 1 4275 8
 8406 000a 7B68     		ldr	r3, [r7, #4]
 8407 000c 07F10802 		add	r2, r7, #8
 8408 0010 1146     		mov	r1, r2
 8409 0012 1846     		mov	r0, r3
 8410 0014 FFF7FEFF 		bl	validate
 8411 0018 0346     		mov	r3, r0
 8412 001a FB73     		strb	r3, [r7, #15]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8413              		.loc 1 4276 5
 8414 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8415 001e 002B     		cmp	r3, #0
 8416 0020 26D1     		bne	.L520
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8417              		.loc 1 4277 6
 8418 0022 3B68     		ldr	r3, [r7]
 8419 0024 002B     		cmp	r3, #0
 8420 0026 06D1     		bne	.L521
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8421              		.loc 1 4278 10
 8422 0028 0021     		movs	r1, #0
 8423 002a 7868     		ldr	r0, [r7, #4]
 8424 002c FFF7FEFF 		bl	dir_sdi
 8425 0030 0346     		mov	r3, r0
 8426 0032 FB73     		strb	r3, [r7, #15]
 8427 0034 1CE0     		b	.L520
 8428              	.L521:
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 8429              		.loc 1 4281 10
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 224


 8430 0036 0021     		movs	r1, #0
 8431 0038 7868     		ldr	r0, [r7, #4]
 8432 003a FFF7FEFF 		bl	dir_read
 8433 003e 0346     		mov	r3, r0
 8434 0040 FB73     		strb	r3, [r7, #15]
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8435              		.loc 1 4282 7
 8436 0042 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8437 0044 042B     		cmp	r3, #4
 8438 0046 01D1     		bne	.L522
 8439              		.loc 1 4282 31 discriminator 1
 8440 0048 0023     		movs	r3, #0
 8441 004a FB73     		strb	r3, [r7, #15]
 8442              	.L522:
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 8443              		.loc 1 4283 7
 8444 004c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8445 004e 002B     		cmp	r3, #0
 8446 0050 0ED1     		bne	.L520
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8447              		.loc 1 4284 5
 8448 0052 3968     		ldr	r1, [r7]
 8449 0054 7868     		ldr	r0, [r7, #4]
 8450 0056 FFF7FEFF 		bl	get_fileinfo
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 8451              		.loc 1 4285 11
 8452 005a 0021     		movs	r1, #0
 8453 005c 7868     		ldr	r0, [r7, #4]
 8454 005e FFF7FEFF 		bl	dir_next
 8455 0062 0346     		mov	r3, r0
 8456 0064 FB73     		strb	r3, [r7, #15]
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8457              		.loc 1 4286 8
 8458 0066 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8459 0068 042B     		cmp	r3, #4
 8460 006a 01D1     		bne	.L520
 8461              		.loc 1 4286 32 discriminator 1
 8462 006c 0023     		movs	r3, #0
 8463 006e FB73     		strb	r3, [r7, #15]
 8464              	.L520:
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 8465              		.loc 1 4291 2
 8466 0070 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8467              		.loc 1 4292 1
 8468 0072 1846     		mov	r0, r3
 8469 0074 1037     		adds	r7, r7, #16
 8470              		.cfi_def_cfa_offset 8
 8471 0076 BD46     		mov	sp, r7
 8472              		.cfi_def_cfa_register 13
 8473              		@ sp needed
 8474 0078 80BD     		pop	{r7, pc}
 8475              		.cfi_endproc
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 225


 8476              	.LFE368:
 8478              		.section	.text.f_stat,"ax",%progbits
 8479              		.align	1
 8480              		.global	f_stat
 8481              		.syntax unified
 8482              		.thumb
 8483              		.thumb_func
 8485              	f_stat:
 8486              	.LFB369:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 226


4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
 8487              		.loc 1 4357 1
 8488              		.cfi_startproc
 8489              		@ args = 0, pretend = 0, frame = 64
 8490              		@ frame_needed = 1, uses_anonymous_args = 0
 8491 0000 80B5     		push	{r7, lr}
 8492              		.cfi_def_cfa_offset 8
 8493              		.cfi_offset 7, -8
 8494              		.cfi_offset 14, -4
 8495 0002 90B0     		sub	sp, sp, #64
 8496              		.cfi_def_cfa_offset 72
 8497 0004 00AF     		add	r7, sp, #0
 8498              		.cfi_def_cfa_register 7
 8499 0006 7860     		str	r0, [r7, #4]
 8500 0008 3960     		str	r1, [r7]
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
 8501              		.loc 1 4364 8
 8502 000a 07F10C01 		add	r1, r7, #12
 8503 000e 3B1D     		adds	r3, r7, #4
 8504 0010 0022     		movs	r2, #0
 8505 0012 1846     		mov	r0, r3
 8506 0014 FFF7FEFF 		bl	find_volume
 8507 0018 0346     		mov	r3, r0
 8508 001a 87F83F30 		strb	r3, [r7, #63]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8509              		.loc 1 4365 5
 8510 001e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 8511 0022 002B     		cmp	r3, #0
 8512 0024 1FD1     		bne	.L525
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 8513              		.loc 1 4367 9
 8514 0026 7A68     		ldr	r2, [r7, #4]
 8515 0028 07F10C03 		add	r3, r7, #12
 8516 002c 1146     		mov	r1, r2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 227


 8517 002e 1846     		mov	r0, r3
 8518 0030 FFF7FEFF 		bl	follow_path
 8519 0034 0346     		mov	r3, r0
 8520 0036 87F83F30 		strb	r3, [r7, #63]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8521              		.loc 1 4368 6
 8522 003a 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 8523 003e 002B     		cmp	r3, #0
 8524 0040 11D1     		bne	.L525
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 8525              		.loc 1 4369 13
 8526 0042 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 8527              		.loc 1 4369 8
 8528 0046 5BB2     		sxtb	r3, r3
 8529              		.loc 1 4369 7
 8530 0048 002B     		cmp	r3, #0
 8531 004a 03DA     		bge	.L526
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8532              		.loc 1 4370 9
 8533 004c 0623     		movs	r3, #6
 8534 004e 87F83F30 		strb	r3, [r7, #63]
 8535 0052 08E0     		b	.L525
 8536              	.L526:
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 8537              		.loc 1 4372 8
 8538 0054 3B68     		ldr	r3, [r7]
 8539 0056 002B     		cmp	r3, #0
 8540 0058 05D0     		beq	.L525
 8541              		.loc 1 4372 14 discriminator 1
 8542 005a 07F10C03 		add	r3, r7, #12
 8543 005e 3968     		ldr	r1, [r7]
 8544 0060 1846     		mov	r0, r3
 8545 0062 FFF7FEFF 		bl	get_fileinfo
 8546              	.L525:
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
 8547              		.loc 1 4378 2
 8548 0066 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8549              		.loc 1 4379 1
 8550 006a 1846     		mov	r0, r3
 8551 006c 4037     		adds	r7, r7, #64
 8552              		.cfi_def_cfa_offset 8
 8553 006e BD46     		mov	sp, r7
 8554              		.cfi_def_cfa_register 13
 8555              		@ sp needed
 8556 0070 80BD     		pop	{r7, pc}
 8557              		.cfi_endproc
 8558              	.LFE369:
 8560              		.section	.text.f_getfree,"ax",%progbits
 8561              		.align	1
 8562              		.global	f_getfree
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 228


 8563              		.syntax unified
 8564              		.thumb
 8565              		.thumb_func
 8567              	f_getfree:
 8568              	.LFB370:
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
 8569              		.loc 1 4393 1
 8570              		.cfi_startproc
 8571              		@ args = 0, pretend = 0, frame = 72
 8572              		@ frame_needed = 1, uses_anonymous_args = 0
 8573 0000 80B5     		push	{r7, lr}
 8574              		.cfi_def_cfa_offset 8
 8575              		.cfi_offset 7, -8
 8576              		.cfi_offset 14, -4
 8577 0002 92B0     		sub	sp, sp, #72
 8578              		.cfi_def_cfa_offset 80
 8579 0004 00AF     		add	r7, sp, #0
 8580              		.cfi_def_cfa_register 7
 8581 0006 F860     		str	r0, [r7, #12]
 8582 0008 B960     		str	r1, [r7, #8]
 8583 000a 7A60     		str	r2, [r7, #4]
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 8584              		.loc 1 4403 8
 8585 000c 07F12801 		add	r1, r7, #40
 8586 0010 07F10C03 		add	r3, r7, #12
 8587 0014 0022     		movs	r2, #0
 8588 0016 1846     		mov	r0, r3
 8589 0018 FFF7FEFF 		bl	find_volume
 8590 001c 0346     		mov	r3, r0
 8591 001e 87F84730 		strb	r3, [r7, #71]
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8592              		.loc 1 4404 5
 8593 0022 97F84730 		ldrb	r3, [r7, #71]	@ zero_extendqisi2
 8594 0026 002B     		cmp	r3, #0
 8595 0028 40F09980 		bne	.L529
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 229


4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 8596              		.loc 1 4405 10
 8597 002c BA6A     		ldr	r2, [r7, #40]
 8598 002e 7B68     		ldr	r3, [r7, #4]
 8599 0030 1A60     		str	r2, [r3]
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
 8600              		.loc 1 4407 9
 8601 0032 BB6A     		ldr	r3, [r7, #40]
 8602 0034 1A69     		ldr	r2, [r3, #16]
 8603              		.loc 1 4407 26
 8604 0036 BB6A     		ldr	r3, [r7, #40]
 8605 0038 5B69     		ldr	r3, [r3, #20]
 8606              		.loc 1 4407 37
 8607 003a 023B     		subs	r3, r3, #2
 8608              		.loc 1 4407 6
 8609 003c 9A42     		cmp	r2, r3
 8610 003e 04D8     		bhi	.L530
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 8611              		.loc 1 4408 15
 8612 0040 BB6A     		ldr	r3, [r7, #40]
 8613 0042 1A69     		ldr	r2, [r3, #16]
 8614              		.loc 1 4408 11
 8615 0044 BB68     		ldr	r3, [r7, #8]
 8616 0046 1A60     		str	r2, [r3]
 8617 0048 89E0     		b	.L529
 8618              	.L530:
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
 8619              		.loc 1 4411 10
 8620 004a 0023     		movs	r3, #0
 8621 004c 3B64     		str	r3, [r7, #64]
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 8622              		.loc 1 4412 10
 8623 004e BB6A     		ldr	r3, [r7, #40]
 8624 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8625              		.loc 1 4412 7
 8626 0052 012B     		cmp	r3, #1
 8627 0054 28D1     		bne	.L531
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 8628              		.loc 1 4413 10
 8629 0056 0223     		movs	r3, #2
 8630 0058 FB63     		str	r3, [r7, #60]
 8631              		.loc 1 4413 22
 8632 005a BB6A     		ldr	r3, [r7, #40]
 8633 005c 7B61     		str	r3, [r7, #20]
 8634              	.L536:
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 8635              		.loc 1 4415 13
 8636 005e 07F11403 		add	r3, r7, #20
 8637 0062 F96B     		ldr	r1, [r7, #60]
 8638 0064 1846     		mov	r0, r3
 8639 0066 FFF7FEFF 		bl	get_fat
 8640 006a F862     		str	r0, [r7, #44]
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 230


 8641              		.loc 1 4416 9
 8642 006c FB6A     		ldr	r3, [r7, #44]
 8643 006e B3F1FF3F 		cmp	r3, #-1
 8644 0072 03D1     		bne	.L532
 8645              		.loc 1 4416 36 discriminator 1
 8646 0074 0123     		movs	r3, #1
 8647 0076 87F84730 		strb	r3, [r7, #71]
 8648              		.loc 1 4416 51 discriminator 1
 8649 007a 63E0     		b	.L537
 8650              	.L532:
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8651              		.loc 1 4417 9
 8652 007c FB6A     		ldr	r3, [r7, #44]
 8653 007e 012B     		cmp	r3, #1
 8654 0080 03D1     		bne	.L534
 8655              		.loc 1 4417 27 discriminator 1
 8656 0082 0223     		movs	r3, #2
 8657 0084 87F84730 		strb	r3, [r7, #71]
 8658              		.loc 1 4417 41 discriminator 1
 8659 0088 5CE0     		b	.L537
 8660              	.L534:
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 8661              		.loc 1 4418 9
 8662 008a FB6A     		ldr	r3, [r7, #44]
 8663 008c 002B     		cmp	r3, #0
 8664 008e 02D1     		bne	.L535
 8665              		.loc 1 4418 26 discriminator 1
 8666 0090 3B6C     		ldr	r3, [r7, #64]
 8667 0092 0133     		adds	r3, r3, #1
 8668 0094 3B64     		str	r3, [r7, #64]
 8669              	.L535:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8670              		.loc 1 4419 21
 8671 0096 FB6B     		ldr	r3, [r7, #60]
 8672 0098 0133     		adds	r3, r3, #1
 8673 009a FB63     		str	r3, [r7, #60]
 8674              		.loc 1 4419 25
 8675 009c BB6A     		ldr	r3, [r7, #40]
 8676 009e 5B69     		ldr	r3, [r3, #20]
 8677              		.loc 1 4419 21
 8678 00a0 FA6B     		ldr	r2, [r7, #60]
 8679 00a2 9A42     		cmp	r2, r3
 8680 00a4 DBD3     		bcc	.L536
 8681 00a6 4DE0     		b	.L537
 8682              	.L531:
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 231


4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
 8683              		.loc 1 4440 15
 8684 00a8 BB6A     		ldr	r3, [r7, #40]
 8685              		.loc 1 4440 11
 8686 00aa 5B69     		ldr	r3, [r3, #20]
 8687 00ac FB63     		str	r3, [r7, #60]
 8688              		.loc 1 4440 36
 8689 00ae BB6A     		ldr	r3, [r7, #40]
 8690              		.loc 1 4440 32
 8691 00b0 1B6A     		ldr	r3, [r3, #32]
 8692 00b2 BB63     		str	r3, [r7, #56]
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 8693              		.loc 1 4441 8
 8694 00b4 0023     		movs	r3, #0
 8695 00b6 7B63     		str	r3, [r7, #52]
 8696              		.loc 1 4441 15
 8697 00b8 0023     		movs	r3, #0
 8698 00ba 3B63     		str	r3, [r7, #48]
 8699              	.L544:
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 8700              		.loc 1 4443 10
 8701 00bc 7B6B     		ldr	r3, [r7, #52]
 8702 00be 002B     		cmp	r3, #0
 8703 00c0 13D1     		bne	.L538
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 8704              		.loc 1 4444 14
 8705 00c2 B86A     		ldr	r0, [r7, #40]
 8706 00c4 BB6B     		ldr	r3, [r7, #56]
 8707 00c6 5A1C     		adds	r2, r3, #1
 8708 00c8 BA63     		str	r2, [r7, #56]
 8709 00ca 1946     		mov	r1, r3
 8710 00cc FFF7FEFF 		bl	move_window
 8711 00d0 0346     		mov	r3, r0
 8712 00d2 87F84730 		strb	r3, [r7, #71]
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 8713              		.loc 1 4445 11
 8714 00d6 97F84730 		ldrb	r3, [r7, #71]	@ zero_extendqisi2
 8715 00da 002B     		cmp	r3, #0
 8716 00dc 31D1     		bne	.L546
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 8717              		.loc 1 4446 14
 8718 00de BB6A     		ldr	r3, [r7, #40]
 8719              		.loc 1 4446 10
 8720 00e0 3033     		adds	r3, r3, #48
 8721 00e2 3B63     		str	r3, [r7, #48]
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 8722              		.loc 1 4447 10
 8723 00e4 4FF40073 		mov	r3, #512
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 232


 8724 00e8 7B63     		str	r3, [r7, #52]
 8725              	.L538:
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
 8726              		.loc 1 4449 13
 8727 00ea BB6A     		ldr	r3, [r7, #40]
 8728 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8729              		.loc 1 4449 10
 8730 00ee 022B     		cmp	r3, #2
 8731 00f0 0FD1     		bne	.L540
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 8732              		.loc 1 4450 12
 8733 00f2 386B     		ldr	r0, [r7, #48]
 8734 00f4 FFF7FEFF 		bl	ld_word
 8735 00f8 0346     		mov	r3, r0
 8736              		.loc 1 4450 11
 8737 00fa 002B     		cmp	r3, #0
 8738 00fc 02D1     		bne	.L541
 8739              		.loc 1 4450 34 discriminator 1
 8740 00fe 3B6C     		ldr	r3, [r7, #64]
 8741 0100 0133     		adds	r3, r3, #1
 8742 0102 3B64     		str	r3, [r7, #64]
 8743              	.L541:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 8744              		.loc 1 4451 10
 8745 0104 3B6B     		ldr	r3, [r7, #48]
 8746 0106 0233     		adds	r3, r3, #2
 8747 0108 3B63     		str	r3, [r7, #48]
 8748              		.loc 1 4451 18
 8749 010a 7B6B     		ldr	r3, [r7, #52]
 8750 010c 023B     		subs	r3, r3, #2
 8751 010e 7B63     		str	r3, [r7, #52]
 8752 0110 10E0     		b	.L542
 8753              	.L540:
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
 8754              		.loc 1 4453 13
 8755 0112 386B     		ldr	r0, [r7, #48]
 8756 0114 FFF7FEFF 		bl	ld_dword
 8757 0118 0346     		mov	r3, r0
 8758              		.loc 1 4453 25
 8759 011a 23F07043 		bic	r3, r3, #-268435456
 8760              		.loc 1 4453 11
 8761 011e 002B     		cmp	r3, #0
 8762 0120 02D1     		bne	.L543
 8763              		.loc 1 4453 50 discriminator 1
 8764 0122 3B6C     		ldr	r3, [r7, #64]
 8765 0124 0133     		adds	r3, r3, #1
 8766 0126 3B64     		str	r3, [r7, #64]
 8767              	.L543:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8768              		.loc 1 4454 10
 8769 0128 3B6B     		ldr	r3, [r7, #48]
 8770 012a 0433     		adds	r3, r3, #4
 8771 012c 3B63     		str	r3, [r7, #48]
 8772              		.loc 1 4454 18
 8773 012e 7B6B     		ldr	r3, [r7, #52]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 233


 8774 0130 043B     		subs	r3, r3, #4
 8775 0132 7B63     		str	r3, [r7, #52]
 8776              	.L542:
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
 8777              		.loc 1 4456 15
 8778 0134 FB6B     		ldr	r3, [r7, #60]
 8779 0136 013B     		subs	r3, r3, #1
 8780 0138 FB63     		str	r3, [r7, #60]
 8781 013a FB6B     		ldr	r3, [r7, #60]
 8782 013c 002B     		cmp	r3, #0
 8783 013e BDD1     		bne	.L544
 8784 0140 00E0     		b	.L537
 8785              	.L546:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 8786              		.loc 1 4445 26
 8787 0142 00BF     		nop
 8788              	.L537:
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
 8789              		.loc 1 4459 11
 8790 0144 BB68     		ldr	r3, [r7, #8]
 8791 0146 3A6C     		ldr	r2, [r7, #64]
 8792 0148 1A60     		str	r2, [r3]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 8793              		.loc 1 4460 6
 8794 014a BB6A     		ldr	r3, [r7, #40]
 8795              		.loc 1 4460 18
 8796 014c 3A6C     		ldr	r2, [r7, #64]
 8797 014e 1A61     		str	r2, [r3, #16]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 8798              		.loc 1 4461 17
 8799 0150 BB6A     		ldr	r3, [r7, #40]
 8800 0152 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 8801 0154 BB6A     		ldr	r3, [r7, #40]
 8802 0156 42F00102 		orr	r2, r2, #1
 8803 015a D2B2     		uxtb	r2, r2
 8804 015c 1A71     		strb	r2, [r3, #4]
 8805              	.L529:
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 8806              		.loc 1 4465 2
 8807 015e 97F84730 		ldrb	r3, [r7, #71]	@ zero_extendqisi2
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8808              		.loc 1 4466 1
 8809 0162 1846     		mov	r0, r3
 8810 0164 4837     		adds	r7, r7, #72
 8811              		.cfi_def_cfa_offset 8
 8812 0166 BD46     		mov	sp, r7
 8813              		.cfi_def_cfa_register 13
 8814              		@ sp needed
 8815 0168 80BD     		pop	{r7, pc}
 8816              		.cfi_endproc
 8817              	.LFE370:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 234


 8819              		.section	.text.f_truncate,"ax",%progbits
 8820              		.align	1
 8821              		.global	f_truncate
 8822              		.syntax unified
 8823              		.thumb
 8824              		.thumb_func
 8826              	f_truncate:
 8827              	.LFB371:
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
 8828              		.loc 1 4478 1
 8829              		.cfi_startproc
 8830              		@ args = 0, pretend = 0, frame = 24
 8831              		@ frame_needed = 1, uses_anonymous_args = 0
 8832 0000 80B5     		push	{r7, lr}
 8833              		.cfi_def_cfa_offset 8
 8834              		.cfi_offset 7, -8
 8835              		.cfi_offset 14, -4
 8836 0002 86B0     		sub	sp, sp, #24
 8837              		.cfi_def_cfa_offset 32
 8838 0004 00AF     		add	r7, sp, #0
 8839              		.cfi_def_cfa_register 7
 8840 0006 7860     		str	r0, [r7, #4]
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
 8841              		.loc 1 4484 8
 8842 0008 7B68     		ldr	r3, [r7, #4]
 8843 000a 07F10C02 		add	r2, r7, #12
 8844 000e 1146     		mov	r1, r2
 8845 0010 1846     		mov	r0, r3
 8846 0012 FFF7FEFF 		bl	validate
 8847 0016 0346     		mov	r3, r0
 8848 0018 FB75     		strb	r3, [r7, #23]
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 8849              		.loc 1 4485 5
 8850 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8851 001c 002B     		cmp	r3, #0
 8852 001e 05D1     		bne	.L548
 8853              		.loc 1 4485 27 discriminator 2
 8854 0020 7B68     		ldr	r3, [r7, #4]
 8855 0022 5B7D     		ldrb	r3, [r3, #21]
 8856 0024 FB75     		strb	r3, [r7, #23]
 8857              		.loc 1 4485 19 discriminator 2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 235


 8858 0026 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8859 0028 002B     		cmp	r3, #0
 8860 002a 01D0     		beq	.L549
 8861              	.L548:
 8862              		.loc 1 4485 57 discriminator 3
 8863 002c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8864 002e 77E0     		b	.L559
 8865              	.L549:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8866              		.loc 1 4486 10
 8867 0030 7B68     		ldr	r3, [r7, #4]
 8868 0032 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 8869              		.loc 1 4486 17
 8870 0034 03F00203 		and	r3, r3, #2
 8871              		.loc 1 4486 5
 8872 0038 002B     		cmp	r3, #0
 8873 003a 01D1     		bne	.L551
 8874              		.loc 1 4486 30 discriminator 1
 8875 003c 0723     		movs	r3, #7
 8876 003e 6FE0     		b	.L559
 8877              	.L551:
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
 8878              		.loc 1 4488 8
 8879 0040 7B68     		ldr	r3, [r7, #4]
 8880 0042 9A69     		ldr	r2, [r3, #24]
 8881              		.loc 1 4488 24
 8882 0044 7B68     		ldr	r3, [r7, #4]
 8883 0046 DB68     		ldr	r3, [r3, #12]
 8884              		.loc 1 4488 5
 8885 0048 9A42     		cmp	r2, r3
 8886 004a 68D2     		bcs	.L552
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8887              		.loc 1 4489 9
 8888 004c 7B68     		ldr	r3, [r7, #4]
 8889 004e 9B69     		ldr	r3, [r3, #24]
 8890              		.loc 1 4489 6
 8891 0050 002B     		cmp	r3, #0
 8892 0052 0CD1     		bne	.L553
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 8893              		.loc 1 4490 10
 8894 0054 7868     		ldr	r0, [r7, #4]
 8895 0056 7B68     		ldr	r3, [r7, #4]
 8896 0058 9B68     		ldr	r3, [r3, #8]
 8897 005a 0022     		movs	r2, #0
 8898 005c 1946     		mov	r1, r3
 8899 005e FFF7FEFF 		bl	remove_chain
 8900 0062 0346     		mov	r3, r0
 8901 0064 FB75     		strb	r3, [r7, #23]
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 8902              		.loc 1 4491 19
 8903 0066 7B68     		ldr	r3, [r7, #4]
 8904 0068 0022     		movs	r2, #0
 8905 006a 9A60     		str	r2, [r3, #8]
 8906 006c 25E0     		b	.L554
 8907              	.L553:
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 236


4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
 8908              		.loc 1 4493 10
 8909 006e 7A68     		ldr	r2, [r7, #4]
 8910 0070 7B68     		ldr	r3, [r7, #4]
 8911 0072 DB69     		ldr	r3, [r3, #28]
 8912 0074 1946     		mov	r1, r3
 8913 0076 1046     		mov	r0, r2
 8914 0078 FFF7FEFF 		bl	get_fat
 8915 007c 3861     		str	r0, [r7, #16]
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8916              		.loc 1 4494 8
 8917 007e 0023     		movs	r3, #0
 8918 0080 FB75     		strb	r3, [r7, #23]
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8919              		.loc 1 4495 7
 8920 0082 3B69     		ldr	r3, [r7, #16]
 8921 0084 B3F1FF3F 		cmp	r3, #-1
 8922 0088 01D1     		bne	.L555
 8923              		.loc 1 4495 31 discriminator 1
 8924 008a 0123     		movs	r3, #1
 8925 008c FB75     		strb	r3, [r7, #23]
 8926              	.L555:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 8927              		.loc 1 4496 7
 8928 008e 3B69     		ldr	r3, [r7, #16]
 8929 0090 012B     		cmp	r3, #1
 8930 0092 01D1     		bne	.L556
 8931              		.loc 1 4496 22 discriminator 1
 8932 0094 0223     		movs	r3, #2
 8933 0096 FB75     		strb	r3, [r7, #23]
 8934              	.L556:
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 8935              		.loc 1 4497 7
 8936 0098 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8937 009a 002B     		cmp	r3, #0
 8938 009c 0DD1     		bne	.L554
 8939              		.loc 1 4497 32 discriminator 1
 8940 009e FB68     		ldr	r3, [r7, #12]
 8941 00a0 5B69     		ldr	r3, [r3, #20]
 8942              		.loc 1 4497 21 discriminator 1
 8943 00a2 3A69     		ldr	r2, [r7, #16]
 8944 00a4 9A42     		cmp	r2, r3
 8945 00a6 08D2     		bcs	.L554
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 8946              		.loc 1 4498 11
 8947 00a8 7868     		ldr	r0, [r7, #4]
 8948 00aa 7B68     		ldr	r3, [r7, #4]
 8949 00ac DB69     		ldr	r3, [r3, #28]
 8950 00ae 1A46     		mov	r2, r3
 8951 00b0 3969     		ldr	r1, [r7, #16]
 8952 00b2 FFF7FEFF 		bl	remove_chain
 8953 00b6 0346     		mov	r3, r0
 8954 00b8 FB75     		strb	r3, [r7, #23]
 8955              	.L554:
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 237


 8956              		.loc 1 4501 23
 8957 00ba 7B68     		ldr	r3, [r7, #4]
 8958 00bc 9A69     		ldr	r2, [r3, #24]
 8959              		.loc 1 4501 19
 8960 00be 7B68     		ldr	r3, [r7, #4]
 8961 00c0 DA60     		str	r2, [r3, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 8962              		.loc 1 4502 12
 8963 00c2 7B68     		ldr	r3, [r7, #4]
 8964 00c4 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 8965 00c6 43F04003 		orr	r3, r3, #64
 8966 00ca DAB2     		uxtb	r2, r3
 8967 00cc 7B68     		ldr	r3, [r7, #4]
 8968 00ce 1A75     		strb	r2, [r3, #20]
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
 8969              		.loc 1 4504 6
 8970 00d0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8971 00d2 002B     		cmp	r3, #0
 8972 00d4 1BD1     		bne	.L557
 8973              		.loc 1 4504 26 discriminator 1
 8974 00d6 7B68     		ldr	r3, [r7, #4]
 8975 00d8 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 8976              		.loc 1 4504 20 discriminator 1
 8977 00da 5BB2     		sxtb	r3, r3
 8978 00dc 002B     		cmp	r3, #0
 8979 00de 16DA     		bge	.L557
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 8980              		.loc 1 4505 21
 8981 00e0 FB68     		ldr	r3, [r7, #12]
 8982              		.loc 1 4505 8
 8983 00e2 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8984              		.loc 1 4505 30
 8985 00e4 7B68     		ldr	r3, [r7, #4]
 8986 00e6 03F13001 		add	r1, r3, #48
 8987              		.loc 1 4505 8
 8988 00ea 7B68     		ldr	r3, [r7, #4]
 8989 00ec 1A6A     		ldr	r2, [r3, #32]
 8990 00ee 0123     		movs	r3, #1
 8991 00f0 FFF7FEFF 		bl	disk_write
 8992 00f4 0346     		mov	r3, r0
 8993              		.loc 1 4505 7
 8994 00f6 002B     		cmp	r3, #0
 8995 00f8 02D0     		beq	.L558
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 8996              		.loc 1 4506 9
 8997 00fa 0123     		movs	r3, #1
 8998 00fc FB75     		strb	r3, [r7, #23]
 8999 00fe 06E0     		b	.L557
 9000              	.L558:
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9001              		.loc 1 4508 14
 9002 0100 7B68     		ldr	r3, [r7, #4]
 9003 0102 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 9004 0104 03F07F03 		and	r3, r3, #127
 9005 0108 DAB2     		uxtb	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 238


 9006 010a 7B68     		ldr	r3, [r7, #4]
 9007 010c 1A75     		strb	r2, [r3, #20]
 9008              	.L557:
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
 9009              		.loc 1 4512 6
 9010 010e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9011 0110 002B     		cmp	r3, #0
 9012 0112 04D0     		beq	.L552
 9013              		.loc 1 4512 21 discriminator 1
 9014 0114 7B68     		ldr	r3, [r7, #4]
 9015 0116 FA7D     		ldrb	r2, [r7, #23]
 9016 0118 5A75     		strb	r2, [r3, #21]
 9017 011a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9018 011c 00E0     		b	.L559
 9019              	.L552:
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9020              		.loc 1 4515 2
 9021 011e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9022              	.L559:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9023              		.loc 1 4516 1 discriminator 1
 9024 0120 1846     		mov	r0, r3
 9025 0122 1837     		adds	r7, r7, #24
 9026              		.cfi_def_cfa_offset 8
 9027 0124 BD46     		mov	sp, r7
 9028              		.cfi_def_cfa_register 13
 9029              		@ sp needed
 9030 0126 80BD     		pop	{r7, pc}
 9031              		.cfi_endproc
 9032              	.LFE371:
 9034              		.section	.text.f_unlink,"ax",%progbits
 9035              		.align	1
 9036              		.global	f_unlink
 9037              		.syntax unified
 9038              		.thumb
 9039              		.thumb_func
 9041              	f_unlink:
 9042              	.LFB372:
4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
 9043              		.loc 1 4528 1
 9044              		.cfi_startproc
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 239


 9045              		@ args = 0, pretend = 0, frame = 120
 9046              		@ frame_needed = 1, uses_anonymous_args = 0
 9047 0000 80B5     		push	{r7, lr}
 9048              		.cfi_def_cfa_offset 8
 9049              		.cfi_offset 7, -8
 9050              		.cfi_offset 14, -4
 9051 0002 9EB0     		sub	sp, sp, #120
 9052              		.cfi_def_cfa_offset 128
 9053 0004 00AF     		add	r7, sp, #0
 9054              		.cfi_def_cfa_register 7
 9055 0006 7860     		str	r0, [r7, #4]
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 9056              		.loc 1 4531 8
 9057 0008 0023     		movs	r3, #0
 9058 000a 3B67     		str	r3, [r7, #112]
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
 9059              		.loc 1 4540 8
 9060 000c 07F10C01 		add	r1, r7, #12
 9061 0010 3B1D     		adds	r3, r7, #4
 9062 0012 0222     		movs	r2, #2
 9063 0014 1846     		mov	r0, r3
 9064 0016 FFF7FEFF 		bl	find_volume
 9065 001a 0346     		mov	r3, r0
 9066 001c 87F87730 		strb	r3, [r7, #119]
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9067              		.loc 1 4541 12
 9068 0020 FB68     		ldr	r3, [r7, #12]
 9069 0022 3B64     		str	r3, [r7, #64]
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9070              		.loc 1 4542 5
 9071 0024 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9072 0028 002B     		cmp	r3, #0
 9073 002a 40F08E80 		bne	.L561
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9074              		.loc 1 4544 9
 9075 002e 7A68     		ldr	r2, [r7, #4]
 9076 0030 07F14003 		add	r3, r7, #64
 9077 0034 1146     		mov	r1, r2
 9078 0036 1846     		mov	r0, r3
 9079 0038 FFF7FEFF 		bl	follow_path
 9080 003c 0346     		mov	r3, r0
 9081 003e 87F87730 		strb	r3, [r7, #119]
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 240


4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
 9082              		.loc 1 4549 6
 9083 0042 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9084 0046 002B     		cmp	r3, #0
 9085 0048 08D1     		bne	.L562
 9086              		.loc 1 4549 27 discriminator 1
 9087 004a 07F14003 		add	r3, r7, #64
 9088 004e 0221     		movs	r1, #2
 9089 0050 1846     		mov	r0, r3
 9090 0052 FFF7FEFF 		bl	chk_lock
 9091 0056 0346     		mov	r3, r0
 9092 0058 87F87730 		strb	r3, [r7, #119]
 9093              	.L562:
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
 9094              		.loc 1 4551 6
 9095 005c 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9096 0060 002B     		cmp	r3, #0
 9097 0062 72D1     		bne	.L561
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 9098              		.loc 1 4552 13
 9099 0064 97F86F30 		ldrb	r3, [r7, #111]	@ zero_extendqisi2
 9100              		.loc 1 4552 8
 9101 0068 5BB2     		sxtb	r3, r3
 9102              		.loc 1 4552 7
 9103 006a 002B     		cmp	r3, #0
 9104 006c 03DA     		bge	.L563
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9105              		.loc 1 4553 9
 9106 006e 0623     		movs	r3, #6
 9107 0070 87F87730 		strb	r3, [r7, #119]
 9108 0074 08E0     		b	.L564
 9109              	.L563:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
 9110              		.loc 1 4555 15
 9111 0076 97F84630 		ldrb	r3, [r7, #70]	@ zero_extendqisi2
 9112              		.loc 1 4555 21
 9113 007a 03F00103 		and	r3, r3, #1
 9114              		.loc 1 4555 8
 9115 007e 002B     		cmp	r3, #0
 9116 0080 02D0     		beq	.L564
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9117              		.loc 1 4556 10
 9118 0082 0723     		movs	r3, #7
 9119 0084 87F87730 		strb	r3, [r7, #119]
 9120              	.L564:
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 9121              		.loc 1 4559 7
 9122 0088 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9123 008c 002B     		cmp	r3, #0
 9124 008e 34D1     		bne	.L565
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 241


4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
 9125              		.loc 1 4569 14
 9126 0090 FB68     		ldr	r3, [r7, #12]
 9127              		.loc 1 4569 29
 9128 0092 3A6E     		ldr	r2, [r7, #96]
 9129              		.loc 1 4569 14
 9130 0094 1146     		mov	r1, r2
 9131 0096 1846     		mov	r0, r3
 9132 0098 FFF7FEFF 		bl	ld_clust
 9133 009c 3867     		str	r0, [r7, #112]
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
 9134              		.loc 1 4571 15
 9135 009e 97F84630 		ldrb	r3, [r7, #70]	@ zero_extendqisi2
 9136              		.loc 1 4571 21
 9137 00a2 03F01003 		and	r3, r3, #16
 9138              		.loc 1 4571 8
 9139 00a6 002B     		cmp	r3, #0
 9140 00a8 27D0     		beq	.L565
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
 9141              		.loc 1 4578 18
 9142 00aa FB68     		ldr	r3, [r7, #12]
 9143 00ac 3B61     		str	r3, [r7, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 9144              		.loc 1 4579 22
 9145 00ae 3B6F     		ldr	r3, [r7, #112]
 9146 00b0 BB61     		str	r3, [r7, #24]
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
 9147              		.loc 1 4586 13
 9148 00b2 07F11003 		add	r3, r7, #16
 9149 00b6 0021     		movs	r1, #0
 9150 00b8 1846     		mov	r0, r3
 9151 00ba FFF7FEFF 		bl	dir_sdi
 9152 00be 0346     		mov	r3, r0
 9153 00c0 87F87730 		strb	r3, [r7, #119]
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9154              		.loc 1 4587 10
 9155 00c4 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9156 00c8 002B     		cmp	r3, #0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 242


 9157 00ca 16D1     		bne	.L565
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 9158              		.loc 1 4588 14
 9159 00cc 07F11003 		add	r3, r7, #16
 9160 00d0 0021     		movs	r1, #0
 9161 00d2 1846     		mov	r0, r3
 9162 00d4 FFF7FEFF 		bl	dir_read
 9163 00d8 0346     		mov	r3, r0
 9164 00da 87F87730 		strb	r3, [r7, #119]
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9165              		.loc 1 4589 11
 9166 00de 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9167 00e2 002B     		cmp	r3, #0
 9168 00e4 02D1     		bne	.L566
 9169              		.loc 1 4589 30 discriminator 1
 9170 00e6 0723     		movs	r3, #7
 9171 00e8 87F87730 		strb	r3, [r7, #119]
 9172              	.L566:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9173              		.loc 1 4590 11
 9174 00ec 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9175 00f0 042B     		cmp	r3, #4
 9176 00f2 02D1     		bne	.L565
 9177              		.loc 1 4590 35 discriminator 1
 9178 00f4 0023     		movs	r3, #0
 9179 00f6 87F87730 		strb	r3, [r7, #119]
 9180              	.L565:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 9181              		.loc 1 4595 7
 9182 00fa 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9183 00fe 002B     		cmp	r3, #0
 9184 0100 23D1     		bne	.L561
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 9185              		.loc 1 4596 11
 9186 0102 07F14003 		add	r3, r7, #64
 9187 0106 1846     		mov	r0, r3
 9188 0108 FFF7FEFF 		bl	dir_remove
 9189 010c 0346     		mov	r3, r0
 9190 010e 87F87730 		strb	r3, [r7, #119]
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 9191              		.loc 1 4597 8
 9192 0112 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9193 0116 002B     		cmp	r3, #0
 9194 0118 0CD1     		bne	.L567
 9195              		.loc 1 4597 22 discriminator 1
 9196 011a 3B6F     		ldr	r3, [r7, #112]
 9197 011c 002B     		cmp	r3, #0
 9198 011e 09D0     		beq	.L567
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
 9199              		.loc 1 4601 12
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 243


 9200 0120 07F14003 		add	r3, r7, #64
 9201 0124 0022     		movs	r2, #0
 9202 0126 396F     		ldr	r1, [r7, #112]
 9203 0128 1846     		mov	r0, r3
 9204 012a FFF7FEFF 		bl	remove_chain
 9205 012e 0346     		mov	r3, r0
 9206 0130 87F87730 		strb	r3, [r7, #119]
 9207              	.L567:
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
 9208              		.loc 1 4604 8
 9209 0134 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 9210 0138 002B     		cmp	r3, #0
 9211 013a 06D1     		bne	.L561
 9212              		.loc 1 4604 29 discriminator 1
 9213 013c FB68     		ldr	r3, [r7, #12]
 9214 013e 1846     		mov	r0, r3
 9215 0140 FFF7FEFF 		bl	sync_fs
 9216 0144 0346     		mov	r3, r0
 9217 0146 87F87730 		strb	r3, [r7, #119]
 9218              	.L561:
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9219              		.loc 1 4610 2
 9220 014a 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9221              		.loc 1 4611 1
 9222 014e 1846     		mov	r0, r3
 9223 0150 7837     		adds	r7, r7, #120
 9224              		.cfi_def_cfa_offset 8
 9225 0152 BD46     		mov	sp, r7
 9226              		.cfi_def_cfa_register 13
 9227              		@ sp needed
 9228 0154 80BD     		pop	{r7, pc}
 9229              		.cfi_endproc
 9230              	.LFE372:
 9232              		.section	.text.f_mkdir,"ax",%progbits
 9233              		.align	1
 9234              		.global	f_mkdir
 9235              		.syntax unified
 9236              		.thumb
 9237              		.thumb_func
 9239              	f_mkdir:
 9240              	.LFB373:
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 244


4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
 9241              		.loc 1 4623 1
 9242              		.cfi_startproc
 9243              		@ args = 0, pretend = 0, frame = 88
 9244              		@ frame_needed = 1, uses_anonymous_args = 0
 9245 0000 80B5     		push	{r7, lr}
 9246              		.cfi_def_cfa_offset 8
 9247              		.cfi_offset 7, -8
 9248              		.cfi_offset 14, -4
 9249 0002 96B0     		sub	sp, sp, #88
 9250              		.cfi_def_cfa_offset 96
 9251 0004 00AF     		add	r7, sp, #0
 9252              		.cfi_def_cfa_register 7
 9253 0006 7860     		str	r0, [r7, #4]
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
 9254              		.loc 1 4634 8
 9255 0008 07F10801 		add	r1, r7, #8
 9256 000c 3B1D     		adds	r3, r7, #4
 9257 000e 0222     		movs	r2, #2
 9258 0010 1846     		mov	r0, r3
 9259 0012 FFF7FEFF 		bl	find_volume
 9260 0016 0346     		mov	r3, r0
 9261 0018 87F85730 		strb	r3, [r7, #87]
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9262              		.loc 1 4635 12
 9263 001c BB68     		ldr	r3, [r7, #8]
 9264 001e FB60     		str	r3, [r7, #12]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9265              		.loc 1 4636 5
 9266 0020 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9267 0024 002B     		cmp	r3, #0
 9268 0026 40F0EC80 		bne	.L570
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 9269              		.loc 1 4638 9
 9270 002a 7A68     		ldr	r2, [r7, #4]
 9271 002c 07F10C03 		add	r3, r7, #12
 9272 0030 1146     		mov	r1, r2
 9273 0032 1846     		mov	r0, r3
 9274 0034 FFF7FEFF 		bl	follow_path
 9275 0038 0346     		mov	r3, r0
 9276 003a 87F85730 		strb	r3, [r7, #87]
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9277              		.loc 1 4639 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 245


 9278 003e 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9279 0042 002B     		cmp	r3, #0
 9280 0044 02D1     		bne	.L571
 9281              		.loc 1 4639 25 discriminator 1
 9282 0046 0823     		movs	r3, #8
 9283 0048 87F85730 		strb	r3, [r7, #87]
 9284              	.L571:
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
 9285              		.loc 1 4643 6
 9286 004c 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9287 0050 042B     		cmp	r3, #4
 9288 0052 40F0D680 		bne	.L570
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 9289              		.loc 1 4644 10
 9290 0056 07F10C03 		add	r3, r7, #12
 9291 005a 0021     		movs	r1, #0
 9292 005c 1846     		mov	r0, r3
 9293 005e FFF7FEFF 		bl	create_chain
 9294 0062 7864     		str	r0, [r7, #68]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 9295              		.loc 1 4645 30
 9296 0064 BB68     		ldr	r3, [r7, #8]
 9297 0066 5B89     		ldrh	r3, [r3, #10]
 9298              		.loc 1 4645 38
 9299 0068 5B02     		lsls	r3, r3, #9
 9300              		.loc 1 4645 19
 9301 006a BB61     		str	r3, [r7, #24]
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9302              		.loc 1 4646 8
 9303 006c 0023     		movs	r3, #0
 9304 006e 87F85730 		strb	r3, [r7, #87]
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 9305              		.loc 1 4647 7
 9306 0072 7B6C     		ldr	r3, [r7, #68]
 9307 0074 002B     		cmp	r3, #0
 9308 0076 02D1     		bne	.L572
 9309              		.loc 1 4647 22 discriminator 1
 9310 0078 0723     		movs	r3, #7
 9311 007a 87F85730 		strb	r3, [r7, #87]
 9312              	.L572:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9313              		.loc 1 4648 7
 9314 007e 7B6C     		ldr	r3, [r7, #68]
 9315 0080 012B     		cmp	r3, #1
 9316 0082 02D1     		bne	.L573
 9317              		.loc 1 4648 22 discriminator 1
 9318 0084 0223     		movs	r3, #2
 9319 0086 87F85730 		strb	r3, [r7, #87]
 9320              	.L573:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9321              		.loc 1 4649 7
 9322 008a 7B6C     		ldr	r3, [r7, #68]
 9323 008c B3F1FF3F 		cmp	r3, #-1
 9324 0090 02D1     		bne	.L574
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 246


 9325              		.loc 1 4649 31 discriminator 1
 9326 0092 0123     		movs	r3, #1
 9327 0094 87F85730 		strb	r3, [r7, #87]
 9328              	.L574:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9329              		.loc 1 4650 7
 9330 0098 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9331 009c 002B     		cmp	r3, #0
 9332 009e 06D1     		bne	.L575
 9333              		.loc 1 4650 28 discriminator 1
 9334 00a0 BB68     		ldr	r3, [r7, #8]
 9335 00a2 1846     		mov	r0, r3
 9336 00a4 FFF7FEFF 		bl	sync_window
 9337 00a8 0346     		mov	r3, r0
 9338 00aa 87F85730 		strb	r3, [r7, #87]
 9339              	.L575:
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9340              		.loc 1 4651 9
 9341 00ae FFF7FEFF 		bl	get_fattime
 9342 00b2 3864     		str	r0, [r7, #64]
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9343              		.loc 1 4652 7
 9344 00b4 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9345 00b8 002B     		cmp	r3, #0
 9346 00ba 6AD1     		bne	.L576
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 9347              		.loc 1 4653 11
 9348 00bc BB68     		ldr	r3, [r7, #8]
 9349 00be 796C     		ldr	r1, [r7, #68]
 9350 00c0 1846     		mov	r0, r3
 9351 00c2 FFF7FEFF 		bl	clust2sect
 9352 00c6 F864     		str	r0, [r7, #76]
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 9353              		.loc 1 4654 13
 9354 00c8 BB68     		ldr	r3, [r7, #8]
 9355              		.loc 1 4654 9
 9356 00ca 3033     		adds	r3, r3, #48
 9357 00cc FB63     		str	r3, [r7, #60]
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 9358              		.loc 1 4655 5
 9359 00ce 4FF40072 		mov	r2, #512
 9360 00d2 0021     		movs	r1, #0
 9361 00d4 F86B     		ldr	r0, [r7, #60]
 9362 00d6 FFF7FEFF 		bl	mem_set
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 9363              		.loc 1 4657 6
 9364 00da 0B22     		movs	r2, #11
 9365 00dc 2021     		movs	r1, #32
 9366 00de F86B     		ldr	r0, [r7, #60]
 9367 00e0 FFF7FEFF 		bl	mem_set
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 9368              		.loc 1 4658 20
 9369 00e4 FB6B     		ldr	r3, [r7, #60]
 9370 00e6 2E22     		movs	r2, #46
 9371 00e8 1A70     		strb	r2, [r3]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 247


 9372              		.loc 1 4659 9
 9373 00ea FB6B     		ldr	r3, [r7, #60]
 9374 00ec 0B33     		adds	r3, r3, #11
 9375              		.loc 1 4659 20
 9376 00ee 1022     		movs	r2, #16
 9377 00f0 1A70     		strb	r2, [r3]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 9378              		.loc 1 4660 6
 9379 00f2 FB6B     		ldr	r3, [r7, #60]
 9380 00f4 1633     		adds	r3, r3, #22
 9381 00f6 396C     		ldr	r1, [r7, #64]
 9382 00f8 1846     		mov	r0, r3
 9383 00fa FFF7FEFF 		bl	st_dword
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 9384              		.loc 1 4661 6
 9385 00fe BB68     		ldr	r3, [r7, #8]
 9386 0100 7A6C     		ldr	r2, [r7, #68]
 9387 0102 F96B     		ldr	r1, [r7, #60]
 9388 0104 1846     		mov	r0, r3
 9389 0106 FFF7FEFF 		bl	st_clust
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 9390              		.loc 1 4662 18
 9391 010a FB6B     		ldr	r3, [r7, #60]
 9392 010c 2033     		adds	r3, r3, #32
 9393              		.loc 1 4662 6
 9394 010e 2022     		movs	r2, #32
 9395 0110 F96B     		ldr	r1, [r7, #60]
 9396 0112 1846     		mov	r0, r3
 9397 0114 FFF7FEFF 		bl	mem_cpy
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 9398              		.loc 1 4663 9
 9399 0118 FB6B     		ldr	r3, [r7, #60]
 9400 011a 2133     		adds	r3, r3, #33
 9401              		.loc 1 4663 22
 9402 011c 2E22     		movs	r2, #46
 9403 011e 1A70     		strb	r2, [r3]
 9404              		.loc 1 4663 33
 9405 0120 7B69     		ldr	r3, [r7, #20]
 9406 0122 BB64     		str	r3, [r7, #72]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 9407              		.loc 1 4664 12
 9408 0124 BB68     		ldr	r3, [r7, #8]
 9409 0126 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 9410              		.loc 1 4664 9
 9411 0128 032B     		cmp	r3, #3
 9412 012a 06D1     		bne	.L577
 9413              		.loc 1 4664 46 discriminator 1
 9414 012c BB68     		ldr	r3, [r7, #8]
 9415 012e 5B6A     		ldr	r3, [r3, #36]
 9416              		.loc 1 4664 34 discriminator 1
 9417 0130 BA6C     		ldr	r2, [r7, #72]
 9418 0132 9A42     		cmp	r2, r3
 9419 0134 01D1     		bne	.L577
 9420              		.loc 1 4664 61 discriminator 2
 9421 0136 0023     		movs	r3, #0
 9422 0138 BB64     		str	r3, [r7, #72]
 9423              	.L577:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 248


4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9424              		.loc 1 4665 6
 9425 013a B868     		ldr	r0, [r7, #8]
 9426 013c FB6B     		ldr	r3, [r7, #60]
 9427 013e 2033     		adds	r3, r3, #32
 9428 0140 BA6C     		ldr	r2, [r7, #72]
 9429 0142 1946     		mov	r1, r3
 9430 0144 FFF7FEFF 		bl	st_clust
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 9431              		.loc 1 4667 16
 9432 0148 BB68     		ldr	r3, [r7, #8]
 9433 014a 5B89     		ldrh	r3, [r3, #10]
 9434              		.loc 1 4667 12
 9435 014c 3B65     		str	r3, [r7, #80]
 9436              		.loc 1 4667 5
 9437 014e 1BE0     		b	.L578
 9438              	.L580:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9439              		.loc 1 4668 23
 9440 0150 FB6C     		ldr	r3, [r7, #76]
 9441 0152 5A1C     		adds	r2, r3, #1
 9442 0154 FA64     		str	r2, [r7, #76]
 9443              		.loc 1 4668 8
 9444 0156 BA68     		ldr	r2, [r7, #8]
 9445              		.loc 1 4668 18
 9446 0158 D362     		str	r3, [r2, #44]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9447              		.loc 1 4669 8
 9448 015a BB68     		ldr	r3, [r7, #8]
 9449              		.loc 1 4669 16
 9450 015c 0122     		movs	r2, #1
 9451 015e DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 9452              		.loc 1 4670 12
 9453 0160 BB68     		ldr	r3, [r7, #8]
 9454 0162 1846     		mov	r0, r3
 9455 0164 FFF7FEFF 		bl	sync_window
 9456 0168 0346     		mov	r3, r0
 9457 016a 87F85730 		strb	r3, [r7, #87]
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 9458              		.loc 1 4671 9
 9459 016e 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9460 0172 002B     		cmp	r3, #0
 9461 0174 0CD1     		bne	.L584
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 9462              		.loc 1 4672 6 discriminator 2
 9463 0176 4FF40072 		mov	r2, #512
 9464 017a 0021     		movs	r1, #0
 9465 017c F86B     		ldr	r0, [r7, #60]
 9466 017e FFF7FEFF 		bl	mem_set
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9467              		.loc 1 4667 29 discriminator 2
 9468 0182 3B6D     		ldr	r3, [r7, #80]
 9469 0184 013B     		subs	r3, r3, #1
 9470 0186 3B65     		str	r3, [r7, #80]
 9471              	.L578:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 249


4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9472              		.loc 1 4667 25 discriminator 1
 9473 0188 3B6D     		ldr	r3, [r7, #80]
 9474 018a 002B     		cmp	r3, #0
 9475 018c E0D1     		bne	.L580
 9476 018e 00E0     		b	.L576
 9477              	.L584:
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 9478              		.loc 1 4671 24
 9479 0190 00BF     		nop
 9480              	.L576:
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 9481              		.loc 1 4675 7
 9482 0192 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9483 0196 002B     		cmp	r3, #0
 9484 0198 07D1     		bne	.L581
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 9485              		.loc 1 4676 11
 9486 019a 07F10C03 		add	r3, r7, #12
 9487 019e 1846     		mov	r0, r3
 9488 01a0 FFF7FEFF 		bl	dir_register
 9489 01a4 0346     		mov	r3, r0
 9490 01a6 87F85730 		strb	r3, [r7, #87]
 9491              	.L581:
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 9492              		.loc 1 4678 7
 9493 01aa 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9494 01ae 002B     		cmp	r3, #0
 9495 01b0 20D1     		bne	.L582
4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
 9496              		.loc 1 4691 10
 9497 01b2 FB6A     		ldr	r3, [r7, #44]
 9498 01b4 FB63     		str	r3, [r7, #60]
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 9499              		.loc 1 4692 6
 9500 01b6 FB6B     		ldr	r3, [r7, #60]
 9501 01b8 1633     		adds	r3, r3, #22
 9502 01ba 396C     		ldr	r1, [r7, #64]
 9503 01bc 1846     		mov	r0, r3
 9504 01be FFF7FEFF 		bl	st_dword
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 9505              		.loc 1 4693 6
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 250


 9506 01c2 BB68     		ldr	r3, [r7, #8]
 9507 01c4 7A6C     		ldr	r2, [r7, #68]
 9508 01c6 F96B     		ldr	r1, [r7, #60]
 9509 01c8 1846     		mov	r0, r3
 9510 01ca FFF7FEFF 		bl	st_clust
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9511              		.loc 1 4694 9
 9512 01ce FB6B     		ldr	r3, [r7, #60]
 9513 01d0 0B33     		adds	r3, r3, #11
 9514              		.loc 1 4694 20
 9515 01d2 1022     		movs	r2, #16
 9516 01d4 1A70     		strb	r2, [r3]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9517              		.loc 1 4695 8
 9518 01d6 BB68     		ldr	r3, [r7, #8]
 9519              		.loc 1 4695 16
 9520 01d8 0122     		movs	r2, #1
 9521 01da DA70     		strb	r2, [r3, #3]
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 9522              		.loc 1 4697 8
 9523 01dc 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 9524 01e0 002B     		cmp	r3, #0
 9525 01e2 0ED1     		bne	.L570
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 9526              		.loc 1 4698 12
 9527 01e4 BB68     		ldr	r3, [r7, #8]
 9528 01e6 1846     		mov	r0, r3
 9529 01e8 FFF7FEFF 		bl	sync_fs
 9530 01ec 0346     		mov	r3, r0
 9531 01ee 87F85730 		strb	r3, [r7, #87]
 9532 01f2 06E0     		b	.L570
 9533              	.L582:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
 9534              		.loc 1 4701 5
 9535 01f4 07F10C03 		add	r3, r7, #12
 9536 01f8 0022     		movs	r2, #0
 9537 01fa 796C     		ldr	r1, [r7, #68]
 9538 01fc 1846     		mov	r0, r3
 9539 01fe FFF7FEFF 		bl	remove_chain
 9540              	.L570:
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9541              		.loc 1 4707 2
 9542 0202 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9543              		.loc 1 4708 1
 9544 0206 1846     		mov	r0, r3
 9545 0208 5837     		adds	r7, r7, #88
 9546              		.cfi_def_cfa_offset 8
 9547 020a BD46     		mov	sp, r7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 251


 9548              		.cfi_def_cfa_register 13
 9549              		@ sp needed
 9550 020c 80BD     		pop	{r7, pc}
 9551              		.cfi_endproc
 9552              	.LFE373:
 9554              		.section	.text.f_rename,"ax",%progbits
 9555              		.align	1
 9556              		.global	f_rename
 9557              		.syntax unified
 9558              		.thumb
 9559              		.thumb_func
 9561              	f_rename:
 9562              	.LFB374:
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
 9563              		.loc 1 4721 1
 9564              		.cfi_startproc
 9565              		@ args = 0, pretend = 0, frame = 144
 9566              		@ frame_needed = 1, uses_anonymous_args = 0
 9567 0000 90B5     		push	{r4, r7, lr}
 9568              		.cfi_def_cfa_offset 12
 9569              		.cfi_offset 4, -12
 9570              		.cfi_offset 7, -8
 9571              		.cfi_offset 14, -4
 9572 0002 A5B0     		sub	sp, sp, #148
 9573              		.cfi_def_cfa_offset 160
 9574 0004 00AF     		add	r7, sp, #0
 9575              		.cfi_def_cfa_register 7
 9576 0006 7860     		str	r0, [r7, #4]
 9577 0008 3960     		str	r1, [r7]
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
 9578              		.loc 1 4730 2
 9579 000a 3B46     		mov	r3, r7
 9580 000c 1846     		mov	r0, r3
 9581 000e FFF7FEFF 		bl	get_ldnumber
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 9582              		.loc 1 4731 8
 9583 0012 07F12001 		add	r1, r7, #32
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 252


 9584 0016 3B1D     		adds	r3, r7, #4
 9585 0018 0222     		movs	r2, #2
 9586 001a 1846     		mov	r0, r3
 9587 001c FFF7FEFF 		bl	find_volume
 9588 0020 0346     		mov	r3, r0
 9589 0022 87F88F30 		strb	r3, [r7, #143]
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9590              		.loc 1 4732 5
 9591 0026 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9592 002a 002B     		cmp	r3, #0
 9593 002c 40F0DB80 		bne	.L586
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 9594              		.loc 1 4733 14
 9595 0030 3B6A     		ldr	r3, [r7, #32]
 9596 0032 7B65     		str	r3, [r7, #84]
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 9597              		.loc 1 4735 9
 9598 0034 7A68     		ldr	r2, [r7, #4]
 9599 0036 07F15403 		add	r3, r7, #84
 9600 003a 1146     		mov	r1, r2
 9601 003c 1846     		mov	r0, r3
 9602 003e FFF7FEFF 		bl	follow_path
 9603 0042 0346     		mov	r3, r0
 9604 0044 87F88F30 		strb	r3, [r7, #143]
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 9605              		.loc 1 4736 6
 9606 0048 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9607 004c 002B     		cmp	r3, #0
 9608 004e 08D1     		bne	.L587
 9609              		.loc 1 4736 30 discriminator 1
 9610 0050 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 9611              		.loc 1 4736 39 discriminator 1
 9612 0054 03F0A003 		and	r3, r3, #160
 9613              		.loc 1 4736 20 discriminator 1
 9614 0058 002B     		cmp	r3, #0
 9615 005a 02D0     		beq	.L587
 9616              		.loc 1 4736 68 discriminator 2
 9617 005c 0623     		movs	r3, #6
 9618 005e 87F88F30 		strb	r3, [r7, #143]
 9619              	.L587:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 9620              		.loc 1 4738 6
 9621 0062 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9622 0066 002B     		cmp	r3, #0
 9623 0068 08D1     		bne	.L588
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 9624              		.loc 1 4739 10
 9625 006a 07F15403 		add	r3, r7, #84
 9626 006e 0221     		movs	r1, #2
 9627 0070 1846     		mov	r0, r3
 9628 0072 FFF7FEFF 		bl	chk_lock
 9629 0076 0346     		mov	r3, r0
 9630 0078 87F88F30 		strb	r3, [r7, #143]
 9631              	.L588:
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 253


4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
 9632              		.loc 1 4742 6
 9633 007c 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9634 0080 002B     		cmp	r3, #0
 9635 0082 40F0B080 		bne	.L586
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
 9636              		.loc 1 4769 21
 9637 0086 7B6F     		ldr	r3, [r7, #116]
 9638              		.loc 1 4769 26
 9639 0088 03F10B01 		add	r1, r3, #11
 9640              		.loc 1 4769 5
 9641 008c 07F10803 		add	r3, r7, #8
 9642 0090 1522     		movs	r2, #21
 9643 0092 1846     		mov	r0, r3
 9644 0094 FFF7FEFF 		bl	mem_cpy
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9645              		.loc 1 4770 5
 9646 0098 07F15401 		add	r1, r7, #84
 9647 009c 07F12403 		add	r3, r7, #36
 9648 00a0 3022     		movs	r2, #48
 9649 00a2 1846     		mov	r0, r3
 9650 00a4 FFF7FEFF 		bl	mem_cpy
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 9651              		.loc 1 4771 11
 9652 00a8 3A68     		ldr	r2, [r7]
 9653 00aa 07F12403 		add	r3, r7, #36
 9654 00ae 1146     		mov	r1, r2
 9655 00b0 1846     		mov	r0, r3
 9656 00b2 FFF7FEFF 		bl	follow_path
 9657 00b6 0346     		mov	r3, r0
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 254


 9658 00b8 87F88F30 		strb	r3, [r7, #143]
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 9659              		.loc 1 4772 8
 9660 00bc 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9661 00c0 002B     		cmp	r3, #0
 9662 00c2 0CD1     		bne	.L589
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 9663              		.loc 1 4773 20
 9664 00c4 FA6A     		ldr	r2, [r7, #44]
 9665              		.loc 1 4773 38
 9666 00c6 FB6D     		ldr	r3, [r7, #92]
 9667              		.loc 1 4773 84
 9668 00c8 9A42     		cmp	r2, r3
 9669 00ca 05D1     		bne	.L590
 9670              		.loc 1 4773 52 discriminator 1
 9671 00cc BA6B     		ldr	r2, [r7, #56]
 9672              		.loc 1 4773 64 discriminator 1
 9673 00ce BB6E     		ldr	r3, [r7, #104]
 9674              		.loc 1 4773 46 discriminator 1
 9675 00d0 9A42     		cmp	r2, r3
 9676 00d2 01D1     		bne	.L590
 9677              		.loc 1 4773 84 discriminator 3
 9678 00d4 0423     		movs	r3, #4
 9679 00d6 00E0     		b	.L591
 9680              	.L590:
 9681              		.loc 1 4773 84 is_stmt 0 discriminator 4
 9682 00d8 0823     		movs	r3, #8
 9683              	.L591:
 9684              		.loc 1 4773 10 is_stmt 1 discriminator 6
 9685 00da 87F88F30 		strb	r3, [r7, #143]
 9686              	.L589:
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9687              		.loc 1 4775 8
 9688 00de 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9689 00e2 042B     		cmp	r3, #4
 9690 00e4 68D1     		bne	.L592
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9691              		.loc 1 4776 12
 9692 00e6 07F12403 		add	r3, r7, #36
 9693 00ea 1846     		mov	r0, r3
 9694 00ec FFF7FEFF 		bl	dir_register
 9695 00f0 0346     		mov	r3, r0
 9696 00f2 87F88F30 		strb	r3, [r7, #143]
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9697              		.loc 1 4777 9
 9698 00f6 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9699 00fa 002B     		cmp	r3, #0
 9700 00fc 5CD1     		bne	.L592
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 9701              		.loc 1 4778 11
 9702 00fe 7B6C     		ldr	r3, [r7, #68]
 9703 0100 C7F88830 		str	r3, [r7, #136]
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9704              		.loc 1 4779 19
 9705 0104 D7F88830 		ldr	r3, [r7, #136]
 9706 0108 03F10D00 		add	r0, r3, #13
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 255


 9707              		.loc 1 4779 7
 9708 010c 07F10803 		add	r3, r7, #8
 9709 0110 0233     		adds	r3, r3, #2
 9710 0112 1322     		movs	r2, #19
 9711 0114 1946     		mov	r1, r3
 9712 0116 FFF7FEFF 		bl	mem_cpy
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9713              		.loc 1 4780 26
 9714 011a 3A7A     		ldrb	r2, [r7, #8]	@ zero_extendqisi2
 9715              		.loc 1 4780 10
 9716 011c D7F88830 		ldr	r3, [r7, #136]
 9717 0120 0B33     		adds	r3, r3, #11
 9718              		.loc 1 4780 21
 9719 0122 42F02002 		orr	r2, r2, #32
 9720 0126 D2B2     		uxtb	r2, r2
 9721 0128 1A70     		strb	r2, [r3]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 9722              		.loc 1 4781 9
 9723 012a 3B6A     		ldr	r3, [r7, #32]
 9724              		.loc 1 4781 17
 9725 012c 0122     		movs	r2, #1
 9726 012e DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 9727              		.loc 1 4782 15
 9728 0130 D7F88830 		ldr	r3, [r7, #136]
 9729 0134 0B33     		adds	r3, r3, #11
 9730 0136 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 9731              		.loc 1 4782 26
 9732 0138 03F01003 		and	r3, r3, #16
 9733              		.loc 1 4782 10
 9734 013c 002B     		cmp	r3, #0
 9735 013e 3BD0     		beq	.L592
 9736              		.loc 1 4782 46 discriminator 1
 9737 0140 FA6D     		ldr	r2, [r7, #92]
 9738              		.loc 1 4782 64 discriminator 1
 9739 0142 FB6A     		ldr	r3, [r7, #44]
 9740              		.loc 1 4782 36 discriminator 1
 9741 0144 9A42     		cmp	r2, r3
 9742 0146 37D0     		beq	.L592
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 9743              		.loc 1 4783 13
 9744 0148 3C6A     		ldr	r4, [r7, #32]
 9745 014a 3B6A     		ldr	r3, [r7, #32]
 9746 014c D7F88810 		ldr	r1, [r7, #136]
 9747 0150 1846     		mov	r0, r3
 9748 0152 FFF7FEFF 		bl	ld_clust
 9749 0156 0346     		mov	r3, r0
 9750 0158 1946     		mov	r1, r3
 9751 015a 2046     		mov	r0, r4
 9752 015c FFF7FEFF 		bl	clust2sect
 9753 0160 C7F88400 		str	r0, [r7, #132]
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9754              		.loc 1 4784 11
 9755 0164 D7F88430 		ldr	r3, [r7, #132]
 9756 0168 002B     		cmp	r3, #0
 9757 016a 03D1     		bne	.L593
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 256


 9758              		.loc 1 4785 13
 9759 016c 0223     		movs	r3, #2
 9760 016e 87F88F30 		strb	r3, [r7, #143]
 9761 0172 21E0     		b	.L592
 9762              	.L593:
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
 9763              		.loc 1 4788 15
 9764 0174 3B6A     		ldr	r3, [r7, #32]
 9765 0176 D7F88410 		ldr	r1, [r7, #132]
 9766 017a 1846     		mov	r0, r3
 9767 017c FFF7FEFF 		bl	move_window
 9768 0180 0346     		mov	r3, r0
 9769 0182 87F88F30 		strb	r3, [r7, #143]
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 9770              		.loc 1 4789 17
 9771 0186 3B6A     		ldr	r3, [r7, #32]
 9772              		.loc 1 4789 15
 9773 0188 3033     		adds	r3, r3, #48
 9774              		.loc 1 4789 13
 9775 018a 2033     		adds	r3, r3, #32
 9776 018c C7F88830 		str	r3, [r7, #136]
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9777              		.loc 1 4790 12
 9778 0190 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9779 0194 002B     		cmp	r3, #0
 9780 0196 0FD1     		bne	.L592
 9781              		.loc 1 4790 32 discriminator 1
 9782 0198 D7F88830 		ldr	r3, [r7, #136]
 9783 019c 0133     		adds	r3, r3, #1
 9784 019e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 9785              		.loc 1 4790 26 discriminator 1
 9786 01a0 2E2B     		cmp	r3, #46
 9787 01a2 09D1     		bne	.L592
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 9788              		.loc 1 4791 10
 9789 01a4 3B6A     		ldr	r3, [r7, #32]
 9790 01a6 FA6A     		ldr	r2, [r7, #44]
 9791 01a8 D7F88810 		ldr	r1, [r7, #136]
 9792 01ac 1846     		mov	r0, r3
 9793 01ae FFF7FEFF 		bl	st_clust
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 9794              		.loc 1 4792 12
 9795 01b2 3B6A     		ldr	r3, [r7, #32]
 9796              		.loc 1 4792 20
 9797 01b4 0122     		movs	r2, #1
 9798 01b6 DA70     		strb	r2, [r3, #3]
 9799              	.L592:
4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 9800              		.loc 1 4799 7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 257


 9801 01b8 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9802 01bc 002B     		cmp	r3, #0
 9803 01be 12D1     		bne	.L586
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 9804              		.loc 1 4800 11
 9805 01c0 07F15403 		add	r3, r7, #84
 9806 01c4 1846     		mov	r0, r3
 9807 01c6 FFF7FEFF 		bl	dir_remove
 9808 01ca 0346     		mov	r3, r0
 9809 01cc 87F88F30 		strb	r3, [r7, #143]
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 9810              		.loc 1 4801 8
 9811 01d0 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 9812 01d4 002B     		cmp	r3, #0
 9813 01d6 06D1     		bne	.L586
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 9814              		.loc 1 4802 12
 9815 01d8 3B6A     		ldr	r3, [r7, #32]
 9816 01da 1846     		mov	r0, r3
 9817 01dc FFF7FEFF 		bl	sync_fs
 9818 01e0 0346     		mov	r3, r0
 9819 01e2 87F88F30 		strb	r3, [r7, #143]
 9820              	.L586:
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9821              		.loc 1 4810 2
 9822 01e6 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9823              		.loc 1 4811 1
 9824 01ea 1846     		mov	r0, r3
 9825 01ec 9437     		adds	r7, r7, #148
 9826              		.cfi_def_cfa_offset 12
 9827 01ee BD46     		mov	sp, r7
 9828              		.cfi_def_cfa_register 13
 9829              		@ sp needed
 9830 01f0 90BD     		pop	{r4, r7, pc}
 9831              		.cfi_endproc
 9832              	.LFE374:
 9834              		.section	.rodata
 9835 000f 00       		.align	2
 9836              	.LC1:
 9837 0010 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 9837      53444F53 
 9837      352E3000 
 9838              		.align	2
 9839              	.LC2:
 9840 001c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 9840      414D4520 
 9840      20202046 
 9840      41543332 
 9840      20202000 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 258


 9841              		.align	2
 9842              	.LC3:
 9843 0030 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 9843      414D4520 
 9843      20202046 
 9843      41542020 
 9843      20202000 
 9844              		.section	.text.f_mkfs,"ax",%progbits
 9845              		.align	1
 9846              		.global	f_mkfs
 9847              		.syntax unified
 9848              		.thumb
 9849              		.thumb_func
 9851              	f_mkfs:
 9852              	.LFB375:
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 259


4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 260


4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 261


4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 262


5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 263


5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 264


5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 265


5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 266


5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
 9853              		.loc 1 5308 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 267


 9854              		.cfi_startproc
 9855              		@ args = 4, pretend = 0, frame = 112
 9856              		@ frame_needed = 1, uses_anonymous_args = 0
 9857 0000 90B5     		push	{r4, r7, lr}
 9858              		.cfi_def_cfa_offset 12
 9859              		.cfi_offset 4, -12
 9860              		.cfi_offset 7, -8
 9861              		.cfi_offset 14, -4
 9862 0002 9DB0     		sub	sp, sp, #116
 9863              		.cfi_def_cfa_offset 128
 9864 0004 00AF     		add	r7, sp, #0
 9865              		.cfi_def_cfa_register 7
 9866 0006 F860     		str	r0, [r7, #12]
 9867 0008 7A60     		str	r2, [r7, #4]
 9868 000a 3B60     		str	r3, [r7]
 9869 000c 0B46     		mov	r3, r1
 9870 000e FB72     		strb	r3, [r7, #11]
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 9871              		.loc 1 5309 13
 9872 0010 0123     		movs	r3, #1
 9873 0012 7B64     		str	r3, [r7, #68]
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 9874              		.loc 1 5310 13
 9875 0014 4FF40073 		mov	r3, #512
 9876 0018 3B64     		str	r3, [r7, #64]
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
 9877              		.loc 1 5327 8
 9878 001a 07F10C03 		add	r3, r7, #12
 9879 001e 1846     		mov	r0, r3
 9880 0020 FFF7FEFF 		bl	get_ldnumber
 9881 0024 F863     		str	r0, [r7, #60]
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9882              		.loc 1 5328 5
 9883 0026 FB6B     		ldr	r3, [r7, #60]
 9884 0028 002B     		cmp	r3, #0
 9885 002a 02DA     		bge	.L596
 9886              		.loc 1 5328 22 discriminator 1
 9887 002c 0B23     		movs	r3, #11
 9888 002e 00F00DBC 		b	.L670
 9889              	.L596:
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 268


 9890              		.loc 1 5329 11
 9891 0032 944A     		ldr	r2, .L675
 9892 0034 FB6B     		ldr	r3, [r7, #60]
 9893 0036 52F82330 		ldr	r3, [r2, r3, lsl #2]
 9894              		.loc 1 5329 5
 9895 003a 002B     		cmp	r3, #0
 9896 003c 05D0     		beq	.L598
 9897              		.loc 1 5329 23 discriminator 1
 9898 003e 914A     		ldr	r2, .L675
 9899 0040 FB6B     		ldr	r3, [r7, #60]
 9900 0042 52F82330 		ldr	r3, [r2, r3, lsl #2]
 9901              		.loc 1 5329 38 discriminator 1
 9902 0046 0022     		movs	r2, #0
 9903 0048 1A70     		strb	r2, [r3]
 9904              	.L598:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9905              		.loc 1 5330 7
 9906 004a FB6B     		ldr	r3, [r7, #60]
 9907 004c 87F83B30 		strb	r3, [r7, #59]
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 9908              		.loc 1 5331 7
 9909 0050 0023     		movs	r3, #0
 9910 0052 87F83A30 		strb	r3, [r7, #58]
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
 9911              		.loc 1 5334 9
 9912 0056 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 9913 005a 1846     		mov	r0, r3
 9914 005c FFF7FEFF 		bl	disk_initialize
 9915 0060 0346     		mov	r3, r0
 9916 0062 87F83930 		strb	r3, [r7, #57]
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9917              		.loc 1 5335 11
 9918 0066 97F83930 		ldrb	r3, [r7, #57]	@ zero_extendqisi2
 9919 006a 03F00103 		and	r3, r3, #1
 9920              		.loc 1 5335 5
 9921 006e 002B     		cmp	r3, #0
 9922 0070 01D0     		beq	.L599
 9923              		.loc 1 5335 32 discriminator 1
 9924 0072 0323     		movs	r3, #3
 9925 0074 EAE3     		b	.L670
 9926              	.L599:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9927              		.loc 1 5336 11
 9928 0076 97F83930 		ldrb	r3, [r7, #57]	@ zero_extendqisi2
 9929 007a 03F00403 		and	r3, r3, #4
 9930              		.loc 1 5336 5
 9931 007e 002B     		cmp	r3, #0
 9932 0080 01D0     		beq	.L600
 9933              		.loc 1 5336 33 discriminator 1
 9934 0082 0A23     		movs	r3, #10
 9935 0084 E2E3     		b	.L670
 9936              	.L600:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 9937              		.loc 1 5337 6
 9938 0086 07F11402 		add	r2, r7, #20
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 269


 9939 008a 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 9940 008e 0321     		movs	r1, #3
 9941 0090 1846     		mov	r0, r3
 9942 0092 FFF7FEFF 		bl	disk_ioctl
 9943 0096 0346     		mov	r3, r0
 9944              		.loc 1 5337 5
 9945 0098 002B     		cmp	r3, #0
 9946 009a 0CD1     		bne	.L601
 9947              		.loc 1 5337 61 discriminator 2
 9948 009c 7B69     		ldr	r3, [r7, #20]
 9949              		.loc 1 5337 58 discriminator 2
 9950 009e 002B     		cmp	r3, #0
 9951 00a0 09D0     		beq	.L601
 9952              		.loc 1 5337 79 discriminator 4
 9953 00a2 7B69     		ldr	r3, [r7, #20]
 9954              		.loc 1 5337 69 discriminator 4
 9955 00a4 B3F5004F 		cmp	r3, #32768
 9956 00a8 05D8     		bhi	.L601
 9957              		.loc 1 5337 108 discriminator 6
 9958 00aa 7B69     		ldr	r3, [r7, #20]
 9959 00ac 5A1E     		subs	r2, r3, #1
 9960              		.loc 1 5337 98 discriminator 6
 9961 00ae 7B69     		ldr	r3, [r7, #20]
 9962 00b0 1340     		ands	r3, r3, r2
 9963              		.loc 1 5337 87 discriminator 6
 9964 00b2 002B     		cmp	r3, #0
 9965 00b4 01D0     		beq	.L602
 9966              	.L601:
 9967              		.loc 1 5337 122 discriminator 7
 9968 00b6 0123     		movs	r3, #1
 9969 00b8 7B61     		str	r3, [r7, #20]
 9970              	.L602:
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
 9971              		.loc 1 5342 5
 9972 00ba 4FF40073 		mov	r3, #512
 9973 00be FB86     		strh	r3, [r7, #54]	@ movhi
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
 9974              		.loc 1 5344 5
 9975 00c0 7B68     		ldr	r3, [r7, #4]
 9976 00c2 002B     		cmp	r3, #0
 9977 00c4 03D0     		beq	.L603
 9978              		.loc 1 5344 21 discriminator 1
 9979 00c6 FB8E     		ldrh	r3, [r7, #54]
 9980              		.loc 1 5344 15 discriminator 1
 9981 00c8 7A68     		ldr	r2, [r7, #4]
 9982 00ca 9A42     		cmp	r2, r3
 9983 00cc 09D3     		bcc	.L604
 9984              	.L603:
 9985              		.loc 1 5344 27 discriminator 4
 9986 00ce 7B68     		ldr	r3, [r7, #4]
 9987 00d0 B3F1807F 		cmp	r3, #16777216
 9988 00d4 05D8     		bhi	.L604
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 270


 9989              		.loc 1 5344 58 discriminator 6
 9990 00d6 7B68     		ldr	r3, [r7, #4]
 9991 00d8 5A1E     		subs	r2, r3, #1
 9992              		.loc 1 5344 52 discriminator 6
 9993 00da 7B68     		ldr	r3, [r7, #4]
 9994 00dc 1340     		ands	r3, r3, r2
 9995              		.loc 1 5344 45 discriminator 6
 9996 00de 002B     		cmp	r3, #0
 9997 00e0 01D0     		beq	.L605
 9998              	.L604:
 9999              		.loc 1 5344 72 discriminator 7
 10000 00e2 1323     		movs	r3, #19
 10001 00e4 B2E3     		b	.L670
 10002              	.L605:
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10003              		.loc 1 5345 5
 10004 00e6 FB8E     		ldrh	r3, [r7, #54]
 10005 00e8 7A68     		ldr	r2, [r7, #4]
 10006 00ea B2FBF3F3 		udiv	r3, r2, r3
 10007 00ee 7B60     		str	r3, [r7, #4]
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
 10008              		.loc 1 5348 6
 10009 00f0 3B68     		ldr	r3, [r7]
 10010 00f2 3B63     		str	r3, [r7, #48]
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 10011              		.loc 1 5349 15
 10012 00f4 FB8E     		ldrh	r3, [r7, #54]
 10013              		.loc 1 5349 9
 10014 00f6 D7F88020 		ldr	r2, [r7, #128]
 10015 00fa B2FBF3F3 		udiv	r3, r2, r3
 10016 00fe FB62     		str	r3, [r7, #44]
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 10017              		.loc 1 5350 19
 10018 0100 FA8E     		ldrh	r2, [r7, #54]
 10019              		.loc 1 5350 10
 10020 0102 FB6A     		ldr	r3, [r7, #44]
 10021 0104 02FB03F3 		mul	r3, r2, r3
 10022 0108 BB62     		str	r3, [r7, #40]
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 10023              		.loc 1 5351 5
 10024 010a BB6A     		ldr	r3, [r7, #40]
 10025 010c 002B     		cmp	r3, #0
 10026 010e 01D1     		bne	.L606
 10027              		.loc 1 5351 23 discriminator 1
 10028 0110 0E23     		movs	r3, #14
 10029 0112 9BE3     		b	.L670
 10030              	.L606:
5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 271


5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
 10031              		.loc 1 5364 7
 10032 0114 07F11002 		add	r2, r7, #16
 10033 0118 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 10034 011c 0121     		movs	r1, #1
 10035 011e 1846     		mov	r0, r3
 10036 0120 FFF7FEFF 		bl	disk_ioctl
 10037 0124 0346     		mov	r3, r0
 10038              		.loc 1 5364 6
 10039 0126 002B     		cmp	r3, #0
 10040 0128 01D0     		beq	.L607
 10041              		.loc 1 5364 69 discriminator 1
 10042 012a 0123     		movs	r3, #1
 10043 012c 8EE3     		b	.L670
 10044              	.L607:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10045              		.loc 1 5365 16
 10046 012e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 10047 0130 03F00803 		and	r3, r3, #8
 10048              		.loc 1 5365 30
 10049 0134 002B     		cmp	r3, #0
 10050 0136 01D0     		beq	.L608
 10051              		.loc 1 5365 30 is_stmt 0 discriminator 1
 10052 0138 0023     		movs	r3, #0
 10053 013a 00E0     		b	.L609
 10054              	.L608:
 10055              		.loc 1 5365 30 discriminator 2
 10056 013c 3F23     		movs	r3, #63
 10057              	.L609:
 10058              		.loc 1 5365 9 is_stmt 1 discriminator 4
 10059 013e 7B62     		str	r3, [r7, #36]
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10060              		.loc 1 5366 14 discriminator 4
 10061 0140 3B69     		ldr	r3, [r7, #16]
 10062              		.loc 1 5366 6 discriminator 4
 10063 0142 7A6A     		ldr	r2, [r7, #36]
 10064 0144 9A42     		cmp	r2, r3
 10065 0146 01D9     		bls	.L610
 10066              		.loc 1 5366 30 discriminator 1
 10067 0148 0E23     		movs	r3, #14
 10068 014a 7FE3     		b	.L670
 10069              	.L610:
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10070              		.loc 1 5367 10
 10071 014c 3A69     		ldr	r2, [r7, #16]
 10072 014e 7B6A     		ldr	r3, [r7, #36]
 10073 0150 D31A     		subs	r3, r2, r3
 10074 0152 3B61     		str	r3, [r7, #16]
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
 10075              		.loc 1 5369 13
 10076 0154 3B69     		ldr	r3, [r7, #16]
 10077              		.loc 1 5369 5
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 272


 10078 0156 7F2B     		cmp	r3, #127
 10079 0158 01D8     		bhi	.L611
 10080              		.loc 1 5369 27 discriminator 1
 10081 015a 0E23     		movs	r3, #14
 10082 015c 76E3     		b	.L670
 10083              	.L611:
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
 10084              		.loc 1 5378 6
 10085 015e 7B68     		ldr	r3, [r7, #4]
 10086 0160 802B     		cmp	r3, #128
 10087 0162 01D9     		bls	.L612
 10088              		.loc 1 5378 24 discriminator 1
 10089 0164 1323     		movs	r3, #19
 10090 0166 71E3     		b	.L670
 10091              	.L612:
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 10092              		.loc 1 5379 11
 10093 0168 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 10094 016a 03F00203 		and	r3, r3, #2
 10095              		.loc 1 5379 6
 10096 016e 002B     		cmp	r3, #0
 10097 0170 0DD0     		beq	.L613
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 10098              		.loc 1 5380 13
 10099 0172 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 10100 0174 03F00703 		and	r3, r3, #7
 10101              		.loc 1 5380 7
 10102 0178 022B     		cmp	r3, #2
 10103 017a 04D0     		beq	.L614
 10104              		.loc 1 5380 44 discriminator 1
 10105 017c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 10106 017e 03F00103 		and	r3, r3, #1
 10107              		.loc 1 5380 35 discriminator 1
 10108 0182 002B     		cmp	r3, #0
 10109 0184 03D1     		bne	.L613
 10110              	.L614:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10111              		.loc 1 5381 9
 10112 0186 0323     		movs	r3, #3
 10113 0188 87F84F30 		strb	r3, [r7, #79]
 10114              		.loc 1 5381 21
 10115 018c 09E0     		b	.L642
 10116              	.L613:
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
 10117              		.loc 1 5384 13
 10118 018e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 10119 0190 03F00103 		and	r3, r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 273


 10120              		.loc 1 5384 6
 10121 0194 002B     		cmp	r3, #0
 10122 0196 01D1     		bne	.L616
 10123              		.loc 1 5384 31 discriminator 1
 10124 0198 1323     		movs	r3, #19
 10125 019a 57E3     		b	.L670
 10126              	.L616:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 10127              		.loc 1 5385 7
 10128 019c 0223     		movs	r3, #2
 10129 019e 87F84F30 		strb	r3, [r7, #79]
 10130              	.L642:
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 274


5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 275


5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 276


5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 10131              		.loc 1 5553 8
 10132 01a2 7B68     		ldr	r3, [r7, #4]
 10133 01a4 3B65     		str	r3, [r7, #80]
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
 10134              		.loc 1 5555 7
 10135 01a6 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10136 01aa 032B     		cmp	r3, #3
 10137 01ac 3CD1     		bne	.L617
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 10138              		.loc 1 5556 8
 10139 01ae 3B6D     		ldr	r3, [r7, #80]
 10140 01b0 002B     		cmp	r3, #0
 10141 01b2 1BD1     		bne	.L618
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 10142              		.loc 1 5557 17
 10143 01b4 3B69     		ldr	r3, [r7, #16]
 10144              		.loc 1 5557 8
 10145 01b6 5B0C     		lsrs	r3, r3, #17
 10146 01b8 FB65     		str	r3, [r7, #92]
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10147              		.loc 1 5558 13
 10148 01ba 0023     		movs	r3, #0
 10149 01bc BB64     		str	r3, [r7, #72]
 10150              		.loc 1 5558 22
 10151 01be 0123     		movs	r3, #1
 10152 01c0 3B65     		str	r3, [r7, #80]
 10153              		.loc 1 5558 6
 10154 01c2 05E0     		b	.L619
 10155              	.L620:
 10156              		.loc 1 5558 55 discriminator 4
 10157 01c4 BB6C     		ldr	r3, [r7, #72]
 10158 01c6 0133     		adds	r3, r3, #1
 10159 01c8 BB64     		str	r3, [r7, #72]
 10160              		.loc 1 5558 63 discriminator 4
 10161 01ca 3B6D     		ldr	r3, [r7, #80]
 10162 01cc 5B00     		lsls	r3, r3, #1
 10163 01ce 3B65     		str	r3, [r7, #80]
 10164              	.L619:
 10165              		.loc 1 5558 32 discriminator 1
 10166 01d0 2D4A     		ldr	r2, .L675+4
 10167 01d2 BB6C     		ldr	r3, [r7, #72]
 10168 01d4 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 10169              		.loc 1 5558 36 discriminator 1
 10170 01d8 002B     		cmp	r3, #0
 10171 01da 07D0     		beq	.L618
 10172              		.loc 1 5558 44 discriminator 3
 10173 01dc 2A4A     		ldr	r2, .L675+4
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 277


 10174 01de BB6C     		ldr	r3, [r7, #72]
 10175 01e0 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 10176 01e4 1A46     		mov	r2, r3
 10177              		.loc 1 5558 36 discriminator 3
 10178 01e6 FB6D     		ldr	r3, [r7, #92]
 10179 01e8 9342     		cmp	r3, r2
 10180 01ea EBD2     		bcs	.L620
 10181              	.L618:
5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
 10182              		.loc 1 5560 21
 10183 01ec 3A69     		ldr	r2, [r7, #16]
 10184              		.loc 1 5560 12
 10185 01ee 3B6D     		ldr	r3, [r7, #80]
 10186 01f0 B2FBF3F3 		udiv	r3, r2, r3
 10187 01f4 3B62     		str	r3, [r7, #32]
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 10188              		.loc 1 5561 26
 10189 01f6 3B6A     		ldr	r3, [r7, #32]
 10190 01f8 0233     		adds	r3, r3, #2
 10191 01fa 9A00     		lsls	r2, r3, #2
 10192              		.loc 1 5561 30
 10193 01fc FB8E     		ldrh	r3, [r7, #54]
 10194 01fe 1344     		add	r3, r3, r2
 10195              		.loc 1 5561 35
 10196 0200 5A1E     		subs	r2, r3, #1
 10197              		.loc 1 5561 40
 10198 0202 FB8E     		ldrh	r3, [r7, #54]
 10199              		.loc 1 5561 12
 10200 0204 B2FBF3F3 		udiv	r3, r2, r3
 10201 0208 BB66     		str	r3, [r7, #104]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10202              		.loc 1 5562 12
 10203 020a 2023     		movs	r3, #32
 10204 020c 7B65     		str	r3, [r7, #84]
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 10205              		.loc 1 5563 12
 10206 020e 0023     		movs	r3, #0
 10207 0210 FB66     		str	r3, [r7, #108]
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 10208              		.loc 1 5564 8
 10209 0212 3B6A     		ldr	r3, [r7, #32]
 10210 0214 4FF6F572 		movw	r2, #65525
 10211 0218 9342     		cmp	r3, r2
 10212 021a 03D9     		bls	.L621
 10213              		.loc 1 5564 29 discriminator 2
 10214 021c 3B6A     		ldr	r3, [r7, #32]
 10215 021e 1B4A     		ldr	r2, .L675+8
 10216 0220 9342     		cmp	r3, r2
 10217 0222 52D9     		bls	.L622
 10218              	.L621:
 10219              		.loc 1 5564 59 discriminator 3
 10220 0224 0E23     		movs	r3, #14
 10221 0226 11E3     		b	.L670
 10222              	.L617:
5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 278


 10223              		.loc 1 5566 8
 10224 0228 3B6D     		ldr	r3, [r7, #80]
 10225 022a 002B     		cmp	r3, #0
 10226 022c 1BD1     		bne	.L623
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 10227              		.loc 1 5567 17
 10228 022e 3B69     		ldr	r3, [r7, #16]
 10229              		.loc 1 5567 8
 10230 0230 1B0B     		lsrs	r3, r3, #12
 10231 0232 FB65     		str	r3, [r7, #92]
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10232              		.loc 1 5568 13
 10233 0234 0023     		movs	r3, #0
 10234 0236 BB64     		str	r3, [r7, #72]
 10235              		.loc 1 5568 22
 10236 0238 0123     		movs	r3, #1
 10237 023a 3B65     		str	r3, [r7, #80]
 10238              		.loc 1 5568 6
 10239 023c 05E0     		b	.L624
 10240              	.L625:
 10241              		.loc 1 5568 51 discriminator 4
 10242 023e BB6C     		ldr	r3, [r7, #72]
 10243 0240 0133     		adds	r3, r3, #1
 10244 0242 BB64     		str	r3, [r7, #72]
 10245              		.loc 1 5568 59 discriminator 4
 10246 0244 3B6D     		ldr	r3, [r7, #80]
 10247 0246 5B00     		lsls	r3, r3, #1
 10248 0248 3B65     		str	r3, [r7, #80]
 10249              	.L624:
 10250              		.loc 1 5568 30 discriminator 1
 10251 024a 114A     		ldr	r2, .L675+12
 10252 024c BB6C     		ldr	r3, [r7, #72]
 10253 024e 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 10254              		.loc 1 5568 34 discriminator 1
 10255 0252 002B     		cmp	r3, #0
 10256 0254 07D0     		beq	.L623
 10257              		.loc 1 5568 40 discriminator 3
 10258 0256 0E4A     		ldr	r2, .L675+12
 10259 0258 BB6C     		ldr	r3, [r7, #72]
 10260 025a 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 10261 025e 1A46     		mov	r2, r3
 10262              		.loc 1 5568 34 discriminator 3
 10263 0260 FB6D     		ldr	r3, [r7, #92]
 10264 0262 9342     		cmp	r3, r2
 10265 0264 EBD2     		bcs	.L625
 10266              	.L623:
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
 10267              		.loc 1 5570 21
 10268 0266 3A69     		ldr	r2, [r7, #16]
 10269              		.loc 1 5570 12
 10270 0268 3B6D     		ldr	r3, [r7, #80]
 10271 026a B2FBF3F3 		udiv	r3, r2, r3
 10272 026e 3B62     		str	r3, [r7, #32]
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 10273              		.loc 1 5571 8
 10274 0270 3B6A     		ldr	r3, [r7, #32]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 279


 10275 0272 40F6F572 		movw	r2, #4085
 10276 0276 9342     		cmp	r3, r2
 10277 0278 0CD9     		bls	.L626
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 10278              		.loc 1 5572 21
 10279 027a 3B6A     		ldr	r3, [r7, #32]
 10280 027c 0233     		adds	r3, r3, #2
 10281              		.loc 1 5572 8
 10282 027e 5B00     		lsls	r3, r3, #1
 10283 0280 FB65     		str	r3, [r7, #92]
 10284 0282 12E0     		b	.L627
 10285              	.L676:
 10286              		.align	2
 10287              	.L675:
 10288 0284 00000000 		.word	FatFs
 10289 0288 00000000 		.word	cst32.1
 10290 028c F5FFFF0F 		.word	268435445
 10291 0290 00000000 		.word	cst.0
 10292              	.L626:
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
 10293              		.loc 1 5574 10
 10294 0294 0123     		movs	r3, #1
 10295 0296 87F84F30 		strb	r3, [r7, #79]
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 10296              		.loc 1 5575 18
 10297 029a 3A6A     		ldr	r2, [r7, #32]
 10298 029c 1346     		mov	r3, r2
 10299 029e 5B00     		lsls	r3, r3, #1
 10300 02a0 1344     		add	r3, r3, r2
 10301              		.loc 1 5575 22
 10302 02a2 0133     		adds	r3, r3, #1
 10303              		.loc 1 5575 27
 10304 02a4 5B08     		lsrs	r3, r3, #1
 10305              		.loc 1 5575 8
 10306 02a6 0333     		adds	r3, r3, #3
 10307 02a8 FB65     		str	r3, [r7, #92]
 10308              	.L627:
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
 10309              		.loc 1 5577 17
 10310 02aa FA8E     		ldrh	r2, [r7, #54]
 10311 02ac FB6D     		ldr	r3, [r7, #92]
 10312 02ae 1344     		add	r3, r3, r2
 10313              		.loc 1 5577 22
 10314 02b0 5A1E     		subs	r2, r3, #1
 10315              		.loc 1 5577 27
 10316 02b2 FB8E     		ldrh	r3, [r7, #54]
 10317              		.loc 1 5577 12
 10318 02b4 B2FBF3F3 		udiv	r3, r2, r3
 10319 02b8 BB66     		str	r3, [r7, #104]
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 10320              		.loc 1 5578 12
 10321 02ba 0123     		movs	r3, #1
 10322 02bc 7B65     		str	r3, [r7, #84]
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 10323              		.loc 1 5579 31
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 280


 10324 02be 3B6C     		ldr	r3, [r7, #64]
 10325 02c0 5A01     		lsls	r2, r3, #5
 10326              		.loc 1 5579 40
 10327 02c2 FB8E     		ldrh	r3, [r7, #54]
 10328              		.loc 1 5579 12
 10329 02c4 B2FBF3F3 		udiv	r3, r2, r3
 10330 02c8 FB66     		str	r3, [r7, #108]
 10331              	.L622:
5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
 10332              		.loc 1 5581 10
 10333 02ca 7A6A     		ldr	r2, [r7, #36]
 10334 02cc 7B6D     		ldr	r3, [r7, #84]
 10335 02ce 1344     		add	r3, r3, r2
 10336 02d0 BB65     		str	r3, [r7, #88]
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 10337              		.loc 1 5582 28
 10338 02d2 BB6E     		ldr	r3, [r7, #104]
 10339 02d4 7A6C     		ldr	r2, [r7, #68]
 10340 02d6 03FB02F2 		mul	r2, r3, r2
 10341              		.loc 1 5582 19
 10342 02da BB6D     		ldr	r3, [r7, #88]
 10343 02dc 1344     		add	r3, r3, r2
 10344              		.loc 1 5582 11
 10345 02de FA6E     		ldr	r2, [r7, #108]
 10346 02e0 1344     		add	r3, r3, r2
 10347 02e2 FB61     		str	r3, [r7, #28]
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
 10348              		.loc 1 5585 17
 10349 02e4 7A69     		ldr	r2, [r7, #20]
 10350 02e6 FB69     		ldr	r3, [r7, #28]
 10351 02e8 1344     		add	r3, r3, r2
 10352              		.loc 1 5585 26
 10353 02ea 5A1E     		subs	r2, r3, #1
 10354              		.loc 1 5585 33
 10355 02ec 7B69     		ldr	r3, [r7, #20]
 10356 02ee 5B42     		rsbs	r3, r3, #0
 10357              		.loc 1 5585 31
 10358 02f0 1A40     		ands	r2, r2, r3
 10359              		.loc 1 5585 6
 10360 02f2 FB69     		ldr	r3, [r7, #28]
 10361 02f4 D31A     		subs	r3, r2, r3
 10362 02f6 FB65     		str	r3, [r7, #92]
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10363              		.loc 1 5586 7
 10364 02f8 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10365 02fc 032B     		cmp	r3, #3
 10366 02fe 08D1     		bne	.L628
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 10367              		.loc 1 5587 12
 10368 0300 7A6D     		ldr	r2, [r7, #84]
 10369 0302 FB6D     		ldr	r3, [r7, #92]
 10370 0304 1344     		add	r3, r3, r2
 10371 0306 7B65     		str	r3, [r7, #84]
 10372              		.loc 1 5587 24
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 281


 10373 0308 BA6D     		ldr	r2, [r7, #88]
 10374 030a FB6D     		ldr	r3, [r7, #92]
 10375 030c 1344     		add	r3, r3, r2
 10376 030e BB65     		str	r3, [r7, #88]
 10377 0310 06E0     		b	.L629
 10378              	.L628:
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
 10379              		.loc 1 5589 17
 10380 0312 FA6D     		ldr	r2, [r7, #92]
 10381 0314 7B6C     		ldr	r3, [r7, #68]
 10382 0316 B2FBF3F3 		udiv	r3, r2, r3
 10383              		.loc 1 5589 12
 10384 031a BA6E     		ldr	r2, [r7, #104]
 10385 031c 1344     		add	r3, r3, r2
 10386 031e BB66     		str	r3, [r7, #104]
 10387              	.L629:
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 10388              		.loc 1 5593 30
 10389 0320 3B6D     		ldr	r3, [r7, #80]
 10390 0322 1A01     		lsls	r2, r3, #4
 10391              		.loc 1 5593 24
 10392 0324 FB69     		ldr	r3, [r7, #28]
 10393 0326 1A44     		add	r2, r2, r3
 10394              		.loc 1 5593 35
 10395 0328 7B6A     		ldr	r3, [r7, #36]
 10396 032a D21A     		subs	r2, r2, r3
 10397              		.loc 1 5593 15
 10398 032c 3B69     		ldr	r3, [r7, #16]
 10399              		.loc 1 5593 7
 10400 032e 9A42     		cmp	r2, r3
 10401 0330 01D9     		bls	.L630
 10402              		.loc 1 5593 51 discriminator 1
 10403 0332 0E23     		movs	r3, #14
 10404 0334 8AE2     		b	.L670
 10405              	.L630:
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 10406              		.loc 1 5594 21
 10407 0336 3A69     		ldr	r2, [r7, #16]
 10408 0338 7B6D     		ldr	r3, [r7, #84]
 10409 033a D21A     		subs	r2, r2, r3
 10410              		.loc 1 5594 39
 10411 033c BB6E     		ldr	r3, [r7, #104]
 10412 033e 796C     		ldr	r1, [r7, #68]
 10413 0340 01FB03F3 		mul	r3, r1, r3
 10414              		.loc 1 5594 30
 10415 0344 D21A     		subs	r2, r2, r3
 10416              		.loc 1 5594 48
 10417 0346 FB6E     		ldr	r3, [r7, #108]
 10418 0348 D21A     		subs	r2, r2, r3
 10419              		.loc 1 5594 11
 10420 034a 3B6D     		ldr	r3, [r7, #80]
 10421 034c B2FBF3F3 		udiv	r3, r2, r3
 10422 0350 3B62     		str	r3, [r7, #32]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 282


5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10423              		.loc 1 5595 7
 10424 0352 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10425 0356 032B     		cmp	r3, #3
 10426 0358 0FD1     		bne	.L631
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 10427              		.loc 1 5596 8
 10428 035a 3B6A     		ldr	r3, [r7, #32]
 10429 035c 4FF6F572 		movw	r2, #65525
 10430 0360 9342     		cmp	r3, r2
 10431 0362 0AD8     		bhi	.L631
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 10432              		.loc 1 5597 9
 10433 0364 7B68     		ldr	r3, [r7, #4]
 10434 0366 002B     		cmp	r3, #0
 10435 0368 05D1     		bne	.L632
 10436              		.loc 1 5597 21 discriminator 1
 10437 036a 3B6D     		ldr	r3, [r7, #80]
 10438 036c 5B08     		lsrs	r3, r3, #1
 10439 036e 7B60     		str	r3, [r7, #4]
 10440              		.loc 1 5597 14 discriminator 1
 10441 0370 7B68     		ldr	r3, [r7, #4]
 10442 0372 002B     		cmp	r3, #0
 10443 0374 44D1     		bne	.L671
 10444              	.L632:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10445              		.loc 1 5598 13
 10446 0376 0E23     		movs	r3, #14
 10447 0378 68E2     		b	.L670
 10448              	.L631:
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
 10449              		.loc 1 5601 7
 10450 037a 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10451 037e 022B     		cmp	r3, #2
 10452 0380 33D1     		bne	.L634
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 10453              		.loc 1 5602 8
 10454 0382 3B6A     		ldr	r3, [r7, #32]
 10455 0384 4FF6F572 		movw	r2, #65525
 10456 0388 9342     		cmp	r3, r2
 10457 038a 1ED9     		bls	.L635
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 10458              		.loc 1 5603 9
 10459 038c 7B68     		ldr	r3, [r7, #4]
 10460 038e 002B     		cmp	r3, #0
 10461 0390 07D1     		bne	.L636
 10462              		.loc 1 5603 22 discriminator 1
 10463 0392 3B6D     		ldr	r3, [r7, #80]
 10464 0394 5B00     		lsls	r3, r3, #1
 10465              		.loc 1 5603 14 discriminator 1
 10466 0396 402B     		cmp	r3, #64
 10467 0398 03D8     		bhi	.L636
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 10468              		.loc 1 5604 10 discriminator 2
 10469 039a 3B6D     		ldr	r3, [r7, #80]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 283


 10470 039c 5B00     		lsls	r3, r3, #1
 10471 039e 7B60     		str	r3, [r7, #4]
 10472              		.loc 1 5604 21 discriminator 2
 10473 03a0 33E0     		b	.L633
 10474              	.L636:
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
 10475              		.loc 1 5606 15
 10476 03a2 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 10477 03a4 03F00203 		and	r3, r3, #2
 10478              		.loc 1 5606 9
 10479 03a8 002B     		cmp	r3, #0
 10480 03aa 03D0     		beq	.L637
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 10481              		.loc 1 5607 11 discriminator 1
 10482 03ac 0323     		movs	r3, #3
 10483 03ae 87F84F30 		strb	r3, [r7, #79]
 10484              		.loc 1 5607 23 discriminator 1
 10485 03b2 2AE0     		b	.L633
 10486              	.L637:
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 10487              		.loc 1 5609 9
 10488 03b4 7B68     		ldr	r3, [r7, #4]
 10489 03b6 002B     		cmp	r3, #0
 10490 03b8 05D1     		bne	.L638
 10491              		.loc 1 5609 21 discriminator 1
 10492 03ba 3B6D     		ldr	r3, [r7, #80]
 10493 03bc 5B00     		lsls	r3, r3, #1
 10494 03be 7B60     		str	r3, [r7, #4]
 10495              		.loc 1 5609 14 discriminator 1
 10496 03c0 7B68     		ldr	r3, [r7, #4]
 10497 03c2 802B     		cmp	r3, #128
 10498 03c4 1ED9     		bls	.L672
 10499              	.L638:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10500              		.loc 1 5610 13
 10501 03c6 0E23     		movs	r3, #14
 10502 03c8 40E2     		b	.L670
 10503              	.L635:
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
 10504              		.loc 1 5612 9
 10505 03ca 3B6A     		ldr	r3, [r7, #32]
 10506 03cc 40F6F572 		movw	r2, #4085
 10507 03d0 9342     		cmp	r3, r2
 10508 03d2 0AD8     		bhi	.L634
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 10509              		.loc 1 5613 9
 10510 03d4 7B68     		ldr	r3, [r7, #4]
 10511 03d6 002B     		cmp	r3, #0
 10512 03d8 05D1     		bne	.L639
 10513              		.loc 1 5613 21 discriminator 1
 10514 03da 3B6D     		ldr	r3, [r7, #80]
 10515 03dc 5B00     		lsls	r3, r3, #1
 10516 03de 7B60     		str	r3, [r7, #4]
 10517              		.loc 1 5613 14 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 284


 10518 03e0 7B68     		ldr	r3, [r7, #4]
 10519 03e2 802B     		cmp	r3, #128
 10520 03e4 10D9     		bls	.L673
 10521              	.L639:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10522              		.loc 1 5614 13
 10523 03e6 0E23     		movs	r3, #14
 10524 03e8 30E2     		b	.L670
 10525              	.L634:
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
 10526              		.loc 1 5617 7
 10527 03ea 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10528 03ee 012B     		cmp	r3, #1
 10529 03f0 0CD1     		bne	.L674
 10530              		.loc 1 5617 24 discriminator 1
 10531 03f2 3B6A     		ldr	r3, [r7, #32]
 10532 03f4 40F6F572 		movw	r2, #4085
 10533 03f8 9342     		cmp	r3, r2
 10534 03fa 07D9     		bls	.L674
 10535              		.loc 1 5617 54 discriminator 2
 10536 03fc 0E23     		movs	r3, #14
 10537 03fe 25E2     		b	.L670
 10538              	.L671:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10539              		.loc 1 5597 38
 10540 0400 00BF     		nop
 10541 0402 CEE6     		b	.L642
 10542              	.L672:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10543              		.loc 1 5609 40
 10544 0404 00BF     		nop
 10545 0406 CCE6     		b	.L642
 10546              	.L673:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10547              		.loc 1 5613 40
 10548 0408 00BF     		nop
 10549              	.L633:
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 10550              		.loc 1 5553 8
 10551 040a CAE6     		b	.L642
 10552              	.L674:
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 10553              		.loc 1 5620 4
 10554 040c 00BF     		nop
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
 10555              		.loc 1 5628 3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 285


 10556 040e FB8E     		ldrh	r3, [r7, #54]
 10557 0410 1A46     		mov	r2, r3
 10558 0412 0021     		movs	r1, #0
 10559 0414 386B     		ldr	r0, [r7, #48]
 10560 0416 FFF7FEFF 		bl	mem_set
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 10561              		.loc 1 5629 3
 10562 041a 0B22     		movs	r2, #11
 10563 041c B249     		ldr	r1, .L677
 10564 041e 386B     		ldr	r0, [r7, #48]
 10565 0420 FFF7FEFF 		bl	mem_cpy
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 10566              		.loc 1 5630 3
 10567 0424 3B6B     		ldr	r3, [r7, #48]
 10568 0426 0B33     		adds	r3, r3, #11
 10569 0428 FA8E     		ldrh	r2, [r7, #54]
 10570 042a 1146     		mov	r1, r2
 10571 042c 1846     		mov	r0, r3
 10572 042e FFF7FEFF 		bl	st_word
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 10573              		.loc 1 5631 6
 10574 0432 3B6B     		ldr	r3, [r7, #48]
 10575 0434 0D33     		adds	r3, r3, #13
 10576              		.loc 1 5631 25
 10577 0436 3A6D     		ldr	r2, [r7, #80]
 10578 0438 D2B2     		uxtb	r2, r2
 10579              		.loc 1 5631 23
 10580 043a 1A70     		strb	r2, [r3]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 10581              		.loc 1 5632 3
 10582 043c 3B6B     		ldr	r3, [r7, #48]
 10583 043e 0E33     		adds	r3, r3, #14
 10584 0440 7A6D     		ldr	r2, [r7, #84]
 10585 0442 92B2     		uxth	r2, r2
 10586 0444 1146     		mov	r1, r2
 10587 0446 1846     		mov	r0, r3
 10588 0448 FFF7FEFF 		bl	st_word
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 10589              		.loc 1 5633 6
 10590 044c 3B6B     		ldr	r3, [r7, #48]
 10591 044e 1033     		adds	r3, r3, #16
 10592              		.loc 1 5633 22
 10593 0450 7A6C     		ldr	r2, [r7, #68]
 10594 0452 D2B2     		uxtb	r2, r2
 10595              		.loc 1 5633 20
 10596 0454 1A70     		strb	r2, [r3]
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 10597              		.loc 1 5634 3
 10598 0456 3B6B     		ldr	r3, [r7, #48]
 10599 0458 03F11102 		add	r2, r3, #17
 10600 045c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10601 0460 032B     		cmp	r3, #3
 10602 0462 02D0     		beq	.L643
 10603              		.loc 1 5634 3 is_stmt 0 discriminator 1
 10604 0464 3B6C     		ldr	r3, [r7, #64]
 10605 0466 9BB2     		uxth	r3, r3
 10606 0468 00E0     		b	.L644
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 286


 10607              	.L643:
 10608              		.loc 1 5634 3 discriminator 2
 10609 046a 0023     		movs	r3, #0
 10610              	.L644:
 10611              		.loc 1 5634 3 discriminator 4
 10612 046c 1946     		mov	r1, r3
 10613 046e 1046     		mov	r0, r2
 10614 0470 FFF7FEFF 		bl	st_word
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 10615              		.loc 1 5635 14 is_stmt 1 discriminator 4
 10616 0474 3B69     		ldr	r3, [r7, #16]
 10617              		.loc 1 5635 6 discriminator 4
 10618 0476 B3F5803F 		cmp	r3, #65536
 10619 047a 08D2     		bcs	.L645
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 10620              		.loc 1 5636 4
 10621 047c 3B6B     		ldr	r3, [r7, #48]
 10622 047e 1333     		adds	r3, r3, #19
 10623 0480 3A69     		ldr	r2, [r7, #16]
 10624 0482 92B2     		uxth	r2, r2
 10625 0484 1146     		mov	r1, r2
 10626 0486 1846     		mov	r0, r3
 10627 0488 FFF7FEFF 		bl	st_word
 10628 048c 06E0     		b	.L646
 10629              	.L645:
5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
 10630              		.loc 1 5638 4
 10631 048e 3B6B     		ldr	r3, [r7, #48]
 10632 0490 2033     		adds	r3, r3, #32
 10633 0492 3A69     		ldr	r2, [r7, #16]
 10634 0494 1146     		mov	r1, r2
 10635 0496 1846     		mov	r0, r3
 10636 0498 FFF7FEFF 		bl	st_dword
 10637              	.L646:
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
 10638              		.loc 1 5640 6
 10639 049c 3B6B     		ldr	r3, [r7, #48]
 10640 049e 1533     		adds	r3, r3, #21
 10641              		.loc 1 5640 18
 10642 04a0 F822     		movs	r2, #248
 10643 04a2 1A70     		strb	r2, [r3]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 10644              		.loc 1 5641 3
 10645 04a4 3B6B     		ldr	r3, [r7, #48]
 10646 04a6 1833     		adds	r3, r3, #24
 10647 04a8 3F21     		movs	r1, #63
 10648 04aa 1846     		mov	r0, r3
 10649 04ac FFF7FEFF 		bl	st_word
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 10650              		.loc 1 5642 3
 10651 04b0 3B6B     		ldr	r3, [r7, #48]
 10652 04b2 1A33     		adds	r3, r3, #26
 10653 04b4 FF21     		movs	r1, #255
 10654 04b6 1846     		mov	r0, r3
 10655 04b8 FFF7FEFF 		bl	st_word
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 287


5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 10656              		.loc 1 5643 3
 10657 04bc 3B6B     		ldr	r3, [r7, #48]
 10658 04be 1C33     		adds	r3, r3, #28
 10659 04c0 796A     		ldr	r1, [r7, #36]
 10660 04c2 1846     		mov	r0, r3
 10661 04c4 FFF7FEFF 		bl	st_dword
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 10662              		.loc 1 5644 6
 10663 04c8 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10664 04cc 032B     		cmp	r3, #3
 10665 04ce 31D1     		bne	.L647
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 10666              		.loc 1 5645 4
 10667 04d0 3B6B     		ldr	r3, [r7, #48]
 10668 04d2 03F14304 		add	r4, r3, #67
 10669 04d6 FFF7FEFF 		bl	get_fattime
 10670 04da 0346     		mov	r3, r0
 10671 04dc 1946     		mov	r1, r3
 10672 04de 2046     		mov	r0, r4
 10673 04e0 FFF7FEFF 		bl	st_dword
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 10674              		.loc 1 5646 4
 10675 04e4 3B6B     		ldr	r3, [r7, #48]
 10676 04e6 2433     		adds	r3, r3, #36
 10677 04e8 B96E     		ldr	r1, [r7, #104]
 10678 04ea 1846     		mov	r0, r3
 10679 04ec FFF7FEFF 		bl	st_dword
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 10680              		.loc 1 5647 4
 10681 04f0 3B6B     		ldr	r3, [r7, #48]
 10682 04f2 2C33     		adds	r3, r3, #44
 10683 04f4 0221     		movs	r1, #2
 10684 04f6 1846     		mov	r0, r3
 10685 04f8 FFF7FEFF 		bl	st_dword
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 10686              		.loc 1 5648 4
 10687 04fc 3B6B     		ldr	r3, [r7, #48]
 10688 04fe 3033     		adds	r3, r3, #48
 10689 0500 0121     		movs	r1, #1
 10690 0502 1846     		mov	r0, r3
 10691 0504 FFF7FEFF 		bl	st_word
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 10692              		.loc 1 5649 4
 10693 0508 3B6B     		ldr	r3, [r7, #48]
 10694 050a 3233     		adds	r3, r3, #50
 10695 050c 0621     		movs	r1, #6
 10696 050e 1846     		mov	r0, r3
 10697 0510 FFF7FEFF 		bl	st_word
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 10698              		.loc 1 5650 7
 10699 0514 3B6B     		ldr	r3, [r7, #48]
 10700 0516 4033     		adds	r3, r3, #64
 10701              		.loc 1 5650 21
 10702 0518 8022     		movs	r2, #128
 10703 051a 1A70     		strb	r2, [r3]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 288


 10704              		.loc 1 5651 7
 10705 051c 3B6B     		ldr	r3, [r7, #48]
 10706 051e 4233     		adds	r3, r3, #66
 10707              		.loc 1 5651 22
 10708 0520 2922     		movs	r2, #41
 10709 0522 1A70     		strb	r2, [r3]
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10710              		.loc 1 5652 16
 10711 0524 3B6B     		ldr	r3, [r7, #48]
 10712 0526 4733     		adds	r3, r3, #71
 10713              		.loc 1 5652 4
 10714 0528 1322     		movs	r2, #19
 10715 052a 7049     		ldr	r1, .L677+4
 10716 052c 1846     		mov	r0, r3
 10717 052e FFF7FEFF 		bl	mem_cpy
 10718 0532 20E0     		b	.L648
 10719              	.L647:
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
 10720              		.loc 1 5654 4
 10721 0534 3B6B     		ldr	r3, [r7, #48]
 10722 0536 03F12704 		add	r4, r3, #39
 10723 053a FFF7FEFF 		bl	get_fattime
 10724 053e 0346     		mov	r3, r0
 10725 0540 1946     		mov	r1, r3
 10726 0542 2046     		mov	r0, r4
 10727 0544 FFF7FEFF 		bl	st_dword
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 10728              		.loc 1 5655 4
 10729 0548 3B6B     		ldr	r3, [r7, #48]
 10730 054a 1633     		adds	r3, r3, #22
 10731 054c BA6E     		ldr	r2, [r7, #104]
 10732 054e 92B2     		uxth	r2, r2
 10733 0550 1146     		mov	r1, r2
 10734 0552 1846     		mov	r0, r3
 10735 0554 FFF7FEFF 		bl	st_word
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 10736              		.loc 1 5656 7
 10737 0558 3B6B     		ldr	r3, [r7, #48]
 10738 055a 2433     		adds	r3, r3, #36
 10739              		.loc 1 5656 19
 10740 055c 8022     		movs	r2, #128
 10741 055e 1A70     		strb	r2, [r3]
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 10742              		.loc 1 5657 7
 10743 0560 3B6B     		ldr	r3, [r7, #48]
 10744 0562 2633     		adds	r3, r3, #38
 10745              		.loc 1 5657 20
 10746 0564 2922     		movs	r2, #41
 10747 0566 1A70     		strb	r2, [r3]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10748              		.loc 1 5658 16
 10749 0568 3B6B     		ldr	r3, [r7, #48]
 10750 056a 2B33     		adds	r3, r3, #43
 10751              		.loc 1 5658 4
 10752 056c 1322     		movs	r2, #19
 10753 056e 6049     		ldr	r1, .L677+8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 289


 10754 0570 1846     		mov	r0, r3
 10755 0572 FFF7FEFF 		bl	mem_cpy
 10756              	.L648:
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
 10757              		.loc 1 5660 3
 10758 0576 3B6B     		ldr	r3, [r7, #48]
 10759 0578 03F5FF73 		add	r3, r3, #510
 10760 057c 4AF65521 		movw	r1, #43605
 10761 0580 1846     		mov	r0, r3
 10762 0582 FFF7FEFF 		bl	st_word
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 10763              		.loc 1 5661 7
 10764 0586 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 10765 058a 0123     		movs	r3, #1
 10766 058c 7A6A     		ldr	r2, [r7, #36]
 10767 058e 396B     		ldr	r1, [r7, #48]
 10768 0590 FFF7FEFF 		bl	disk_write
 10769 0594 0346     		mov	r3, r0
 10770              		.loc 1 5661 6
 10771 0596 002B     		cmp	r3, #0
 10772 0598 01D0     		beq	.L649
 10773              		.loc 1 5661 57 discriminator 1
 10774 059a 0123     		movs	r3, #1
 10775 059c 56E1     		b	.L670
 10776              	.L649:
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 10777              		.loc 1 5664 6
 10778 059e 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10779 05a2 032B     		cmp	r3, #3
 10780 05a4 40D1     		bne	.L650
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 10781              		.loc 1 5665 4
 10782 05a6 7B6A     		ldr	r3, [r7, #36]
 10783 05a8 9A1D     		adds	r2, r3, #6
 10784 05aa 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 10785 05ae 0123     		movs	r3, #1
 10786 05b0 396B     		ldr	r1, [r7, #48]
 10787 05b2 FFF7FEFF 		bl	disk_write
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 10788              		.loc 1 5666 4
 10789 05b6 FB8E     		ldrh	r3, [r7, #54]
 10790 05b8 1A46     		mov	r2, r3
 10791 05ba 0021     		movs	r1, #0
 10792 05bc 386B     		ldr	r0, [r7, #48]
 10793 05be FFF7FEFF 		bl	mem_set
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 10794              		.loc 1 5667 4
 10795 05c2 4C49     		ldr	r1, .L677+12
 10796 05c4 386B     		ldr	r0, [r7, #48]
 10797 05c6 FFF7FEFF 		bl	st_dword
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 10798              		.loc 1 5668 4
 10799 05ca 3B6B     		ldr	r3, [r7, #48]
 10800 05cc 03F5F273 		add	r3, r3, #484
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 290


 10801 05d0 4949     		ldr	r1, .L677+16
 10802 05d2 1846     		mov	r0, r3
 10803 05d4 FFF7FEFF 		bl	st_dword
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10804              		.loc 1 5669 4
 10805 05d8 3B6B     		ldr	r3, [r7, #48]
 10806 05da 03F5F472 		add	r2, r3, #488
 10807 05de 3B6A     		ldr	r3, [r7, #32]
 10808 05e0 013B     		subs	r3, r3, #1
 10809 05e2 1946     		mov	r1, r3
 10810 05e4 1046     		mov	r0, r2
 10811 05e6 FFF7FEFF 		bl	st_dword
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10812              		.loc 1 5670 4
 10813 05ea 3B6B     		ldr	r3, [r7, #48]
 10814 05ec 03F5F673 		add	r3, r3, #492
 10815 05f0 0221     		movs	r1, #2
 10816 05f2 1846     		mov	r0, r3
 10817 05f4 FFF7FEFF 		bl	st_dword
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 10818              		.loc 1 5671 4
 10819 05f8 3B6B     		ldr	r3, [r7, #48]
 10820 05fa 03F5FF73 		add	r3, r3, #510
 10821 05fe 4AF65521 		movw	r1, #43605
 10822 0602 1846     		mov	r0, r3
 10823 0604 FFF7FEFF 		bl	st_word
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 10824              		.loc 1 5672 4
 10825 0608 7B6A     		ldr	r3, [r7, #36]
 10826 060a DA1D     		adds	r2, r3, #7
 10827 060c 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 10828 0610 0123     		movs	r3, #1
 10829 0612 396B     		ldr	r1, [r7, #48]
 10830 0614 FFF7FEFF 		bl	disk_write
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 10831              		.loc 1 5673 4
 10832 0618 7B6A     		ldr	r3, [r7, #36]
 10833 061a 5A1C     		adds	r2, r3, #1
 10834 061c 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 10835 0620 0123     		movs	r3, #1
 10836 0622 396B     		ldr	r1, [r7, #48]
 10837 0624 FFF7FEFF 		bl	disk_write
 10838              	.L650:
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
 10839              		.loc 1 5677 3
 10840 0628 BA6A     		ldr	r2, [r7, #40]
 10841 062a 0021     		movs	r1, #0
 10842 062c 386B     		ldr	r0, [r7, #48]
 10843 062e FFF7FEFF 		bl	mem_set
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 10844              		.loc 1 5678 8
 10845 0632 BB6D     		ldr	r3, [r7, #88]
 10846 0634 7B66     		str	r3, [r7, #100]
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 291


 10847              		.loc 1 5679 10
 10848 0636 0023     		movs	r3, #0
 10849 0638 BB64     		str	r3, [r7, #72]
 10850              		.loc 1 5679 3
 10851 063a 4BE0     		b	.L651
 10852              	.L658:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10853              		.loc 1 5680 7
 10854 063c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10855 0640 032B     		cmp	r3, #3
 10856 0642 13D1     		bne	.L652
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 10857              		.loc 1 5681 5
 10858 0644 6FF00701 		mvn	r1, #7
 10859 0648 386B     		ldr	r0, [r7, #48]
 10860 064a FFF7FEFF 		bl	st_dword
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 10861              		.loc 1 5682 5
 10862 064e 3B6B     		ldr	r3, [r7, #48]
 10863 0650 0433     		adds	r3, r3, #4
 10864 0652 4FF0FF31 		mov	r1, #-1
 10865 0656 1846     		mov	r0, r3
 10866 0658 FFF7FEFF 		bl	st_dword
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 10867              		.loc 1 5683 5
 10868 065c 3B6B     		ldr	r3, [r7, #48]
 10869 065e 0833     		adds	r3, r3, #8
 10870 0660 6FF07041 		mvn	r1, #-268435456
 10871 0664 1846     		mov	r0, r3
 10872 0666 FFF7FEFF 		bl	st_dword
 10873 066a 0BE0     		b	.L653
 10874              	.L652:
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
 10875              		.loc 1 5685 5
 10876 066c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10877 0670 012B     		cmp	r3, #1
 10878 0672 01D1     		bne	.L654
 10879              		.loc 1 5685 5 is_stmt 0 discriminator 1
 10880 0674 214B     		ldr	r3, .L677+20
 10881 0676 01E0     		b	.L655
 10882              	.L654:
 10883              		.loc 1 5685 5 discriminator 2
 10884 0678 6FF00703 		mvn	r3, #7
 10885              	.L655:
 10886              		.loc 1 5685 5 discriminator 4
 10887 067c 1946     		mov	r1, r3
 10888 067e 386B     		ldr	r0, [r7, #48]
 10889 0680 FFF7FEFF 		bl	st_dword
 10890              	.L653:
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
 10891              		.loc 1 5687 10 is_stmt 1
 10892 0684 BB6E     		ldr	r3, [r7, #104]
 10893 0686 3B66     		str	r3, [r7, #96]
 10894              	.L657:
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 292


5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 10895              		.loc 1 5689 7
 10896 0688 3A6E     		ldr	r2, [r7, #96]
 10897 068a FB6A     		ldr	r3, [r7, #44]
 10898 068c 9342     		cmp	r3, r2
 10899 068e 28BF     		it	cs
 10900 0690 1346     		movcs	r3, r2
 10901 0692 FB65     		str	r3, [r7, #92]
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 10902              		.loc 1 5690 9
 10903 0694 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 10904 0698 FB6D     		ldr	r3, [r7, #92]
 10905 069a 7A6E     		ldr	r2, [r7, #100]
 10906 069c 396B     		ldr	r1, [r7, #48]
 10907 069e FFF7FEFF 		bl	disk_write
 10908 06a2 0346     		mov	r3, r0
 10909              		.loc 1 5690 8
 10910 06a4 002B     		cmp	r3, #0
 10911 06a6 01D0     		beq	.L656
 10912              		.loc 1 5690 64 discriminator 1
 10913 06a8 0123     		movs	r3, #1
 10914 06aa CFE0     		b	.L670
 10915              	.L656:
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 10916              		.loc 1 5691 5
 10917 06ac FB8E     		ldrh	r3, [r7, #54]
 10918 06ae 1A46     		mov	r2, r3
 10919 06b0 0021     		movs	r1, #0
 10920 06b2 386B     		ldr	r0, [r7, #48]
 10921 06b4 FFF7FEFF 		bl	mem_set
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 10922              		.loc 1 5692 10
 10923 06b8 7A6E     		ldr	r2, [r7, #100]
 10924 06ba FB6D     		ldr	r3, [r7, #92]
 10925 06bc 1344     		add	r3, r3, r2
 10926 06be 7B66     		str	r3, [r7, #100]
 10927              		.loc 1 5692 22
 10928 06c0 3A6E     		ldr	r2, [r7, #96]
 10929 06c2 FB6D     		ldr	r3, [r7, #92]
 10930 06c4 D31A     		subs	r3, r2, r3
 10931 06c6 3B66     		str	r3, [r7, #96]
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 10932              		.loc 1 5693 13
 10933 06c8 3B6E     		ldr	r3, [r7, #96]
 10934 06ca 002B     		cmp	r3, #0
 10935 06cc DCD1     		bne	.L657
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10936              		.loc 1 5679 28 discriminator 2
 10937 06ce BB6C     		ldr	r3, [r7, #72]
 10938 06d0 0133     		adds	r3, r3, #1
 10939 06d2 BB64     		str	r3, [r7, #72]
 10940              	.L651:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10941              		.loc 1 5679 17 discriminator 1
 10942 06d4 BA6C     		ldr	r2, [r7, #72]
 10943 06d6 7B6C     		ldr	r3, [r7, #68]
 10944 06d8 9A42     		cmp	r2, r3
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 293


 10945 06da AFD3     		bcc	.L658
5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
 10946              		.loc 1 5697 35
 10947 06dc 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 10948 06e0 032B     		cmp	r3, #3
 10949 06e2 0DD1     		bne	.L659
 10950              		.loc 1 5697 35 is_stmt 0 discriminator 1
 10951 06e4 3B6D     		ldr	r3, [r7, #80]
 10952 06e6 0CE0     		b	.L660
 10953              	.L678:
 10954              		.align	2
 10955              	.L677:
 10956 06e8 10000000 		.word	.LC1
 10957 06ec 1C000000 		.word	.LC2
 10958 06f0 30000000 		.word	.LC3
 10959 06f4 52526141 		.word	1096897106
 10960 06f8 72724161 		.word	1631679090
 10961 06fc F8FFFF00 		.word	16777208
 10962              	.L659:
 10963              		.loc 1 5697 35 discriminator 2
 10964 0700 FB6E     		ldr	r3, [r7, #108]
 10965              	.L660:
 10966              		.loc 1 5697 9 is_stmt 1 discriminator 4
 10967 0702 3B66     		str	r3, [r7, #96]
 10968              	.L662:
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 10969              		.loc 1 5699 6
 10970 0704 3A6E     		ldr	r2, [r7, #96]
 10971 0706 FB6A     		ldr	r3, [r7, #44]
 10972 0708 9342     		cmp	r3, r2
 10973 070a 28BF     		it	cs
 10974 070c 1346     		movcs	r3, r2
 10975 070e FB65     		str	r3, [r7, #92]
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 10976              		.loc 1 5700 8
 10977 0710 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 10978 0714 FB6D     		ldr	r3, [r7, #92]
 10979 0716 7A6E     		ldr	r2, [r7, #100]
 10980 0718 396B     		ldr	r1, [r7, #48]
 10981 071a FFF7FEFF 		bl	disk_write
 10982 071e 0346     		mov	r3, r0
 10983              		.loc 1 5700 7
 10984 0720 002B     		cmp	r3, #0
 10985 0722 01D0     		beq	.L661
 10986              		.loc 1 5700 63 discriminator 1
 10987 0724 0123     		movs	r3, #1
 10988 0726 91E0     		b	.L670
 10989              	.L661:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 10990              		.loc 1 5701 9
 10991 0728 7A6E     		ldr	r2, [r7, #100]
 10992 072a FB6D     		ldr	r3, [r7, #92]
 10993 072c 1344     		add	r3, r3, r2
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 294


 10994 072e 7B66     		str	r3, [r7, #100]
 10995              		.loc 1 5701 21
 10996 0730 3A6E     		ldr	r2, [r7, #96]
 10997 0732 FB6D     		ldr	r3, [r7, #92]
 10998 0734 D31A     		subs	r3, r2, r3
 10999 0736 3B66     		str	r3, [r7, #96]
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11000              		.loc 1 5702 12
 11001 0738 3B6E     		ldr	r3, [r7, #96]
 11002 073a 002B     		cmp	r3, #0
 11003 073c E2D1     		bne	.L662
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 11004              		.loc 1 5709 6
 11005 073e 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11006 0742 032B     		cmp	r3, #3
 11007 0744 03D1     		bne	.L663
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 11008              		.loc 1 5710 8
 11009 0746 0C23     		movs	r3, #12
 11010 0748 87F84E30 		strb	r3, [r7, #78]
 11011 074c 10E0     		b	.L664
 11012              	.L663:
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
 11013              		.loc 1 5712 15
 11014 074e 3B69     		ldr	r3, [r7, #16]
 11015              		.loc 1 5712 7
 11016 0750 B3F5803F 		cmp	r3, #65536
 11017 0754 03D3     		bcc	.L665
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11018              		.loc 1 5713 9
 11019 0756 0623     		movs	r3, #6
 11020 0758 87F84E30 		strb	r3, [r7, #78]
 11021 075c 08E0     		b	.L664
 11022              	.L665:
5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
 11023              		.loc 1 5715 9
 11024 075e 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11025 0762 022B     		cmp	r3, #2
 11026 0764 01D1     		bne	.L666
 11027              		.loc 1 5715 9 is_stmt 0 discriminator 1
 11028 0766 0423     		movs	r3, #4
 11029 0768 00E0     		b	.L667
 11030              	.L666:
 11031              		.loc 1 5715 9 discriminator 2
 11032 076a 0123     		movs	r3, #1
 11033              	.L667:
 11034              		.loc 1 5715 9 discriminator 4
 11035 076c 87F84E30 		strb	r3, [r7, #78]
 11036              	.L664:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 295


5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
 11037              		.loc 1 5727 13 is_stmt 1
 11038 0770 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11039 0772 03F00803 		and	r3, r3, #8
 11040              		.loc 1 5727 6
 11041 0776 002B     		cmp	r3, #0
 11042 0778 5BD1     		bne	.L668
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11043              		.loc 1 5728 4
 11044 077a FB8E     		ldrh	r3, [r7, #54]
 11045 077c 1A46     		mov	r2, r3
 11046 077e 0021     		movs	r1, #0
 11047 0780 386B     		ldr	r0, [r7, #48]
 11048 0782 FFF7FEFF 		bl	mem_set
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 11049              		.loc 1 5729 4
 11050 0786 3B6B     		ldr	r3, [r7, #48]
 11051 0788 03F5FF73 		add	r3, r3, #510
 11052 078c 4AF65521 		movw	r1, #43605
 11053 0790 1846     		mov	r0, r3
 11054 0792 FFF7FEFF 		bl	st_word
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 11055              		.loc 1 5730 8
 11056 0796 3B6B     		ldr	r3, [r7, #48]
 11057 0798 03F5DF73 		add	r3, r3, #446
 11058 079c BB61     		str	r3, [r7, #24]
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 11059              		.loc 1 5731 18
 11060 079e BB69     		ldr	r3, [r7, #24]
 11061 07a0 0022     		movs	r2, #0
 11062 07a2 1A70     		strb	r2, [r3]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11063              		.loc 1 5732 7
 11064 07a4 BB69     		ldr	r3, [r7, #24]
 11065 07a6 0133     		adds	r3, r3, #1
 11066              		.loc 1 5732 20
 11067 07a8 0122     		movs	r2, #1
 11068 07aa 1A70     		strb	r2, [r3]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11069              		.loc 1 5733 7
 11070 07ac BB69     		ldr	r3, [r7, #24]
 11071 07ae 0233     		adds	r3, r3, #2
 11072              		.loc 1 5733 19
 11073 07b0 0122     		movs	r2, #1
 11074 07b2 1A70     		strb	r2, [r3]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 296


 11075              		.loc 1 5734 7
 11076 07b4 BB69     		ldr	r3, [r7, #24]
 11077 07b6 0333     		adds	r3, r3, #3
 11078              		.loc 1 5734 19
 11079 07b8 0022     		movs	r2, #0
 11080 07ba 1A70     		strb	r2, [r3]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 11081              		.loc 1 5735 7
 11082 07bc BB69     		ldr	r3, [r7, #24]
 11083 07be 0433     		adds	r3, r3, #4
 11084              		.loc 1 5735 20
 11085 07c0 97F84E20 		ldrb	r2, [r7, #78]
 11086 07c4 1A70     		strb	r2, [r3]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 11087              		.loc 1 5736 15
 11088 07c6 3A69     		ldr	r2, [r7, #16]
 11089 07c8 7B6A     		ldr	r3, [r7, #36]
 11090 07ca 1A44     		add	r2, r2, r3
 11091              		.loc 1 5736 6
 11092 07cc 214B     		ldr	r3, .L679
 11093 07ce A3FB0213 		umull	r1, r3, r3, r2
 11094 07d2 D21A     		subs	r2, r2, r3
 11095 07d4 5208     		lsrs	r2, r2, #1
 11096 07d6 1344     		add	r3, r3, r2
 11097 07d8 5B0B     		lsrs	r3, r3, #13
 11098 07da FB65     		str	r3, [r7, #92]
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11099              		.loc 1 5737 7
 11100 07dc BB69     		ldr	r3, [r7, #24]
 11101 07de 0533     		adds	r3, r3, #5
 11102              		.loc 1 5737 20
 11103 07e0 FE22     		movs	r2, #254
 11104 07e2 1A70     		strb	r2, [r3]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 11105              		.loc 1 5738 30
 11106 07e4 FB6D     		ldr	r3, [r7, #92]
 11107 07e6 9B08     		lsrs	r3, r3, #2
 11108              		.loc 1 5738 21
 11109 07e8 DAB2     		uxtb	r2, r3
 11110              		.loc 1 5738 7
 11111 07ea BB69     		ldr	r3, [r7, #24]
 11112 07ec 0633     		adds	r3, r3, #6
 11113              		.loc 1 5738 21
 11114 07ee 42F03F02 		orr	r2, r2, #63
 11115 07f2 D2B2     		uxtb	r2, r2
 11116              		.loc 1 5738 19
 11117 07f4 1A70     		strb	r2, [r3]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11118              		.loc 1 5739 7
 11119 07f6 BB69     		ldr	r3, [r7, #24]
 11120 07f8 0733     		adds	r3, r3, #7
 11121              		.loc 1 5739 21
 11122 07fa FA6D     		ldr	r2, [r7, #92]
 11123 07fc D2B2     		uxtb	r2, r2
 11124              		.loc 1 5739 19
 11125 07fe 1A70     		strb	r2, [r3]
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 297


 11126              		.loc 1 5740 4
 11127 0800 BB69     		ldr	r3, [r7, #24]
 11128 0802 0833     		adds	r3, r3, #8
 11129 0804 796A     		ldr	r1, [r7, #36]
 11130 0806 1846     		mov	r0, r3
 11131 0808 FFF7FEFF 		bl	st_dword
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 11132              		.loc 1 5741 4
 11133 080c BB69     		ldr	r3, [r7, #24]
 11134 080e 0C33     		adds	r3, r3, #12
 11135 0810 3A69     		ldr	r2, [r7, #16]
 11136 0812 1146     		mov	r1, r2
 11137 0814 1846     		mov	r0, r3
 11138 0816 FFF7FEFF 		bl	st_dword
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 11139              		.loc 1 5742 8
 11140 081a 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 11141 081e 0123     		movs	r3, #1
 11142 0820 0022     		movs	r2, #0
 11143 0822 396B     		ldr	r1, [r7, #48]
 11144 0824 FFF7FEFF 		bl	disk_write
 11145 0828 0346     		mov	r3, r0
 11146              		.loc 1 5742 7
 11147 082a 002B     		cmp	r3, #0
 11148 082c 01D0     		beq	.L668
 11149              		.loc 1 5742 54 discriminator 1
 11150 082e 0123     		movs	r3, #1
 11151 0830 0CE0     		b	.L670
 11152              	.L668:
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
 11153              		.loc 1 5746 6
 11154 0832 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 11155 0836 0022     		movs	r2, #0
 11156 0838 0021     		movs	r1, #0
 11157 083a 1846     		mov	r0, r3
 11158 083c FFF7FEFF 		bl	disk_ioctl
 11159 0840 0346     		mov	r3, r0
 11160              		.loc 1 5746 5
 11161 0842 002B     		cmp	r3, #0
 11162 0844 01D0     		beq	.L669
 11163              		.loc 1 5746 55 discriminator 1
 11164 0846 0123     		movs	r3, #1
 11165 0848 00E0     		b	.L670
 11166              	.L669:
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 11167              		.loc 1 5748 9
 11168 084a 0023     		movs	r3, #0
 11169              	.L670:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11170              		.loc 1 5749 1 discriminator 1
 11171 084c 1846     		mov	r0, r3
 11172 084e 7437     		adds	r7, r7, #116
 11173              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 298


 11174 0850 BD46     		mov	sp, r7
 11175              		.cfi_def_cfa_register 13
 11176              		@ sp needed
 11177 0852 90BD     		pop	{r4, r7, pc}
 11178              	.L680:
 11179              		.align	2
 11180              	.L679:
 11181 0854 5B561505 		.word	85284443
 11182              		.cfi_endproc
 11183              	.LFE375:
 11185              		.section	.text.f_gets,"ax",%progbits
 11186              		.align	1
 11187              		.global	f_gets
 11188              		.syntax unified
 11189              		.thumb
 11190              		.thumb_func
 11192              	f_gets:
 11193              	.LFB376:
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 299


5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11194              		.loc 1 5835 1
 11195              		.cfi_startproc
 11196              		@ args = 0, pretend = 0, frame = 32
 11197              		@ frame_needed = 1, uses_anonymous_args = 0
 11198 0000 80B5     		push	{r7, lr}
 11199              		.cfi_def_cfa_offset 8
 11200              		.cfi_offset 7, -8
 11201              		.cfi_offset 14, -4
 11202 0002 88B0     		sub	sp, sp, #32
 11203              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 300


 11204 0004 00AF     		add	r7, sp, #0
 11205              		.cfi_def_cfa_register 7
 11206 0006 F860     		str	r0, [r7, #12]
 11207 0008 B960     		str	r1, [r7, #8]
 11208 000a 7A60     		str	r2, [r7, #4]
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 11209              		.loc 1 5836 6
 11210 000c 0023     		movs	r3, #0
 11211 000e FB61     		str	r3, [r7, #28]
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 11212              		.loc 1 5837 12
 11213 0010 FB68     		ldr	r3, [r7, #12]
 11214 0012 BB61     		str	r3, [r7, #24]
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
 11215              		.loc 1 5842 8
 11216 0014 1BE0     		b	.L682
 11217              	.L686:
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 301


5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
 11218              		.loc 1 5887 3
 11219 0016 07F11003 		add	r3, r7, #16
 11220 001a 07F11401 		add	r1, r7, #20
 11221 001e 0122     		movs	r2, #1
 11222 0020 7868     		ldr	r0, [r7, #4]
 11223 0022 FFF7FEFF 		bl	f_read
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 11224              		.loc 1 5888 10
 11225 0026 3B69     		ldr	r3, [r7, #16]
 11226              		.loc 1 5888 6
 11227 0028 012B     		cmp	r3, #1
 11228 002a 16D1     		bne	.L690
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11229              		.loc 1 5889 5
 11230 002c 3B7D     		ldrb	r3, [r7, #20]
 11231 002e FB75     		strb	r3, [r7, #23]
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
 11232              		.loc 1 5891 6
 11233 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 11234 0032 0D2B     		cmp	r3, #13
 11235 0034 00D1     		bne	.L685
 11236              		.loc 1 5891 39 discriminator 1
 11237 0036 0AE0     		b	.L682
 11238              	.L685:
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 11239              		.loc 1 5892 5
 11240 0038 BB69     		ldr	r3, [r7, #24]
 11241 003a 5A1C     		adds	r2, r3, #1
 11242 003c BA61     		str	r2, [r7, #24]
 11243              		.loc 1 5892 8
 11244 003e FA7D     		ldrb	r2, [r7, #23]
 11245 0040 1A70     		strb	r2, [r3]
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11246              		.loc 1 5893 4
 11247 0042 FB69     		ldr	r3, [r7, #28]
 11248 0044 0133     		adds	r3, r3, #1
 11249 0046 FB61     		str	r3, [r7, #28]
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 11250              		.loc 1 5894 6
 11251 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 11252 004a 0A2B     		cmp	r3, #10
 11253 004c 07D0     		beq	.L691
 11254              	.L682:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11255              		.loc 1 5842 17
 11256 004e BB68     		ldr	r3, [r7, #8]
 11257 0050 013B     		subs	r3, r3, #1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 302


5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11258              		.loc 1 5842 11
 11259 0052 FA69     		ldr	r2, [r7, #28]
 11260 0054 9A42     		cmp	r2, r3
 11261 0056 DEDB     		blt	.L686
 11262 0058 02E0     		b	.L684
 11263              	.L690:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11264              		.loc 1 5888 16
 11265 005a 00BF     		nop
 11266 005c 00E0     		b	.L684
 11267              	.L691:
 11268              		.loc 1 5894 18
 11269 005e 00BF     		nop
 11270              	.L684:
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
 11271              		.loc 1 5896 5
 11272 0060 BB69     		ldr	r3, [r7, #24]
 11273 0062 0022     		movs	r2, #0
 11274 0064 1A70     		strb	r2, [r3]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 11275              		.loc 1 5897 18
 11276 0066 FB69     		ldr	r3, [r7, #28]
 11277 0068 002B     		cmp	r3, #0
 11278 006a 01D0     		beq	.L687
 11279              		.loc 1 5897 18 is_stmt 0 discriminator 1
 11280 006c FB68     		ldr	r3, [r7, #12]
 11281 006e 00E0     		b	.L689
 11282              	.L687:
 11283              		.loc 1 5897 18 discriminator 2
 11284 0070 0023     		movs	r3, #0
 11285              	.L689:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11286              		.loc 1 5898 1 is_stmt 1
 11287 0072 1846     		mov	r0, r3
 11288 0074 2037     		adds	r7, r7, #32
 11289              		.cfi_def_cfa_offset 8
 11290 0076 BD46     		mov	sp, r7
 11291              		.cfi_def_cfa_register 13
 11292              		@ sp needed
 11293 0078 80BD     		pop	{r7, pc}
 11294              		.cfi_endproc
 11295              	.LFE376:
 11297              		.section	.text.putc_bfd,"ax",%progbits
 11298              		.align	1
 11299              		.syntax unified
 11300              		.thumb
 11301              		.thumb_func
 11303              	putc_bfd:
 11304              	.LFB377:
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 303


5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11305              		.loc 1 5921 1
 11306              		.cfi_startproc
 11307              		@ args = 0, pretend = 0, frame = 16
 11308              		@ frame_needed = 1, uses_anonymous_args = 0
 11309 0000 80B5     		push	{r7, lr}
 11310              		.cfi_def_cfa_offset 8
 11311              		.cfi_offset 7, -8
 11312              		.cfi_offset 14, -4
 11313 0002 84B0     		sub	sp, sp, #16
 11314              		.cfi_def_cfa_offset 24
 11315 0004 00AF     		add	r7, sp, #0
 11316              		.cfi_def_cfa_register 7
 11317 0006 7860     		str	r0, [r7, #4]
 11318 0008 0B46     		mov	r3, r1
 11319 000a FB70     		strb	r3, [r7, #3]
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
 11320              		.loc 1 5926 5
 11321 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 11322 000e 0A2B     		cmp	r3, #10
 11323 0010 03D1     		bne	.L693
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 11324              		.loc 1 5927 3
 11325 0012 0D21     		movs	r1, #13
 11326 0014 7868     		ldr	r0, [r7, #4]
 11327 0016 FFF7F3FF 		bl	putc_bfd
 11328              	.L693:
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
 11329              		.loc 1 5930 4
 11330 001a 7B68     		ldr	r3, [r7, #4]
 11331 001c 5B68     		ldr	r3, [r3, #4]
 11332 001e FB60     		str	r3, [r7, #12]
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 11333              		.loc 1 5931 5
 11334 0020 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 304


 11335 0022 002B     		cmp	r3, #0
 11336 0024 25DB     		blt	.L699
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 11337              		.loc 1 5960 11
 11338 0026 FB68     		ldr	r3, [r7, #12]
 11339 0028 5A1C     		adds	r2, r3, #1
 11340 002a FA60     		str	r2, [r7, #12]
 11341              		.loc 1 5960 15
 11342 002c 7A68     		ldr	r2, [r7, #4]
 11343 002e 1344     		add	r3, r3, r2
 11344 0030 FA78     		ldrb	r2, [r7, #3]
 11345 0032 1A73     		strb	r2, [r3, #12]
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 11346              		.loc 1 5963 5
 11347 0034 FB68     		ldr	r3, [r7, #12]
 11348 0036 3C2B     		cmp	r3, #60
 11349 0038 12DD     		ble	.L696
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 11350              		.loc 1 5964 3
 11351 003a 7B68     		ldr	r3, [r7, #4]
 11352 003c 1868     		ldr	r0, [r3]
 11353              		.loc 1 5964 21
 11354 003e 7B68     		ldr	r3, [r7, #4]
 11355 0040 03F10C01 		add	r1, r3, #12
 11356              		.loc 1 5964 3
 11357 0044 FA68     		ldr	r2, [r7, #12]
 11358 0046 07F10803 		add	r3, r7, #8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 305


 11359 004a FFF7FEFF 		bl	f_write
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 11360              		.loc 1 5965 11
 11361 004e BA68     		ldr	r2, [r7, #8]
 11362              		.loc 1 5965 14
 11363 0050 FB68     		ldr	r3, [r7, #12]
 11364              		.loc 1 5965 27
 11365 0052 9A42     		cmp	r2, r3
 11366 0054 01D1     		bne	.L697
 11367              		.loc 1 5965 27 is_stmt 0 discriminator 1
 11368 0056 0023     		movs	r3, #0
 11369 0058 01E0     		b	.L698
 11370              	.L697:
 11371              		.loc 1 5965 27 discriminator 2
 11372 005a 4FF0FF33 		mov	r3, #-1
 11373              	.L698:
 11374              		.loc 1 5965 5 is_stmt 1 discriminator 4
 11375 005e FB60     		str	r3, [r7, #12]
 11376              	.L696:
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 11377              		.loc 1 5967 10
 11378 0060 7B68     		ldr	r3, [r7, #4]
 11379 0062 FA68     		ldr	r2, [r7, #12]
 11380 0064 5A60     		str	r2, [r3, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 11381              		.loc 1 5968 4
 11382 0066 7B68     		ldr	r3, [r7, #4]
 11383 0068 9B68     		ldr	r3, [r3, #8]
 11384              		.loc 1 5968 10
 11385 006a 5A1C     		adds	r2, r3, #1
 11386 006c 7B68     		ldr	r3, [r7, #4]
 11387 006e 9A60     		str	r2, [r3, #8]
 11388 0070 00E0     		b	.L692
 11389              	.L699:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11390              		.loc 1 5931 13
 11391 0072 00BF     		nop
 11392              	.L692:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11393              		.loc 1 5969 1
 11394 0074 1037     		adds	r7, r7, #16
 11395              		.cfi_def_cfa_offset 8
 11396 0076 BD46     		mov	sp, r7
 11397              		.cfi_def_cfa_register 13
 11398              		@ sp needed
 11399 0078 80BD     		pop	{r7, pc}
 11400              		.cfi_endproc
 11401              	.LFE377:
 11403              		.section	.text.putc_flush,"ax",%progbits
 11404              		.align	1
 11405              		.syntax unified
 11406              		.thumb
 11407              		.thumb_func
 11409              	putc_flush:
 11410              	.LFB378:
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 306


5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11411              		.loc 1 5976 1
 11412              		.cfi_startproc
 11413              		@ args = 0, pretend = 0, frame = 16
 11414              		@ frame_needed = 1, uses_anonymous_args = 0
 11415 0000 80B5     		push	{r7, lr}
 11416              		.cfi_def_cfa_offset 8
 11417              		.cfi_offset 7, -8
 11418              		.cfi_offset 14, -4
 11419 0002 84B0     		sub	sp, sp, #16
 11420              		.cfi_def_cfa_offset 24
 11421 0004 00AF     		add	r7, sp, #0
 11422              		.cfi_def_cfa_register 7
 11423 0006 7860     		str	r0, [r7, #4]
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
 11424              		.loc 1 5979 11
 11425 0008 7B68     		ldr	r3, [r7, #4]
 11426 000a 5B68     		ldr	r3, [r3, #4]
 11427              		.loc 1 5979 5
 11428 000c 002B     		cmp	r3, #0
 11429 000e 16DB     		blt	.L701
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 11430              		.loc 1 5980 6
 11431 0010 7B68     		ldr	r3, [r7, #4]
 11432 0012 1868     		ldr	r0, [r3]
 11433              		.loc 1 5980 24
 11434 0014 7B68     		ldr	r3, [r7, #4]
 11435 0016 03F10C01 		add	r1, r3, #12
 11436              		.loc 1 5980 39
 11437 001a 7B68     		ldr	r3, [r7, #4]
 11438 001c 5B68     		ldr	r3, [r3, #4]
 11439              		.loc 1 5980 6
 11440 001e 1A46     		mov	r2, r3
 11441 0020 07F10C03 		add	r3, r7, #12
 11442 0024 FFF7FEFF 		bl	f_write
 11443 0028 0346     		mov	r3, r0
 11444              		.loc 1 5980 3
 11445 002a 002B     		cmp	r3, #0
 11446 002c 07D1     		bne	.L701
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 11447              		.loc 1 5981 14
 11448 002e 7B68     		ldr	r3, [r7, #4]
 11449 0030 5B68     		ldr	r3, [r3, #4]
 11450              		.loc 1 5981 20
 11451 0032 FA68     		ldr	r2, [r7, #12]
 11452              		.loc 1 5981 3
 11453 0034 9342     		cmp	r3, r2
 11454 0036 02D1     		bne	.L701
 11455              		.loc 1 5981 36 discriminator 1
 11456 0038 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 307


 11457 003a 9B68     		ldr	r3, [r3, #8]
 11458 003c 01E0     		b	.L703
 11459              	.L701:
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11460              		.loc 1 5982 9
 11461 003e 4FF0FF33 		mov	r3, #-1
 11462              	.L703:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11463              		.loc 1 5983 1 discriminator 1
 11464 0042 1846     		mov	r0, r3
 11465 0044 1037     		adds	r7, r7, #16
 11466              		.cfi_def_cfa_offset 8
 11467 0046 BD46     		mov	sp, r7
 11468              		.cfi_def_cfa_register 13
 11469              		@ sp needed
 11470 0048 80BD     		pop	{r7, pc}
 11471              		.cfi_endproc
 11472              	.LFE378:
 11474              		.section	.text.putc_init,"ax",%progbits
 11475              		.align	1
 11476              		.syntax unified
 11477              		.thumb
 11478              		.thumb_func
 11480              	putc_init:
 11481              	.LFB379:
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11482              		.loc 1 5991 1
 11483              		.cfi_startproc
 11484              		@ args = 0, pretend = 0, frame = 8
 11485              		@ frame_needed = 1, uses_anonymous_args = 0
 11486              		@ link register save eliminated.
 11487 0000 80B4     		push	{r7}
 11488              		.cfi_def_cfa_offset 4
 11489              		.cfi_offset 7, -4
 11490 0002 83B0     		sub	sp, sp, #12
 11491              		.cfi_def_cfa_offset 16
 11492 0004 00AF     		add	r7, sp, #0
 11493              		.cfi_def_cfa_register 7
 11494 0006 7860     		str	r0, [r7, #4]
 11495 0008 3960     		str	r1, [r7]
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 11496              		.loc 1 5992 9
 11497 000a 7B68     		ldr	r3, [r7, #4]
 11498 000c 3A68     		ldr	r2, [r7]
 11499 000e 1A60     		str	r2, [r3]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 11500              		.loc 1 5993 21
 11501 0010 7B68     		ldr	r3, [r7, #4]
 11502 0012 0022     		movs	r2, #0
 11503 0014 5A60     		str	r2, [r3, #4]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 308


 11504              		.loc 1 5993 15
 11505 0016 7B68     		ldr	r3, [r7, #4]
 11506 0018 5A68     		ldr	r2, [r3, #4]
 11507              		.loc 1 5993 11
 11508 001a 7B68     		ldr	r3, [r7, #4]
 11509 001c 9A60     		str	r2, [r3, #8]
5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11510              		.loc 1 5994 1
 11511 001e 00BF     		nop
 11512 0020 0C37     		adds	r7, r7, #12
 11513              		.cfi_def_cfa_offset 4
 11514 0022 BD46     		mov	sp, r7
 11515              		.cfi_def_cfa_register 13
 11516              		@ sp needed
 11517 0024 5DF8047B 		ldr	r7, [sp], #4
 11518              		.cfi_restore 7
 11519              		.cfi_def_cfa_offset 0
 11520 0028 7047     		bx	lr
 11521              		.cfi_endproc
 11522              	.LFE379:
 11524              		.section	.text.f_putc,"ax",%progbits
 11525              		.align	1
 11526              		.global	f_putc
 11527              		.syntax unified
 11528              		.thumb
 11529              		.thumb_func
 11531              	f_putc:
 11532              	.LFB380:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11533              		.loc 1 6002 1
 11534              		.cfi_startproc
 11535              		@ args = 0, pretend = 0, frame = 88
 11536              		@ frame_needed = 1, uses_anonymous_args = 0
 11537 0000 80B5     		push	{r7, lr}
 11538              		.cfi_def_cfa_offset 8
 11539              		.cfi_offset 7, -8
 11540              		.cfi_offset 14, -4
 11541 0002 96B0     		sub	sp, sp, #88
 11542              		.cfi_def_cfa_offset 96
 11543 0004 00AF     		add	r7, sp, #0
 11544              		.cfi_def_cfa_register 7
 11545 0006 0346     		mov	r3, r0
 11546 0008 3960     		str	r1, [r7]
 11547 000a FB71     		strb	r3, [r7, #7]
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 11548              		.loc 1 6006 2
 11549 000c 07F10C03 		add	r3, r7, #12
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 309


 11550 0010 3968     		ldr	r1, [r7]
 11551 0012 1846     		mov	r0, r3
 11552 0014 FFF7FEFF 		bl	putc_init
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 11553              		.loc 1 6007 2
 11554 0018 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 11555 001a 07F10C03 		add	r3, r7, #12
 11556 001e 1146     		mov	r1, r2
 11557 0020 1846     		mov	r0, r3
 11558 0022 FFF7FEFF 		bl	putc_bfd
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 11559              		.loc 1 6008 9
 11560 0026 07F10C03 		add	r3, r7, #12
 11561 002a 1846     		mov	r0, r3
 11562 002c FFF7FEFF 		bl	putc_flush
 11563 0030 0346     		mov	r3, r0
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11564              		.loc 1 6009 1
 11565 0032 1846     		mov	r0, r3
 11566 0034 5837     		adds	r7, r7, #88
 11567              		.cfi_def_cfa_offset 8
 11568 0036 BD46     		mov	sp, r7
 11569              		.cfi_def_cfa_register 13
 11570              		@ sp needed
 11571 0038 80BD     		pop	{r7, pc}
 11572              		.cfi_endproc
 11573              	.LFE380:
 11575              		.section	.text.f_puts,"ax",%progbits
 11576              		.align	1
 11577              		.global	f_puts
 11578              		.syntax unified
 11579              		.thumb
 11580              		.thumb_func
 11582              	f_puts:
 11583              	.LFB381:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11584              		.loc 1 6022 1
 11585              		.cfi_startproc
 11586              		@ args = 0, pretend = 0, frame = 88
 11587              		@ frame_needed = 1, uses_anonymous_args = 0
 11588 0000 80B5     		push	{r7, lr}
 11589              		.cfi_def_cfa_offset 8
 11590              		.cfi_offset 7, -8
 11591              		.cfi_offset 14, -4
 11592 0002 96B0     		sub	sp, sp, #88
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 310


 11593              		.cfi_def_cfa_offset 96
 11594 0004 00AF     		add	r7, sp, #0
 11595              		.cfi_def_cfa_register 7
 11596 0006 7860     		str	r0, [r7, #4]
 11597 0008 3960     		str	r1, [r7]
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 11598              		.loc 1 6026 2
 11599 000a 07F10C03 		add	r3, r7, #12
 11600 000e 3968     		ldr	r1, [r7]
 11601 0010 1846     		mov	r0, r3
 11602 0012 FFF7FEFF 		bl	putc_init
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 11603              		.loc 1 6027 8
 11604 0016 09E0     		b	.L708
 11605              	.L709:
 11606              		.loc 1 6027 33 discriminator 2
 11607 0018 7B68     		ldr	r3, [r7, #4]
 11608 001a 5A1C     		adds	r2, r3, #1
 11609 001c 7A60     		str	r2, [r7, #4]
 11610              		.loc 1 6027 15 discriminator 2
 11611 001e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 11612 0020 07F10C03 		add	r3, r7, #12
 11613 0024 1146     		mov	r1, r2
 11614 0026 1846     		mov	r0, r3
 11615 0028 FFF7FEFF 		bl	putc_bfd
 11616              	.L708:
 11617              		.loc 1 6027 9 discriminator 1
 11618 002c 7B68     		ldr	r3, [r7, #4]
 11619 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 11620 0030 002B     		cmp	r3, #0
 11621 0032 F1D1     		bne	.L709
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 11622              		.loc 1 6028 9
 11623 0034 07F10C03 		add	r3, r7, #12
 11624 0038 1846     		mov	r0, r3
 11625 003a FFF7FEFF 		bl	putc_flush
 11626 003e 0346     		mov	r3, r0
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11627              		.loc 1 6029 1
 11628 0040 1846     		mov	r0, r3
 11629 0042 5837     		adds	r7, r7, #88
 11630              		.cfi_def_cfa_offset 8
 11631 0044 BD46     		mov	sp, r7
 11632              		.cfi_def_cfa_register 13
 11633              		@ sp needed
 11634 0046 80BD     		pop	{r7, pc}
 11635              		.cfi_endproc
 11636              	.LFE381:
 11638              		.section	.text.f_printf,"ax",%progbits
 11639              		.align	1
 11640              		.global	f_printf
 11641              		.syntax unified
 11642              		.thumb
 11643              		.thumb_func
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 311


 11645              	f_printf:
 11646              	.LFB382:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11647              		.loc 1 6043 1
 11648              		.cfi_startproc
 11649              		@ args = 4, pretend = 12, frame = 152
 11650              		@ frame_needed = 1, uses_anonymous_args = 1
 11651 0000 0EB4     		push	{r1, r2, r3}
 11652              		.cfi_def_cfa_offset 12
 11653              		.cfi_offset 1, -12
 11654              		.cfi_offset 2, -8
 11655              		.cfi_offset 3, -4
 11656 0002 80B5     		push	{r7, lr}
 11657              		.cfi_def_cfa_offset 20
 11658              		.cfi_offset 7, -20
 11659              		.cfi_offset 14, -16
 11660 0004 A7B0     		sub	sp, sp, #156
 11661              		.cfi_def_cfa_offset 176
 11662 0006 00AF     		add	r7, sp, #0
 11663              		.cfi_def_cfa_register 7
 11664 0008 7860     		str	r0, [r7, #4]
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 11665              		.loc 1 6052 2
 11666 000a 07F12C03 		add	r3, r7, #44
 11667 000e 7968     		ldr	r1, [r7, #4]
 11668 0010 1846     		mov	r0, r3
 11669 0012 FFF7FEFF 		bl	putc_init
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 11670              		.loc 1 6054 2
 11671 0016 07F1A803 		add	r3, r7, #168
 11672 001a BB67     		str	r3, [r7, #120]
 11673              	.L762:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 312


 11674              		.loc 1 6057 11
 11675 001c D7F8A430 		ldr	r3, [r7, #164]
 11676 0020 5A1C     		adds	r2, r3, #1
 11677 0022 C7F8A420 		str	r2, [r7, #164]
 11678              		.loc 1 6057 5
 11679 0026 1B78     		ldrb	r3, [r3]
 11680 0028 87F88330 		strb	r3, [r7, #131]
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11681              		.loc 1 6058 6
 11682 002c 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11683 0030 002B     		cmp	r3, #0
 11684 0032 00F0F281 		beq	.L764
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 11685              		.loc 1 6059 6
 11686 0036 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11687 003a 252B     		cmp	r3, #37
 11688 003c 08D0     		beq	.L714
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 11689              		.loc 1 6060 4 discriminator 1
 11690 003e 97F88320 		ldrb	r2, [r7, #131]	@ zero_extendqisi2
 11691 0042 07F12C03 		add	r3, r7, #44
 11692 0046 1146     		mov	r1, r2
 11693 0048 1846     		mov	r0, r3
 11694 004a FFF7FEFF 		bl	putc_bfd
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 11695              		.loc 1 6061 4 discriminator 1
 11696 004e E3E1     		b	.L715
 11697              	.L714:
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 11698              		.loc 1 6063 9
 11699 0050 0023     		movs	r3, #0
 11700 0052 87F89730 		strb	r3, [r7, #151]
 11701              		.loc 1 6063 5
 11702 0056 0023     		movs	r3, #0
 11703 0058 C7F88830 		str	r3, [r7, #136]
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11704              		.loc 1 6064 11
 11705 005c D7F8A430 		ldr	r3, [r7, #164]
 11706 0060 5A1C     		adds	r2, r3, #1
 11707 0062 C7F8A420 		str	r2, [r7, #164]
 11708              		.loc 1 6064 5
 11709 0066 1B78     		ldrb	r3, [r3]
 11710 0068 87F88330 		strb	r3, [r7, #131]
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 11711              		.loc 1 6065 6
 11712 006c 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11713 0070 302B     		cmp	r3, #48
 11714 0072 0BD1     		bne	.L716
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11715              		.loc 1 6066 6
 11716 0074 0123     		movs	r3, #1
 11717 0076 87F89730 		strb	r3, [r7, #151]
 11718              		.loc 1 6066 19
 11719 007a D7F8A430 		ldr	r3, [r7, #164]
 11720 007e 5A1C     		adds	r2, r3, #1
 11721 0080 C7F8A420 		str	r2, [r7, #164]
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 313


 11722              		.loc 1 6066 13
 11723 0084 1B78     		ldrb	r3, [r3]
 11724 0086 87F88330 		strb	r3, [r7, #131]
 11725 008a 24E0     		b	.L718
 11726              	.L716:
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 11727              		.loc 1 6068 7
 11728 008c 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11729 0090 2D2B     		cmp	r3, #45
 11730 0092 20D1     		bne	.L718
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 11731              		.loc 1 6069 7
 11732 0094 0223     		movs	r3, #2
 11733 0096 87F89730 		strb	r3, [r7, #151]
 11734              		.loc 1 6069 20
 11735 009a D7F8A430 		ldr	r3, [r7, #164]
 11736 009e 5A1C     		adds	r2, r3, #1
 11737 00a0 C7F8A420 		str	r2, [r7, #164]
 11738              		.loc 1 6069 14
 11739 00a4 1B78     		ldrb	r3, [r3]
 11740 00a6 87F88330 		strb	r3, [r7, #131]
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
 11741              		.loc 1 6072 9
 11742 00aa 14E0     		b	.L718
 11743              	.L720:
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11744              		.loc 1 6073 10
 11745 00ac D7F88820 		ldr	r2, [r7, #136]
 11746 00b0 1346     		mov	r3, r2
 11747 00b2 9B00     		lsls	r3, r3, #2
 11748 00b4 1344     		add	r3, r3, r2
 11749 00b6 5B00     		lsls	r3, r3, #1
 11750 00b8 1A46     		mov	r2, r3
 11751              		.loc 1 6073 15
 11752 00ba 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11753 00be 1344     		add	r3, r3, r2
 11754              		.loc 1 6073 6
 11755 00c0 303B     		subs	r3, r3, #48
 11756 00c2 C7F88830 		str	r3, [r7, #136]
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 11757              		.loc 1 6074 12
 11758 00c6 D7F8A430 		ldr	r3, [r7, #164]
 11759 00ca 5A1C     		adds	r2, r3, #1
 11760 00cc C7F8A420 		str	r2, [r7, #164]
 11761              		.loc 1 6074 6
 11762 00d0 1B78     		ldrb	r3, [r3]
 11763 00d2 87F88330 		strb	r3, [r7, #131]
 11764              	.L718:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11765              		.loc 1 6072 10
 11766 00d6 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11767 00da 2F2B     		cmp	r3, #47
 11768 00dc 03D9     		bls	.L719
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 314


 11769              		.loc 1 6072 10 is_stmt 0 discriminator 1
 11770 00de 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11771 00e2 392B     		cmp	r3, #57
 11772 00e4 E2D9     		bls	.L720
 11773              	.L719:
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 11774              		.loc 1 6076 6 is_stmt 1
 11775 00e6 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11776 00ea 6C2B     		cmp	r3, #108
 11777 00ec 03D0     		beq	.L721
 11778              		.loc 1 6076 16 discriminator 1
 11779 00ee 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11780 00f2 4C2B     		cmp	r3, #76
 11781 00f4 0DD1     		bne	.L722
 11782              	.L721:
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 11783              		.loc 1 6077 6
 11784 00f6 97F89730 		ldrb	r3, [r7, #151]
 11785 00fa 43F00403 		orr	r3, r3, #4
 11786 00fe 87F89730 		strb	r3, [r7, #151]
 11787              		.loc 1 6077 20
 11788 0102 D7F8A430 		ldr	r3, [r7, #164]
 11789 0106 5A1C     		adds	r2, r3, #1
 11790 0108 C7F8A420 		str	r2, [r7, #164]
 11791              		.loc 1 6077 14
 11792 010c 1B78     		ldrb	r3, [r3]
 11793 010e 87F88330 		strb	r3, [r7, #131]
 11794              	.L722:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 11795              		.loc 1 6079 6
 11796 0112 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 11797 0116 002B     		cmp	r3, #0
 11798 0118 00F08181 		beq	.L765
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11799              		.loc 1 6080 5
 11800 011c 97F88330 		ldrb	r3, [r7, #131]
 11801 0120 87F88230 		strb	r3, [r7, #130]
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 11802              		.loc 1 6081 6
 11803 0124 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 11804 0128 602B     		cmp	r3, #96
 11805 012a 08D9     		bls	.L724
 11806              		.loc 1 6081 7 discriminator 1
 11807 012c 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 11808 0130 7A2B     		cmp	r3, #122
 11809 0132 04D8     		bhi	.L724
 11810              		.loc 1 6081 21 discriminator 2
 11811 0134 97F88230 		ldrb	r3, [r7, #130]
 11812 0138 203B     		subs	r3, r3, #32
 11813 013a 87F88230 		strb	r3, [r7, #130]
 11814              	.L724:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 11815              		.loc 1 6082 3
 11816 013e 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 11817 0142 423B     		subs	r3, r3, #66
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 315


 11818 0144 162B     		cmp	r3, #22
 11819 0146 00F29880 		bhi	.L725
 11820 014a 01A2     		adr	r2, .L727
 11821 014c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 11822              		.p2align 2
 11823              	.L727:
 11824 0150 5B020000 		.word	.L732+1
 11825 0154 43020000 		.word	.L731+1
 11826 0158 6B020000 		.word	.L728+1
 11827 015c 7B020000 		.word	.L725+1
 11828 0160 7B020000 		.word	.L725+1
 11829 0164 7B020000 		.word	.L725+1
 11830 0168 7B020000 		.word	.L725+1
 11831 016c 7B020000 		.word	.L725+1
 11832 0170 7B020000 		.word	.L725+1
 11833 0174 7B020000 		.word	.L725+1
 11834 0178 7B020000 		.word	.L725+1
 11835 017c 7B020000 		.word	.L725+1
 11836 0180 7B020000 		.word	.L725+1
 11837 0184 63020000 		.word	.L730+1
 11838 0188 7B020000 		.word	.L725+1
 11839 018c 7B020000 		.word	.L725+1
 11840 0190 7B020000 		.word	.L725+1
 11841 0194 AD010000 		.word	.L729+1
 11842 0198 7B020000 		.word	.L725+1
 11843 019c 6B020000 		.word	.L728+1
 11844 01a0 7B020000 		.word	.L725+1
 11845 01a4 7B020000 		.word	.L725+1
 11846 01a8 73020000 		.word	.L726+1
 11847              		.p2align 1
 11848              	.L729:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 11849              		.loc 1 6084 6
 11850 01ac BB6F     		ldr	r3, [r7, #120]
 11851 01ae 1A1D     		adds	r2, r3, #4
 11852 01b0 BA67     		str	r2, [r7, #120]
 11853 01b2 1B68     		ldr	r3, [r3]
 11854 01b4 FB67     		str	r3, [r7, #124]
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 11855              		.loc 1 6085 11
 11856 01b6 0023     		movs	r3, #0
 11857 01b8 C7F88C30 		str	r3, [r7, #140]
 11858              		.loc 1 6085 4
 11859 01bc 04E0     		b	.L733
 11860              	.L734:
 11861              		.loc 1 6085 23 discriminator 3
 11862 01be D7F88C30 		ldr	r3, [r7, #140]
 11863 01c2 0133     		adds	r3, r3, #1
 11864 01c4 C7F88C30 		str	r3, [r7, #140]
 11865              	.L733:
 11866              		.loc 1 6085 17 discriminator 1
 11867 01c8 FA6F     		ldr	r2, [r7, #124]
 11868 01ca D7F88C30 		ldr	r3, [r7, #140]
 11869 01ce 1344     		add	r3, r3, r2
 11870 01d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 11871              		.loc 1 6085 16 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 316


 11872 01d2 002B     		cmp	r3, #0
 11873 01d4 F3D1     		bne	.L734
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 11874              		.loc 1 6086 12
 11875 01d6 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 11876 01da 03F00203 		and	r3, r3, #2
 11877              		.loc 1 6086 7
 11878 01de 002B     		cmp	r3, #0
 11879 01e0 1AD1     		bne	.L738
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11880              		.loc 1 6087 11
 11881 01e2 05E0     		b	.L736
 11882              	.L737:
 11883              		.loc 1 6087 21 discriminator 2
 11884 01e4 07F12C03 		add	r3, r7, #44
 11885 01e8 2021     		movs	r1, #32
 11886 01ea 1846     		mov	r0, r3
 11887 01ec FFF7FEFF 		bl	putc_bfd
 11888              	.L736:
 11889              		.loc 1 6087 13 discriminator 1
 11890 01f0 D7F88C30 		ldr	r3, [r7, #140]
 11891 01f4 5A1C     		adds	r2, r3, #1
 11892 01f6 C7F88C20 		str	r2, [r7, #140]
 11893              		.loc 1 6087 16 discriminator 1
 11894 01fa D7F88820 		ldr	r2, [r7, #136]
 11895 01fe 9A42     		cmp	r2, r3
 11896 0200 F0D8     		bhi	.L737
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 11897              		.loc 1 6089 10
 11898 0202 09E0     		b	.L738
 11899              	.L739:
 11900              		.loc 1 6089 31 discriminator 2
 11901 0204 FB6F     		ldr	r3, [r7, #124]
 11902 0206 5A1C     		adds	r2, r3, #1
 11903 0208 FA67     		str	r2, [r7, #124]
 11904              		.loc 1 6089 15 discriminator 2
 11905 020a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 11906 020c 07F12C03 		add	r3, r7, #44
 11907 0210 1146     		mov	r1, r2
 11908 0212 1846     		mov	r0, r3
 11909 0214 FFF7FEFF 		bl	putc_bfd
 11910              	.L738:
 11911              		.loc 1 6089 11 discriminator 1
 11912 0218 FB6F     		ldr	r3, [r7, #124]
 11913 021a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 11914 021c 002B     		cmp	r3, #0
 11915 021e F1D1     		bne	.L739
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 11916              		.loc 1 6090 10
 11917 0220 05E0     		b	.L740
 11918              	.L741:
 11919              		.loc 1 6090 20 discriminator 2
 11920 0222 07F12C03 		add	r3, r7, #44
 11921 0226 2021     		movs	r1, #32
 11922 0228 1846     		mov	r0, r3
 11923 022a FFF7FEFF 		bl	putc_bfd
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 317


 11924              	.L740:
 11925              		.loc 1 6090 12 discriminator 1
 11926 022e D7F88C30 		ldr	r3, [r7, #140]
 11927 0232 5A1C     		adds	r2, r3, #1
 11928 0234 C7F88C20 		str	r2, [r7, #140]
 11929              		.loc 1 6090 15 discriminator 1
 11930 0238 D7F88820 		ldr	r2, [r7, #136]
 11931 023c 9A42     		cmp	r2, r3
 11932 023e F0D8     		bhi	.L741
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 11933              		.loc 1 6091 4
 11934 0240 EAE0     		b	.L715
 11935              	.L731:
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 11936              		.loc 1 6094 25 discriminator 2
 11937 0242 BB6F     		ldr	r3, [r7, #120]
 11938 0244 1A1D     		adds	r2, r3, #4
 11939 0246 BA67     		str	r2, [r7, #120]
 11940 0248 1B68     		ldr	r3, [r3]
 11941              		.loc 1 6094 4 discriminator 2
 11942 024a DAB2     		uxtb	r2, r3
 11943 024c 07F12C03 		add	r3, r7, #44
 11944 0250 1146     		mov	r1, r2
 11945 0252 1846     		mov	r0, r3
 11946 0254 FFF7FEFF 		bl	putc_bfd
 11947              		.loc 1 6094 44 discriminator 2
 11948 0258 DEE0     		b	.L715
 11949              	.L732:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
 11950              		.loc 1 6097 6
 11951 025a 0223     		movs	r3, #2
 11952 025c 87F89630 		strb	r3, [r7, #150]
 11953              		.loc 1 6097 11
 11954 0260 14E0     		b	.L742
 11955              	.L730:
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
 11956              		.loc 1 6100 6
 11957 0262 0823     		movs	r3, #8
 11958 0264 87F89630 		strb	r3, [r7, #150]
 11959              		.loc 1 6100 11
 11960 0268 10E0     		b	.L742
 11961              	.L728:
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 11962              		.loc 1 6104 6
 11963 026a 0A23     		movs	r3, #10
 11964 026c 87F89630 		strb	r3, [r7, #150]
 11965              		.loc 1 6104 12
 11966 0270 0CE0     		b	.L742
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 318


 11967              	.L726:
6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
 11968              		.loc 1 6107 6
 11969 0272 1023     		movs	r3, #16
 11970 0274 87F89630 		strb	r3, [r7, #150]
 11971              		.loc 1 6107 12
 11972 0278 08E0     		b	.L742
 11973              	.L725:
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
 11974              		.loc 1 6110 4 discriminator 1
 11975 027a 97F88320 		ldrb	r2, [r7, #131]	@ zero_extendqisi2
 11976 027e 07F12C03 		add	r3, r7, #44
 11977 0282 1146     		mov	r1, r2
 11978 0284 1846     		mov	r0, r3
 11979 0286 FFF7FEFF 		bl	putc_bfd
 11980              		.loc 1 6110 22 discriminator 1
 11981 028a C5E0     		b	.L715
 11982              	.L742:
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 11983              		.loc 1 6114 10
 11984 028c 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 11985 0290 03F00403 		and	r3, r3, #4
 11986              		.loc 1 6114 42
 11987 0294 002B     		cmp	r3, #0
 11988 0296 04D0     		beq	.L743
 11989              		.loc 1 6114 24
 11990 0298 BB6F     		ldr	r3, [r7, #120]
 11991 029a 1A1D     		adds	r2, r3, #4
 11992 029c BA67     		str	r2, [r7, #120]
 11993 029e 1B68     		ldr	r3, [r3]
 11994 02a0 0CE0     		b	.L744
 11995              	.L743:
 11996              		.loc 1 6114 88 discriminator 2
 11997 02a2 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 11998 02a6 442B     		cmp	r3, #68
 11999 02a8 04D1     		bne	.L745
 12000              		.loc 1 6114 71
 12001 02aa BB6F     		ldr	r3, [r7, #120]
 12002 02ac 1A1D     		adds	r2, r3, #4
 12003 02ae BA67     		str	r2, [r7, #120]
 12004 02b0 1B68     		ldr	r3, [r3]
 12005 02b2 03E0     		b	.L744
 12006              	.L745:
 12007              		.loc 1 6114 88
 12008 02b4 BB6F     		ldr	r3, [r7, #120]
 12009 02b6 1A1D     		adds	r2, r3, #4
 12010 02b8 BA67     		str	r2, [r7, #120]
 12011 02ba 1B68     		ldr	r3, [r3]
 12012              	.L744:
 12013              		.loc 1 6114 5 discriminator 8
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 319


 12014 02bc C7F88430 		str	r3, [r7, #132]
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12015              		.loc 1 6115 6 discriminator 8
 12016 02c0 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 12017 02c4 442B     		cmp	r3, #68
 12018 02c6 0ED1     		bne	.L747
 12019              		.loc 1 6115 16 discriminator 1
 12020 02c8 D7F88430 		ldr	r3, [r7, #132]
 12021 02cc 002B     		cmp	r3, #0
 12022 02ce 0ADA     		bge	.L747
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 12023              		.loc 1 6116 6
 12024 02d0 D7F88430 		ldr	r3, [r7, #132]
 12025 02d4 5B42     		rsbs	r3, r3, #0
 12026 02d6 C7F88430 		str	r3, [r7, #132]
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 12027              		.loc 1 6117 6
 12028 02da 97F89730 		ldrb	r3, [r7, #151]
 12029 02de 43F00803 		orr	r3, r3, #8
 12030 02e2 87F89730 		strb	r3, [r7, #151]
 12031              	.L747:
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 12032              		.loc 1 6119 5
 12033 02e6 0023     		movs	r3, #0
 12034 02e8 C7F89030 		str	r3, [r7, #144]
 12035              	.L752:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
 12036              		.loc 1 6121 18
 12037 02ec 97F89620 		ldrb	r2, [r7, #150]	@ zero_extendqisi2
 12038 02f0 D7F88430 		ldr	r3, [r7, #132]
 12039 02f4 B3FBF2F1 		udiv	r1, r3, r2
 12040 02f8 01FB02F2 		mul	r2, r1, r2
 12041 02fc 9B1A     		subs	r3, r3, r2
 12042              		.loc 1 6121 6
 12043 02fe 87F88230 		strb	r3, [r7, #130]
 12044              		.loc 1 6121 26
 12045 0302 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 12046 0306 D7F88420 		ldr	r2, [r7, #132]
 12047 030a B2FBF3F3 		udiv	r3, r2, r3
 12048 030e C7F88430 		str	r3, [r7, #132]
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12049              		.loc 1 6122 7
 12050 0312 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 12051 0316 092B     		cmp	r3, #9
 12052 0318 0BD9     		bls	.L748
 12053              		.loc 1 6122 17 discriminator 1
 12054 031a 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12055 031e 782B     		cmp	r3, #120
 12056 0320 01D1     		bne	.L749
 12057              		.loc 1 6122 17 is_stmt 0 discriminator 2
 12058 0322 2722     		movs	r2, #39
 12059 0324 00E0     		b	.L750
 12060              	.L749:
 12061              		.loc 1 6122 17 discriminator 3
 12062 0326 0722     		movs	r2, #7
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 320


 12063              	.L750:
 12064              		.loc 1 6122 17 discriminator 5
 12065 0328 97F88230 		ldrb	r3, [r7, #130]
 12066 032c 1344     		add	r3, r3, r2
 12067 032e 87F88230 		strb	r3, [r7, #130]
 12068              	.L748:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12069              		.loc 1 6123 9 is_stmt 1
 12070 0332 D7F89030 		ldr	r3, [r7, #144]
 12071 0336 5A1C     		adds	r2, r3, #1
 12072 0338 C7F89020 		str	r2, [r7, #144]
 12073              		.loc 1 6123 17
 12074 033c 97F88220 		ldrb	r2, [r7, #130]
 12075 0340 3032     		adds	r2, r2, #48
 12076 0342 D2B2     		uxtb	r2, r2
 12077              		.loc 1 6123 13
 12078 0344 9833     		adds	r3, r3, #152
 12079 0346 3B44     		add	r3, r3, r7
 12080 0348 03F88C2C 		strb	r2, [r3, #-140]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 12081              		.loc 1 6124 14
 12082 034c D7F88430 		ldr	r3, [r7, #132]
 12083 0350 002B     		cmp	r3, #0
 12084 0352 03D0     		beq	.L751
 12085              		.loc 1 6124 14 is_stmt 0 discriminator 1
 12086 0354 D7F89030 		ldr	r3, [r7, #144]
 12087 0358 1F2B     		cmp	r3, #31
 12088 035a C7D9     		bls	.L752
 12089              	.L751:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 12090              		.loc 1 6125 9 is_stmt 1
 12091 035c 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 12092 0360 03F00803 		and	r3, r3, #8
 12093              		.loc 1 6125 6
 12094 0364 002B     		cmp	r3, #0
 12095 0366 09D0     		beq	.L753
 12096              		.loc 1 6125 19 discriminator 1
 12097 0368 D7F89030 		ldr	r3, [r7, #144]
 12098 036c 5A1C     		adds	r2, r3, #1
 12099 036e C7F89020 		str	r2, [r7, #144]
 12100              		.loc 1 6125 23 discriminator 1
 12101 0372 9833     		adds	r3, r3, #152
 12102 0374 3B44     		add	r3, r3, r7
 12103 0376 2D22     		movs	r2, #45
 12104 0378 03F88C2C 		strb	r2, [r3, #-140]
 12105              	.L753:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12106              		.loc 1 6126 5
 12107 037c D7F89030 		ldr	r3, [r7, #144]
 12108 0380 C7F88C30 		str	r3, [r7, #140]
 12109              		.loc 1 6126 17
 12110 0384 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 12111 0388 03F00103 		and	r3, r3, #1
 12112              		.loc 1 6126 12
 12113 038c 002B     		cmp	r3, #0
 12114 038e 01D0     		beq	.L754
 12115              		.loc 1 6126 12 is_stmt 0 discriminator 1
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 321


 12116 0390 3023     		movs	r3, #48
 12117 0392 00E0     		b	.L755
 12118              	.L754:
 12119              		.loc 1 6126 12 discriminator 2
 12120 0394 2023     		movs	r3, #32
 12121              	.L755:
 12122              		.loc 1 6126 12 discriminator 4
 12123 0396 87F88230 		strb	r3, [r7, #130]
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 12124              		.loc 1 6127 9 is_stmt 1 discriminator 4
 12125 039a 07E0     		b	.L756
 12126              	.L758:
 12127              		.loc 1 6127 31 discriminator 3
 12128 039c 97F88220 		ldrb	r2, [r7, #130]	@ zero_extendqisi2
 12129 03a0 07F12C03 		add	r3, r7, #44
 12130 03a4 1146     		mov	r1, r2
 12131 03a6 1846     		mov	r0, r3
 12132 03a8 FFF7FEFF 		bl	putc_bfd
 12133              	.L756:
 12134              		.loc 1 6127 14 discriminator 1
 12135 03ac 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 12136 03b0 03F00203 		and	r3, r3, #2
 12137              		.loc 1 6127 19 discriminator 1
 12138 03b4 002B     		cmp	r3, #0
 12139 03b6 08D1     		bne	.L759
 12140              		.loc 1 6127 23 discriminator 2
 12141 03b8 D7F88C30 		ldr	r3, [r7, #140]
 12142 03bc 5A1C     		adds	r2, r3, #1
 12143 03be C7F88C20 		str	r2, [r7, #140]
 12144              		.loc 1 6127 19 discriminator 2
 12145 03c2 D7F88820 		ldr	r2, [r7, #136]
 12146 03c6 9A42     		cmp	r2, r3
 12147 03c8 E8D8     		bhi	.L758
 12148              	.L759:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 12149              		.loc 1 6129 4 discriminator 1
 12150 03ca D7F89030 		ldr	r3, [r7, #144]
 12151 03ce 013B     		subs	r3, r3, #1
 12152 03d0 C7F89030 		str	r3, [r7, #144]
 12153 03d4 07F10C02 		add	r2, r7, #12
 12154 03d8 D7F89030 		ldr	r3, [r7, #144]
 12155 03dc 1344     		add	r3, r3, r2
 12156 03de 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 12157 03e0 07F12C03 		add	r3, r7, #44
 12158 03e4 1146     		mov	r1, r2
 12159 03e6 1846     		mov	r0, r3
 12160 03e8 FFF7FEFF 		bl	putc_bfd
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 12161              		.loc 1 6130 12 discriminator 1
 12162 03ec D7F89030 		ldr	r3, [r7, #144]
 12163 03f0 002B     		cmp	r3, #0
 12164 03f2 EAD1     		bne	.L759
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 12165              		.loc 1 6131 9
 12166 03f4 07E0     		b	.L760
 12167              	.L761:
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 322


 12168              		.loc 1 6131 19 discriminator 2
 12169 03f6 97F88220 		ldrb	r2, [r7, #130]	@ zero_extendqisi2
 12170 03fa 07F12C03 		add	r3, r7, #44
 12171 03fe 1146     		mov	r1, r2
 12172 0400 1846     		mov	r0, r3
 12173 0402 FFF7FEFF 		bl	putc_bfd
 12174              	.L760:
 12175              		.loc 1 6131 11 discriminator 1
 12176 0406 D7F88C30 		ldr	r3, [r7, #140]
 12177 040a 5A1C     		adds	r2, r3, #1
 12178 040c C7F88C20 		str	r2, [r7, #140]
 12179              		.loc 1 6131 14 discriminator 1
 12180 0410 D7F88820 		ldr	r2, [r7, #136]
 12181 0414 9A42     		cmp	r2, r3
 12182 0416 EED8     		bhi	.L761
 12183              	.L715:
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12184              		.loc 1 6057 5
 12185 0418 00E6     		b	.L762
 12186              	.L764:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 12187              		.loc 1 6058 15
 12188 041a 00BF     		nop
 12189 041c 00E0     		b	.L713
 12190              	.L765:
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 12191              		.loc 1 6079 11
 12192 041e 00BF     		nop
 12193              	.L713:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12194              		.loc 1 6136 9
 12195 0420 07F12C03 		add	r3, r7, #44
 12196 0424 1846     		mov	r0, r3
 12197 0426 FFF7FEFF 		bl	putc_flush
 12198 042a 0346     		mov	r3, r0
6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12199              		.loc 1 6137 1
 12200 042c 1846     		mov	r0, r3
 12201 042e 9C37     		adds	r7, r7, #156
 12202              		.cfi_def_cfa_offset 20
 12203 0430 BD46     		mov	sp, r7
 12204              		.cfi_def_cfa_register 13
 12205              		@ sp needed
 12206 0432 BDE88040 		pop	{r7, lr}
 12207              		.cfi_restore 14
 12208              		.cfi_restore 7
 12209              		.cfi_def_cfa_offset 12
 12210 0436 03B0     		add	sp, sp, #12
 12211              		.cfi_restore 3
 12212              		.cfi_restore 2
 12213              		.cfi_restore 1
 12214              		.cfi_def_cfa_offset 0
 12215 0438 7047     		bx	lr
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 323


 12216              		.cfi_endproc
 12217              	.LFE382:
 12219 043a 00BF     		.section	.rodata.cst32.1,"a"
 12220              		.align	2
 12223              	cst32.1:
 12224 0000 0100     		.short	1
 12225 0002 0200     		.short	2
 12226 0004 0400     		.short	4
 12227 0006 0800     		.short	8
 12228 0008 1000     		.short	16
 12229 000a 2000     		.short	32
 12230 000c 0000     		.short	0
 12231              		.section	.rodata.cst.0,"a"
 12232              		.align	2
 12235              	cst.0:
 12236 0000 0100     		.short	1
 12237 0002 0400     		.short	4
 12238 0004 1000     		.short	16
 12239 0006 4000     		.short	64
 12240 0008 0001     		.short	256
 12241 000a 0002     		.short	512
 12242 000c 0000     		.short	0
 12243              		.text
 12244              	.Letext0:
 12245              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 12246              		.file 3 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 12247              		.file 4 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 12248              		.file 5 "Core/Inc/main.h"
 12249              		.file 6 "Middlewares/Third_Party/FatFs/src/ff.h"
 12250              		.file 7 "Middlewares/Third_Party/FatFs/src/diskio.h"
 12251              		.file 8 "c:\\users\\morroway\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@
 12252              		.file 9 "<built-in>"
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 324


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:20     .bss.msg_buffer:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:23     .bss.msg_buffer:0000000000000000 msg_buffer
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:26     .bss.RxBuf:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:29     .bss.RxBuf:0000000000000000 RxBuf
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:32     .bss.FatFs:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:35     .bss.FatFs:0000000000000000 FatFs
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:38     .bss.Fsid:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:41     .bss.Fsid:0000000000000000 Fsid
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:44     .bss.Files:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:47     .bss.Files:0000000000000000 Files
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:50     .rodata.ExCvt:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:53     .rodata.ExCvt:0000000000000000 ExCvt
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:62     .text.ld_word:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:67     .text.ld_word:0000000000000000 ld_word
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:120    .text.ld_dword:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:125    .text.ld_dword:0000000000000000 ld_dword
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:192    .text.st_word:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:197    .text.st_word:0000000000000000 st_word
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:251    .text.st_dword:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:256    .text.st_dword:0000000000000000 st_dword
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:335    .text.mem_cpy:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:340    .text.mem_cpy:0000000000000000 mem_cpy
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:403    .text.mem_set:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:408    .text.mem_set:0000000000000000 mem_set
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:461    .text.mem_cmp:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:466    .text.mem_cmp:0000000000000000 mem_cmp
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:538    .text.chk_chr:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:543    .text.chk_chr:0000000000000000 chk_chr
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:600    .text.chk_lock:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:605    .text.chk_lock:0000000000000000 chk_lock
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:751    .text.chk_lock:00000000000000b4 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:756    .text.enq_lock:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:761    .text.enq_lock:0000000000000000 enq_lock
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:821    .text.enq_lock:0000000000000040 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:826    .text.inc_lock:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:831    .text.inc_lock:0000000000000000 inc_lock
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1043   .text.inc_lock:0000000000000118 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1048   .text.dec_lock:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1053   .text.dec_lock:0000000000000000 dec_lock
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1145   .text.dec_lock:0000000000000074 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1150   .text.clear_lock:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1155   .text.clear_lock:0000000000000000 clear_lock
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1218   .text.clear_lock:0000000000000044 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1223   .text.sync_window:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1228   .text.sync_window:0000000000000000 sync_window
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1340   .text.move_window:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1345   .text.move_window:0000000000000000 move_window
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1420   .text.sync_fs:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1425   .text.sync_fs:0000000000000000 sync_fs
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1564   .text.sync_fs:00000000000000d4 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1570   .text.clust2sect:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1575   .text.clust2sect:0000000000000000 clust2sect
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1636   .text.get_fat:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1641   .text.get_fat:0000000000000000 get_fat
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1882   .text.put_fat:0000000000000000 $t
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 325


C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:1887   .text.put_fat:0000000000000000 put_fat
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2204   .text.remove_chain:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2209   .text.remove_chain:0000000000000000 remove_chain
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2364   .text.create_chain:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2369   .text.create_chain:0000000000000000 create_chain
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2598   .text.clmt_clust:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2603   .text.clmt_clust:0000000000000000 clmt_clust
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2695   .text.dir_sdi:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2700   .text.dir_sdi:0000000000000000 dir_sdi
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2892   .text.dir_next:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:2897   .text.dir_next:0000000000000000 dir_next
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3181   .text.dir_alloc:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3186   .text.dir_alloc:0000000000000000 dir_alloc
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3301   .text.ld_clust:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3306   .text.ld_clust:0000000000000000 ld_clust
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3363   .text.st_clust:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3368   .text.st_clust:0000000000000000 st_clust
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3423   .text.dir_read:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3428   .text.dir_read:0000000000000000 dir_read
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3575   .text.dir_find:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3580   .text.dir_find:0000000000000000 dir_find
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3713   .text.dir_register:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3718   .text.dir_register:0000000000000000 dir_register
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3796   .text.dir_remove:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3801   .text.dir_remove:0000000000000000 dir_remove
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3857   .text.get_fileinfo:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:3862   .text.get_fileinfo:0000000000000000 get_fileinfo
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4017   .rodata:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4021   .text.create_name:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4026   .text.create_name:0000000000000000 create_name
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4258   .text.create_name:0000000000000120 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4264   .text.follow_path:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4269   .text.follow_path:0000000000000000 follow_path
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4439   .text.get_ldnumber:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4444   .text.get_ldnumber:0000000000000000 get_ldnumber
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4563   .text.check_fs:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4568   .text.check_fs:0000000000000000 check_fs
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4688   .text.check_fs:00000000000000a4 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4694   .text.find_volume:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:4699   .text.find_volume:0000000000000000 find_volume
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5152   .text.find_volume:00000000000002ac $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5155   .text.find_volume:00000000000002b0 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5465   .text.find_volume:000000000000048c $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5472   .text.validate:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5477   .text.validate:0000000000000000 validate
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5571   .text.f_mount:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5577   .text.f_mount:0000000000000000 f_mount
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5680   .text.f_mount:0000000000000088 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5685   .text.f_open:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:5691   .text.f_open:0000000000000000 f_open
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:6243   .text.f_read:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:6249   .text.f_read:0000000000000000 f_read
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:6682   .text.f_write:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:6688   .text.f_write:0000000000000000 f_write
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:7186   .text.f_sync:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:7192   .text.f_sync:0000000000000000 f_sync
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:7356   .text.f_close:0000000000000000 $t
ARM GAS  C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s 			page 326


C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:7362   .text.f_close:0000000000000000 f_close
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:7428   .text.f_lseek:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:7434   .text.f_lseek:0000000000000000 f_lseek
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8136   .text.f_opendir:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8142   .text.f_opendir:0000000000000000 f_opendir
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8313   .text.f_closedir:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8319   .text.f_closedir:0000000000000000 f_closedir
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8383   .text.f_readdir:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8389   .text.f_readdir:0000000000000000 f_readdir
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8479   .text.f_stat:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8485   .text.f_stat:0000000000000000 f_stat
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8561   .text.f_getfree:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8567   .text.f_getfree:0000000000000000 f_getfree
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8820   .text.f_truncate:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:8826   .text.f_truncate:0000000000000000 f_truncate
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9035   .text.f_unlink:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9041   .text.f_unlink:0000000000000000 f_unlink
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9233   .text.f_mkdir:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9239   .text.f_mkdir:0000000000000000 f_mkdir
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9555   .text.f_rename:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9561   .text.f_rename:0000000000000000 f_rename
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9845   .text.f_mkfs:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:9851   .text.f_mkfs:0000000000000000 f_mkfs
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:10288  .text.f_mkfs:0000000000000284 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:12223  .rodata.cst32.1:0000000000000000 cst32.1
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:12235  .rodata.cst.0:0000000000000000 cst.0
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:10294  .text.f_mkfs:0000000000000294 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:10956  .text.f_mkfs:00000000000006e8 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:10964  .text.f_mkfs:0000000000000700 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11181  .text.f_mkfs:0000000000000854 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11186  .text.f_gets:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11192  .text.f_gets:0000000000000000 f_gets
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11298  .text.putc_bfd:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11303  .text.putc_bfd:0000000000000000 putc_bfd
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11404  .text.putc_flush:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11409  .text.putc_flush:0000000000000000 putc_flush
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11475  .text.putc_init:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11480  .text.putc_init:0000000000000000 putc_init
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11525  .text.f_putc:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11531  .text.f_putc:0000000000000000 f_putc
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11576  .text.f_puts:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11582  .text.f_puts:0000000000000000 f_puts
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11639  .text.f_printf:0000000000000000 $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11645  .text.f_printf:0000000000000000 f_printf
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11824  .text.f_printf:0000000000000150 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:11847  .text.f_printf:00000000000001ac $t
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:12220  .rodata.cst32.1:0000000000000000 $d
C:\Users\Morroway\AppData\Local\Temp\ccuaKe6S.s:12232  .rodata.cst.0:0000000000000000 $d

UNDEFINED SYMBOLS
disk_write
disk_read
disk_ioctl
disk_status
disk_initialize
get_fattime
